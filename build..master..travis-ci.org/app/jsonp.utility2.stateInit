window.utility2.stateInit({"utility2":{"assetsDict":{"/assets.index.css":"","/assets.index.template.html":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<!-- \"assets.index.default.template.html\" -->\n<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\n<style>\n/* jslint-utility2 */\n/*csslint\n*/\n/* jslint-ignore-begin */\n*,\n*:after,\n*:before {\n    box-sizing: border-box;\n}\n/* jslint-ignore-end */\n@keyframes uiAnimateShake {\n    0%, 50% {\n        transform: translateX(10px);\n    }\n    25%, 75% {\n        transform: translateX(-10px);\n    }\n    100% {\n        transform: translateX(0);\n    }\n}\n@keyframes uiAnimateSpin {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(360deg);\n    }\n}\na {\n    overflow-wrap: break-word;\n}\nbody > div,\nbody > pre,\nbody > textarea,\nbody > .button {\n    margin-bottom: 20px;\n}\nbody > textarea {\n    height: 10rem;\n    width: 100%;\n}\nbody > textarea[readonly] {\n    background: #ddd;\n}\nbody > .button {\n    width: 20rem;\n}\ncode,\npre,\ntextarea {\n    font-family: Consolas, Menlo, monospace;\n    font-size: small;\n}\npre {\n    overflow-wrap: break-word;\n    white-space: pre-wrap;\n}\ntextarea {\n    overflow: auto;\n    white-space: pre;\n}\n.button {\n    background-color: #fff;\n    border: 1px solid;\n    border-bottom-color: rgb(186, 186, 186);\n    border-left-color: rgb(209, 209, 209);\n    border-radius: 4px;\n    border-right-color: rgb(209, 209, 209);\n    border-top-color: rgb(216, 216, 216);\n    color: #00d;\n    cursor: pointer;\n    display: inline-block;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: normal;\n    margin: 0;\n    padding: 2px 7px 3px 7px;\n    text-align: center;\n    text-decoration: underline;\n}\n.colorError {\n    color: #d00;\n}\n.uiAnimateShake {\n    animation-duration: 500ms;\n    animation-name: uiAnimateShake;\n}\n.uiAnimateSlide {\n    overflow-y: hidden;\n    transition: max-height ease-in 250ms, min-height ease-in 250ms, padding-bottom ease-in 250ms, padding-top ease-in 250ms;\n}\n.utility2FooterDiv {\n    text-align: center;\n}\n.zeroPixel {\n    border: 0;\n    height: 0;\n    margin: 0;\n    padding: 0;\n    width: 0;\n}\n</style>\n</head>\n<body style=\"background: #eef; font-family: Arial, Helvetica, sans-serif; margin: 0 40px;\">\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 500ms, width 1500ms; width: 0%; z-index: 1;\"></div>\n<div class=\"uiAnimateSpin\" style=\"animation: uiAnimateSpin 2s linear infinite; border: 5px solid #999; border-radius: 50%; border-top: 5px solid #7d7; display: none; height: 25px; vertical-align: middle; width: 25px;\"></div>\n<code style=\"display: none;\"></code><div class=\"button uiAnimateShake uiAnimateSlide utility2FooterDiv zeroPixel\" style=\"display: none;\"></div><pre style=\"display: none;\"></pre><textarea readonly style=\"display: none;\"></textarea>\n<script>\n/* jslint-utility2 */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 4,\n    maxlen: 100,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    \"use strict\";\n    var ajaxProgressDiv1,\n        ajaxProgressState,\n        ajaxProgressUpdate,\n        timerIntervalAjaxProgressUpdate;\n    ajaxProgressDiv1 = document.querySelector(\"#ajaxProgressDiv1\");\n    setTimeout(function () {\n        ajaxProgressDiv1.style.width = \"25%\";\n    });\n    ajaxProgressState = 0;\n    ajaxProgressUpdate = (window.local &&\n        window.local.ajaxProgressUpdate) || function () {\n        ajaxProgressDiv1.style.width = \"100%\";\n        setTimeout(function () {\n            ajaxProgressDiv1.style.background = \"transparent\";\n            setTimeout(function () {\n                ajaxProgressDiv1.style.width = \"0%\";\n            }, 500);\n        }, 1500);\n    };\n    timerIntervalAjaxProgressUpdate = setInterval(function () {\n        ajaxProgressState += 1;\n        ajaxProgressDiv1.style.width = Math.max(\n            100 - 75 * Math.exp(-0.125 * ajaxProgressState),\n            Number(ajaxProgressDiv1.style.width.slice(0, -1)) || 0\n        ) + \"%\";\n    }, 1000);\n    window.addEventListener(\"load\", function () {\n        clearInterval(timerIntervalAjaxProgressUpdate);\n        ajaxProgressUpdate();\n    });\n}());\n</script>\n<h1>\n<!-- utility2-comment\n    <a\n        {{#if env.npm_package_homepage}}\n        href=\"{{env.npm_package_homepage}}\"\n        {{/if env.npm_package_homepage}}\n        target=\"_blank\"\n    >\nutility2-comment -->\n        {{env.npm_package_name}} (v{{env.npm_package_version}})\n<!-- utility2-comment\n    </a>\nutility2-comment -->\n</h1>\n<h3>{{env.npm_package_description}}</h3>\n<!-- utility2-comment\n<a class=\"button\" download href=\"assets.app.js\">download standalone app</a><br>\n<button class=\"button onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\n<div class=\"uiAnimateSlide\" id=\"testReportDiv1\" style=\"border-bottom: 0; border-top: 0; margin-bottom: 0; margin-top: 0; max-height: 0; padding-bottom: 0; padding-top: 0;\"></div>\nutility2-comment -->\n\n\n\n<button class=\"button onclick onreset\" id=\"dbResetButton1\">reset database</button><br>\n<button class=\"button onclick\" id=\"dbExportButton1\">export database -&gt; file</button><br>\n<a download=\"db.persistence.json\" href=\"\" id=\"dbExportA1\"></a>\n<button class=\"button onclick\" id=\"dbImportButton1\">import database &lt;- file</button><br>\n<input class=\"onchange onreset zeroPixel\" type=\"file\" id=\"dbImportInput1\">\n<label>edit or paste script below to\n    <a\n        href=\"https://kaizhu256.github.io/node-db-lite/build..beta..travis-ci.org/apidoc.html\"\n        target=\"_blank\"\n    >eval</a>\n</label>\n<textarea id=\"inputTextareaEval1\">\n/*jslint browser: true, node: true*/\n\"use strict\";\nvar dbTable1, modeNext, onNext;\nmodeNext = 0;\nonNext = function (error, data) {\n    modeNext = error\n        ? Infinity\n        : modeNext + 1;\n    switch (modeNext) {\n    case 1:\n        dbTable1 = window.dbTable1 = window.utility2_db.dbTableCreateOne({\n            name: \"dbTable1\"\n        }, onNext);\n        break;\n    case 2:\n        dbTable1.idIndexCreate({ name: \"field1\" }, onNext);\n        break;\n    case 3:\n        dbTable1.crudSetOneById({ field1: \"aa\", field2: 1, field3: \"foo\" }, onNext);\n        break;\n    case 4:\n        dbTable1.crudSetOneById({ field1: \"bb\", field2: 2, field3: \"bar\" }, onNext);\n        break;\n    case 5:\n        dbTable1.crudSetOneById({ field1: \"cc\", field2: 3, field3: \"baz\" }, onNext);\n        break;\n    case 6:\n        dbTable1.crudRemoveOneById({ field1: \"aa\" }, onNext);\n        break;\n    case 7:\n        dbTable1.crudUpdateOneById({ field1: \"bb\", field2: -1 }, onNext);\n        break;\n    case 8:\n        dbTable1.crudSetOneById({ field2: Math.random() }, onNext);\n        break;\n    case 9:\n        dbTable1.crudGetManyByQuery({\n            limit: Infinity,\n            query: { field2: { $gte: -Infinity, $lte: Infinity } },\n            skip: 0,\n            sort: [{ fieldName: \"_timeUpdated\", idDescending: true }]\n        }, onNext);\n        break;\n    case 10:\n        console.log(data);\n        dbTable1.crudCountAll(onNext);\n        break;\n    case 11:\n        console.log(\"number of rows: \" + data);\n        break;\n    default:\n        console.error(error.stack);\n    }\n};\nonNext();\n</textarea>\n<button class=\"button onclick oneval onreset\" id=\"dbEvalButton1\">eval script</button><br>\n<label>stderr and stdout</label>\n<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\n<!-- utility2-comment\n{{#if isRollup}}\n<script src=\"assets.app.js\"></script>\n{{#unless isRollup}}\nutility2-comment -->\n<script src=\"assets.utility2.rollup.js\"></script>\n<script>window.utility2.onResetBefore.counter += 1;</script>\n<script src=\"jsonp.utility2.stateInit?callback=window.utility2.stateInit\"></script>\n<script src=\"assets.db.js\"></script>\n<script src=\"assets.example.js\"></script>\n<script src=\"assets.test.js\"></script>\n<script>window.utility2.onResetBefore();</script>\n<!-- utility2-comment\n{{/if isRollup}}\nutility2-comment -->\n<div class=\"utility2FooterDiv\">\n    [ this app was created with\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\n    ]\n</div>\n</body>\n</html>\n","/assets.swgg.swagger.json":""},"env":{"NODE_ENV":"test","npm_package_description":"this zero-dependency package will provide a persistent, in-browser database, with a working web-demo","npm_package_homepage":"https://github.com/kaizhu256/node-db-lite","npm_package_name":"db-lite","npm_package_nameLib":"db","npm_package_version":"2018.4.23"}}});