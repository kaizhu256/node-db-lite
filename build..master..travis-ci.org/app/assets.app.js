/* this rollup was created with utility2 (https://github.com/kaizhu256/node-utility2) */



/*
assets.app.js

this zero-dependency package will provide a persistent, in-browser database, with a working web-demo

instruction
    1. save this script as assets.app.js
    2. run the shell command:
        $ PORT=8081 node assets.app.js
    3. open a browser to http://127.0.0.1:8081 and play with the web-demo
    4. edit this script to suit your needs
*/
/* utility2.rollup.js begin */
/* istanbul ignore all */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    "use strict";
    var local;
    local = {};
    local.modeJs = (function () {
        try {
            return typeof navigator.userAgent === "string" &&
                typeof document.querySelector("body") === "object" &&
                typeof XMLHttpRequest.prototype.open === "function" &&
                "browser";
        } catch (errorCaughtBrowser) {
            return module.exports &&
                typeof process.versions.node === "string" &&
                typeof require("http").createServer === "function" &&
                "node";
        }
    }());
    local.global = local.modeJs === "browser"
        ? window
        : global;
    local.local = local.global.utility2_app = local.global.utility2_app_old || local;
    local.global.utility2_app_old = null;
}());



/* script-begin /assets.utility2.rollup.js */
/* this rollup was created with utility2 (https://github.com/kaizhu256/node-utility2) */



/* script-begin /assets.utility2.rollup.begin.js */
/* utility2.rollup.js begin */
/* istanbul ignore all */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    "use strict";
    var local;
    local = {};
    local.modeJs = (function () {
        try {
            return typeof navigator.userAgent === "string" &&
                typeof document.querySelector("body") === "object" &&
                typeof XMLHttpRequest.prototype.open === "function" &&
                "browser";
        } catch (errorCaughtBrowser) {
            return module.exports &&
                typeof process.versions.node === "string" &&
                typeof require("http").createServer === "function" &&
                "node";
        }
    }());
    local.global = local.modeJs === "browser"
        ? window
        : global;
    local.local = local.global.utility2_rollup = local.global.utility2_rollup_old || local;
    local.global.utility2_rollup_old = null;
}());
/* script-end /assets.utility2.rollup.begin.js */



/* script-begin /assets.utility2.lib.apidoc.js */
///usr/bin/env node
/* istanbul instrument in package apidoc */
/* jslint-utility2 */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;



    // run shared js-env code - init-before
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || local;
        /* istanbul ignore next */
        if (!local) {
            local = local.global.utility2_rollup ||
                local.global.utility2_rollup_old ||
                require('./assets.utility2.rollup.js');
            local.fs = null;
        }
        // init exports
        if (local.modeJs === 'browser') {
            local.global.utility2_apidoc = local;
        } else {
            // require builtins
            // local.assert = require('assert');
            local.buffer = require('buffer');
            local.child_process = require('child_process');
            local.cluster = require('cluster');
            local.console = require('console');
            local.constants = require('constants');
            local.crypto = require('crypto');
            local.dgram = require('dgram');
            local.dns = require('dns');
            local.domain = require('domain');
            local.events = require('events');
            local.fs = require('fs');
            local.http = require('http');
            local.https = require('https');
            local.module = require('module');
            local.net = require('net');
            local.os = require('os');
            local.path = require('path');
            local.process = require('process');
            local.punycode = require('punycode');
            local.querystring = require('querystring');
            local.readline = require('readline');
            local.repl = require('repl');
            local.stream = require('stream');
            local.string_decoder = require('string_decoder');
            local.timers = require('timers');
            local.tls = require('tls');
            local.tty = require('tty');
            local.url = require('url');
            local.util = require('util');
            local.v8 = require('v8');
            local.vm = require('vm');
            local.zlib = require('zlib');
/* validateLineSortedReset */
            module.exports = local;
            module.exports.__dirname = __dirname;
        }
        // init lib
        local.local = local.apidoc = local;
    }());



    // run shared js-env code - function-before
    /* istanbul ignore next */
    (function () {
        local.assert = function (passed, message, onError) {
        /*
         * this function will throw the error message if passed is falsey
         */
            var error;
            if (passed) {
                return;
            }
            error = message && message.message
                // if message is an error-object, then leave it as is
                ? message
                : new Error(typeof message === 'string'
                    // if message is a string, then leave it as is
                    ? message
                    // else JSON.stringify message
                    : JSON.stringify(message));
            // debug error
            local._debugAssertError = error;
            onError = onError || function (error) {
                throw error;
            };
            onError(error);
        };

        local.cliRun = function (fnc) {
        /*
         * this function will run the cli
         */
            var nop;
            nop = function () {
            /*
             * this function will do nothing
             */
                return;
            };
            local.cliDict._eval = local.cliDict._eval || function () {
            /*
             * code
             * eval code
             */
                local.global.local = local;
                require('vm').runInThisContext(process.argv[3]);
            };
            local.cliDict['--eval'] = local.cliDict['--eval'] || local.cliDict._eval;
            local.cliDict['-e'] = local.cliDict['-e'] || local.cliDict._eval;
            local.cliDict._help = local.cliDict._help || function () {
            /*
             * [none]
             * print help
             */
                var element, result, lengthList, sortDict;
                console.log(require(__dirname + '/package.json').name + ' v' +
                    require(__dirname + '/package.json').version);
                sortDict = {};
                result = [['[command]', '[args]', '[description]', -1]];
                lengthList = [result[0][0].length, result[0][1].length];
                Object.keys(local.cliDict).sort().forEach(function (key, ii) {
                    if (key[0] === '_' && key !== '_default') {
                        return;
                    }
                    sortDict[local.cliDict[key].toString()] =
                        sortDict[local.cliDict[key].toString()] || (ii + 1);
                    element = (/\n +\*(.*)\n +\*(.*)/).exec(local.cliDict[key].toString());
                    // coverage-hack - ignore else-statement
                    nop(local.global.__coverage__ && (function () {
                        element = element || ['', '', ''];
                    }()));
                    element = [
                        key.replace('_default', '[none]') + ' ',
                        element[1].trim() + ' ',
                        element[2].trim(),
                        (sortDict[local.cliDict[key].toString()] << 8) + ii
                    ];
                    result.push(element);
                    lengthList.forEach(function (length, jj) {
                        lengthList[jj] = Math.max(element[jj].length, length);
                    });
                });
                result.sort(function (aa, bb) {
                    return aa[3] < bb[3]
                        ? -1
                        : 1;
                });
                console.log('usage:   ' + __filename + ' [command] [args]');
                console.log('example: ' + __filename + ' --eval    ' +
                    '"console.log(\'hello world\')"\n');
                result.forEach(function (element, ii) {
                    lengthList.forEach(function (length, jj) {
                        while (element[jj].length < length) {
                            element[jj] += '-';
                        }
                    });
                    element = element.slice(0, 3).join('---- ');
                    if (!ii) {
                        element = element.replace((/-/g), ' ');
                    }
                    console.log(element);
                });
            };
            local.cliDict['--help'] = local.cliDict['--help'] || local.cliDict._help;
            local.cliDict['-h'] = local.cliDict['-h'] || local.cliDict._help;
            local.cliDict._default = local.cliDict._default || local.cliDict._help;
            local.cliDict.help = local.cliDict.help || local.cliDict._help;
            local.cliDict._interactive = local.cliDict._interactive || function () {
            /*
             * [none]
             * start interactive-mode
             */
                local.global.local = local;
                local.replStart();
            };
            if (local.replStart) {
                local.cliDict['--interactive'] = local.cliDict['--interactive'] ||
                    local.cliDict._interactive;
                local.cliDict['-i'] = local.cliDict['-i'] || local.cliDict._interactive;
            }
            local.cliDict._version = local.cliDict._version || function () {
            /*
             * [none]
             * print version
             */
                console.log(require(__dirname + '/package.json').version);
            };
            local.cliDict['--version'] = local.cliDict['--version'] || local.cliDict._version;
            local.cliDict['-v'] = local.cliDict['-v'] || local.cliDict._version;
            // run fnc()
            fnc = fnc || function () {
                if (local.cliDict[process.argv[2]]) {
                    local.cliDict[process.argv[2]]();
                    return;
                }
                local.cliDict._default();
            };
            fnc();
        };

        local.moduleDirname = function (module, modulePathList) {
        /*
         * this function will search modulePathList for the module's __dirname
         */
            var result;
            // search process.cwd()
            if (!module || module === '.' || module.indexOf('/') >= 0) {
                return require('path').resolve(process.cwd(), module || '');
            }
            // search modulePathList
            ['node_modules']
                .concat(modulePathList)
                .concat(require('module').globalPaths)
                .concat([process.env.HOME + '/node_modules', '/usr/local/lib/node_modules'])
                .some(function (modulePath) {
                    try {
                        result = require('path').resolve(process.cwd(), modulePath + '/' + module);
                        result = require('fs').statSync(result).isDirectory() && result;
                        return result;
                    } catch (errorCaught) {
                        result = null;
                    }
                    return result;
                });
            return result || '';
        };

        local.nop = function () {
        /*
         * this function will do nothing
         */
            return;
        };

        local.objectSetDefault = function (arg, defaults, depth) {
        /*
         * this function will recursively set defaults for undefined-items in the arg
         */
            arg = arg || {};
            defaults = defaults || {};
            Object.keys(defaults).forEach(function (key) {
                var arg2, defaults2;
                arg2 = arg[key];
                // handle misbehaving getter
                try {
                    defaults2 = defaults[key];
                } catch (ignore) {
                }
                if (defaults2 === undefined) {
                    return;
                }
                // init arg[key] to default value defaults[key]
                switch (arg2) {
                case '':
                case null:
                case undefined:
                    arg[key] = defaults2;
                    return;
                }
                // if arg2 and defaults2 are both non-null and non-array objects,
                // then recurse with arg2 and defaults2
                if (depth > 1 &&
                        // arg2 is a non-null and non-array object
                        typeof arg2 === 'object' && arg2 && !Array.isArray(arg2) &&
                        // defaults2 is a non-null and non-array object
                        typeof defaults2 === 'object' && defaults2 && !Array.isArray(defaults2)) {
                    // recurse
                    local.objectSetDefault(arg2, defaults2, depth - 1);
                }
            });
            return arg;
        };

        local.stringHtmlSafe = function (text) {
        /*
         * this function will make the text html-safe
         * https://stackoverflow.com/questions/7381974/which-characters-need-to-be-escaped-on-html
         */
            return text
                .replace((/"/g), '&quot;')
                .replace((/&/g), '&amp;')
                .replace((/'/g), '&apos;')
                .replace((/</g), '&lt;')
                .replace((/>/g), '&gt;')
                .replace((/&amp;(amp;|apos;|gt;|lt;|quot;)/ig), '&$1');
        };

        local.templateRender = function (template, dict, options) {
        /*
         * this function will render the template with the given dict
         */
            var argList, getValue, match, renderPartial, rgx, tryCatch, skip, value;
            dict = dict || {};
            options = options || {};
            getValue = function (key) {
                argList = key.split(' ');
                value = dict;
                if (argList[0] === '#this/') {
                    return;
                }
                // iteratively lookup nested values in the dict
                argList[0].split('.').forEach(function (key) {
                    value = value && value[key];
                });
                return value;
            };
            renderPartial = function (match0, helper, key, partial) {
                switch (helper) {
                case 'each':
                case 'eachTrimRightComma':
                    value = getValue(key);
                    value = Array.isArray(value)
                        ? value.map(function (dict) {
                            // recurse with partial
                            return local.templateRender(partial, dict, options);
                        }).join('')
                        : '';
                    // remove trailing-comma from last element
                    if (helper === 'eachTrimRightComma') {
                        value = value.trimRight().replace((/,$/), '');
                    }
                    return value;
                case 'if':
                    partial = partial.split('{{#unless ' + key + '}}');
                    partial = getValue(key)
                        ? partial[0]
                        // handle 'unless' case
                        : partial.slice(1).join('{{#unless ' + key + '}}');
                    // recurse with partial
                    return local.templateRender(partial, dict, options);
                case 'unless':
                    return getValue(key)
                        ? ''
                        // recurse with partial
                        : local.templateRender(partial, dict, options);
                default:
                    // recurse with partial
                    return match0[0] + local.templateRender(match0.slice(1), dict, options);
                }
            };
            tryCatch = function (fnc, message) {
            /*
             * this function will prepend the message to errorCaught
             */
                try {
                    return fnc();
                } catch (errorCaught) {
                    errorCaught.message = message + errorCaught.message;
                    throw errorCaught;
                }
            };
            // render partials
            rgx = (/\{\{#(\w+) ([^}]+?)\}\}/g);
            template = template || '';
            for (match = rgx.exec(template); match; match = rgx.exec(template)) {
                rgx.lastIndex += 1 - match[0].length;
                template = template.replace(
                    new RegExp('\\{\\{#(' + match[1] + ') (' + match[2] +
                        ')\\}\\}([\\S\\s]*?)\\{\\{/' + match[1] + ' ' + match[2] +
                        '\\}\\}'),
                    renderPartial
                );
            }
            // search for keys in the template
            return template.replace((/\{\{[^}]+?\}\}/g), function (match0) {
                var markdownToHtml, notHtmlSafe;
                notHtmlSafe = options.notHtmlSafe;
                return tryCatch(function () {
                    getValue(match0.slice(2, -2));
                    if (value === undefined) {
                        return match0;
                    }
                    argList.slice(1).forEach(function (arg, ii, list) {
                        switch (arg) {
                        case 'alphanumeric':
                            value = value.replace((/\W/g), '_');
                            break;
                        case 'decodeURIComponent':
                            value = decodeURIComponent(value);
                            break;
                        case 'encodeURIComponent':
                            value = encodeURIComponent(value);
                            break;
                        case 'jsonStringify':
                            value = JSON.stringify(value);
                            break;
                        case 'jsonStringify4':
                            value = JSON.stringify(value, null, 4);
                            break;
                        case 'markdownSafe':
                            value = value.replace((/`/g), '\'');
                            break;
                        case 'markdownToHtml':
                            markdownToHtml = true;
                            break;
                        case 'notHtmlSafe':
                            notHtmlSafe = true;
                            break;
                        case 'truncate':
                            skip = ii + 1;
                            if (value.length > list[skip]) {
                                value = value.slice(0, list[skip] - 3).trimRight() + '...';
                            }
                            break;
                        // default to String.prototype[arg]()
                        default:
                            if (ii === skip) {
                                break;
                            }
                            value = value[arg]();
                            break;
                        }
                    });
                    value = String(value);
                    // default to htmlSafe
                    if (!notHtmlSafe) {
                        value = value
                            .replace((/"/g), '&quot;')
                            .replace((/&/g), '&amp;')
                            .replace((/'/g), '&apos;')
                            .replace((/</g), '&lt;')
                            .replace((/>/g), '&gt;')
                            .replace((/&amp;(amp;|apos;|gt;|lt;|quot;)/ig), '&$1');
                    }
                    if (markdownToHtml && typeof local.marked === 'function') {
                        value = local.marked(value)
                            .replace((/&amp;(amp;|apos;|gt;|lt;|quot;)/ig), '&$1');
                    }
                    return value;
                }, 'templateRender could not render expression ' + JSON.stringify(match0) + '\n');
            });
        };

        local.tryCatchOnError = function (fnc, onError) {
        /*
         * this function will try to run the fnc in a try-catch block,
         * else call onError with the errorCaught
         */
            var result;
            // validate onError
            local.assert(typeof onError === 'function', typeof onError);
            try {
                // reset errorCaught
                local._debugTryCatchError = null;
                result = fnc();
                local._debugTryCatchError = null;
                return result;
            } catch (errorCaught) {
                // debug errorCaught
                local._debugTryCatchError = errorCaught;
                return onError(errorCaught);
            }
        };
    }());



    // run shared js-env code - init-before
/* jslint-ignore-begin */
local.templateApidocHtml = '\
<div class="apidocDiv">\n\
<style>\n\
/*csslint\n\
*/\n\
.apidocDiv {\n\
    background: #fff;\n\
    font-family: Arial, Helvetica, sans-serif;\n\
}\n\
.apidocDiv a[href] {\n\
    color: #33f;\n\
    font-weight: bold;\n\
    text-decoration: none;\n\
}\n\
.apidocDiv a[href]:hover {\n\
    text-decoration: underline;\n\
}\n\
.apidocCodeCommentSpan {\n\
    background: #bbf;\n\
    color: #000;\n\
    display: block;\n\
}\n\
.apidocCodeKeywordSpan {\n\
    color: #d00;\n\
    font-weight: bold;\n\
}\n\
.apidocCodePre {\n\
    background: #eef;\n\
    border: 1px solid;\n\
    color: #777;\n\
    overflow-wrap: break-word;\n\
    padding: 5px;\n\
    white-space: pre-wrap;\n\
}\n\
.apidocFooterDiv {\n\
    margin-top: 20px;\n\
    text-align: center;\n\
}\n\
.apidocModuleLi {\n\
    margin-top: 10px;\n\
}\n\
.apidocSectionDiv {\n\
    border-top: 1px solid;\n\
    margin-top: 20px;\n\
}\n\
.apidocSignatureSpan {\n\
    color: #777;\n\
    font-weight: bold;\n\
}\n\
</style>\n\
<h1>api documentation for\n\
    <a\n\
        {{#if env.npm_package_homepage}}\n\
        href="{{env.npm_package_homepage}}"\n\
        {{/if env.npm_package_homepage}}\n\
    >{{env.npm_package_name}} (v{{env.npm_package_version}})</a>\n\
</h1>\n\
<h4>{{env.npm_package_description}}</h4>\n\
<div class="apidocSectionDiv"><a\n\
    href="#apidoc.tableOfContents"\n\
    id="apidoc.tableOfContents"\n\
><h1>table of contents</h1></a><ol>\n\
    {{#each moduleList}}\n\
    <li class="apidocModuleLi"><a href="#{{id}}">module {{name}}</a><ol>\n\
        {{#each elementList}}\n\
        <li>\n\
            {{#if source}}\n\
            <a class="apidocElementLiA" href="#{{id}}">\n\
            {{name}}\n\
            <span class="apidocSignatureSpan">{{signature}}</span>\n\
            </a>\n\
            {{#unless source}}\n\
            <span class="apidocSignatureSpan">{{name}}</span>\n\
            {{/if source}}\n\
        </li>\n\
        {{/each elementList}}\n\
    </ol></li>\n\
    {{/each moduleList}}\n\
</ol></div>\n\
{{#each moduleList}}\n\
<div class="apidocSectionDiv">\n\
<h1><a href="#{{id}}" id="{{id}}">module {{name}}</a></h1>\n\
    {{#each elementList}}\n\
    {{#if source}}\n\
    <h2>\n\
        <a href="#{{id}}" id="{{id}}">\n\
        {{name}}\n\
        <span class="apidocSignatureSpan">{{signature}}</span>\n\
        </a>\n\
    </h2>\n\
    <ul>\n\
    <li>description and source-code<pre class="apidocCodePre">{{source truncate 4096}}</pre></li>\n\
    <li>example usage<pre class="apidocCodePre">{{example}}</pre></li>\n\
    </ul>\n\
    {{/if source}}\n\
    {{/each elementList}}\n\
</div>\n\
{{/each moduleList}}\n\
<div class="apidocFooterDiv">\n\
    [ this document was created with\n\
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>\n\
    ]\n\
</div>\n\
</div>\n\
';
/* jslint-ignore-end */



    // run shared js-env code - function
    (function () {
        local.apidocCreate = function (options) {
        /*
         * this function will create the apidoc from options.dir
         */
            var elementCreate, module, moduleMain, readExample, tmp, toString, trimLeft;
            elementCreate = function (module, prefix, key) {
            /*
             * this function will create the apidoc-element in the given module
             */
                var element;
                if (options.modeNoApidoc) {
                    return element;
                }
                element = {};
                element.moduleName = prefix.split('.');
                // handle case where module is a function
                if (element.moduleName.slice(-1)[0] === key) {
                    element.moduleName.pop();
                }
                element.moduleName = element.moduleName.join('.');
                element.id = encodeURIComponent('apidoc.element.' + prefix + '.' + key);
                element.typeof = typeof module[key];
                element.name = (element.typeof + ' <span class="apidocSignatureSpan">' +
                    element.moduleName + '.</span>' + key)
                    // handle case where module is a function
                    .replace('>.<', '><');
                if (element.typeof !== 'function') {
                    return element;
                }
                // init source
                element.source = local.stringHtmlSafe(trimLeft(toString(module[key])) || 'n/a')
                    .replace((/\([\S\s]*?\)/), function (match0) {
                        // init signature
                        element.signature = match0
                            .replace((/ *?\/\*[\S\s]*?\*\/ */g), '')
                            .replace((/,/g), ', ')
                            .replace((/\s+/g), ' ');
                        return element.signature;
                    })
                    .replace(
                        (/( *?\/\*[\S\s]*?\*\/\n)/),
                        '<span class="apidocCodeCommentSpan">$1</span>'
                    )
                    .replace((/^function \(/), key + ' = function (');
                // init example
                options.exampleList.some(function (example) {
                    example.replace(
                        new RegExp('((?:\n.*?){8}\\.)(' + key + ')(\\((?:.*?\n){8})'),
                        function (match0, match1, match2, match3) {
                            // jslint-hack
                            local.nop(match0);
                            element.example = '...' + trimLeft(local.stringHtmlSafe(match1) +
                                '<span class="apidocCodeKeywordSpan">' +
                                local.stringHtmlSafe(match2) +
                                '</span>' +
                                local.stringHtmlSafe(match3)).trimRight() + '\n...';
                        }
                    );
                    return element.example;
                });
                element.example = element.example || 'n/a';
                return element;
            };
            readExample = function (file) {
            /*
             * this function will read the example from the given file
             */
                var result;
                local.tryCatchOnError(function () {
                    file = local.path.resolve(options.dir, file);
                    console.error('apidocCreate - readExample ' + file);
                    result = '';
                    result = ('\n\n\n\n\n\n\n\n' +
                        // bug-workaround - truncate example to manageable size
                        local.fs.readFileSync(file, 'utf8').slice(0, 262144) +
                        '\n\n\n\n\n\n\n\n').replace((/\r\n*/g), '\n');
                }, console.error);
                return result;
            };
            toString = function (value) {
            /*
             * this function will try to return the string form of the value
             */
                var result;
                local.tryCatchOnError(function () {
                    result = '';
                    result = String(value);
                }, console.error);
                return result;
            };
            trimLeft = function (text) {
            /*
             * this function will normalize the whitespace around the text
             */
                var whitespace;
                whitespace = '';
                text.trim().replace((/^ */gm), function (match0) {
                    if (!whitespace || match0.length < whitespace.length) {
                        whitespace = match0;
                    }
                });
                text = text.replace(new RegExp('^' + whitespace, 'gm'), '');
                // enforce 128 character column limit
                text = text.replace((/^.{128}[^\\\n]+/gm), function (match0) {
                    return match0.replace((/(.{128}(?:\b|\w+))/g), '$1\n').trimRight();
                });
                return text;
            };
            // init options
            options.dir = local.moduleDirname(
                options.dir,
                options.modulePathList || local.module.paths
            );
            local.objectSetDefault(options, {
                env: { npm_package_description: '' },
                packageJson: JSON.parse(readExample('package.json')),
                require: function (file) {
                    return local.tryCatchOnError(function () {
                        return require(file);
                    }, console.error);
                }
            });
            Object.keys(options.packageJson).forEach(function (key) {
                tmp = options.packageJson[key];
                // strip email from npmdoc documentation
                // https://github.com/npmdoc/node-npmdoc-hpp/issues/1
                if (tmp) {
                    if (tmp.email) {
                        delete tmp.email;
                    }
                    if (Array.isArray(tmp)) {
                        tmp.forEach(function (element) {
                            if (element && element.email) {
                                delete element.email;
                            }
                        });
                    }
                }
                if (key[0] === '_' || key === 'readme') {
                    delete options.packageJson[key];
                } else if (typeof tmp === 'string') {
                    options.env['npm_package_' + key] = tmp;
                }
            });
            local.objectSetDefault(options, {
                blacklistDict: { global: global },
                circularList: [global],
                exampleDict: {},
                exampleList: [],
                html: '',
                libFileList: [],
                moduleDict: {},
                moduleExtraDict: {},
                packageJson: { bin: {} },
                template: local.templateApidocHtml,
                whitelistDict: {}
            }, 2);
            // init exampleList
            [1, 2, 3, 4].forEach(function (depth) {
                options.exampleList = options.exampleList.concat(
                    // find . -maxdepth 1 -mindepth 1 -name "*.js" -type f
                    // http://stackoverflow.com/questions/4509624/how-to-limit-depth-for-recursive-file-list
                    local.child_process.execSync('find "' + options.dir +
                        '" -maxdepth ' + depth + ' -mindepth ' + depth +
                        ' -type f | sed -e "s|' + options.dir +
                        '/||" | grep -iv ' +
/* jslint-ignore-begin */
'"\
/\\.\\|\\(\\b\\|_\\)\\(\
bower_component\\|\
coverage\\|\
git\\|\
min\\|\
node_module\\|\
rollup\\|\
tmp\\|\
vendor\\)s\\{0,1\\}\\(\\b\\|_\\)\
" ' +
/* jslint-ignore-end */
                            ' | sort | head -n 256').toString()
                        .split('\n')
                );
            });
            options.exampleList = options.exampleList.filter(function (file) {
                if (file && !options.exampleDict[file]) {
                    options.exampleDict[file] = true;
                    return true;
                }
            }).slice(0, 256).map(readExample);
            // init moduleMain
            local.tryCatchOnError(function () {
                console.error('apidocCreate - requiring ' + options.dir + ' ...');
                moduleMain = {};
                moduleMain = options.moduleDict[options.env.npm_package_name] ||
                    options.require(options.dir) ||
                    options.require(options.dir + '/' +
                        (options.packageJson.bin)[Object.keys(options.packageJson.bin)[0]]) || {};
                options.circularList.push(moduleMain);
                console.error('apidocCreate - ... required ' + options.dir);
            }, console.error);
            tmp = {};
            // handle case where module is a function
            if (typeof moduleMain === 'function') {
                (function () {
                    var text;
                    text = toString(moduleMain);
                    tmp = function () {
                        return;
                    };
                    // coverage-hack
                    tmp();
                    Object.defineProperties(tmp, { toString: { get: function () {
                        return function () {
                            return text;
                        };
                    } } });
                }());
            }
            // normalize moduleMain
            moduleMain = options.moduleDict[options.env.npm_package_name] = local.objectSetDefault(
                tmp,
                moduleMain
            );
            // init circularList - builtin
            Object.keys(process.binding('natives')).forEach(function (key) {
                local.tryCatchOnError(function () {
                    options.circularList.push(require(key));
                }, local.nop);
            });
            // init circularList - blacklistDict
            Object.keys(options.blacklistDict).forEach(function (key) {
                options.circularList.push(options.blacklistDict[key]);
            });
            // init circularList - moduleDict
            Object.keys(options.moduleDict).forEach(function (key) {
                options.circularList.push(options.moduleDict[key]);
            });
            // init circularList - prototype
            Object.keys(options.circularList).forEach(function (key) {
                tmp = options.circularList[key];
                options.circularList.push(tmp && tmp.prototype);
            });
            // deduplicate circularList
            tmp = options.circularList;
            options.circularList = [];
            tmp.forEach(function (element) {
                if (options.circularList.indexOf(element) < 0) {
                    options.circularList.push(element);
                }
            });
            // init moduleDict child
            local.apidocModuleDictAdd(options, options.moduleDict);
            // init swgg.apiDict
            Object.keys((moduleMain.swgg && moduleMain.swgg.apiDict) || {}).forEach(function (key) {
                tmp = 'swgg.apiDict';
                tmp = options.moduleDict[tmp] = options.moduleDict[tmp] || {};
                tmp[key + '.ajax'] = moduleMain.swgg.apiDict[key] &&
                    moduleMain.swgg.apiDict[key].ajax;
            });
            // init moduleExtraDict
            module = options.moduleExtraDict[options.env.npm_package_name] =
                options.moduleExtraDict[options.env.npm_package_name] || {};
            [1, 2, 3, 4].forEach(function (depth) {
                options.libFileList = options.libFileList.concat(
                    // find . -maxdepth 1 -mindepth 1 -name "*.js" -type f
                    // http://stackoverflow.com/questions/4509624/how-to-limit-depth-for-recursive-file-list
                    local.child_process.execSync('find "' + options.dir +
                        '" -maxdepth ' + depth + ' -mindepth ' + depth +
                        ' -name "*.js" -type f | sed -e "s|' + options.dir +
                        '/||" | grep -iv ' +
/* jslint-ignore-begin */
'"\
/\\.\\|\\(\\b\\|_\\)\\(\
archive\\|artifact\\|asset\\|\
bower_component\\|build\\|\
coverage\\|\
doc\\|dist\\|\
example\\|external\\|\
fixture\\|\
git\\|\
log\\|\
min\\|mock\\|\
node_module\\|\
rollup\\|\
spec\\|\
test\\|tmp\\|\
vendor\\)s\\{0,1\\}\\(\\b\\|_\\)\
" ' +
/* jslint-ignore-end */
                            ' | sort | head -n 256').toString()
                        .split('\n')
                );
            });
            options.ii = 256;
            options.libFileList.every(function (file) {
                local.tryCatchOnError(function () {
                    tmp = {};
                    tmp.name = local.path.basename(file)
                        .replace('lib.', '')
                        .replace((/\.[^.]*?$/), '')
                        .replace((/\W/g), '_');
                    [
                        tmp.name,
                        tmp.name.slice(0, 1).toUpperCase() + tmp.name.slice(1)
                    ].some(function (name) {
                        tmp.isFiltered = name && (!options.packageJson.main ||
                                ('./' + file).indexOf(options.packageJson.main) < 0) &&
                            !module[name];
                        return !tmp.isFiltered;
                    });
                    if (!tmp.isFiltered) {
                        return;
                    }
                    console.error('apidocCreate - libFile ' + file);
                    tmp.module = options.require(options.dir + '/' + file);
                    // filter circular-reference
                    if (!(tmp.module && options.circularList.indexOf(tmp.module) < 0)) {
                        return;
                    }
                    options.ii -= 1;
                    module[tmp.name] = tmp.module;
                }, console.error);
                return options.ii;
            });
            local.apidocModuleDictAdd(options, options.moduleExtraDict);
            Object.keys(options.moduleDict).forEach(function (key) {
                if (key.indexOf(options.env.npm_package_name + '.') !== 0) {
                    return;
                }
                tmp = key.split('.').slice(1).join('.');
                moduleMain[tmp] = moduleMain[tmp] || options.moduleDict[key];
            });
            // init moduleList
            options.moduleList = Object.keys(options.moduleDict)
                .sort()
                .map(function (prefix) {
                    module = options.moduleDict[prefix];
                    // handle case where module is a function
                    if (typeof module === 'function') {
                        local.tryCatchOnError(function () {
                            module[prefix.split('.').slice(-1)[0]] =
                                module[prefix.split('.').slice(-1)[0]] || module;
                        }, console.error);
                    }
                    return {
                        elementList: Object.keys(module)
                            .filter(function (key) {
                                return local.tryCatchOnError(function () {
                                    return key &&
                                        (/^\w[\w\-.]*?$/).test(key) &&
                                        key.indexOf('testCase_') !== 0 &&
                                        (module[key] !== options.blacklistDict[key]
                                            || options.whitelistDict[key]);
                                }, console.error);
                            })
                            .map(function (key) {
                                return elementCreate(module, prefix, key);
                            })
                            .sort(function (aa, bb) {
                                return aa.name > bb.name
                                    ? 1
                                    : -1;
                            }),
                        id: encodeURIComponent('apidoc.module.' + prefix),
                        name: prefix
                    };
                });
            // render apidoc
            options.result = local.templateRender(options.template, options, { notHtmlSafe: true })
                .trim()
                .replace((/ +$/gm), '') + '\n';
            return options.result;
        };

        local.apidocModuleDictAdd = function (options, moduleDict) {
        /*
         * this function will add the modules in moduleDict to options.moduleDict
         */
            var isModule, objectKeys, tmp;
            objectKeys = function (dict) {
            /*
             * this function will return a list of the dict's keys, with valid getters
             */
                return Object.keys(dict).sort().filter(function (key) {
                    return local.tryCatchOnError(function () {
                        return dict[key] || true;
                    }, local.nop);
                });
            };
            ['child', 'prototype', 'grandchild', 'prototype'].forEach(function (element) {
                objectKeys(moduleDict).forEach(function (prefix) {
                    if (!(/^\w[\w\-.]*?$/).test(prefix)) {
                        return;
                    }
                    objectKeys(moduleDict[prefix]).forEach(function (key) {
                        if (!(/^\w[\w\-.]*?$/).test(key) || !moduleDict[prefix][key]) {
                            return;
                        }
                        tmp = element === 'prototype'
                            ? {
                                module: moduleDict[prefix][key].prototype,
                                name: prefix + '.' + key + '.prototype'
                            }
                            : {
                                module: moduleDict[prefix][key],
                                name: prefix + '.' + key
                            };
                        if (!tmp.module ||
                                !(typeof tmp.module === 'function' ||
                                typeof tmp.module === 'object') ||
                                Array.isArray(tmp.module) ||
                                options.moduleDict[tmp.name] ||
                                options.circularList.indexOf(tmp.module) >= 0) {
                            return;
                        }
                        isModule = [
                            tmp.module,
                            tmp.module.prototype
                        ].some(function (dict) {
                            return objectKeys(dict || {}).some(function (key) {
                                return typeof dict[key] === 'function';
                            });
                        });
                        if (!isModule) {
                            return;
                        }
                        options.circularList.push(tmp.module);
                        options.moduleDict[tmp.name] = tmp.module;
                    });
                });
            });
        };
    }());
    switch (local.modeJs) {



    // run node js-env code - init-after
    /* istanbul ignore next */
    case 'node':
        // init cli
        if (module !== require.main || local.global.utility2_rollup) {
            break;
        }
        local.cliDict = {};
        local.cliDict._default = function () {
        /*
         * moduleDirectory
         * create apidoc from moduleDirectory
         */
            // jslint files
            process.stdout.write(local.apidocCreate({
                dir: process.argv[2],
                modulePathList: module.paths
            }));
        };
        local.cliRun();
        break;
    }
}());
/* script-end /assets.utility2.lib.apidoc.js */



/* script-begin /assets.utility2.lib.db.js */
///usr/bin/env node
/*
 * assets.db-lite.js
 *
 * this zero-dependency package will provide a persistent, in-browser database
 *
 * browser example:
 *     <script src="assets.db-lite.js"></script>
 *     <script>
 *     var dbTable1;
 *     dbTable1 = window.dbTable1 = window.utility2_db.dbTableCreateOne({ name: "dbTable1" });
 *     dbTable1.idIndexCreate({ name: "field1" });
 *     dbTable1.crudSetOneById({ field1: "hello", field2: "world" });
 *     console.log(dbTable1.crudGetManyByQuery({
 *         limit: Infinity,
 *         query: { field1: "hello" },
 *         skip: 0,
 *         sort: [{ fieldName: 'field1', isDescending: false }]
 *     }));
 *     </script>
 *
 * node example:
 *     var db, dbTable1;
 *     utility2_db = require("./assets.db-lite.js");
 *     dbTable1 = global.dbTable1 = utility2_db.dbTableCreateOne({ name: "dbTable1" });
 *     dbTable1.idIndexCreate({ name: "field1" });
 *     dbTable1.crudSetOneById({ field1: "hello", field2: "world" });
 *     console.log(dbTable1.crudGetManyByQuery({
 *         limit: Infinity,
 *         query: { field1: "hello" },
 *         skip: 0,
 *         sort: [{ fieldName: 'field1', isDescending: false }]
 *     }));
 */



/* istanbul instrument in package db */
/* jslint-utility2 */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;



    // run shared js-env code - init-before
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || local;
        /* istanbul ignore next */
        if (!local) {
            local = local.global.utility2_rollup ||
                local.global.utility2_rollup_old ||
                require('./assets.utility2.rollup.js');
            local.fs = null;
        }
        // init exports
        if (local.modeJs === 'browser') {
            local.global.utility2_db = local;
        } else {
            // require builtins
            // local.assert = require('assert');
            local.buffer = require('buffer');
            local.child_process = require('child_process');
            local.cluster = require('cluster');
            local.console = require('console');
            local.constants = require('constants');
            local.crypto = require('crypto');
            local.dgram = require('dgram');
            local.dns = require('dns');
            local.domain = require('domain');
            local.events = require('events');
            local.fs = require('fs');
            local.http = require('http');
            local.https = require('https');
            local.module = require('module');
            local.net = require('net');
            local.os = require('os');
            local.path = require('path');
            local.process = require('process');
            local.punycode = require('punycode');
            local.querystring = require('querystring');
            local.readline = require('readline');
            local.repl = require('repl');
            local.stream = require('stream');
            local.string_decoder = require('string_decoder');
            local.timers = require('timers');
            local.tls = require('tls');
            local.tty = require('tty');
            local.url = require('url');
            local.util = require('util');
            local.v8 = require('v8');
            local.vm = require('vm');
            local.zlib = require('zlib');
/* validateLineSortedReset */
            module.exports = local;
            module.exports.__dirname = __dirname;
        }
        // init lib
        local.local = local.db = local;
    }());



    // run shared js-env code - function-before
    /* istanbul ignore next */
    (function () {
        local.assert = function (passed, message, onError) {
        /*
         * this function will throw the error message if passed is falsey
         */
            var error;
            if (passed) {
                return;
            }
            error = message && message.message
                // if message is an error-object, then leave it as is
                ? message
                : new Error(typeof message === 'string'
                    // if message is a string, then leave it as is
                    ? message
                    // else JSON.stringify message
                    : JSON.stringify(message));
            // debug error
            local._debugAssertError = error;
            onError = onError || function (error) {
                throw error;
            };
            onError(error);
        };

        local.cliRun = function (fnc) {
        /*
         * this function will run the cli
         */
            var nop;
            nop = function () {
            /*
             * this function will do nothing
             */
                return;
            };
            local.cliDict._eval = local.cliDict._eval || function () {
            /*
             * code
             * eval code
             */
                local.global.local = local;
                require('vm').runInThisContext(process.argv[3]);
            };
            local.cliDict['--eval'] = local.cliDict['--eval'] || local.cliDict._eval;
            local.cliDict['-e'] = local.cliDict['-e'] || local.cliDict._eval;
            local.cliDict._help = local.cliDict._help || function () {
            /*
             * [none]
             * print help
             */
                var element, result, lengthList, sortDict;
                console.log(require(__dirname + '/package.json').name + ' v' +
                    require(__dirname + '/package.json').version);
                sortDict = {};
                result = [['[command]', '[args]', '[description]', -1]];
                lengthList = [result[0][0].length, result[0][1].length];
                Object.keys(local.cliDict).sort().forEach(function (key, ii) {
                    if (key[0] === '_' && key !== '_default') {
                        return;
                    }
                    sortDict[local.cliDict[key].toString()] =
                        sortDict[local.cliDict[key].toString()] || (ii + 1);
                    element = (/\n +\*(.*)\n +\*(.*)/).exec(local.cliDict[key].toString());
                    // coverage-hack - ignore else-statement
                    nop(local.global.__coverage__ && (function () {
                        element = element || ['', '', ''];
                    }()));
                    element = [
                        key.replace('_default', '[none]') + ' ',
                        element[1].trim() + ' ',
                        element[2].trim(),
                        (sortDict[local.cliDict[key].toString()] << 8) + ii
                    ];
                    result.push(element);
                    lengthList.forEach(function (length, jj) {
                        lengthList[jj] = Math.max(element[jj].length, length);
                    });
                });
                result.sort(function (aa, bb) {
                    return aa[3] < bb[3]
                        ? -1
                        : 1;
                });
                console.log('usage:   ' + __filename + ' [command] [args]');
                console.log('example: ' + __filename + ' --eval    ' +
                    '"console.log(\'hello world\')"\n');
                result.forEach(function (element, ii) {
                    lengthList.forEach(function (length, jj) {
                        while (element[jj].length < length) {
                            element[jj] += '-';
                        }
                    });
                    element = element.slice(0, 3).join('---- ');
                    if (!ii) {
                        element = element.replace((/-/g), ' ');
                    }
                    console.log(element);
                });
            };
            local.cliDict['--help'] = local.cliDict['--help'] || local.cliDict._help;
            local.cliDict['-h'] = local.cliDict['-h'] || local.cliDict._help;
            local.cliDict._default = local.cliDict._default || local.cliDict._help;
            local.cliDict.help = local.cliDict.help || local.cliDict._help;
            local.cliDict._interactive = local.cliDict._interactive || function () {
            /*
             * [none]
             * start interactive-mode
             */
                local.global.local = local;
                local.replStart();
            };
            if (local.replStart) {
                local.cliDict['--interactive'] = local.cliDict['--interactive'] ||
                    local.cliDict._interactive;
                local.cliDict['-i'] = local.cliDict['-i'] || local.cliDict._interactive;
            }
            local.cliDict._version = local.cliDict._version || function () {
            /*
             * [none]
             * print version
             */
                console.log(require(__dirname + '/package.json').version);
            };
            local.cliDict['--version'] = local.cliDict['--version'] || local.cliDict._version;
            local.cliDict['-v'] = local.cliDict['-v'] || local.cliDict._version;
            // run fnc()
            fnc = fnc || function () {
                if (local.cliDict[process.argv[2]]) {
                    local.cliDict[process.argv[2]]();
                    return;
                }
                local.cliDict._default();
            };
            fnc();
        };

        local.jsonCopy = function (jsonObj) {
        /*
         * this function will return a deep-copy of the jsonObj
         */
            return jsonObj === undefined
                ? undefined
                : JSON.parse(JSON.stringify(jsonObj));
        };

        local.jsonStringifyOrdered = function (jsonObj, replacer, space) {
        /*
         * this function will JSON.stringify the jsonObj,
         * with object-keys sorted and circular-references removed
         */
            var circularList, stringify, tmp;
            stringify = function (jsonObj) {
            /*
             * this function will recursively JSON.stringify the jsonObj,
             * with object-keys sorted and circular-references removed
             */
                // if jsonObj is not an object or function, then JSON.stringify as normal
                if (!(jsonObj &&
                        typeof jsonObj === 'object' &&
                        typeof jsonObj.toJSON !== 'function')) {
                    return JSON.stringify(jsonObj);
                }
                // ignore circular-reference
                if (circularList.indexOf(jsonObj) >= 0) {
                    return;
                }
                circularList.push(jsonObj);
                // if jsonObj is an array, then recurse its jsonObjs
                if (Array.isArray(jsonObj)) {
                    return '[' + jsonObj.map(function (jsonObj) {
                        // recurse
                        tmp = stringify(jsonObj);
                        return typeof tmp === 'string'
                            ? tmp
                            : 'null';
                    }).join(',') + ']';
                }
                // if jsonObj is not an array, then recurse its items with object-keys sorted
                return '{' + Object.keys(jsonObj)
                    // sort object-keys
                    .sort()
                    .map(function (key) {
                        // recurse
                        tmp = stringify(jsonObj[key]);
                        if (typeof tmp === 'string') {
                            return JSON.stringify(key) + ':' + tmp;
                        }
                    })
                    .filter(function (jsonObj) {
                        return typeof jsonObj === 'string';
                    })
                    .join(',') + '}';
            };
            circularList = [];
            // try to derefernce all properties in jsonObj
            (function () {
                try {
                    jsonObj = JSON.parse(JSON.stringify(jsonObj));
                } catch (ignore) {
                }
            }());
            return JSON.stringify(typeof jsonObj === 'object' && jsonObj
                // recurse
                ? JSON.parse(stringify(jsonObj))
                : jsonObj, replacer, space);
        };

        local.listShuffle = function (list) {
        /*
         * https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle
         * this function will inplace shuffle the list, via fisher-yates algorithm
         */
            var ii, random, swap;
            for (ii = list.length - 1; ii > 0; ii -= 1) {
                // coerce to finite integer
                random = (Math.random() * (ii + 1)) | 0;
                swap = list[ii];
                list[ii] = list[random];
                list[random] = swap;
            }
            return list;
        };

        local.nop = function () {
        /*
         * this function will do nothing
         */
            return;
        };

        local.normalizeValue = function (type, value, valueDefault) {
        /*
         * this function will normalize the value by type
         */
            switch (type) {
            case 'list':
                return Array.isArray(value)
                    ? value
                    : valueDefault || [];
            case 'number':
                return Number(value) || valueDefault || 0;
            case 'string':
                return typeof value === 'string'
                    ? value
                    : valueDefault || '';
            }
        };

        local.objectSetOverride = function (arg, overrides, depth, env) {
        /*
         * this function will recursively set overrides for items in the arg
         */
            arg = arg || {};
            env = env || (typeof process === 'object' && process.env) || {};
            overrides = overrides || {};
            Object.keys(overrides).forEach(function (key) {
                var arg2, overrides2;
                arg2 = arg[key];
                overrides2 = overrides[key];
                if (overrides2 === undefined) {
                    return;
                }
                // if both arg2 and overrides2 are non-null and non-array objects,
                // then recurse with arg2 and overrides2
                if (depth > 1 &&
                        // arg2 is a non-null and non-array object
                        typeof arg2 === 'object' && arg2 && !Array.isArray(arg2) &&
                        // overrides2 is a non-null and non-array object
                        typeof overrides2 === 'object' && overrides2 &&
                        !Array.isArray(overrides2)) {
                    local.objectSetOverride(arg2, overrides2, depth - 1, env);
                    return;
                }
                // else set arg[key] with overrides[key]
                arg[key] = arg === env
                    // if arg is env, then overrides falsey value with empty string
                    ? overrides2 || ''
                    : overrides2;
            });
            return arg;
        };

        local.onErrorDefault = function (error) {
        /*
         * this function will if error exists, then print error.stack to stderr
         */
            if (error && !local.global.__coverage__) {
                console.error(error);
            }
        };

        local.onErrorWithStack = function (onError) {
        /*
         * this function will create a new callback that will call onError,
         * and append the current stack to any error
         */
            var stack;
            stack = new Error().stack.replace((/(.*?)\n.*?$/m), '$1');
            return function (error, data, meta) {
                if (error &&
                        error !== local.errorDefault &&
                        String(error.stack).indexOf(stack.split('\n')[2]) < 0) {
                    // append the current stack to error.stack
                    error.stack += '\n' + stack;
                }
                onError(error, data, meta);
            };
        };

        local.onParallel = function (onError, onEach, onRetry) {
        /*
         * this function will create a function that will
         * 1. run async tasks in parallel
         * 2. if counter === 0 or error occurred, then call onError with error
         */
            var onParallel;
            onError = local.onErrorWithStack(onError);
            onEach = onEach || local.nop;
            onRetry = onRetry || local.nop;
            onParallel = function (error, data) {
                if (onRetry(error, data)) {
                    return;
                }
                // decrement counter
                onParallel.counter -= 1;
                // validate counter
                local.assert(
                    onParallel.counter >= 0 || error || onParallel.error,
                    'invalid onParallel.counter = ' + onParallel.counter
                );
                // ensure onError is run only once
                if (onParallel.counter < 0) {
                    return;
                }
                // handle error
                if (error) {
                    onParallel.error = error;
                    // ensure counter <= 0
                    onParallel.counter = -Math.abs(onParallel.counter);
                }
                // call onError when isDone
                if (onParallel.counter <= 0) {
                    onError(error, data);
                    return;
                }
                onEach();
            };
            // init counter
            onParallel.counter = 0;
            // return callback
            return onParallel;
        };

        local.replStart = function () {
        /*
         * this function will start the repl-debugger
         */
            /*jslint evil: true*/
            var self;
            if (global.utility2_serverRepl1) {
                return;
            }
            // start replServer
            self = global.utility2_serverRepl1 = require('repl').start({ useGlobal: true });
            self.nop = function () {
            /*
             * this function will do nothing
             */
                return;
            };
            self.onError = function (error) {
            /*
             * this function will debug any repl-error
             */
                // debug error
                global.utility2_debugReplError = error;
                console.error(error);
            };
            // save repl eval function
            self.evalDefault = self.eval;
            // hook custom repl eval function
            self.eval = function (script, context, file, onError) {
                var match, onError2;
                match = (/^(\S+)(.*?)\n/).exec(script) || {};
                onError2 = function (error, data) {
                    // debug error
                    global.utility2_debugReplError = error || global.utility2_debugReplError;
                    onError(error, data);
                };
                switch (match[1]) {
                // syntax sugar to run async shell command
                case '$':
                    switch (match[2]) {
                    // syntax sugar to run git diff
                    case ' git diff':
                        match[2] = ' git diff --color | cat';
                        break;
                    // syntax sugar to run git log
                    case ' git log':
                        match[2] = ' git log -n 4 | cat';
                        break;
                    }
                    // run async shell command
                    require('child_process').spawn(match[2], {
                        shell: true,
                        stdio: ['ignore', 1, 2]
                    })
                        // on shell exit, print return prompt
                        .on('exit', function (exitCode) {
                            console.error('exit-code ' + exitCode);
                            self.evalDefault(
                                '\n',
                                context,
                                file,
                                onError2
                            );
                        });
                    script = '\n';
                    break;
                // syntax sugar to grep current dir
                case 'grep':
                    // run async shell command
                    require('child_process').spawn('find . -type f | grep -v ' +
/* jslint-ignore-begin */
'"\
/\\.\\|\\(\\b\\|_\\)\\(\\.\\d\\|\
archive\\|artifact\\|\
bower_component\\|build\\|\
coverage\\|\
doc\\|\
external\\|\
fixture\\|\
git_module\\|\
jquery\\|\
log\\|\
min\\|mock\\|\
node_module\\|\
rollup\\|\
swp\\|\
tmp\\|\
vendor\\)s\\{0,1\\}\\(\\b\\|_\\)\
" ' +
/* jslint-ignore-end */
                            '| tr "\\n" "\\000" | xargs -0 grep -in "' +
                            match[2].trim() + '"', { shell: true, stdio: ['ignore', 1, 2] })
                        // on shell exit, print return prompt
                        .on('exit', function (exitCode) {
                            console.error('exit-code ' + exitCode);
                            self.evalDefault(
                                '\n',
                                context,
                                file,
                                onError2
                            );
                        });
                    script = '\n';
                    break;
                // syntax sugar to list object's keys, sorted by item-type
                case 'keys':
                    script = 'console.error(Object.keys(' + match[2] +
                        ').map(function (key) {' +
                        'return typeof ' + match[2] + '[key] + " " + key + "\\n";' +
                        '}).sort().join("") + Object.keys(' + match[2] + ').length)\n';
                    break;
                // syntax sugar to print stringified arg
                case 'print':
                    script = 'console.error(String(' + match[2] + '))\n';
                    break;
                }
                // eval the script
                self.evalDefault(script, context, file, onError2);
            };
            self.socket = { end: self.nop, on: self.nop, write: self.nop };
            // init process.stdout
            process.stdout._writeDefault = process.stdout._writeDefault ||
                process.stdout._write;
            process.stdout._write = function (chunk, encoding, callback) {
                process.stdout._writeDefault(chunk, encoding, callback);
                // coverage-hack - ignore else-statement
                self.nop(self.socket.writable && (function () {
                    self.socket.write(chunk, encoding);
                }()));
            };
            // start tcp-server
            global.utility2_serverReplTcp1 = require('net').createServer(function (socket) {
                // init socket
                self.socket = socket;
                self.socket.on('data', self.write.bind(self));
                self.socket.on('error', self.onError);
                self.socket.setKeepAlive(true);
            });
            // coverage-hack - ignore else-statement
            self.nop(process.env.PORT_REPL && (function () {
                console.error('repl-server listening on tcp-port ' + process.env.PORT_REPL);
                global.utility2_serverReplTcp1.listen(process.env.PORT_REPL);
            }()));
        };

        local.setTimeoutOnError = function (onError, timeout, error, data) {
        /*
         * this function will async-call onError
         */
            if (typeof onError === 'function') {
                setTimeout(function () {
                    onError(error, data);
                }, timeout);
            }
            return data;
        };
    }());



    // run shared js-env code - lib.storage.js
    (function (local) {
        var child_process,
            clear,
            defer,
            deferList,
            fs,
            getItem,
            init,
            keys,
            length,
            modeJs,
            os,
            removeItem,
            setItem,
            storage,
            storageDir;

        // init modeJs
        modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        storageDir = 'tmp/storage.' + (local.modeJs === 'browser'
            ? 'undefined'
            : process.env.NODE_ENV);
        switch (modeJs) {
        case 'node':
            // require modules
            child_process = require('child_process');
            fs = require('fs');
            os = require('os');
            break;
        }

        clear = function (onError) {
        /*
         * this function will clear storage
         */
            defer({ action: 'clear' }, onError);
        };

        defer = function (options, onError) {
        /*
         * this function will defer options.action until storage is ready
         */
            var data, isDone, objectStore, onError2, request, tmp;
            onError = onError || function (error) {
                // validate no error occurred
                local.assert(!error, error);
            };
            if (!storage) {
                deferList.push(function () {
                    defer(options, onError);
                });
                init();
                return;
            }
            switch (modeJs) {
            case 'browser':
                onError2 = function () {
                    /* istanbul ignore next */
                    if (isDone) {
                        return;
                    }
                    isDone = true;
                    onError(
                        request && (request.error || request.transaction.error),
                        data || request.result || ''
                    );
                };
                switch (options.action) {
                case 'clear':
                case 'removeItem':
                case 'setItem':
                    objectStore = storage
                        .transaction(storageDir, 'readwrite')
                        .objectStore(storageDir);
                    break;
                default:
                    objectStore = storage
                        .transaction(storageDir, 'readonly')
                        .objectStore(storageDir);
                }
                switch (options.action) {
                case 'clear':
                    request = objectStore.clear();
                    break;
                case 'getItem':
                    request = objectStore.get(String(options.key));
                    break;
                case 'keys':
                    data = [];
                    request = objectStore.openCursor();
                    request.onsuccess = function () {
                        if (!request.result) {
                            onError2();
                            return;
                        }
                        data.push(request.result.key);
                        request.result.continue();
                    };
                    break;
                case 'length':
                    request = objectStore.count();
                    break;
                case 'removeItem':
                    request = objectStore.delete(String(options.key));
                    break;
                case 'setItem':
                    request = objectStore.put(options.value, String(options.key));
                    break;
                }
                ['onabort', 'onerror', 'onsuccess'].forEach(function (handler) {
                    request[handler] = request[handler] || onError2;
                });
                // debug request
                local._debugStorageRequest = request;
                break;
            case 'node':
                switch (options.action) {
                case 'clear':
                    child_process.spawnSync('rm -f ' + storage + '/*', {
                        shell: true,
                        stdio: ['ignore', 1, 2]
                    });
                    setTimeout(onError);
                    break;
                case 'getItem':
                    fs.readFile(
                        storage + '/' + encodeURIComponent(String(options.key)),
                        'utf8',
                        // ignore error
                        function (error, data) {
                            onError(error && null, data || '');
                        }
                    );
                    break;
                case 'keys':
                    fs.readdir(storage, function (error, data) {
                        onError(error, data && data.map(decodeURIComponent));
                    });
                    break;
                case 'length':
                    fs.readdir(storage, function (error, data) {
                        onError(error, data && data.length);
                    });
                    break;
                case 'removeItem':
                    fs.unlink(
                        storage + '/' + encodeURIComponent(String(options.key)),
                        // ignore error
                        function () {
                            onError();
                        }
                    );
                    break;
                case 'setItem':
                    tmp = os.tmpdir() + '/' + Date.now() + Math.random();
                    // save to tmp
                    fs.writeFile(tmp, options.value, function (error) {
                        // validate no error occurred
                        local.assert(!error, error);
                        // rename tmp to key
                        fs.rename(
                            tmp,
                            storage + '/' + encodeURIComponent(String(options.key)),
                            onError
                        );
                    });
                    break;
                }
                break;
            }
        };

        deferList = [];

        getItem = function (key, onError) {
        /*
         * this function will get the item with the given key from storage
         */
            defer({ action: 'getItem', key: key }, onError);
        };

        init = function () {
        /*
         * this function will init storage
         */
            var onError, request;
            onError = function (error) {
                // validate no error occurred
                local.assert(!error, error);
                if (modeJs === 'browser') {
                    storage = window[storageDir];
                }
                while (deferList.length) {
                    deferList.shift()();
                }
            };
            if (modeJs === 'browser') {
                storage = window[storageDir];
            }
            if (storage) {
                onError();
                return;
            }
            switch (modeJs) {
            case 'browser':
                // init indexedDB
                try {
                    request = window.indexedDB.open(storageDir);
                    // debug request
                    local._debugStorageRequestIndexedDB = request;
                    request.onerror = onError;
                    request.onsuccess = function () {
                        window[storageDir] = request.result;
                        onError();
                    };
                    request.onupgradeneeded = function () {
                        if (!request.result.objectStoreNames.contains(storageDir)) {
                            request.result.createObjectStore(storageDir);
                        }
                    };
                } catch (ignore) {
                }
                break;
            case 'node':
                // mkdirp storage
                storage = storageDir;
                child_process.spawnSync(
                    'mkdir',
                    ['-p', storage],
                    { stdio: ['ignore', 1, 2] }
                );
                onError();
                break;
            }
        };

        keys = function (onError) {
        /*
         * this function will get all the keys in storage
         */
            defer({ action: 'keys' }, onError);
        };

        length = function (onError) {
        /*
         * this function will get the number of items in storage
         */
            defer({ action: 'length' }, onError);
        };

        removeItem = function (key, onError) {
        /*
         * this function will remove the item with the given key from storage
         */
            defer({ action: 'removeItem', key: key }, onError);
        };

        setItem = function (key, value, onError) {
        /*
         * this function will set the item with the given key and value to storage
         */
            defer({ action: 'setItem', key: key, value: value }, onError);
        };

        // init local
        local.storage = storage;
        local.storageClear = clear;
        local.storageDefer = defer;
        local.storageDeferList = deferList;
        local.storageDir = storageDir;
        local.storageGetItem = getItem;
        local.storageInit = init;
        local.storageKeys = keys;
        local.storageLength = length;
        local.storageRemoveItem = removeItem;
        local.storageSetItem = setItem;
    }(local));



    // run shared js-env code - lib.dbTable.js
    (function () {
        local._DbTable = function (options) {
        /*
         * this function will create a dbTable
         */
            options = local.objectSetOverride(options);
            this.name = String(options.name);
            // register dbTable in dbTableDict
            local.dbTableDict[this.name] = this;
            this.dbRowList = [];
            this.isDirty = null;
            this.idIndexList = [{ isInteger: false, name: '_id', dict: {} }];
            this.onSaveList = [];
            this.sizeLimit = options.sizeLimit || 0;
        };

        local._DbTable.prototype._cleanup = function () {
        /*
         * this function will cleanup soft-deleted records from the dbTable
         */
            var dbRow, ii, list;
            if (!this.isDirty && this.dbRowList.length <= this.sizeLimit) {
                return;
            }
            this.isDirty = null;
            // cleanup dbRowList
            list = this.dbRowList;
            this.dbRowList = [];
            // optimization - for-loop
            for (ii = 0; ii < list.length; ii += 1) {
                dbRow = list[ii];
                // cleanup isRemoved
                if (!dbRow.$meta.isRemoved) {
                    this.dbRowList.push(dbRow);
                }
            }
            if (this.sizeLimit && this.dbRowList.length >= 1.5 * this.sizeLimit) {
                this.dbRowList = this._crudGetManyByQuery(
                    {},
                    this.sortDefault,
                    0,
                    this.sizeLimit
                );
            }
        };

        local._DbTable.prototype._crudGetManyByQuery = function (
            query,
            sort,
            skip,
            limit,
            shuffle
        ) {
        /*
         * this function will get the dbRow's in the dbTable,
         * with the given query, sort, skip, and limit
         */
            var ii, result;
            result = this.dbRowList;
            // get by query
            if (result.length && query && Object.keys(query).length) {
                result = local.dbRowListGetManyByQuery(this.dbRowList, query);
            }
            // sort
            local.normalizeValue('list', sort).forEach(function (element) {
                // bug-workaround - v8 does not have stable-sort
                // optimization - for-loop
                for (ii = 0; ii < result.length; ii += 1) {
                    result[ii].$meta.ii = ii;
                }
                if (element.isDescending) {
                    result.sort(function (aa, bb) {
                        return -local.sortCompare(
                            local.dbRowGetItem(aa, element.fieldName),
                            local.dbRowGetItem(bb, element.fieldName),
                            aa.$meta.ii,
                            bb.$meta.ii
                        );
                    });
                } else {
                    result.sort(function (aa, bb) {
                        return local.sortCompare(
                            local.dbRowGetItem(aa, element.fieldName),
                            local.dbRowGetItem(bb, element.fieldName),
                            aa.$meta.ii,
                            bb.$meta.ii
                        );
                    });
                }
            });
            // skip
            result = result.slice(skip || 0);
            // shuffle
            ((shuffle && local.listShuffle) || local.nop)(result);
            // limit
            result = result.slice(0, limit || Infinity);
            return result;
        };

        local._DbTable.prototype._crudGetOneById = function (idDict) {
        /*
         * this function will get the dbRow in the dbTable with the given idDict
         */
            var id, result;
            idDict = local.objectSetOverride(idDict);
            result = null;
            this.idIndexList.some(function (idIndex) {
                id = idDict[idIndex.name];
                // optimization - hasOwnProperty
                if (idIndex.dict.hasOwnProperty(id)) {
                    result = idIndex.dict[id];
                    return result;
                }
            });
            return result;
        };

        local._DbTable.prototype._crudRemoveOneById = function (idDict, circularList) {
        /*
         * this function will remove the dbRow from the dbTable with the given idDict
         */
            var id, result, self;
            if (!idDict) {
                return null;
            }
            self = this;
            circularList = circularList || [idDict];
            result = null;
            self.idIndexList.forEach(function (idIndex) {
                id = idDict[idIndex.name];
                // optimization - hasOwnProperty
                if (!idIndex.dict.hasOwnProperty(id)) {
                    return;
                }
                result = idIndex.dict[id];
                delete idIndex.dict[id];
                // optimization - soft-delete
                result.$meta.isRemoved = true;
                self.isDirty = true;
                if (circularList.indexOf(result) >= 0) {
                    return;
                }
                circularList.push(result);
                // recurse
                self._crudRemoveOneById(result, circularList);
            });
            self.save();
            return result;
        };

        local._DbTable.prototype._crudSetOneById = function (dbRow) {
        /*
         * this function will set the dbRow into the dbTable with the given dbRow._id
         * WARNING - existing dbRow with conflicting dbRow._id will be removed
         */
            var existing, id, normalize, timeNow;
            normalize = function (dbRow) {
            /*
             * this function will recursively normalize dbRow
             */
                if (typeof dbRow === 'object' && dbRow) {
                    Object.keys(dbRow).forEach(function (key) {
                        // remove invalid property
                        if (key[0] === '$' || key.indexOf('.') >= 0 || dbRow[key] === null) {
                            // optimization - soft-delete
                            dbRow[key] = undefined;
                            return;
                        }
                        // recurse
                        normalize(dbRow[key]);
                    });
                }
            };
            dbRow = local.jsonCopy(typeof dbRow === 'object' && dbRow
                ? dbRow
                : {});
            // update timestamp
            timeNow = new Date().toISOString();
            dbRow._timeCreated = dbRow._timeCreated || timeNow;
            if (!local.modeImport) {
                dbRow._timeUpdated = timeNow;
            }
            // normalize
            normalize(dbRow);
            dbRow = local.jsonCopy(dbRow);
            // remove existing dbRow
            existing = this._crudRemoveOneById(dbRow) || dbRow;
            // init meta
            dbRow.$meta = { isRemoved: null };
            this.idIndexList.forEach(function (idIndex) {
                // auto-set id
                id = local.dbRowSetId(existing, idIndex);
                // copy id from existing to dbRow
                dbRow[idIndex.name] = id;
                // set dbRow
                idIndex.dict[id] = dbRow;
            });
            // update dbRowList
            this.dbRowList.push(dbRow);
            this.save();
            return dbRow;
        };

        local._DbTable.prototype._crudUpdateOneById = function (dbRow) {
        /*
         * this function will update the dbRow in the dbTable,
         * if it exists with the given dbRow._id
         * WARNING
         * existing dbRow's with conflicting unique-keys (besides the one being updated)
         * will be removed
         */
            var id, result;
            dbRow = local.jsonCopy(local.objectSetOverride(dbRow));
            result = null;
            this.idIndexList.some(function (idIndex) {
                id = dbRow[idIndex.name];
                // optimization - hasOwnProperty
                if (idIndex.dict.hasOwnProperty(id)) {
                    result = idIndex.dict[id];
                    return true;
                }
            });
            result = result || {};
            // remove existing dbRow
            this._crudRemoveOneById(result);
            // update dbRow
            dbRow._timeCreated = undefined;
            local.objectSetOverride(result, dbRow, 10);
            // replace dbRow
            result = this._crudSetOneById(result);
            return result;
        };

        local._DbTable.prototype.crudCountAll = function (onError) {
        /*
         * this function will count all of dbRow's in the dbTable
         */
            this._cleanup();
            return local.setTimeoutOnError(onError, 0, null, this.dbRowList.length);
        };

        local._DbTable.prototype.crudCountManyByQuery = function (query, onError) {
        /*
         * this function will count the number of dbRow's in the dbTable with the given query
         */
            this._cleanup();
            return local.setTimeoutOnError(
                onError,
                0,
                null,
                this._crudGetManyByQuery(query).length
            );
        };

        local._DbTable.prototype.crudGetManyById = function (idDictList, onError) {
        /*
         * this function will get the dbRow's in the dbTable with the given idDictList
         */
            var self;
            this._cleanup();
            self = this;
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                local.normalizeValue('list', idDictList).map(function (idDict) {
                    return self._crudGetOneById(idDict);
                })
            ));
        };

        local._DbTable.prototype.crudGetManyByQuery = function (options, onError) {
        /*
         * this function will get the dbRow's in the dbTable with the given options.query
         */
            this._cleanup();
            options = local.objectSetOverride(options);
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                this._crudGetManyByQuery(
                    options.query,
                    options.sort || this.sortDefault,
                    options.skip,
                    options.limit,
                    options.shuffle
                ),
                options.fieldList
            ));
        };

        local._DbTable.prototype.crudGetOneById = function (idDict, onError) {
        /*
         * this function will get the dbRow in the dbTable with the given idDict
         */
            this._cleanup();
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                this._crudGetOneById(idDict)
            ));
        };

        local._DbTable.prototype.crudGetOneByQuery = function (query, onError) {
        /*
         * this function will get the dbRow in the dbTable with the given query
         */
            var ii, result;
            this._cleanup();
            // optimization - for-loop
            for (ii = 0; ii < this.dbRowList.length; ii += 1) {
                result = local.dbRowListGetManyByQuery([this.dbRowList[ii]], query)[0];
                if (result) {
                    break;
                }
            }
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(result));
        };

        local._DbTable.prototype.crudGetOneByRandom = function (onError) {
        /*
         * this function will get a random dbRow in the dbTable
         */
            this._cleanup();
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                this.dbRowList[Math.floor(Math.random() * this.dbRowList.length)]
            ));
        };

        local._DbTable.prototype.crudRemoveAll = function (onError) {
        /*
         * this function will remove all of the dbRow's from the dbTable
         */
            var idIndexList;
            // save idIndexList
            idIndexList = this.idIndexList;
            // reset dbTable
            local._DbTable.call(this, this);
            // restore idIndexList
            local.dbTableCreateOne({
                name: this.name,
                idIndexCreateList: idIndexList
            }, onError);
        };

        local._DbTable.prototype.crudRemoveManyById = function (idDictList, onError) {
        /*
         * this function will remove the dbRow's from the dbTable with the given idDictList
         */
            var self;
            self = this;
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                local.normalizeValue('list', idDictList).map(function (dbRow) {
                    return self._crudRemoveOneById(dbRow);
                })
            ));
        };

        local._DbTable.prototype.crudRemoveManyByQuery = function (query, onError) {
        /*
         * this function will remove the dbRow's from the dbTable with the given query
         */
            var self;
            self = this;
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                self._crudGetManyByQuery(query).map(function (dbRow) {
                    return self._crudRemoveOneById(dbRow);
                })
            ));
        };

        local._DbTable.prototype.crudRemoveOneById = function (idDict, onError) {
        /*
         * this function will remove the dbRow from the dbTable with the given idDict
         */
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                this._crudRemoveOneById(idDict)
            ));
        };

        local._DbTable.prototype.crudSetManyById = function (dbRowList, onError) {
        /*
         * this function will set the dbRowList into the dbTable
         */
            var self;
            self = this;
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                local.normalizeValue('list', dbRowList).map(function (dbRow) {
                    return self._crudSetOneById(dbRow);
                })
            ));
        };

        local._DbTable.prototype.crudSetOneById = function (dbRow, onError) {
        /*
         * this function will set the dbRow into the dbTable with the given dbRow._id
         */
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                this._crudSetOneById(dbRow)
            ));
        };

        local._DbTable.prototype.crudUpdateManyById = function (dbRowList, onError) {
        /*
         * this function will update the dbRowList in the dbTable,
         * if they exist with the given dbRow._id's
         */
            var self;
            self = this;
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                local.normalizeValue('list', dbRowList).map(function (dbRow) {
                    return self._crudUpdateOneById(dbRow);
                })
            ));
        };

        local._DbTable.prototype.crudUpdateManyByQuery = function (query, dbRow, onError) {
        /*
         * this function will update the dbRow's in the dbTable with the given query
         */
            var result, self, tmp;
            self = this;
            tmp = local.jsonCopy(local.objectSetOverride(dbRow));
            result = self._crudGetManyByQuery(query).map(function (dbRow) {
                tmp._id = dbRow._id;
                return self._crudUpdateOneById(tmp);
            });
            return local.setTimeoutOnError(onError, 0, null, result);
        };

        local._DbTable.prototype.crudUpdateOneById = function (dbRow, onError) {
        /*
         * this function will update the dbRow in the dbTable,
         * if it exists with the given dbRow._id
         */
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                this._crudUpdateOneById(dbRow)
            ));
        };

        local._DbTable.prototype.drop = function (onError) {
        /*
         * this function will drop the dbTable
         */
            console.error('dropping dbTable ' + this.name + ' ...');
            // cancel pending save
            this.timerSave = null;
            while (this.onSaveList.length) {
                this.onSaveList.shift()();
            }
            // reset dbTable
            local._DbTable.call(this, this);
            // clear persistence
            local.storageRemoveItem('dbTable.' + this.name + '.json', onError);
        };

        local._DbTable.prototype.export = function (onError) {
        /*
         * this function will export the db
         */
            var result, self;
            this._cleanup();
            self = this;
            result = '';
            self.idIndexList.forEach(function (idIndex) {
                result += self.name + ' idIndexCreate ' + JSON.stringify({
                    isInteger: idIndex.isInteger,
                    name: idIndex.name
                }) + '\n';
            });
            result += self.name + ' sizeLimit ' + self.sizeLimit + '\n';
            result += self.name + ' sortDefault ' + JSON.stringify(self.sortDefault) + '\n';
            self.crudGetManyByQuery({}).forEach(function (dbRow) {
                result += self.name + ' dbRowSet ' + JSON.stringify(dbRow) + '\n';
            });
            return local.setTimeoutOnError(onError, 0, null, result.trim());
        };

        local._DbTable.prototype.idIndexCreate = function (options, onError) {
        /*
         * this function will create an idIndex with the given options.name
         */
            var dbRow, idIndex, ii, name;
            options = local.objectSetOverride(options);
            name = String(options.name);
            // disallow idIndex with dot-name
            if (name.indexOf('.') >= 0 || name === '_id') {
                return local.setTimeoutOnError(onError);
            }
            // remove existing idIndex
            this.idIndexRemove(options);
            // init idIndex
            idIndex = {
                dict: {},
                isInteger: !!options.isInteger,
                name: name
            };
            this.idIndexList.push(idIndex);
            // populate idIndex with dbRowList
            // optimization - for-loop
            for (ii = 0; ii < this.dbRowList.length; ii += 1) {
                dbRow = this.dbRowList[ii];
                // auto-set id
                if (!dbRow.$meta.isRemoved) {
                    idIndex.dict[local.dbRowSetId(dbRow, idIndex)] = dbRow;
                }
            }
            this.save();
            return local.setTimeoutOnError(onError);
        };

        local._DbTable.prototype.idIndexRemove = function (options, onError) {
        /*
         * this function will remove the idIndex with the given options.name
         */
            var name;
            options = local.objectSetOverride(options);
            name = String(options.name);
            this.idIndexList = this.idIndexList.filter(function (idIndex) {
                return idIndex.name !== name || idIndex.name === '_id';
            });
            this.save();
            return local.setTimeoutOnError(onError);
        };

        local._DbTable.prototype.save = function (onError) {
        /*
         * this function will save the dbTable to storage
         */
            var self;
            self = this;
            if (local.modeImport) {
                return;
            }
            if (onError) {
                self.onSaveList.push(onError);
            }
            // throttle storage-writes to once every 1000 ms
            self.timerSave = self.timerSave || setTimeout(function () {
                self.timerSave = null;
                local.storageSetItem('dbTable.' + self.name + '.json', self.export(), function (
                    error
                ) {
                    while (self.onSaveList.length) {
                        self.onSaveList.shift()(error);
                    }
                });
            }, 1000);
        };

        local.dbCrudRemoveAll = function (onError) {
        /*
         * this function will remove all dbRow's from the db
         */
            var onParallel;
            onParallel = local.onParallel(function (error) {
                local.setTimeoutOnError(onError, 0, error);
            });
            onParallel.counter += 1;
            Object.keys(local.dbTableDict).forEach(function (key) {
                onParallel.counter += 1;
                local.dbTableDict[key].crudRemoveAll(onParallel);
            });
            onParallel();
        };

        local.dbDrop = function (onError) {
        /*
         * this function will drop the db
         */
            var onParallel;
            onParallel = local.onParallel(function (error) {
                local.setTimeoutOnError(onError, 0, error);
            });
            onParallel.counter += 1;
            onParallel.counter += 1;
            local.storageClear(onParallel);
            Object.keys(local.dbTableDict).forEach(function (key) {
                onParallel.counter += 1;
                local.dbTableDict[key].drop(onParallel);
            });
            onParallel();
        };

        local.dbExport = function (onError) {
        /*
         * this function will export the db as serialized text
         */
            var result;
            result = '';
            Object.keys(local.dbTableDict).forEach(function (key) {
                result += local.dbTableDict[key].export();
                result += '\n\n';
            });
            return local.setTimeoutOnError(onError, 0, null, result.trim());
        };

        local.dbImport = function (text, onError) {
        /*
         * this function will import the serialized text into the db
         */
            var dbTable;
            local.modeImport = true;
            setTimeout(function () {
                local.modeImport = null;
            });
            text.replace((/^(\w\S*?) (\S+?) (\S.*?)$/gm), function (
                match0,
                match1,
                match2,
                match3
            ) {
                // jslint-hack
                local.nop(match0);
                switch (match2) {
                case 'dbRowSet':
                    dbTable = local.dbTableCreateOne({ isLoaded: true, name: match1 });
                    dbTable.crudSetOneById(JSON.parse(match3));
                    break;
                case 'idIndexCreate':
                    dbTable = local.dbTableCreateOne({ isLoaded: true, name: match1 });
                    dbTable.idIndexCreate(JSON.parse(match3));
                    break;
                case 'sizeLimit':
                    dbTable = local.dbTableCreateOne({ isLoaded: true, name: match1 });
                    dbTable.sizeLimit = JSON.parse(match3);
                    break;
                case 'sortDefault':
                    dbTable = local.dbTableCreateOne({ isLoaded: true, name: match1 });
                    break;
                default:
                    local.onErrorDefault(new Error('dbImport - invalid operation - ' + match0));
                }
            });
            local.modeImport = null;
            return local.setTimeoutOnError(onError);
        };

        local.dbLoad = function (onError) {
        /*
         * this function will load the db from storage
         */
            var onParallel;
            onParallel = local.onParallel(function (error) {
                local.setTimeoutOnError(onError, 0, error);
            });
            local.storageKeys(function (error, data) {
                onParallel.counter += 1;
                onParallel.counter += 1;
                onParallel(error);
                local.normalizeValue('list', data)
                    .filter(function (key) {
                        return key.indexOf('dbTable.') === 0;
                    })
                    .forEach(function (key) {
                        onParallel.counter += 1;
                        local.storageGetItem(key, function (error, data) {
                            onParallel.counter += 1;
                            onParallel(error);
                            local.dbImport(data, onParallel);
                        });
                    });
                onParallel();
            });
        };

        local.dbRowGetItem = function (dbRow, key) {
        /*
         * this function will get the item with the given key from dbRow
         */
            var ii, value;
            value = dbRow;
            key = String(key).split('.');
            // optimization - for-loop
            for (ii = 0; ii < key.length && typeof value === 'object' && value; ii += 1) {
                value = value[key[ii]];
            }
            return value === undefined
                ? null
                : value;
        };

        local.dbRowListGetManyByOperator = function (dbRowList, fieldName, operator, bb, not) {
        /*
         * this function will get the dbRow's in dbRowList with the given operator
         */
            var ii, jj, result, fieldValue, test, typeof2;
            result = [];
            typeof2 = typeof bb;
            if (bb && typeof2 === 'object') {
                switch (operator) {
                case '$in':
                case '$nin':
                case '$regex':
                    break;
                default:
                    return result;
                }
            }
            switch (operator) {
            case '$eq':
                test = function (aa, bb) {
                    return aa === bb;
                };
                break;
            case '$exists':
                bb = !bb;
                test = function (aa, bb) {
                    return !((aa === null) ^ bb);
                };
                break;
            case '$gt':
                test = function (aa, bb, typeof1, typeof2) {
                    return typeof1 === typeof2 && aa > bb;
                };
                break;
            case '$gte':
                test = function (aa, bb, typeof1, typeof2) {
                    return typeof1 === typeof2 && aa >= bb;
                };
                break;
            case '$in':
                if (bb && typeof bb.indexOf === 'function') {
                    if (typeof2 === 'string') {
                        test = function (aa, bb, typeof1, typeof2) {
                            return typeof1 === typeof2 && bb.indexOf(aa) >= 0;
                        };
                    } else {
                        test = function (aa, bb) {
                            return bb.indexOf(aa) >= 0;
                        };
                    }
                }
                break;
            case '$lt':
                test = function (aa, bb, typeof1, typeof2) {
                    return typeof1 === typeof2 && aa < bb;
                };
                break;
            case '$lte':
                test = function (aa, bb, typeof1, typeof2) {
                    return typeof1 === typeof2 && aa <= bb;
                };
                break;
            case '$ne':
                test = function (aa, bb) {
                    return aa !== bb;
                };
                break;
            case '$nin':
                if (bb && typeof bb.indexOf === 'function') {
                    if (typeof2 === 'string') {
                        test = function (aa, bb, typeof1, typeof2) {
                            return typeof1 === typeof2 && bb.indexOf(aa) < 0;
                        };
                    } else {
                        test = function (aa, bb) {
                            return bb.indexOf(aa) < 0;
                        };
                    }
                }
                break;
            case '$regex':
                if (bb && typeof bb.test === 'function') {
                    test = function (aa, bb) {
                        return bb.test(aa);
                    };
                }
                break;
            case '$typeof':
                test = function (aa, bb, typeof1) {
                    // jslint-hack
                    local.nop(aa);
                    return typeof1 === bb;
                };
                break;
            }
            if (!test) {
                return result;
            }
            // optimization - for-loop
            for (ii = dbRowList.length - 1; ii >= 0; ii -= 1) {
                fieldValue = local.dbRowGetItem(dbRowList[ii], fieldName);
                // normalize to list
                if (!Array.isArray(fieldValue)) {
                    fieldValue = [fieldValue];
                }
                // optimization - for-loop
                for (jj = fieldValue.length - 1; jj >= 0; jj -= 1) {
                    if (not ^ test(fieldValue[jj], bb, typeof fieldValue[jj], typeof2)) {
                        result.push(dbRowList[ii]);
                        break;
                    }
                }
            }
            return result;
        };

        local.dbRowListGetManyByQuery = function (dbRowList, query, fieldName, not) {
        /*
         * this function will get the dbRow's in dbRowList with the given query
         */
            var bb, dbRowDict, result;
            // optimization - convert to boolean
            not = !!not;
            result = dbRowList;
            if (!(typeof query === 'object' && query)) {
                result = local.dbRowListGetManyByOperator(result, fieldName, '$eq', query, not);
                return result;
            }
            Object.keys(query).some(function (key) {
                bb = query[key];
                switch (key) {
                case '$not':
                    key = fieldName;
                    not = !not;
                    break;
                case '$or':
                    if (!Array.isArray(bb)) {
                        break;
                    }
                    dbRowDict = {};
                    bb.forEach(function (query) {
                        // recurse
                        local.dbRowListGetManyByQuery(result, query).forEach(function (dbRow) {
                            dbRowDict[dbRow._id] = dbRow;
                        });
                    });
                    result = Object.keys(dbRowDict).map(function (id) {
                        return dbRowDict[id];
                    });
                    return !result.length;
                }
                if (key[0] === '$') {
                    result = local.dbRowListGetManyByOperator(result, fieldName, key, bb, not);
                    return !result.length;
                }
                // recurse
                result = local.dbRowListGetManyByQuery(result, bb, key, not);
                return !result.length;
            });
            return result;
        };

        local.dbRowProject = function (dbRow, fieldList) {
        /*
         * this function will deepcopy and project the dbRow with the given fieldList
         */
            var result;
            if (!dbRow) {
                return null;
            }
            // handle list-case
            if (Array.isArray(dbRow)) {
                return dbRow.map(function (dbRow) {
                    // recurse
                    return local.dbRowProject(dbRow, fieldList);
                });
            }
            // normalize to list
            if (!(Array.isArray(fieldList) && fieldList.length)) {
                fieldList = Object.keys(dbRow);
            }
            result = {};
            fieldList.forEach(function (key) {
                if (key[0] !== '$') {
                    result[key] = dbRow[key];
                }
            });
            return JSON.parse(local.jsonStringifyOrdered(result));
        };

        local.dbRowSetId = function (dbRow, idIndex) {
        /*
         * this function will set a random and unique id into dbRow for the given idIndex,
         * if it does not exist
         */
            var id;
            id = dbRow[idIndex.name];
            if (typeof id !== 'number' && typeof id !== 'string') {
                do {
                    id = idIndex.isInteger
                        ? (1 + Math.random()) * 0x10000000000000
                        : 'a' + ((1 + Math.random()) * 0x10000000000000).toString(36).slice(1);
                // optimization - hasOwnProperty
                } while (idIndex.dict.hasOwnProperty(id));
                dbRow[idIndex.name] = id;
            }
            return id;
        };

        local.dbSave = function (onError) {
        /*
         * this function will save the db to storage
         */
            var onParallel;
            onParallel = local.onParallel(function (error) {
                local.setTimeoutOnError(onError, 0, error);
            });
            onParallel.counter += 1;
            Object.keys(local.dbTableDict).forEach(function (key) {
                onParallel.counter += 1;
                local.dbTableDict[key].save(onParallel);
            });
            onParallel();
        };

        local.dbTableCreateMany = function (optionsList, onError) {
        /*
         * this function will set the optionsList into the db
         */
            var onParallel, result;
            onParallel = local.onParallel(function (error) {
                local.setTimeoutOnError(onError, 0, error, result);
            });
            onParallel.counter += 1;
            result = local.normalizeValue('list', optionsList).map(function (options) {
                onParallel.counter += 1;
                return local.dbTableCreateOne(options, onParallel);
            });
            return local.setTimeoutOnError(onParallel, 0, null, result);
        };

        local.dbTableCreateOne = function (options, onError) {
        /*
         * this function will create a dbTable with the given options
         */
            var self;
            options = local.objectSetOverride(options);
            // register dbTable
            self = local.dbTableDict[options.name] =
                local.dbTableDict[options.name] || new local._DbTable(options);
            self.sortDefault = options.sortDefault ||
                self.sortDefault ||
                [{ fieldName: '_timeUpdated', isDescending: true }];
            // remove idIndex
            local.normalizeValue('list', options.idIndexRemoveList).forEach(function (idIndex) {
                self.idIndexRemove(idIndex);
            });
            // create idIndex
            local.normalizeValue('list', options.idIndexCreateList).forEach(function (idIndex) {
                self.idIndexCreate(idIndex);
            });
            // upsert dbRow
            self.crudSetManyById(options.dbRowList);
            // restore dbTable from persistent-storage
            self.isLoaded = self.isLoaded || options.isLoaded;
            if (!self.isLoaded) {
                local.storageGetItem('dbTable.' + self.name + '.json', function (error, data) {
                    // validate no error occurred
                    local.assert(!error, error);
                    if (!self.isLoaded) {
                        local.dbImport(data);
                    }
                    self.isLoaded = true;
                    local.setTimeoutOnError(onError, 0, null, self);
                });
                return self;
            }
            return local.setTimeoutOnError(onError, 0, null, self);
        };

        local.dbTableDict = {};

        local.sortCompare = function (aa, bb, ii, jj) {
        /*
         * this function will compare aa vs bb and return:
         * -1 if aa < bb
         *  0 if aa === bb
         *  1 if aa > bb
         * the priority for comparing different typeof's is:
         * null < boolean < number < string < object < undefined
         */
            var typeof1, typeof2;
            if (aa === bb) {
                return ii < jj
                    ? -1
                    : 1;
            }
            if (aa === null) {
                return -1;
            }
            if (bb === null) {
                return 1;
            }
            typeof1 = typeof aa;
            typeof2 = typeof bb;
            if (typeof1 === typeof2) {
                return typeof1 === 'object'
                    ? 0
                    : aa > bb
                    ? 1
                    : -1;
            }
            if (typeof1 === 'boolean') {
                return -1;
            }
            if (typeof2 === 'boolean') {
                return 1;
            }
            if (typeof1 === 'number') {
                return -1;
            }
            if (typeof2 === 'number') {
                return 1;
            }
            if (typeof1 === 'string') {
                return -1;
            }
            if (typeof2 === 'string') {
                return 1;
            }
            return 0;
        };
    }());
    switch (local.modeJs) {



    // run node js-env code - init-after
    /* istanbul ignore next */
    case 'node':
        // init cli
        if (module !== require.main || local.global.utility2_rollup) {
            break;
        }
        local.cliDict = {};
        local.cliDict.dbTableCrudGetManyByQuery = function () {
        /*
         * dbTable query
         * query dbRowList from dbTable
         */
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {
                // validate no error occurred
                local.assert(!error, error);
                console.log(JSON.stringify(self.crudGetManyByQuery(
                    JSON.parse(process.argv[4] || '{}')
                ), null, 4));
            });
        };
        local.cliDict.dbTableCrudRemoveManyByQuery = function () {
        /*
         * dbTable query
         * query and remove dbRowList from dbTable
         */
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {
                // validate no error occurred
                local.assert(!error, error);
                console.log(JSON.stringify(self.crudRemoveManyByQuery(
                    JSON.parse(process.argv[4])
                ), null, 4));
            });
        };
        local.cliDict.dbTableCrudSetManyById = function () {
        /*
         * dbTable dbRowList
         * set dbRowList into dbTable
         */
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {
                // validate no error occurred
                local.assert(!error, error);
                self.crudSetManyById(JSON.parse(process.argv[4]));
            });
        };
        local.cliDict.dbTableHeaderDictGet = function () {
        /*
         * dbTable
         * get headerDict from dbTable
         */
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {
                // validate no error occurred
                local.assert(!error, error);
                var tmp;
                tmp = [];
                self.idIndexList.forEach(function (idIndex) {
                    tmp.push({ isInteger: idIndex.isInteger, name: idIndex.name });
                });
                console.log(JSON.stringify({
                    idIndexList: tmp,
                    sizeLimit: self.sizeLimit,
                    sortDefault: self.sortDefault
                }, null, 4));
            });
        };
        local.cliDict.dbTableHeaderDictSet = function () {
        /*
         * dbTable
         * set headerDict into dbTable
         */
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {
                // validate no error occurred
                local.assert(!error, error);
                local.tmp = JSON.parse(process.argv[4]);
                self.sizeLimit = local.tmp.sizeLimit || self.sizeLimit;
                self.sortDefault = local.tmp.sortDefault || self.sortDefault;
                self.save();
                local.tmp = [];
                self.idIndexList.forEach(function (idIndex) {
                    local.tmp.push({ isInteger: idIndex.isInteger, name: idIndex.name });
                });
                local.cliDict.dbTableHeaderDictGet();
            });
        };
        local.cliDict.dbTableIdIndexCreate = function () {
        /*
         * dbTable idIndex
         * create idIndex in dbTable
         */
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {
                // validate no error occurred
                local.assert(!error, error);
                self.idIndexCreate(JSON.parse(process.argv[4]));
                self.save();
                local.tmp = [];
                self.idIndexList.forEach(function (idIndex) {
                    local.tmp.push({ isInteger: idIndex.isInteger, name: idIndex.name });
                });
                local.cliDict.dbTableHeaderDictGet();
            });
        };
        local.cliDict.dbTableIdIndexRemove = function () {
        /*
         * dbTable idIndex
         * remove idIndex from dbTable
         */
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {
                // validate no error occurred
                local.assert(!error, error);
                self.idIndexRemove(JSON.parse(process.argv[4]));
                self.save();
                local.cliDict.dbTableHeaderDictGet();
            });
        };
        local.cliDict.dbTableList = function () {
        /*
         * [none]
         * list dbTable's in db
         */
            local.storageKeys(function (error, data) {
                // validate no error occurred
                local.assert(!error, error);
                console.log(JSON.stringify(data.map(function (element) {
                    return element.split('.').slice(1, -1).join('.');
                }), null, 4));
            });
        };
        local.cliDict.dbTableRemove = function () {
        /*
         * dbTable
         * remove dbTable from db
         */
            local.storageRemoveItem('dbTable.' + process.argv[3] + '.json', function (error) {
                // validate no error occurred
                local.assert(!error, error);
                local.cliDict.dbTableList();
            });
        };
        local.cliRun();
        break;
    }
}());
/* script-end /assets.utility2.lib.db.js */



/* script-begin /assets.utility2.lib.github_crud.js */
///usr/bin/env node
/* istanbul instrument in package github_crud */
/* jslint-utility2 */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;



    // run shared js-env code - init-before
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || local;
        /* istanbul ignore next */
        if (!local) {
            local = local.global.utility2_rollup ||
                local.global.utility2_rollup_old ||
                require('./assets.utility2.rollup.js');
            local.fs = null;
        }
        // init exports
        if (local.modeJs === 'browser') {
            local.global.utility2_github_crud = local;
        } else {
            // require builtins
            // local.assert = require('assert');
            local.buffer = require('buffer');
            local.child_process = require('child_process');
            local.cluster = require('cluster');
            local.console = require('console');
            local.constants = require('constants');
            local.crypto = require('crypto');
            local.dgram = require('dgram');
            local.dns = require('dns');
            local.domain = require('domain');
            local.events = require('events');
            local.fs = require('fs');
            local.http = require('http');
            local.https = require('https');
            local.module = require('module');
            local.net = require('net');
            local.os = require('os');
            local.path = require('path');
            local.process = require('process');
            local.punycode = require('punycode');
            local.querystring = require('querystring');
            local.readline = require('readline');
            local.repl = require('repl');
            local.stream = require('stream');
            local.string_decoder = require('string_decoder');
            local.timers = require('timers');
            local.tls = require('tls');
            local.tty = require('tty');
            local.url = require('url');
            local.util = require('util');
            local.v8 = require('v8');
            local.vm = require('vm');
            local.zlib = require('zlib');
/* validateLineSortedReset */
            module.exports = local;
            module.exports.__dirname = __dirname;
        }
        // init lib
        local.local = local.github_crud = local;
    }());



    /* istanbul ignore next */
    // run shared js-env code - function-before
    (function () {
        local.assert = function (passed, message, onError) {
        /*
         * this function will throw the error message if passed is falsey
         */
            var error;
            if (passed) {
                return;
            }
            error = message && message.message
                // if message is an error-object, then leave it as is
                ? message
                : new Error(typeof message === 'string'
                    // if message is a string, then leave it as is
                    ? message
                    // else JSON.stringify message
                    : JSON.stringify(message));
            // debug error
            local._debugAssertError = error;
            onError = onError || function (error) {
                throw error;
            };
            onError(error);
        };

        local.cliRun = function (fnc) {
        /*
         * this function will run the cli
         */
            var nop;
            nop = function () {
            /*
             * this function will do nothing
             */
                return;
            };
            local.cliDict._eval = local.cliDict._eval || function () {
            /*
             * code
             * eval code
             */
                local.global.local = local;
                require('vm').runInThisContext(process.argv[3]);
            };
            local.cliDict['--eval'] = local.cliDict['--eval'] || local.cliDict._eval;
            local.cliDict['-e'] = local.cliDict['-e'] || local.cliDict._eval;
            local.cliDict._help = local.cliDict._help || function () {
            /*
             * [none]
             * print help
             */
                var element, result, lengthList, sortDict;
                console.log(require(__dirname + '/package.json').name + ' v' +
                    require(__dirname + '/package.json').version);
                sortDict = {};
                result = [['[command]', '[args]', '[description]', -1]];
                lengthList = [result[0][0].length, result[0][1].length];
                Object.keys(local.cliDict).sort().forEach(function (key, ii) {
                    if (key[0] === '_' && key !== '_default') {
                        return;
                    }
                    sortDict[local.cliDict[key].toString()] =
                        sortDict[local.cliDict[key].toString()] || (ii + 1);
                    element = (/\n +\*(.*)\n +\*(.*)/).exec(local.cliDict[key].toString());
                    // coverage-hack - ignore else-statement
                    nop(local.global.__coverage__ && (function () {
                        element = element || ['', '', ''];
                    }()));
                    element = [
                        key.replace('_default', '[none]') + ' ',
                        element[1].trim() + ' ',
                        element[2].trim(),
                        (sortDict[local.cliDict[key].toString()] << 8) + ii
                    ];
                    result.push(element);
                    lengthList.forEach(function (length, jj) {
                        lengthList[jj] = Math.max(element[jj].length, length);
                    });
                });
                result.sort(function (aa, bb) {
                    return aa[3] < bb[3]
                        ? -1
                        : 1;
                });
                console.log('usage:   ' + __filename + ' [command] [args]');
                console.log('example: ' + __filename + ' --eval    ' +
                    '"console.log(\'hello world\')"\n');
                result.forEach(function (element, ii) {
                    lengthList.forEach(function (length, jj) {
                        while (element[jj].length < length) {
                            element[jj] += '-';
                        }
                    });
                    element = element.slice(0, 3).join('---- ');
                    if (!ii) {
                        element = element.replace((/-/g), ' ');
                    }
                    console.log(element);
                });
            };
            local.cliDict['--help'] = local.cliDict['--help'] || local.cliDict._help;
            local.cliDict['-h'] = local.cliDict['-h'] || local.cliDict._help;
            local.cliDict._default = local.cliDict._default || local.cliDict._help;
            local.cliDict.help = local.cliDict.help || local.cliDict._help;
            local.cliDict._interactive = local.cliDict._interactive || function () {
            /*
             * [none]
             * start interactive-mode
             */
                local.global.local = local;
                local.replStart();
            };
            if (local.replStart) {
                local.cliDict['--interactive'] = local.cliDict['--interactive'] ||
                    local.cliDict._interactive;
                local.cliDict['-i'] = local.cliDict['-i'] || local.cliDict._interactive;
            }
            local.cliDict._version = local.cliDict._version || function () {
            /*
             * [none]
             * print version
             */
                console.log(require(__dirname + '/package.json').version);
            };
            local.cliDict['--version'] = local.cliDict['--version'] || local.cliDict._version;
            local.cliDict['-v'] = local.cliDict['-v'] || local.cliDict._version;
            // run fnc()
            fnc = fnc || function () {
                if (local.cliDict[process.argv[2]]) {
                    local.cliDict[process.argv[2]]();
                    return;
                }
                local.cliDict._default();
            };
            fnc();
        };

        local.httpRequest = function (options, onError) {
        /*
         * this function will request the data from options.url
         */
            var chunkList,
                isDone,
                onError2,
                serverLog,
                timerTimeout,
                request,
                response,
                timeStart,
                urlParsed;
            // init onError2
            onError2 = function (error) {
                if (isDone) {
                    return;
                }
                isDone = true;
                // debug httpResponse
                serverLog({
                    type: 'httpResponse',
                    time: new Date(timeStart).toISOString(),
                    method: options.method,
                    url: options.url,
                    statusCode: Number(response && response.statusCode) || 0,
                    duration: Date.now() - timeStart
                });
                // cleanup timerTimeout
                clearTimeout(timerTimeout);
                // cleanup request and response
                [request, response].forEach(function (stream) {
                    // try to end the stream
                    try {
                        stream.end();
                    // else try to destroy the stream
                    } catch (errorCaught) {
                        try {
                            stream.destroy();
                        } catch (ignore) {
                        }
                    }
                });
                onError(error, response);
            };
            // init serverLog
            serverLog = local.serverLog || console.error;
            // init timerTimeout
            timerTimeout = setTimeout(function () {
                onError2(new Error('http-request timeout'));
            }, options.timeout || 30000);
            urlParsed = require('url').parse(options.url);
            urlParsed.headers = options.headers;
            urlParsed.method = options.method;
            // debug request-time
            timeStart = Date.now();
            request = options.request || require(urlParsed.protocol.slice(0, -1)).request;
            request = request(urlParsed, function (_response) {
                response = _response;
                if (response.statusCode < 200 || response.statusCode > 299) {
                    onError2(new Error(response.statusCode));
                    return;
                }
                chunkList = [];
                response
                    .on('data', function (chunk) {
                        chunkList.push(chunk);
                    })
                    .on('end', function () {
                        response.data = Buffer.concat(chunkList);
                        onError2();
                    })
                    .on('error', onError2);
            });
            request.on('error', onError2).end(options.data);
        };

        local.nop = function () {
        /*
         * this function will do nothing
         */
            return;
        };

        local.onErrorWithStack = function (onError) {
        /*
         * this function will create a new callback that will call onError,
         * and append the current stack to any error
         */
            var stack;
            stack = new Error().stack.replace((/(.*?)\n.*?$/m), '$1');
            return function (error, data, meta) {
                if (error &&
                        error !== local.errorDefault &&
                        String(error.stack).indexOf(stack.split('\n')[2]) < 0) {
                    // append the current stack to error.stack
                    error.stack += '\n' + stack;
                }
                onError(error, data, meta);
            };
        };

        local.onNext = function (options, onError) {
        /*
         * this function will wrap onError inside the recursive function options.onNext,
         * and append the current stack to any error
         */
            options.onNext = local.onErrorWithStack(function (error, data, meta) {
                try {
                    options.modeNext = error && !options.modeErrorIgnore
                        ? Infinity
                        : options.modeNext + 1;
                    onError(error, data, meta);
                } catch (errorCaught) {
                    // throw errorCaught to break infinite recursion-loop
                    if (options.errorCaught) {
                        throw options.errorCaught;
                    }
                    options.errorCaught = errorCaught;
                    options.onNext(errorCaught, data, meta);
                }
            });
            return options;
        };

        local.onParallel = function (onError, onEach, onRetry) {
        /*
         * this function will create a function that will
         * 1. run async tasks in parallel
         * 2. if counter === 0 or error occurred, then call onError with error
         */
            var onParallel;
            onError = local.onErrorWithStack(onError);
            onEach = onEach || local.nop;
            onRetry = onRetry || local.nop;
            onParallel = function (error, data) {
                if (onRetry(error, data)) {
                    return;
                }
                // decrement counter
                onParallel.counter -= 1;
                // validate counter
                local.assert(
                    onParallel.counter >= 0 || error || onParallel.error,
                    'invalid onParallel.counter = ' + onParallel.counter
                );
                // ensure onError is run only once
                if (onParallel.counter < 0) {
                    return;
                }
                // handle error
                if (error) {
                    onParallel.error = error;
                    // ensure counter <= 0
                    onParallel.counter = -Math.abs(onParallel.counter);
                }
                // call onError when isDone
                if (onParallel.counter <= 0) {
                    onError(error, data);
                    return;
                }
                onEach();
            };
            // init counter
            onParallel.counter = 0;
            // return callback
            return onParallel;
        };

        local.onParallelList = function (options, onEach, onError) {
        /*
         * this function will
         * 1. async-run onEach in parallel,
         *    with the given options.rateLimit and options.retryLimit
         * 2. call onError when isDone
         */
            var ii, onEach2, onParallel;
            options.list = options.list || [];
            onEach2 = function () {
                while (ii + 1 < options.list.length &&
                        onParallel.counter < options.rateLimit + 1) {
                    ii += 1;
                    onParallel.ii += 1;
                    onParallel.remaining -= 1;
                    onEach({
                        element: options.list[ii],
                        ii: ii,
                        list: options.list,
                        retry: 0
                    }, onParallel);
                }
            };
            onParallel = local.onParallel(onError, onEach2, function (error, data) {
                if (error && data && data.retry < options.retryLimit) {
                    local.onErrorDefault(error);
                    data.retry += 1;
                    setTimeout(function () {
                        onParallel.counter -= 1;
                        onEach(data, onParallel);
                    }, 1000);
                    return true;
                }
            });
            ii = -1;
            onParallel.ii = -1;
            onParallel.remaining = options.list.length;
            options.rateLimit = Number(options.rateLimit) || 6;
            options.rateLimit = Math.max(options.rateLimit, 1);
            options.retryLimit = Number(options.retryLimit) || 2;
            onParallel.counter += 1;
            onEach2();
            onParallel();
        };

        local.onReadyAfter = function (onError) {
        /*
         * this function will call onError when onReadyBefore.counter === 0
         */
            local.onReadyBefore.counter += 1;
            local.taskCreate({ key: 'utility2.onReadyAfter' }, null, onError);
            local.onResetAfter(local.onReadyBefore);
            return onError;
        };
    }());
    switch (local.modeJs) {



    // run node js-env code - function
    case 'node':
        local.contentDelete = function (options, onError) {
        /*
         * this function will delete the github file
         * https://developer.github.com/v3/repos/contents/#delete-a-file
         */
            options = { message: options.message, request: options.request, url: options.url };
            local.onNext(options, function (error, data) {
                switch (options.modeNext) {
                case 1:
                    // get sha
                    local.contentRequest({
                        method: 'GET',
                        request: options.request,
                        url: options.url
                    }, options.onNext);
                    break;
                case 2:
                    // delete file with sha
                    if (!error && data.sha) {
                        local.contentRequest({
                            message: options.message,
                            method: 'DELETE',
                            request: options.request,
                            sha: data.sha,
                            url: options.url
                        }, options.onNext);
                        return;
                    }
                    // delete tree
                    local.onParallelList({ list: data }, function (options2, onParallel) {
                        onParallel.counter += 1;
                        // recurse
                        local.contentDelete({
                            message: options.message,
                            request: options.request,
                            url: options2.element.url
                        }, onParallel);
                    }, options.onNext);
                    break;
                default:
                    onError();
                }
            });
            options.modeNext = 0;
            options.onNext();
        };

        local.contentGet = function (options, onError) {
        /*
         * this function will get the github file
         * https://developer.github.com/v3/repos/contents/#get-contents
         */
            options = { request: options.request, url: options.url };
            local.onNext(options, function (error, data) {
                switch (options.modeNext) {
                case 1:
                    local.contentRequest({
                        method: 'GET',
                        request: options.request,
                        url: options.url
                    }, options.onNext);
                    break;
                case 2:
                    options.onNext(null, new Buffer(data.content || '', 'base64'));
                    break;
                default:
                    onError(error, !error && data);
                }
            });
            options.modeNext = 0;
            options.onNext();
        };

        local.contentPut = function (options, onError) {
        /*
         * this function will put options.content into the github file
         * https://developer.github.com/v3/repos/contents/#update-a-file
         */
            options = {
                content: options.content,
                message: options.message,
                modeErrorIgnore: true,
                request: options.request,
                url: options.url
            };
            local.onNext(options, function (error, data) {
                switch (options.modeNext) {
                case 1:
                    // get sha
                    local.contentRequest({
                        method: 'GET',
                        request: options.request,
                        url: options.url
                    }, options.onNext);
                    break;
                case 2:
                    // put file with sha
                    local.contentRequest({
                        content: options.content,
                        message: options.message,
                        method: 'PUT',
                        request: options.request,
                        sha: data.sha,
                        url: options.url
                    }, options.onNext);
                    break;
                default:
                    onError(error);
                }
            });
            options.modeNext = 0;
            options.onNext();
        };

        local.contentPutFile = function (options, onError) {
        /*
         * this function will put options.file into the github file
         * https://developer.github.com/v3/repos/contents/#update-a-file
         */
            options = {
                file: options.file,
                message: options.message,
                request: options.request,
                url: options.url
            };
            local.onNext(options, function (error, data) {
                switch (options.modeNext) {
                case 1:
                    // get file from url
                    if ((/^(?:http|https):\/\//).test(options.file)) {
                        local.httpRequest({
                            method: 'GET',
                            request: options.request,
                            url: options.file
                        }, function (error, response) {
                            options.onNext(error, response && response.data);
                        });
                        return;
                    }
                    // get file
                    local.fs.readFile(options.file, options.onNext);
                    break;
                case 2:
                    local.contentPut({
                        content: data,
                        message: options.message,
                        request: options.request,
                        // resolve file in url
                        url: (/\/$/).test(options.url)
                            ? options.url + local.path.basename(options.file)
                            : options.url
                    }, options.onNext);
                    break;
                default:
                    onError(error);
                }
            });
            options.modeNext = 0;
            options.onNext();
        };

        local.contentRequest = function (options, onError) {
        /*
         * this function will request the content from github
         */
            // init options
            options = {
                chunkList: [],
                content: options.content,
                headers: {
                    // github oauth authentication
                    Authorization: 'token ' + process.env.GITHUB_TOKEN,
                    // bug-workaround - https://developer.github.com/v3/#user-agent-required
                    'User-Agent': 'undefined'
                },
                message: options.message,
                method: options.method,
                request: options.request,
                responseJson: {},
                sha: options.sha,
                url: options.url
            };
            options.url = options.url
/* jslint-ignore-begin */
// parse https://github.com/:owner/:repo/blob/:branch/:path
.replace(
    (/^https:\/\/github.com\/([^\/]+?\/[^\/]+?)\/blob\/([^\/]+?)\/(.+)/),
    'https://api.github.com/repos/$1/contents/$3?branch=$2'
)
// parse https://github.com/:owner/:repo/tree/:branch/:path
.replace(
    (/^https:\/\/github.com\/([^\/]+?\/[^\/]+?)\/tree\/([^\/]+?)\/(.+)/),
    'https://api.github.com/repos/$1/contents/$3?branch=$2'
)
// parse https://raw.githubusercontent.com/:owner/:repo/:branch/:path
.replace(
(/^https:\/\/raw.githubusercontent.com\/([^\/]+?\/[^\/]+?)\/([^\/]+?)\/(.+)/),
    'https://api.github.com/repos/$1/contents/$3?branch=$2'
)
// parse https://:owner.github.io/:repo/:path
.replace(
    (/^https:\/\/([^\.]+?)\.github\.io\/([^\/]+?)\/(.+)/),
    'https://api.github.com/repos/$1/$2/contents/$3?branch=gh-pages'
)
/* jslint-ignore-end */
                .replace((/\?branch=(.*)/), function (match0, match1) {
                    options.branch = match1;
                    if (options.method === 'GET') {
                        match0 = match0.replace('branch', 'ref');
                    }
                    return match0;
                });
            if (options.url.indexOf('https://api.github.com/repos/') !== 0) {
                onError(new Error('invalid url ' + options.url));
                return;
            }
            if (options.method !== 'GET') {
                options.message = options.message ||
                    '[ci skip] ' + options.method + ' file ' + options.url
                    .replace((/\?.*/), '');
                options.url += '&message=' + encodeURIComponent(options.message);
                if (options.sha) {
                    options.url += '&sha=' + options.sha;
                }
                options.data = JSON.stringify({
                    branch: options.branch,
                    content: new Buffer(options.content || '').toString('base64'),
                    message: options.message,
                    sha: options.sha
                });
            }
            local.httpRequest(options, function (error, response) {
                try {
                    options.responseJson = JSON.parse(response.data.toString());
                } catch (ignore) {
                }
                onError(error, options.responseJson);
            });
        };

        local.contentTouch = function (options, onError) {
        /*
         * this function will touch options.url
         * https://developer.github.com/v3/repos/contents/#update-a-file
         */
            options = {
                message: options.message,
                modeErrorIgnore: true,
                request: options.request,
                url: options.url
            };
            local.onNext(options, function (error, data) {
                switch (options.modeNext) {
                case 1:
                    // get sha
                    local.contentRequest({
                        method: 'GET',
                        request: options.request,
                        url: options.url
                    }, options.onNext);
                    break;
                case 2:
                    // put file with sha
                    local.contentRequest({
                        content: new Buffer(data.content || '', 'base64'),
                        message: options.message,
                        method: 'PUT',
                        request: options.request,
                        sha: data.sha,
                        url: options.url
                    }, options.onNext);
                    break;
                default:
                    onError(error);
                }
            });
            options.modeNext = 0;
            options.onNext();
        };

        local.contentTouchList = function (options, onError) {
        /*
         * this function will touch options.urlList in parallel
         * https://developer.github.com/v3/repos/contents/#update-a-file
         */
            local.onParallelList({ list: options.urlList }, function (options2, onParallel) {
                onParallel.counter += 1;
                local.contentTouch({
                    message: options.message,
                    modeErrorIgnore: true,
                    request: options.request,
                    url: options2.element
                }, onParallel);
            }, onError);
        };
        break;
    }
    switch (local.modeJs) {



    /* istanbul ignore next */
    // run node js-env code - init-after
    case 'node':
        // init cli
        if (module !== require.main || local.global.utility2_rollup) {
            break;
        }
        local.cliDict = {};
        local.cliDict.delete = function () {
        /*
         * fileRemote commitMessage
         * delete fileRemote from github
         */
            local.contentDelete({
                message: process.argv[4],
                url: process.argv[3]
            }, function (error) {
                // validate no error occurred
                console.assert(!error, error);
            });
        };
        local.cliDict.get = function () {
        /*
         * fileRemote
         * get fileRemote from github
         */
            local.contentGet({ url: process.argv[3] }, function (error, data) {
                // validate no error occurred
                console.assert(!error, error);
                try {
                    process.stdout.write(data);
                } catch (ignore) {
                }
            });
        };
        local.cliDict.put = function () {
        /*
         * fileRemote fileLocal commitMessage
         * put fileLocal as fileRemote on github
         */
            local.contentPutFile({
                message: process.argv[5],
                url: process.argv[3],
                file: process.argv[4]
            }, function (error) {
                // validate no error occurred
                console.assert(!error, error);
            });
        };
        local.cliDict.touch = function () {
        /*
         * fileRemote commitMessage
         * touch fileRemote on github
         */
            local.contentTouch({
                message: process.argv[4],
                url: process.argv[3]
            }, function (error) {
                // validate no error occurred
                console.assert(!error, error);
            });
        };
        local.cliDict.touchList = function () {
        /*
         * fileRemoteList commitMessage
         * touch comma-separated fileRemoteList on github
         */
            local.contentTouchList({
                message: process.argv[4],
                urlList: process.argv[3].split(',').filter(function (element) {
                    return element;
                })
            }, function (error) {
                // validate no error occurred
                console.assert(!error, error);
            });
        };
        local.cliRun();
        break;
    }
}());
/* script-end /assets.utility2.lib.github_crud.js */



/* script-begin /assets.utility2.lib.istanbul.js */
///usr/bin/env node
/* istanbul instrument in package istanbul */
/* jslint-utility2 */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;



    // run shared js-env code - init-before
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || local;
        /* istanbul ignore next */
        if (!local) {
            local = local.global.utility2_rollup ||
                local.global.utility2_rollup_old ||
                require('./assets.utility2.rollup.js');
            local.fs = null;
        }
        // init exports
        if (local.modeJs === 'browser') {
            local.global.utility2_istanbul = local;
        } else {
            // require builtins
            // local.assert = require('assert');
            local.buffer = require('buffer');
            local.child_process = require('child_process');
            local.cluster = require('cluster');
            local.console = require('console');
            local.constants = require('constants');
            local.crypto = require('crypto');
            local.dgram = require('dgram');
            local.dns = require('dns');
            local.domain = require('domain');
            local.events = require('events');
            local.fs = require('fs');
            local.http = require('http');
            local.https = require('https');
            local.module = require('module');
            local.net = require('net');
            local.os = require('os');
            local.path = require('path');
            local.process = require('process');
            local.punycode = require('punycode');
            local.querystring = require('querystring');
            local.readline = require('readline');
            local.repl = require('repl');
            local.stream = require('stream');
            local.string_decoder = require('string_decoder');
            local.timers = require('timers');
            local.tls = require('tls');
            local.tty = require('tty');
            local.url = require('url');
            local.util = require('util');
            local.v8 = require('v8');
            local.vm = require('vm');
            local.zlib = require('zlib');
/* validateLineSortedReset */
            module.exports = local;
            module.exports.__dirname = __dirname;
        }
        // init lib
        local.local = local.istanbul = local;
        // init custom
        if (local.modeJs === 'node') {
            local._istanbul_module = require('module');
            local.process = process;
            local.require = require;
        }
    }());



    // run shared js-env code - function-before
    /* istanbul ignore next */
    (function () {
        local.cliRun = function (fnc) {
        /*
         * this function will run the cli
         */
            var nop;
            nop = function () {
            /*
             * this function will do nothing
             */
                return;
            };
            local.cliDict._eval = local.cliDict._eval || function () {
            /*
             * code
             * eval code
             */
                local.global.local = local;
                require('vm').runInThisContext(process.argv[3]);
            };
            local.cliDict['--eval'] = local.cliDict['--eval'] || local.cliDict._eval;
            local.cliDict['-e'] = local.cliDict['-e'] || local.cliDict._eval;
            local.cliDict._help = local.cliDict._help || function () {
            /*
             * [none]
             * print help
             */
                var element, result, lengthList, sortDict;
                console.log(require(__dirname + '/package.json').name + ' v' +
                    require(__dirname + '/package.json').version);
                sortDict = {};
                result = [['[command]', '[args]', '[description]', -1]];
                lengthList = [result[0][0].length, result[0][1].length];
                Object.keys(local.cliDict).sort().forEach(function (key, ii) {
                    if (key[0] === '_' && key !== '_default') {
                        return;
                    }
                    sortDict[local.cliDict[key].toString()] =
                        sortDict[local.cliDict[key].toString()] || (ii + 1);
                    element = (/\n +\*(.*)\n +\*(.*)/).exec(local.cliDict[key].toString());
                    // coverage-hack - ignore else-statement
                    nop(local.global.__coverage__ && (function () {
                        element = element || ['', '', ''];
                    }()));
                    element = [
                        key.replace('_default', '[none]') + ' ',
                        element[1].trim() + ' ',
                        element[2].trim(),
                        (sortDict[local.cliDict[key].toString()] << 8) + ii
                    ];
                    result.push(element);
                    lengthList.forEach(function (length, jj) {
                        lengthList[jj] = Math.max(element[jj].length, length);
                    });
                });
                result.sort(function (aa, bb) {
                    return aa[3] < bb[3]
                        ? -1
                        : 1;
                });
                console.log('usage:   ' + __filename + ' [command] [args]');
                console.log('example: ' + __filename + ' --eval    ' +
                    '"console.log(\'hello world\')"\n');
                result.forEach(function (element, ii) {
                    lengthList.forEach(function (length, jj) {
                        while (element[jj].length < length) {
                            element[jj] += '-';
                        }
                    });
                    element = element.slice(0, 3).join('---- ');
                    if (!ii) {
                        element = element.replace((/-/g), ' ');
                    }
                    console.log(element);
                });
            };
            local.cliDict['--help'] = local.cliDict['--help'] || local.cliDict._help;
            local.cliDict['-h'] = local.cliDict['-h'] || local.cliDict._help;
            local.cliDict._default = local.cliDict._default || local.cliDict._help;
            local.cliDict.help = local.cliDict.help || local.cliDict._help;
            local.cliDict._interactive = local.cliDict._interactive || function () {
            /*
             * [none]
             * start interactive-mode
             */
                local.global.local = local;
                local.replStart();
            };
            if (local.replStart) {
                local.cliDict['--interactive'] = local.cliDict['--interactive'] ||
                    local.cliDict._interactive;
                local.cliDict['-i'] = local.cliDict['-i'] || local.cliDict._interactive;
            }
            local.cliDict._version = local.cliDict._version || function () {
            /*
             * [none]
             * print version
             */
                console.log(require(__dirname + '/package.json').version);
            };
            local.cliDict['--version'] = local.cliDict['--version'] || local.cliDict._version;
            local.cliDict['-v'] = local.cliDict['-v'] || local.cliDict._version;
            // run fnc()
            fnc = fnc || function () {
                if (local.cliDict[process.argv[2]]) {
                    local.cliDict[process.argv[2]]();
                    return;
                }
                local.cliDict._default();
            };
            fnc();
        };

        local.fsWriteFileWithMkdirpSync = function (file, data) {
        /*
         * this function will synchronously 'mkdir -p' and write the data to file
         */
            // try to write to file
            try {
                require('fs').writeFileSync(file, data);
            } catch (errorCaught) {
                // mkdir -p
                require('child_process').spawnSync(
                    'mkdir',
                    ['-p', require('path').dirname(file)],
                    { stdio: ['ignore', 1, 2] }
                );
                // re-write to file
                require('fs').writeFileSync(file, data);
            }
        };

        local.nop = function () {
        /*
         * this function will do nothing
         */
            return;
        };
    }());



    // run shared js-env code - function
    (function () {
        var __dirname, process, require;
        // jslint-hack
        local.nop(__dirname, require);
        /* istanbul ignore next */
        local.global.__coverageCodeDict__ = local.global.__coverageCodeDict__ || {};
        // mock builtins
        __dirname = '';
        process = local.process || {
            cwd: function () {
                return '';
            },
            env: {},
            stdout: {}
        };
        require = function (key) {
            try {
                return local['_istanbul_' + key] || local[key] || local.require(key);
            } catch (ignore) {
            }
        };
        local['./package.json'] = {};
        // mock module fs
        local._istanbul_fs = {};
        local._istanbul_fs.readFileSync = function (file) {
            // return head.txt or foot.txt
            file = local[file.slice(-8)];
            if (local.modeJs === 'browser') {
                file = file
                    .replace('<!doctype html>\n', '')
                    .replace((/(<\/?)(?:body|html)/g), '$1div');
            }
            if (local.modeJs === 'node' && process.env.npm_package_homepage) {
                file = file
                    .replace('{{env.npm_package_homepage}}', process.env.npm_package_homepage)
                    .replace('{{env.npm_package_name}}', process.env.npm_package_name)
                    .replace('{{env.npm_package_version}}', process.env.npm_package_version);
            } else {
                file = file.replace((/<h1 [\S\s]*<\/h1>/), '');
            }
            return file;
        };
        local._istanbul_fs.readdirSync = function () {
            return [];
        };
        // mock module path
        local._istanbul_path = local.path || {
            dirname: function (file) {
                return file.replace((/\/[\w\-\.]+?$/), '');
            },
            resolve: function () {
                return arguments[arguments.length - 1];
            }
        };

        local.coverageMerge = function (coverage1, coverage2) {
        /*
         * this function will merge coverage2 into coverage1
         */
            var dict1, dict2;
            coverage1 = coverage1 || {};
            coverage2 = coverage2 || {};
            Object.keys(coverage2).forEach(function (file) {
                if (!coverage2[file]) {
                    return;
                }
                // if file is undefined in coverage1, then add it
                if (!coverage1[file]) {
                    coverage1[file] = coverage2[file];
                    return;
                }
                // merge file from coverage2 into coverage1
                ['b', 'f', 's'].forEach(function (key) {
                    dict1 = coverage1[file][key];
                    dict2 = coverage2[file][key];
                    switch (key) {
                    // increment coverage for branch lines
                    case 'b':
                        Object.keys(dict2).forEach(function (key) {
                            dict2[key].forEach(function (count, ii) {
                                dict1[key][ii] += count;
                            });
                        });
                        break;
                    // increment coverage for function and statement lines
                    case 'f':
                    case 's':
                        Object.keys(dict2).forEach(function (key) {
                            dict1[key] += dict2[key];
                        });
                        break;
                    }
                });
            });
            return coverage1;
        };

        local.coverageReportCreate = function () {
        /*
         * this function will
         * 1. print coverage in text-format to stdout
         * 2. write coverage in html-format to filesystem
         * 3. return coverage in html-format as single document
         */
            var options;
            /* istanbul ignore next */
            if (!local.global.__coverage__) {
                return '';
            }
            options = {};
            options.dir = process.cwd() + '/tmp/build/coverage.html';
            // merge previous coverage
            if (local.modeJs === 'node' && process.env.npm_config_mode_coverage_merge) {
                console.log('merging file ' + options.dir + '/coverage.json to coverage');
                try {
                    local.coverageMerge(local.global.__coverage__, JSON.parse(
                        local.fs.readFileSync(options.dir + '/coverage.json', 'utf8')
                    ));
                } catch (ignore) {
                }
                try {
                    options.coverageCodeDict = JSON.parse(local.fs.readFileSync(
                        options.dir + '/coverage.code-dict.json',
                        'utf8'
                    ));
                    Object.keys(options.coverageCodeDict).forEach(function (key) {
                        local.global.__coverageCodeDict__[key] =
                            local.global.__coverageCodeDict__[key] ||
                            options.coverageCodeDict[key];
                    });
                } catch (ignore) {
                }
            }
            // init writer
            local.coverageReportHtml = '';
            local.coverageReportHtml += '<div class="coverageReportDiv">\n' +
                '<h1>coverage-report</h1>\n' +
                '<div style="background: #fff; border: 1px solid #000; margin 0; padding: 0;">\n';
            local.writerData = '';
            options.sourceStore = {};
            options.writer = local.writer;
            // 1. print coverage in text-format to stdout
            new local.TextReport(options).writeReport(local.collector);
            // 2. write coverage in html-format to filesystem
            new local.HtmlReport(options).writeReport(local.collector);
            local.writer.writeFile('', local.nop);
            if (local.modeJs === 'node') {
                // write coverage.json
                local.fsWriteFileWithMkdirpSync(
                    options.dir + '/coverage.json',
                    JSON.stringify(local.global.__coverage__)
                );
                // write coverage.code-dict.json
                local.fsWriteFileWithMkdirpSync(
                    options.dir + '/coverage.code-dict.json',
                    JSON.stringify(local.global.__coverageCodeDict__)
                );
                // write coverage.badge.svg
                options.pct = local.coverageReportSummary.root.metrics.lines.pct;
                local.fsWriteFileWithMkdirpSync(
                    local._istanbul_path.dirname(options.dir) + '/coverage.badge.svg',
                    local.templateCoverageBadgeSvg
                        // edit coverage badge percent
                        .replace((/100.0/g), options.pct)
                        // edit coverage badge color
                        .replace(
                            (/0d0/g),
                            ('0' + Math.round((100 - options.pct) * 2.21).toString(16)).slice(-2) +
                                ('0' + Math.round(options.pct * 2.21).toString(16)).slice(-2) + '00'
                        )
                );
            }
            console.log('created coverage file ' + options.dir + '/index.html');
            // 3. return coverage in html-format as a single document
            local.coverageReportHtml += '</div>\n</div>\n';
            // write coverage.rollup.html
            if (local.modeJs === 'node') {
                local.fsWriteFileWithMkdirpSync(
                    options.dir + '/coverage.rollup.html',
                    local.coverageReportHtml
                );
            }
            return local.coverageReportHtml;
        };

        /* istanbul ignore next */
        local.instrumentInPackage = function (code, file) {
        /*
         * this function will instrument the code
         * only if the macro /\* istanbul instrument in package $npm_package_nameLib *\/
         * exists in the code
         */
            return process.env.npm_config_mode_coverage &&
                code.indexOf('/* istanbul ignore all */\n') < 0 && (
                    process.env.npm_config_mode_coverage === 'all' ||
                    code.indexOf('/* istanbul instrument in package ' +
                            process.env.npm_package_nameLib + ' */\n') >= 0 ||
                    code.indexOf('/* istanbul instrument in package ' +
                            process.env.npm_config_mode_coverage + ' */\n') >= 0
                )
                ? local.instrumentSync(code, file)
                : code;
        };

        local.instrumentSync = function (code, file) {
        /*
         * this function will
         * 1. normalize the file
         * 2. save code to __coverageCodeDict__[file] for future html-report
         * 3. return instrumented code
         */
            // 1. normalize the file
            file = local._istanbul_path.resolve('/', file);
            // 2. save code to __coverageCodeDict__[file] for future html-report
            local.global.__coverageCodeDict__[file] = code;
            // 3. return instrumented code
            return new local.Instrumenter({
                embedSource: true,
                noAutoWrap: true
            }).instrumentSync(code, file).trimLeft();
        };
        local.util = { inherits: local.nop };



// init lib esprima
/* istanbul ignore next */
/* jslint-ignore-begin */
// 2016-08-24T04:32:49Z
// https://github.com/jquery/esprima/blob/2.7.3/esprima.js
// utility2-uglifyjs https://raw.githubusercontent.com/jquery/esprima/2.7.3/esprima.js
(function () { var exports; exports = local.esprima = {};
(function(e,t){"use strict";typeof define=="function"&&define.amd?define(["exports"
],t):typeof exports!="undefined"?t(exports):t(e.esprima={})})(this,function(e){"use strict"
;function L(e,t){if(!e)throw new Error("ASSERT: "+t)}function A(e){return e>=48&&
e<=57}function O(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function M(e){return"01234567"
.indexOf(e)>=0}function _(e){var t=e!=="0",n="01234567".indexOf(e);return l<E&&M
(a[l])&&(t=!0,n=n*8+"01234567".indexOf(a[l++]),"0123".indexOf(e)>=0&&l<E&&M(a[l]
)&&(n=n*8+"01234567".indexOf(a[l++]))),{code:n,octal:t}}function D(e){return e===32||
e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197
,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function P(e){return e===10||
e===13||e===8232||e===8233}function H(e){return e<65536?String.fromCharCode(e):String
.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))}function B
(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&u.NonAsciiIdentifierStart
.test(H(e))}function j(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&
e<=57||e===92||e>=128&&u.NonAsciiIdentifierPart.test(H(e))}function F(e){switch(
e){case"enum":case"export":case"import":case"super":return!0;default:return!1}}function I
(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected"
:case"public":case"static":case"yield":case"let":return!0;default:return!1}}function q
(e){return e==="eval"||e==="arguments"}function R(e){switch(e.length){case 2:return e==="if"||
e==="in"||e==="do";case 3:return e==="var"||e==="for"||e==="new"||e==="try"||e==="let"
;case 4:return e==="this"||e==="else"||e==="case"||e==="void"||e==="with"||e==="enum"
;case 5:return e==="while"||e==="break"||e==="catch"||e==="throw"||e==="const"||
e==="yield"||e==="class"||e==="super";case 6:return e==="return"||e==="typeof"||
e==="delete"||e==="switch"||e==="export"||e==="import";case 7:return e==="default"||
e==="finally"||e==="extends";case 8:return e==="function"||e==="continue"||e==="debugger"
;case 10:return e==="instanceof";default:return!1}}function U(e,t,n,r,i){var s;L
(typeof n=="number","Comment must have valid position"),x.lastCommentStart=n,s={
type:e,value:t},T.range&&(s.range=[n,r]),T.loc&&(s.loc=i),T.comments.push(s),T.attachComment&&
(T.leadingComments.push(s),T.trailingComments.push(s)),T.tokenize&&(s.type=s.type+"Comment"
,T.delegate&&(s=T.delegate(s)),T.tokens.push(s))}function z(e){var t,n,r,i;t=l-e
,n={start:{line:c,column:l-h-e}};while(l<E){r=a.charCodeAt(l),++l;if(P(r)){p=!0,
T.comments&&(i=a.slice(t+e,l-1),n.end={line:c,column:l-h-1},U("Line",i,t,l-1,n))
,r===13&&a.charCodeAt(l)===10&&++l,++c,h=l;return}}T.comments&&(i=a.slice(t+e,l)
,n.end={line:c,column:l-h},U("Line",i,t,l,n))}function W(){var e,t,n,r;T.comments&&
(e=l-2,t={start:{line:c,column:l-h-2}});while(l<E){n=a.charCodeAt(l);if(P(n))n===13&&
a.charCodeAt(l+1)===10&&++l,p=!0,++c,++l,h=l;else if(n===42){if(a.charCodeAt(l+1
)===47){++l,++l,T.comments&&(r=a.slice(e+2,l-2),t.end={line:c,column:l-h},U("Block"
,r,e,l,t));return}++l}else++l}T.comments&&(t.end={line:c,column:l-h},r=a.slice(e+2
,l),U("Block",r,e,l,t)),At()}function X(){var e,t;p=!1,t=l===0;while(l<E){e=a.charCodeAt
(l);if(D(e))++l;else if(P(e))p=!0,++l,e===13&&a.charCodeAt(l)===10&&++l,++c,h=l,
t=!0;else if(e===47){e=a.charCodeAt(l+1);if(e===47)++l,++l,z(2),t=!0;else{if(e!==42
)break;++l,++l,W()}}else if(t&&e===45){if(a.charCodeAt(l+1)!==45||a.charCodeAt(l+2
)!==62)break;l+=3,z(3)}else{if(e!==60)break;if(a.slice(l+1,l+4)!=="!--")break;++
l,++l,++l,++l,z(4)}}}function V(e){var t,n,r,i=0;n=e==="u"?4:2;for(t=0;t<n;++t){
if(!(l<E&&O(a[l])))return"";r=a[l++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase
())}return String.fromCharCode(i)}function $(){var e,t;e=a[l],t=0,e==="}"&&Lt();
while(l<E){e=a[l++];if(!O(e))break;t=t*16+"0123456789abcdef".indexOf(e.toLowerCase
())}return(t>1114111||e!=="}")&&Lt(),H(t)}function J(e){var t,n,r;return t=a.charCodeAt
(e),t>=55296&&t<=56319&&(r=a.charCodeAt(e+1),r>=56320&&r<=57343&&(n=t,t=(n-55296
)*1024+r-56320+65536)),t}function K(){var e,t,n;e=J(l),n=H(e),l+=n.length,e===92&&
(a.charCodeAt(l)!==117&&Lt(),++l,a[l]==="{"?(++l,t=$()):(t=V("u"),e=t.charCodeAt
(0),(!t||t==="\\"||!B(e))&&Lt()),n=t);while(l<E){e=J(l);if(!j(e))break;t=H(e),n+=
t,l+=t.length,e===92&&(n=n.substr(0,n.length-1),a.charCodeAt(l)!==117&&Lt(),++l,
a[l]==="{"?(++l,t=$()):(t=V("u"),e=t.charCodeAt(0),(!t||t==="\\"||!j(e))&&Lt()),
n+=t)}return n}function Q(){var e,t;e=l++;while(l<E){t=a.charCodeAt(l);if(t===92
)return l=e,K();if(t>=55296&&t<57343)return l=e,K();if(!j(t))break;++l}return a.
slice(e,l)}function G(){var e,n,r;return e=l,n=a.charCodeAt(l)===92?K():Q(),n.length===1?
r=t.Identifier:R(n)?r=t.Keyword:n==="null"?r=t.NullLiteral:n==="true"||n==="false"?
r=t.BooleanLiteral:r=t.Identifier,{type:r,value:n,lineNumber:c,lineStart:h,start
:e,end:l}}function Y(){var e,n;e={type:t.Punctuator,value:"",lineNumber:c,lineStart
:h,start:l,end:l},n=a[l];switch(n){case"(":T.tokenize&&(T.openParenToken=T.tokenValues
.length),++l;break;case"{":T.tokenize&&(T.openCurlyToken=T.tokenValues.length),x
.curlyStack.push("{"),++l;break;case".":++l,a[l]==="."&&a[l+1]==="."&&(l+=2,n="..."
);break;case"}":++l,x.curlyStack.pop();break;case")":case";":case",":case"[":case"]"
:case":":case"?":case"~":++l;break;default:n=a.substr(l,4),n===">>>="?l+=4:(n=n.
substr(0,3),n==="==="||n==="!=="||n===">>>"||n==="<<="||n===">>="?l+=3:(n=n.substr
(0,2),n==="&&"||n==="||"||n==="=="||n==="!="||n==="+="||n==="-="||n==="*="||n==="/="||
n==="++"||n==="--"||n==="<<"||n===">>"||n==="&="||n==="|="||n==="^="||n==="%="||
n==="<="||n===">="||n==="=>"?l+=2:(n=a[l],"<>=!+-*%&|^/".indexOf(n)>=0&&++l)))}return l===
e.start&&Lt(),e.end=l,e.value=n,e}function Z(e){var n="";while(l<E){if(!O(a[l]))
break;n+=a[l++]}return n.length===0&&Lt(),B(a.charCodeAt(l))&&Lt(),{type:t.NumericLiteral
,value:parseInt("0x"+n,16),lineNumber:c,lineStart:h,start:e,end:l}}function et(e
){var n,r;r="";while(l<E){n=a[l];if(n!=="0"&&n!=="1")break;r+=a[l++]}return r.length===0&&
Lt(),l<E&&(n=a.charCodeAt(l),(B(n)||A(n))&&Lt()),{type:t.NumericLiteral,value:parseInt
(r,2),lineNumber:c,lineStart:h,start:e,end:l}}function tt(e,n){var r,i;M(e)?(i=!0
,r="0"+a[l++]):(i=!1,++l,r="");while(l<E){if(!M(a[l]))break;r+=a[l++]}return!i&&
r.length===0&&Lt(),(B(a.charCodeAt(l))||A(a.charCodeAt(l)))&&Lt(),{type:t.NumericLiteral
,value:parseInt(r,8),octal:i,lineNumber:c,lineStart:h,start:n,end:l}}function nt
(){var e,t;for(e=l+1;e<E;++e){t=a[e];if(t==="8"||t==="9")return!1;if(!M(t))return!0
}return!0}function rt(){var e,n,r;r=a[l],L(A(r.charCodeAt(0))||r===".","Numeric literal must start with a decimal digit or a decimal point"
),n=l,e="";if(r!=="."){e=a[l++],r=a[l];if(e==="0"){if(r==="x"||r==="X")return++l
,Z(n);if(r==="b"||r==="B")return++l,et(n);if(r==="o"||r==="O")return tt(r,n);if(
M(r)&&nt())return tt(r,n)}while(A(a.charCodeAt(l)))e+=a[l++];r=a[l]}if(r==="."){
e+=a[l++];while(A(a.charCodeAt(l)))e+=a[l++];r=a[l]}if(r==="e"||r==="E"){e+=a[l++
],r=a[l];if(r==="+"||r==="-")e+=a[l++];if(A(a.charCodeAt(l)))while(A(a.charCodeAt
(l)))e+=a[l++];else Lt()}return B(a.charCodeAt(l))&&Lt(),{type:t.NumericLiteral,
value:parseFloat(e),lineNumber:c,lineStart:h,start:n,end:l}}function it(){var e=""
,n,r,i,s,o,u=!1;n=a[l],L(n==="'"||n==='"',"String literal must starts with a quote"
),r=l,++l;while(l<E){i=a[l++];if(i===n){n="";break}if(i==="\\"){i=a[l++];if(!i||!
P(i.charCodeAt(0)))switch(i){case"u":case"x":if(a[l]==="{")++l,e+=$();else{s=V(i
);if(!s)throw Lt();e+=s}break;case"n":e+="\n";break;case"r":e+="\r";break;case"t"
:e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="";break;case"8"
:case"9":e+=i,At();break;default:M(i)?(o=_(i),u=o.octal||u,e+=String.fromCharCode
(o.code)):e+=i}else++c,i==="\r"&&a[l]==="\n"&&++l,h=l}else{if(P(i.charCodeAt(0))
)break;e+=i}}return n!==""&&(l=r,Lt()),{type:t.StringLiteral,value:e,octal:u,lineNumber
:y,lineStart:b,start:r,end:l}}function st(){var e="",n,r,i,s,u,f,p,d;s=!1,f=!1,r=
l,u=a[l]==="`",i=2,++l;while(l<E){n=a[l++];if(n==="`"){i=1,f=!0,s=!0;break}if(n==="$"
){if(a[l]==="{"){x.curlyStack.push("${"),++l,s=!0;break}e+=n}else if(n==="\\"){n=
a[l++];if(!P(n.charCodeAt(0)))switch(n){case"n":e+="\n";break;case"r":e+="\r";break;
case"t":e+="\t";break;case"u":case"x":a[l]==="{"?(++l,e+=$()):(p=l,d=V(n),d?e+=d:
(l=p,e+=n));break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="";break;
default:n==="0"?(A(a.charCodeAt(l))&&Nt(o.TemplateOctalLiteral),e+="\0"):M(n)?Nt
(o.TemplateOctalLiteral):e+=n}else++c,n==="\r"&&a[l]==="\n"&&++l,h=l}else P(n.charCodeAt
(0))?(++c,n==="\r"&&a[l]==="\n"&&++l,h=l,e+="\n"):e+=n}return s||Lt(),u||x.curlyStack
.pop(),{type:t.Template,value:{cooked:e,raw:a.slice(r+1,l-i)},head:u,tail:f,lineNumber
:c,lineStart:h,start:r,end:l}}function ot(e,t){var n="\uffff",r=e;t.indexOf("u")>=0&&
(r=r.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(e,t,r){var i=
parseInt(t||r,16);return i>1114111&&Lt(null,o.InvalidRegExp),i<=65535?String.fromCharCode
(i):n}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n));try{RegExp(r)}catch(i){Lt(
null,o.InvalidRegExp)}try{return new RegExp(e,t)}catch(s){return null}}function ut
(){var e,t,n,r,i;e=a[l],L(e==="/","Regular expression literal must start with a slash"
),t=a[l++],n=!1,r=!1;while(l<E){e=a[l++],t+=e;if(e==="\\")e=a[l++],P(e.charCodeAt
(0))&&Lt(null,o.UnterminatedRegExp),t+=e;else if(P(e.charCodeAt(0)))Lt(null,o.UnterminatedRegExp
);else if(n)e==="]"&&(n=!1);else{if(e==="/"){r=!0;break}e==="["&&(n=!0)}}return r||
Lt(null,o.UnterminatedRegExp),i=t.substr(1,t.length-2),{value:i,literal:t}}function at
(){var e,t,n,r;t="",n="";while(l<E){e=a[l];if(!j(e.charCodeAt(0)))break;++l;if(e==="\\"&&
l<E){e=a[l];if(e==="u"){++l,r=l,e=V("u");if(e){n+=e;for(t+="\\u";r<l;++r)t+=a[r]
}else l=r,n+="u",t+="\\u";At()}else t+="\\",At()}else n+=e,t+=e}return{value:n,literal
:t}}function ft(){var e,n,r,i;return w=!0,S=null,X(),e=l,n=ut(),r=at(),i=ot(n.value
,r.value),w=!1,T.tokenize?{type:t.RegularExpression,value:i,regex:{pattern:n.value
,flags:r.value},lineNumber:c,lineStart:h,start:e,end:l}:{literal:n.literal+r.literal
,value:i,regex:{pattern:n.value,flags:r.value},start:e,end:l}}function lt(){var e
,t,n,r;return X(),e=l,t={start:{line:c,column:l-h}},n=ft(),t.end={line:c,column:
l-h},T.tokenize||(T.tokens.length>0&&(r=T.tokens[T.tokens.length-1],r.range[0]===
e&&r.type==="Punctuator"&&(r.value==="/"||r.value==="/=")&&T.tokens.pop()),T.tokens
.push({type:"RegularExpression",value:n.literal,regex:n.regex,range:[e,l],loc:t}
)),n}function ct(e){return e.type===t.Identifier||e.type===t.Keyword||e.type===t
.BooleanLiteral||e.type===t.NullLiteral}function ht(){function i(e){return e&&e.
length>1&&e[0]>="a"&&e[0]<="z"}var e,t,n;t=T.tokenValues[T.tokenValues.length-1]
,e=t!==null;switch(t){case"this":case"]":e=!1;break;case")":n=T.tokenValues[T.openParenToken-1
],e=n==="if"||n==="while"||n==="for"||n==="with";break;case"}":e=!1,i(T.tokenValues
[T.openCurlyToken-3])?(n=T.tokenValues[T.openCurlyToken-4],e=n?r.indexOf(n)<0:!1
):i(T.tokenValues[T.openCurlyToken-4])&&(n=T.tokenValues[T.openCurlyToken-5],e=n?
r.indexOf(n)<0:!0)}return e?lt():Y()}function pt(){var e,n;if(l>=E)return{type:t
.EOF,lineNumber:c,lineStart:h,start:l,end:l};e=a.charCodeAt(l);if(B(e))return n=
G(),f&&I(n.value)&&(n.type=t.Keyword),n;if(e===40||e===41||e===59)return Y();if(
e===39||e===34)return it();if(e===46)return A(a.charCodeAt(l+1))?rt():Y();if(A(e
))return rt();if(T.tokenize&&e===47)return ht();if(e===96||e===125&&x.curlyStack
[x.curlyStack.length-1]==="${")return st();if(e>=55296&&e<57343){e=J(l);if(B(e))
return G()}return Y()}function dt(){var e,r,i,s;return e={start:{line:c,column:l-
h}},r=pt(),e.end={line:c,column:l-h},r.type!==t.EOF&&(i=a.slice(r.start,r.end),s=
{type:n[r.type],value:i,range:[r.start,r.end],loc:e},r.regex&&(s.regex={pattern:
r.regex.pattern,flags:r.regex.flags}),T.tokenValues&&T.tokenValues.push(s.type==="Punctuator"||
s.type==="Keyword"?s.value:null),T.tokenize&&(T.range||delete s.range,T.loc||delete
s.loc,T.delegate&&(s=T.delegate(s))),T.tokens.push(s)),r}function vt(){var e;return w=!0
,d=l,v=c,m=h,X(),e=S,g=l,y=c,b=h,S=typeof T.tokens!="undefined"?dt():pt(),w=!1,e
}function mt(){w=!0,X(),d=l,v=c,m=h,g=l,y=c,b=h,S=typeof T.tokens!="undefined"?dt
():pt(),w=!1}function gt(){this.line=y,this.column=g-b}function yt(){this.start=new
gt,this.end=null}function bt(e){this.start={line:e.lineNumber,column:e.start-e.lineStart
},this.end=null}function wt(){T.range&&(this.range=[g,0]),T.loc&&(this.loc=new yt
)}function Et(e){T.range&&(this.range=[e.start,0]),T.loc&&(this.loc=new bt(e))}function St
(e){var t,n;for(t=0;t<T.errors.length;t++){n=T.errors[t];if(n.index===e.index&&n
.message===e.message)return}T.errors.push(e)}function xt(e,t){var n=new Error(e)
;try{throw n}catch(r){Object.create&&Object.defineProperty&&(n=Object.create(r),
Object.defineProperty(n,"column",{value:t}))}finally{return n}}function Tt(e,t,n
){var r,i,s;return r="Line "+e+": "+n,i=t-(w?h:m)+1,s=xt(r,i),s.lineNumber=e,s.description=
n,s.index=t,s}function Nt(e){var t,n;throw t=Array.prototype.slice.call(arguments
,1),n=e.replace(/%(\d)/g,function(e,n){return L(n<t.length,"Message reference must be in range"
),t[n]}),Tt(v,d,n)}function Ct(e){var t,n,r;t=Array.prototype.slice.call(arguments
,1),n=e.replace(/%(\d)/g,function(e,n){return L(n<t.length,"Message reference must be in range"
),t[n]}),r=Tt(c,d,n);if(!T.errors)throw r;St(r)}function kt(e,n){var r,i=n||o.UnexpectedToken
;return e?(n||(i=e.type===t.EOF?o.UnexpectedEOS:e.type===t.Identifier?o.UnexpectedIdentifier
:e.type===t.NumericLiteral?o.UnexpectedNumber:e.type===t.StringLiteral?o.UnexpectedString
:e.type===t.Template?o.UnexpectedTemplate:o.UnexpectedToken,e.type===t.Keyword&&
(F(e.value)?i=o.UnexpectedReserved:f&&I(e.value)&&(i=o.StrictReservedWord))),r=e
.type===t.Template?e.value.raw:e.value):r="ILLEGAL",i=i.replace("%0",r),e&&typeof
e.lineNumber=="number"?Tt(e.lineNumber,e.start,i):Tt(w?c:v,w?l:d,i)}function Lt(
e,t){throw kt(e,t)}function At(e,t){var n=kt(e,t);if(!T.errors)throw n;St(n)}function Ot
(e){var n=vt();(n.type!==t.Punctuator||n.value!==e)&&Lt(n)}function Mt(){var e;T
.errors?(e=S,e.type===t.Punctuator&&e.value===","?vt():e.type===t.Punctuator&&e.
value===";"?(vt(),At(e)):At(e,o.UnexpectedToken)):Ot(",")}function _t(e){var n=vt
();(n.type!==t.Keyword||n.value!==e)&&Lt(n)}function Dt(e){return S.type===t.Punctuator&&
S.value===e}function Pt(e){return S.type===t.Keyword&&S.value===e}function Ht(e)
{return S.type===t.Identifier&&S.value===e}function Bt(){var e;return S.type!==t
.Punctuator?!1:(e=S.value,e==="="||e==="*="||e==="/="||e==="%="||e==="+="||e==="-="||
e==="<<="||e===">>="||e===">>>="||e==="&="||e==="^="||e==="|=")}function jt(){if(
a.charCodeAt(g)===59||Dt(";")){vt();return}if(p)return;d=g,v=y,m=b,S.type!==t.EOF&&!
Dt("}")&&Lt(S)}function Ft(e){var t=N,n=C,r=k,i;return N=!0,C=!0,k=null,i=e(),k!==
null&&Lt(k),N=t,C=n,k=r,i}function It(e){var t=N,n=C,r=k,i;return N=!0,C=!0,k=null
,i=e(),N=N&&t,C=C&&n,k=r||k,i}function qt(e,t){var n=new wt,r=[],i,s;Ot("[");while(!
Dt("]"))if(Dt(","))vt(),r.push(null);else{if(Dt("...")){s=new wt,vt(),e.push(S),
i=kn(t),r.push(s.finishRestElement(i));break}r.push(Wt(e,t)),Dt("]")||Ot(",")}return Ot
("]"),n.finishArrayPattern(r)}function Rt(e,n){var r=new wt,i,s,o=Dt("["),u;if(S
.type===t.Identifier){s=S,i=kn();if(Dt("="))return e.push(s),vt(),u=Sn(),r.finishProperty
("init",i,!1,(new Et(s)).finishAssignmentPattern(i,u),!1,!0);if(!Dt(":"))return e
.push(s),r.finishProperty("init",i,!1,i,!1,!0)}else i=Jt();return Ot(":"),u=Wt(e
,n),r.finishProperty("init",i,o,u,!1,!1)}function Ut(e,t){var n=new wt,r=[];Ot("{"
);while(!Dt("}"))r.push(Rt(e,t)),Dt("}")||Ot(",");return vt(),n.finishObjectPattern
(r)}function zt(e,t){return Dt("[")?qt(e,t):Dt("{")?Ut(e,t):(Pt("let")&&(t==="const"||
t==="let")&&At(S,o.UnexpectedToken),e.push(S),kn(t))}function Wt(e,t){var n=S,r,
i,s;return r=zt(e,t),Dt("=")&&(vt(),i=x.allowYield,x.allowYield=!0,s=Ft(Sn),x.allowYield=
i,r=(new Et(n)).finishAssignmentPattern(r,s)),r}function Xt(){var e=[],t=new wt,
n;Ot("[");while(!Dt("]"))Dt(",")?(vt(),e.push(null)):Dt("...")?(n=new wt,vt(),n.
finishSpreadElement(It(Sn)),Dt("]")||(C=N=!1,Ot(",")),e.push(n)):(e.push(It(Sn))
,Dt("]")||Ot(","));return vt(),t.finishArrayExpression(e)}function Vt(e,t,n){var r
,i;return C=N=!1,r=f,i=Ft(tr),f&&t.firstRestricted&&At(t.firstRestricted,t.message
),f&&t.stricted&&At(t.stricted,t.message),f=r,e.finishFunctionExpression(null,t.
params,t.defaults,i,n)}function $t(){var e,t,n=new wt,r=x.allowYield;return x.allowYield=!1
,e=ir(),x.allowYield=r,x.allowYield=!1,t=Vt(n,e,!1),x.allowYield=r,t}function Jt
(){var e,n=new wt,r;e=vt();switch(e.type){case t.StringLiteral:case t.NumericLiteral
:return f&&e.octal&&At(e,o.StrictOctalLiteral),n.finishLiteral(e);case t.Identifier
:case t.BooleanLiteral:case t.NullLiteral:case t.Keyword:return n.finishIdentifier
(e.value);case t.Punctuator:if(e.value==="[")return r=Ft(Sn),Ot("]"),r}Lt(e)}function Kt
(){switch(S.type){case t.Identifier:case t.StringLiteral:case t.BooleanLiteral:case t
.NullLiteral:case t.NumericLiteral:case t.Keyword:return!0;case t.Punctuator:return S
.value==="["}return!1}function Qt(e,n,r,i){var s,o,u,a,f=x.allowYield;if(e.type===
t.Identifier){if(e.value==="get"&&Kt())return r=Dt("["),n=Jt(),u=new wt,Ot("("),
Ot(")"),x.allowYield=!1,s=Vt(u,{params:[],defaults:[],stricted:null,firstRestricted
:null,message:null},!1),x.allowYield=f,i.finishProperty("get",n,r,s,!1,!1);if(e.
value==="set"&&Kt())return r=Dt("["),n=Jt(),u=new wt,Ot("("),o={params:[],defaultCount
:0,defaults:[],firstRestricted:null,paramSet:{}},Dt(")")?At(S):(x.allowYield=!1,
rr(o),x.allowYield=f,o.defaultCount===0&&(o.defaults=[])),Ot(")"),x.allowYield=!1
,s=Vt(u,o,!1),x.allowYield=f,i.finishProperty("set",n,r,s,!1,!1)}else if(e.type===
t.Punctuator&&e.value==="*"&&Kt())return r=Dt("["),n=Jt(),u=new wt,x.allowYield=!0
,a=ir(),x.allowYield=f,x.allowYield=!1,s=Vt(u,a,!0),x.allowYield=f,i.finishProperty
("init",n,r,s,!0,!1);return n&&Dt("(")?(s=$t(),i.finishProperty("init",n,r,s,!0,!1
)):null}function Gt(e){var n=S,r=new wt,s,u,a,f,l;s=Dt("["),Dt("*")?vt():u=Jt(),
a=Qt(n,u,s,r);if(a)return a;u||Lt(S),s||(f=u.type===i.Identifier&&u.name==="__proto__"||
u.type===i.Literal&&u.value==="__proto__",e.value&&f&&Ct(o.DuplicateProtoProperty
),e.value|=f);if(Dt(":"))return vt(),l=It(Sn),r.finishProperty("init",u,s,l,!1,!1
);if(n.type===t.Identifier)return Dt("=")?(k=S,vt(),l=Ft(Sn),r.finishProperty("init"
,u,s,(new Et(n)).finishAssignmentPattern(u,l),!1,!0)):r.finishProperty("init",u,
s,u,!1,!0);Lt(S)}function Yt(){var e=[],t={value:!1},n=new wt;Ot("{");while(!Dt("}"
))e.push(Gt(t)),Dt("}")||Mt();return Ot("}"),n.finishObjectExpression(e)}function Zt
(e){var t;switch(e.type){case i.Identifier:case i.MemberExpression:case i.RestElement
:case i.AssignmentPattern:break;case i.SpreadElement:e.type=i.RestElement,Zt(e.argument
);break;case i.ArrayExpression:e.type=i.ArrayPattern;for(t=0;t<e.elements.length
;t++)e.elements[t]!==null&&Zt(e.elements[t]);break;case i.ObjectExpression:e.type=
i.ObjectPattern;for(t=0;t<e.properties.length;t++)Zt(e.properties[t].value);break;
case i.AssignmentExpression:e.type=i.AssignmentPattern,Zt(e.left);break;default:
}}function en(e){var n,r;return(S.type!==t.Template||e.head&&!S.head)&&Lt(),n=new
wt,r=vt(),n.finishTemplateElement({raw:r.value.raw,cooked:r.value.cooked},r.tail
)}function tn(){var e,t,n,r=new wt;e=en({head:!0}),t=[e],n=[];while(!e.tail)n.push
(xn()),e=en({head:!1}),t.push(e);return r.finishTemplateLiteral(t,n)}function nn
(){var e,t,n,r,o=[];Ot("(");if(Dt(")"))return vt(),Dt("=>")||Ot("=>"),{type:s.ArrowParameterPlaceHolder
,params:[],rawParams:[]};n=S;if(Dt("..."))return e=jn(o),Ot(")"),Dt("=>")||Ot("=>"
),{type:s.ArrowParameterPlaceHolder,params:[e]};N=!0,e=It(Sn);if(Dt(",")){C=!1,t=
[e];while(g<E){if(!Dt(","))break;vt();if(Dt("...")){N||Lt(S),t.push(jn(o)),Ot(")"
),Dt("=>")||Ot("=>"),N=!1;for(r=0;r<t.length;r++)Zt(t[r]);return{type:s.ArrowParameterPlaceHolder
,params:t}}t.push(It(Sn))}e=(new Et(n)).finishSequenceExpression(t)}Ot(")");if(Dt
("=>")){if(e.type===i.Identifier&&e.name==="yield")return{type:s.ArrowParameterPlaceHolder
,params:[e]};N||Lt(S);if(e.type===i.SequenceExpression)for(r=0;r<e.expressions.length
;r++)Zt(e.expressions[r]);else Zt(e);e={type:s.ArrowParameterPlaceHolder,params:
e.type===i.SequenceExpression?e.expressions:[e]}}return N=!1,e}function rn(){var e
,n,r,i;if(Dt("("))return N=!1,It(nn);if(Dt("["))return It(Xt);if(Dt("{"))return It
(Yt);e=S.type,i=new wt;if(e===t.Identifier)x.sourceType==="module"&&S.value==="await"&&
At(S),r=i.finishIdentifier(vt().value);else if(e===t.StringLiteral||e===t.NumericLiteral
)C=N=!1,f&&S.octal&&At(S,o.StrictOctalLiteral),r=i.finishLiteral(vt());else if(e===
t.Keyword){if(!f&&x.allowYield&&Pt("yield"))return on();if(!f&&Pt("let"))return i
.finishIdentifier(vt().value);C=N=!1;if(Pt("function"))return or();if(Pt("this")
)return vt(),i.finishThisExpression();if(Pt("class"))return fr();Lt(vt())}else e===
t.BooleanLiteral?(C=N=!1,n=vt(),n.value=n.value==="true",r=i.finishLiteral(n)):e===
t.NullLiteral?(C=N=!1,n=vt(),n.value=null,r=i.finishLiteral(n)):Dt("/")||Dt("/="
)?(C=N=!1,l=g,typeof T.tokens!="undefined"?n=lt():n=ft(),vt(),r=i.finishLiteral(
n)):e===t.Template?r=tn():Lt(vt());return r}function sn(){var e=[],t;Ot("(");if(!
Dt(")"))while(g<E){Dt("...")?(t=new wt,vt(),t.finishSpreadElement(Ft(Sn))):t=Ft(
Sn),e.push(t);if(Dt(")"))break;Mt()}return Ot(")"),e}function on(){var e,t=new wt
;return e=vt(),ct(e)||Lt(e),t.finishIdentifier(e.value)}function un(){return Ot("."
),on()}function an(){var e;return Ot("["),e=Ft(xn),Ot("]"),e}function fn(){var e
,n,r=new wt;_t("new");if(Dt(".")){vt();if(S.type===t.Identifier&&S.value==="target"&&
x.inFunctionBody)return vt(),r.finishMetaProperty("new","target");Lt(S)}return e=
Ft(cn),n=Dt("(")?sn():[],C=N=!1,r.finishNewExpression(e,n)}function ln(){var e,n
,r,i,s,o=x.allowIn;s=S,x.allowIn=!0,Pt("super")&&x.inFunctionBody?(n=new wt,vt()
,n=n.finishSuper(),!Dt("(")&&!Dt(".")&&!Dt("[")&&Lt(S)):n=It(Pt("new")?fn:rn);for(
;;)if(Dt("."))N=!1,C=!0,i=un(),n=(new Et(s)).finishMemberExpression(".",n,i);else if(
Dt("("))N=!1,C=!1,r=sn(),n=(new Et(s)).finishCallExpression(n,r);else if(Dt("[")
)N=!1,C=!0,i=an(),n=(new Et(s)).finishMemberExpression("[",n,i);else{if(S.type!==
t.Template||!S.head)break;e=tn(),n=(new Et(s)).finishTaggedTemplateExpression(n,
e)}return x.allowIn=o,n}function cn(){var e,n,r,i;L(x.allowIn,"callee of new expression always allow in keyword."
),i=S,Pt("super")&&x.inFunctionBody?(n=new wt,vt(),n=n.finishSuper(),!Dt("[")&&!
Dt(".")&&Lt(S)):n=It(Pt("new")?fn:rn);for(;;)if(Dt("["))N=!1,C=!0,r=an(),n=(new
Et(i)).finishMemberExpression("[",n,r);else if(Dt("."))N=!1,C=!0,r=un(),n=(new Et
(i)).finishMemberExpression(".",n,r);else{if(S.type!==t.Template||!S.head)break;
e=tn(),n=(new Et(i)).finishTaggedTemplateExpression(n,e)}return n}function hn(){
var e,n,r=S;return e=It(ln),!p&&S.type===t.Punctuator&&(Dt("++")||Dt("--"))&&(f&&
e.type===i.Identifier&&q(e.name)&&Ct(o.StrictLHSPostfix),C||Ct(o.InvalidLHSInAssignment
),C=N=!1,n=vt(),e=(new Et(r)).finishPostfixExpression(n.value,e)),e}function pn(
){var e,n,r;return S.type!==t.Punctuator&&S.type!==t.Keyword?n=hn():Dt("++")||Dt
("--")?(r=S,e=vt(),n=It(pn),f&&n.type===i.Identifier&&q(n.name)&&Ct(o.StrictLHSPrefix
),C||Ct(o.InvalidLHSInAssignment),n=(new Et(r)).finishUnaryExpression(e.value,n)
,C=N=!1):Dt("+")||Dt("-")||Dt("~")||Dt("!")?(r=S,e=vt(),n=It(pn),n=(new Et(r)).finishUnaryExpression
(e.value,n),C=N=!1):Pt("delete")||Pt("void")||Pt("typeof")?(r=S,e=vt(),n=It(pn),
n=(new Et(r)).finishUnaryExpression(e.value,n),f&&n.operator==="delete"&&n.argument
.type===i.Identifier&&Ct(o.StrictDelete),C=N=!1):n=hn(),n}function dn(e,n){var r=0
;if(e.type!==t.Punctuator&&e.type!==t.Keyword)return 0;switch(e.value){case"||":
r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;
case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">="
:case"instanceof":r=7;break;case"in":r=n?7:0;break;case"<<":case">>":case">>>":r=8
;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11;break;default:}return r
}function vn(){var e,t,n,r,i,s,o,u,a,f;e=S,a=It(pn),r=S,i=dn(r,x.allowIn);if(i===0
)return a;C=N=!1,r.prec=i,vt(),t=[e,S],o=Ft(pn),s=[a,r,o];while((i=dn(S,x.allowIn
))>0){while(s.length>2&&i<=s[s.length-2].prec)o=s.pop(),u=s.pop().value,a=s.pop(
),t.pop(),n=(new Et(t[t.length-1])).finishBinaryExpression(u,a,o),s.push(n);r=vt
(),r.prec=i,s.push(r),t.push(S),n=Ft(pn),s.push(n)}f=s.length-1,n=s[f],t.pop();while(
f>1)n=(new Et(t.pop())).finishBinaryExpression(s[f-1].value,s[f-2],n),f-=2;return n
}function mn(){var e,t,n,r,i;return i=S,e=It(vn),Dt("?")&&(vt(),t=x.allowIn,x.allowIn=!0
,n=Ft(Sn),x.allowIn=t,Ot(":"),r=Ft(Sn),e=(new Et(i)).finishConditionalExpression
(e,n,r),C=N=!1),e}function gn(){return Dt("{")?tr():Ft(Sn)}function yn(e,t){var n
;switch(t.type){case i.Identifier:nr(e,t,t.name);break;case i.RestElement:yn(e,t
.argument);break;case i.AssignmentPattern:yn(e,t.left);break;case i.ArrayPattern
:for(n=0;n<t.elements.length;n++)t.elements[n]!==null&&yn(e,t.elements[n]);break;
case i.YieldExpression:break;default:L(t.type===i.ObjectPattern,"Invalid type");
for(n=0;n<t.properties.length;n++)yn(e,t.properties[n].value)}}function bn(e){var t
,n,r,u,a,l,c,h;a=[],l=0,u=[e];switch(e.type){case i.Identifier:break;case s.ArrowParameterPlaceHolder
:u=e.params;break;default:return null}c={paramSet:{}};for(t=0,n=u.length;t<n;t+=1
){r=u[t];switch(r.type){case i.AssignmentPattern:u[t]=r.left,r.right.type===i.YieldExpression&&
(r.right.argument&&Lt(S),r.right.type=i.Identifier,r.right.name="yield",delete r
.right.argument,delete r.right.delegate),a.push(r.right),++l,yn(c,r.left);break;
default:yn(c,r),u[t]=r,a.push(null)}}if(f||!x.allowYield)for(t=0,n=u.length;t<n;
t+=1)r=u[t],r.type===i.YieldExpression&&Lt(S);return c.message===o.StrictParamDupe&&
(h=f?c.stricted:c.firstRestricted,Lt(h,c.message)),l===0&&(a=[]),{params:u,defaults
:a,stricted:c.stricted,firstRestricted:c.firstRestricted,message:c.message}}function wn
(e,t){var n,r,s;return p&&At(S),Ot("=>"),n=f,r=x.allowYield,x.allowYield=!0,s=gn
(),f&&e.firstRestricted&&Lt(e.firstRestricted,e.message),f&&e.stricted&&At(e.stricted
,e.message),f=n,x.allowYield=r,t.finishArrowFunctionExpression(e.params,e.defaults
,s,s.type!==i.BlockStatement)}function En(){var e,n,r,i;return e=null,n=new wt,r=!1
,_t("yield"),p||(i=x.allowYield,x.allowYield=!1,r=Dt("*"),r?(vt(),e=Sn()):!Dt(";"
)&&!Dt("}")&&!Dt(")")&&S.type!==t.EOF&&(e=Sn()),x.allowYield=i),n.finishYieldExpression
(e,r)}function Sn(){var e,t,n,r,u;return u=S,e=S,!x.allowYield&&Pt("yield")?En()
:(t=mn(),t.type===s.ArrowParameterPlaceHolder||Dt("=>")?(C=N=!1,r=bn(t),r?(k=null
,wn(r,new Et(u))):t):(Bt()&&(C||Ct(o.InvalidLHSInAssignment),f&&t.type===i.Identifier&&
(q(t.name)&&At(e,o.StrictLHSAssignment),I(t.name)&&At(e,o.StrictReservedWord)),Dt
("=")?Zt(t):C=N=!1,e=vt(),n=Ft(Sn),t=(new Et(u)).finishAssignmentExpression(e.value
,t,n),k=null),t))}function xn(){var e,t=S,n;e=Ft(Sn);if(Dt(",")){n=[e];while(g<E
){if(!Dt(","))break;vt(),n.push(Ft(Sn))}e=(new Et(t)).finishSequenceExpression(n
)}return e}function Tn(){if(S.type===t.Keyword)switch(S.value){case"export":return x
.sourceType!=="module"&&At(S,o.IllegalExportDeclaration),vr();case"import":return x
.sourceType!=="module"&&At(S,o.IllegalImportDeclaration),wr();case"const":return Bn
({inFor:!1});case"function":return sr(new wt);case"class":return ar()}return Pt("let"
)&&Hn()?Bn({inFor:!1}):er()}function Nn(){var e=[];while(g<E){if(Dt("}"))break;e
.push(Tn())}return e}function Cn(){var e,t=new wt;return Ot("{"),e=Nn(),Ot("}"),
t.finishBlockStatement(e)}function kn(e){var n,r=new wt;return n=vt(),n.type===t
.Keyword&&n.value==="yield"?(f&&At(n,o.StrictReservedWord),x.allowYield||Lt(n)):
n.type!==t.Identifier?f&&n.type===t.Keyword&&I(n.value)?At(n,o.StrictReservedWord
):(f||n.value!=="let"||e!=="var")&&Lt(n):x.sourceType==="module"&&n.type===t.Identifier&&
n.value==="await"&&At(n),r.finishIdentifier(n.value)}function Ln(e){var t=null,n
,r=new wt,s=[];return n=zt(s,"var"),f&&q(n.name)&&Ct(o.StrictVarName),Dt("=")?(vt
(),t=Ft(Sn)):n.type!==i.Identifier&&!e.inFor&&Ot("="),r.finishVariableDeclarator
(n,t)}function An(e){var t,n;t={inFor:e.inFor},n=[Ln(t)];while(Dt(","))vt(),n.push
(Ln(t));return n}function On(e){var t;return _t("var"),t=An({inFor:!1}),jt(),e.finishVariableDeclaration
(t)}function Mn(e,t){var n=null,r,s=new wt,u=[];r=zt(u,e),f&&r.type===i.Identifier&&
q(r.name)&&Ct(o.StrictVarName);if(e==="const")!Pt("in")&&!Ht("of")&&(Ot("="),n=Ft
(Sn));else if(!t.inFor&&r.type!==i.Identifier||Dt("="))Ot("="),n=Ft(Sn);return s
.finishVariableDeclarator(r,n)}function _n(e,t){var n=[Mn(e,t)];while(Dt(","))vt
(),n.push(Mn(e,t));return n}function Dn(){return{index:l,lineNumber:c,lineStart:
h,hasLineTerminator:p,lastIndex:d,lastLineNumber:v,lastLineStart:m,startIndex:g,
startLineNumber:y,startLineStart:b,lookahead:S,tokenCount:T.tokens?T.tokens.length
:0}}function Pn(e){l=e.index,c=e.lineNumber,h=e.lineStart,p=e.hasLineTerminator,
d=e.lastIndex,v=e.lastLineNumber,m=e.lastLineStart,g=e.startIndex,y=e.startLineNumber
,b=e.startLineStart,S=e.lookahead,T.tokens&&T.tokens.splice(e.tokenCount,T.tokens
.length)}function Hn(){var e,n;return n=Dn(),vt(),e=S.type===t.Identifier||Dt("["
)||Dt("{")||Pt("let")||Pt("yield"),Pn(n),e}function Bn(e){var t,n,r=new wt;return t=
vt().value,L(t==="let"||t==="const","Lexical declaration must be either let or const"
),n=_n(t,e),jt(),r.finishLexicalDeclaration(n,t)}function jn(e){var t,n=new wt;return vt
(),Dt("{")&&Nt(o.ObjectPatternAsRestParameter),e.push(S),t=kn(),Dt("=")&&Nt(o.DefaultRestParameter
),Dt(")")||Nt(o.ParameterAfterRestParameter),n.finishRestElement(t)}function Fn(
e){return Ot(";"),e.finishEmptyStatement()}function In(e){var t=xn();return jt()
,e.finishExpressionStatement(t)}function qn(e){var t,n,r;return _t("if"),Ot("(")
,t=xn(),Ot(")"),n=er(),Pt("else")?(vt(),r=er()):r=null,e.finishIfStatement(t,n,r
)}function Rn(e){var t,n,r;return _t("do"),r=x.inIteration,x.inIteration=!0,t=er
(),x.inIteration=r,_t("while"),Ot("("),n=xn(),Ot(")"),Dt(";")&&vt(),e.finishDoWhileStatement
(t,n)}function Un(e){var t,n,r;return _t("while"),Ot("("),t=xn(),Ot(")"),r=x.inIteration
,x.inIteration=!0,n=er(),x.inIteration=r,e.finishWhileStatement(t,n)}function zn
(e){var t,n,r,i,s,u,a,l,c,h,p,d,v=x.allowIn;t=s=u=null,n=!0,_t("for"),Ot("(");if(
Dt(";"))vt();else if(Pt("var"))t=new wt,vt(),x.allowIn=!1,h=An({inFor:!0}),x.allowIn=
v,h.length===1&&Pt("in")?(t=t.finishVariableDeclaration(h),vt(),a=t,l=xn(),t=null
):h.length===1&&h[0].init===null&&Ht("of")?(t=t.finishVariableDeclaration(h),vt(
),a=t,l=Sn(),t=null,n=!1):(t=t.finishVariableDeclaration(h),Ot(";"));else if(Pt("const"
)||Pt("let"))t=new wt,c=vt().value,!f&&S.value==="in"?(t=t.finishIdentifier(c),vt
(),a=t,l=xn(),t=null):(x.allowIn=!1,h=_n(c,{inFor:!0}),x.allowIn=v,h.length===1&&
h[0].init===null&&Pt("in")?(t=t.finishLexicalDeclaration(h,c),vt(),a=t,l=xn(),t=
null):h.length===1&&h[0].init===null&&Ht("of")?(t=t.finishLexicalDeclaration(h,c
),vt(),a=t,l=Sn(),t=null,n=!1):(jt(),t=t.finishLexicalDeclaration(h,c)));else{i=
S,x.allowIn=!1,t=It(Sn),x.allowIn=v;if(Pt("in"))C||Ct(o.InvalidLHSInForIn),vt(),
Zt(t),a=t,l=xn(),t=null;else if(Ht("of"))C||Ct(o.InvalidLHSInForLoop),vt(),Zt(t)
,a=t,l=Sn(),t=null,n=!1;else{if(Dt(",")){r=[t];while(Dt(","))vt(),r.push(Ft(Sn))
;t=(new Et(i)).finishSequenceExpression(r)}Ot(";")}}return typeof a=="undefined"&&
(Dt(";")||(s=xn()),Ot(";"),Dt(")")||(u=xn())),Ot(")"),d=x.inIteration,x.inIteration=!0
,p=Ft(er),x.inIteration=d,typeof a=="undefined"?e.finishForStatement(t,s,u,p):n?
e.finishForInStatement(a,l,p):e.finishForOfStatement(a,l,p)}function Wn(e){var n=
null,r;return _t("continue"),a.charCodeAt(g)===59?(vt(),x.inIteration||Nt(o.IllegalContinue
),e.finishContinueStatement(null)):p?(x.inIteration||Nt(o.IllegalContinue),e.finishContinueStatement
(null)):(S.type===t.Identifier&&(n=kn(),r="$"+n.name,Object.prototype.hasOwnProperty
.call(x.labelSet,r)||Nt(o.UnknownLabel,n.name)),jt(),n===null&&!x.inIteration&&Nt
(o.IllegalContinue),e.finishContinueStatement(n))}function Xn(e){var n=null,r;return _t
("break"),a.charCodeAt(d)===59?(vt(),!x.inIteration&&!x.inSwitch&&Nt(o.IllegalBreak
),e.finishBreakStatement(null)):(p?!x.inIteration&&!x.inSwitch&&Nt(o.IllegalBreak
):S.type===t.Identifier&&(n=kn(),r="$"+n.name,Object.prototype.hasOwnProperty.call
(x.labelSet,r)||Nt(o.UnknownLabel,n.name)),jt(),n===null&&!x.inIteration&&!x.inSwitch&&
Nt(o.IllegalBreak),e.finishBreakStatement(n))}function Vn(e){var n=null;return _t
("return"),x.inFunctionBody||Ct(o.IllegalReturn),a.charCodeAt(d)===32&&B(a.charCodeAt
(d+1))?(n=xn(),jt(),e.finishReturnStatement(n)):p?e.finishReturnStatement(null):
(Dt(";")||!Dt("}")&&S.type!==t.EOF&&(n=xn()),jt(),e.finishReturnStatement(n))}function $n
(e){var t,n;return f&&Ct(o.StrictModeWith),_t("with"),Ot("("),t=xn(),Ot(")"),n=er
(),e.finishWithStatement(t,n)}function Jn(){var e,t=[],n,r=new wt;Pt("default")?
(vt(),e=null):(_t("case"),e=xn()),Ot(":");while(g<E){if(Dt("}")||Pt("default")||
Pt("case"))break;n=Tn(),t.push(n)}return r.finishSwitchCase(e,t)}function Kn(e){
var t,n,r,i,s;_t("switch"),Ot("("),t=xn(),Ot(")"),Ot("{"),n=[];if(Dt("}"))return vt
(),e.finishSwitchStatement(t,n);i=x.inSwitch,x.inSwitch=!0,s=!1;while(g<E){if(Dt
("}"))break;r=Jn(),r.test===null&&(s&&Nt(o.MultipleDefaultsInSwitch),s=!0),n.push
(r)}return x.inSwitch=i,Ot("}"),e.finishSwitchStatement(t,n)}function Qn(e){var t
;return _t("throw"),p&&Nt(o.NewlineAfterThrow),t=xn(),jt(),e.finishThrowStatement
(t)}function Gn(){var e,t=[],n={},r,i,s,u=new wt;_t("catch"),Ot("("),Dt(")")&&Lt
(S),e=zt(t);for(i=0;i<t.length;i++)r="$"+t[i].value,Object.prototype.hasOwnProperty
.call(n,r)&&Ct(o.DuplicateBinding,t[i].value),n[r]=!0;return f&&q(e.name)&&Ct(o.
StrictCatchVariable),Ot(")"),s=Cn(),u.finishCatchClause(e,s)}function Yn(e){var t
,n=null,r=null;return _t("try"),t=Cn(),Pt("catch")&&(n=Gn()),Pt("finally")&&(vt(
),r=Cn()),!n&&!r&&Nt(o.NoCatchOrFinally),e.finishTryStatement(t,n,r)}function Zn
(e){return _t("debugger"),jt(),e.finishDebuggerStatement()}function er(){var e=S
.type,n,r,s,u;e===t.EOF&&Lt(S);if(e===t.Punctuator&&S.value==="{")return Cn();C=
N=!0,u=new wt;if(e===t.Punctuator)switch(S.value){case";":return Fn(u);case"(":return In
(u);default:}else if(e===t.Keyword)switch(S.value){case"break":return Xn(u);case"continue"
:return Wn(u);case"debugger":return Zn(u);case"do":return Rn(u);case"for":return zn
(u);case"function":return sr(u);case"if":return qn(u);case"return":return Vn(u);
case"switch":return Kn(u);case"throw":return Qn(u);case"try":return Yn(u);case"var"
:return On(u);case"while":return Un(u);case"with":return $n(u);default:}return n=
xn(),n.type===i.Identifier&&Dt(":")?(vt(),s="$"+n.name,Object.prototype.hasOwnProperty
.call(x.labelSet,s)&&Nt(o.Redeclaration,"Label",n.name),x.labelSet[s]=!0,r=er(),delete
x.labelSet[s],u.finishLabeledStatement(n,r)):(jt(),u.finishExpressionStatement(n
))}function tr(){var e,n=[],r,s,u,l,c,h,p,d=new wt;Ot("{");while(g<E){if(S.type!==
t.StringLiteral)break;r=S,e=Tn(),n.push(e);if(e.expression.type!==i.Literal)break;
s=a.slice(r.start+1,r.end-1),s==="use strict"?(f=!0,u&&At(u,o.StrictOctalLiteral
)):!u&&r.octal&&(u=r)}l=x.labelSet,c=x.inIteration,h=x.inSwitch,p=x.inFunctionBody
,x.labelSet={},x.inIteration=!1,x.inSwitch=!1,x.inFunctionBody=!0;while(g<E){if(
Dt("}"))break;n.push(Tn())}return Ot("}"),x.labelSet=l,x.inIteration=c,x.inSwitch=
h,x.inFunctionBody=p,d.finishBlockStatement(n)}function nr(e,t,n){var r="$"+n;f?
(q(n)&&(e.stricted=t,e.message=o.StrictParamName),Object.prototype.hasOwnProperty
.call(e.paramSet,r)&&(e.stricted=t,e.message=o.StrictParamDupe)):e.firstRestricted||
(q(n)?(e.firstRestricted=t,e.message=o.StrictParamName):I(n)?(e.firstRestricted=
t,e.message=o.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet
,r)&&(e.stricted=t,e.message=o.StrictParamDupe)),e.paramSet[r]=!0}function rr(e)
{var t,n,r=[],s,o;t=S;if(t.value==="...")return n=jn(r),nr(e,n.argument,n.argument
.name),e.params.push(n),e.defaults.push(null),!1;n=Wt(r);for(s=0;s<r.length;s++)
nr(e,r[s],r[s].value);return n.type===i.AssignmentPattern&&(o=n.right,n=n.left,++
e.defaultCount),e.params.push(n),e.defaults.push(o),!Dt(")")}function ir(e){var t
;t={params:[],defaultCount:0,defaults:[],firstRestricted:e},Ot("(");if(!Dt(")"))
{t.paramSet={};while(g<E){if(!rr(t))break;Ot(",")}}return Ot(")"),t.defaultCount===0&&
(t.defaults=[]),{params:t.params,defaults:t.defaults,stricted:t.stricted,firstRestricted
:t.firstRestricted,message:t.message}}function sr(e,t){var n=null,r=[],i=[],s,u,
a,l,c,h,p,d,v;v=x.allowYield,_t("function"),d=Dt("*"),d&&vt();if(!t||!Dt("("))u=
S,n=kn(),f?q(u.value)&&At(u,o.StrictFunctionName):q(u.value)?(c=u,h=o.StrictFunctionName
):I(u.value)&&(c=u,h=o.StrictReservedWord);return x.allowYield=!d,l=ir(c),r=l.params
,i=l.defaults,a=l.stricted,c=l.firstRestricted,l.message&&(h=l.message),p=f,s=tr
(),f&&c&&Lt(c,h),f&&a&&At(a,h),f=p,x.allowYield=v,e.finishFunctionDeclaration(n,
r,i,s,d)}function or(){var e,t=null,n,r,i,s,u=[],a=[],l,c,h=new wt,p,d;return d=
x.allowYield,_t("function"),p=Dt("*"),p&&vt(),x.allowYield=!p,Dt("(")||(e=S,t=!f&&!
p&&Pt("yield")?on():kn(),f?q(e.value)&&At(e,o.StrictFunctionName):q(e.value)?(r=
e,i=o.StrictFunctionName):I(e.value)&&(r=e,i=o.StrictReservedWord)),s=ir(r),u=s.
params,a=s.defaults,n=s.stricted,r=s.firstRestricted,s.message&&(i=s.message),c=
f,l=tr(),f&&r&&Lt(r,i),f&&n&&At(n,i),f=c,x.allowYield=d,h.finishFunctionExpression
(t,u,a,l,p)}function ur(){var e,t,n,r=!1,s,u,a,f;e=new wt,Ot("{"),s=[];while(!Dt
("}"))Dt(";")?vt():(u=new wt,t=S,n=!1,a=Dt("["),Dt("*")?vt():(f=Jt(),f.name==="static"&&
(Kt()||Dt("*"))&&(t=S,n=!0,a=Dt("["),Dt("*")?vt():f=Jt())),u=Qt(t,f,a,u),u?(u["static"
]=n,u.kind==="init"&&(u.kind="method"),n?!u.computed&&(u.key.name||u.key.value.toString
())==="prototype"&&Lt(t,o.StaticPrototype):!u.computed&&(u.key.name||u.key.value
.toString())==="constructor"&&((u.kind!=="method"||!u.method||u.value.generator)&&
Lt(t,o.ConstructorSpecialMethod),r?Lt(t,o.DuplicateConstructor):r=!0,u.kind="constructor"
),u.type=i.MethodDefinition,delete u.method,delete u.shorthand,s.push(u)):Lt(S))
;return vt(),e.finishClassBody(s)}function ar(e){var n=null,r=null,i=new wt,s,o=
f;f=!0,_t("class");if(!e||S.type===t.Identifier)n=kn();return Pt("extends")&&(vt
(),r=Ft(ln)),s=ur(),f=o,i.finishClassDeclaration(n,r,s)}function fr(){var e=null
,n=null,r=new wt,i,s=f;return f=!0,_t("class"),S.type===t.Identifier&&(e=kn()),Pt
("extends")&&(vt(),n=Ft(ln)),i=ur(),f=s,r.finishClassExpression(e,n,i)}function lr
(){var e=new wt;return S.type!==t.StringLiteral&&Nt(o.InvalidModuleSpecifier),e.
finishLiteral(vt())}function cr(){var e,t,n=new wt,r;return Pt("default")?(r=new
wt,vt(),t=r.finishIdentifier("default")):t=kn(),Ht("as")&&(vt(),e=on()),n.finishExportSpecifier
(t,e)}function hr(e){var n=null,r,i=null,s=[];if(S.type===t.Keyword)switch(S.value
){case"let":case"const":return n=Bn({inFor:!1}),e.finishExportNamedDeclaration(n
,s,null);case"var":case"class":case"function":return n=Tn(),e.finishExportNamedDeclaration
(n,s,null)}Ot("{");while(!Dt("}")){r=r||Pt("default"),s.push(cr());if(!Dt("}")){
Ot(",");if(Dt("}"))break}}return Ot("}"),Ht("from")?(vt(),i=lr(),jt()):r?Nt(S.value?
o.UnexpectedToken:o.MissingFromClause,S.value):jt(),e.finishExportNamedDeclaration
(n,s,i)}function pr(e){var t=null,n=null;return _t("default"),Pt("function")?(t=
sr(new wt,!0),e.finishExportDefaultDeclaration(t)):Pt("class")?(t=ar(!0),e.finishExportDefaultDeclaration
(t)):(Ht("from")&&Nt(o.UnexpectedToken,S.value),Dt("{")?n=Yt():Dt("[")?n=Xt():n=
Sn(),jt(),e.finishExportDefaultDeclaration(n))}function dr(e){var t;return Ot("*"
),Ht("from")||Nt(S.value?o.UnexpectedToken:o.MissingFromClause,S.value),vt(),t=lr
(),jt(),e.finishExportAllDeclaration(t)}function vr(){var e=new wt;return x.inFunctionBody&&
Nt(o.IllegalExportDeclaration),_t("export"),Pt("default")?pr(e):Dt("*")?dr(e):hr
(e)}function mr(){var e,t,n=new wt;return t=on(),Ht("as")&&(vt(),e=kn()),n.finishImportSpecifier
(e,t)}function gr(){var e=[];Ot("{");while(!Dt("}")){e.push(mr());if(!Dt("}")){Ot
(",");if(Dt("}"))break}}return Ot("}"),e}function yr(){var e,t=new wt;return e=on
(),t.finishImportDefaultSpecifier(e)}function br(){var e,t=new wt;return Ot("*")
,Ht("as")||Nt(o.NoAsAfterImportNamespace),vt(),e=on(),t.finishImportNamespaceSpecifier
(e)}function wr(){var e=[],n,r=new wt;return x.inFunctionBody&&Nt(o.IllegalImportDeclaration
),_t("import"),S.type===t.StringLiteral?n=lr():(Dt("{")?e=e.concat(gr()):Dt("*")?
e.push(br()):ct(S)&&!Pt("default")?(e.push(yr()),Dt(",")&&(vt(),Dt("*")?e.push(br
()):Dt("{")?e=e.concat(gr()):Lt(S))):Lt(vt()),Ht("from")||Nt(S.value?o.UnexpectedToken
:o.MissingFromClause,S.value),vt(),n=lr()),jt(),r.finishImportDeclaration(e,n)}function Er
(){var e,n=[],r,s,u;while(g<E){r=S;if(r.type!==t.StringLiteral)break;e=Tn(),n.push
(e);if(e.expression.type!==i.Literal)break;s=a.slice(r.start+1,r.end-1),s==="use strict"?
(f=!0,u&&At(u,o.StrictOctalLiteral)):!u&&r.octal&&(u=r)}while(g<E){e=Tn();if(typeof
e=="undefined")break;n.push(e)}return n}function Sr(){var e,t;return mt(),t=new
wt,e=Er(),t.finishProgram(e,x.sourceType)}function xr(){var e,t,n,r=[];for(e=0;e<
T.tokens.length;++e)t=T.tokens[e],n={type:t.type,value:t.value},t.regex&&(n.regex=
{pattern:t.regex.pattern,flags:t.regex.flags}),T.range&&(n.range=t.range),T.loc&&
(n.loc=t.loc),r.push(n);T.tokens=r}function Tr(e,n,r){var i,s;i=String,typeof e!="string"&&!
(e instanceof String)&&(e=i(e)),a=e,l=0,c=a.length>0?1:0,h=0,g=l,y=c,b=h,E=a.length
,S=null,x={allowIn:!0,allowYield:!0,labelSet:{},inFunctionBody:!1,inIteration:!1
,inSwitch:!1,lastCommentStart:-1,curlyStack:[]},T={},n=n||{},n.tokens=!0,T.tokens=
[],T.tokenValues=[],T.tokenize=!0,T.delegate=r,T.openParenToken=-1,T.openCurlyToken=-1
,T.range=typeof n.range=="boolean"&&n.range,T.loc=typeof n.loc=="boolean"&&n.loc
,typeof n.comment=="boolean"&&n.comment&&(T.comments=[]),typeof n.tolerant=="boolean"&&
n.tolerant&&(T.errors=[]);try{mt();if(S.type===t.EOF)return T.tokens;vt();while(
S.type!==t.EOF)try{vt()}catch(o){if(T.errors){St(o);break}throw o}s=T.tokens,typeof
T.errors!="undefined"&&(s.errors=T.errors)}catch(u){throw u}finally{T={}}return s
}function Nr(e,t){var n,r;r=String,typeof e!="string"&&!(e instanceof String)&&(
e=r(e)),a=e,l=0,c=a.length>0?1:0,h=0,g=l,y=c,b=h,E=a.length,S=null,x={allowIn:!0
,allowYield:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart
:-1,curlyStack:[],sourceType:"script"},f=!1,T={},typeof t!="undefined"&&(T.range=typeof
t.range=="boolean"&&t.range,T.loc=typeof t.loc=="boolean"&&t.loc,T.attachComment=typeof
t.attachComment=="boolean"&&t.attachComment,T.loc&&t.source!==null&&t.source!==undefined&&
(T.source=r(t.source)),typeof t.tokens=="boolean"&&t.tokens&&(T.tokens=[]),typeof
t.comment=="boolean"&&t.comment&&(T.comments=[]),typeof t.tolerant=="boolean"&&t
.tolerant&&(T.errors=[]),T.attachComment&&(T.range=!0,T.comments=[],T.bottomRightStack=
[],T.trailingComments=[],T.leadingComments=[]),t.sourceType==="module"&&(x.sourceType=
t.sourceType,f=!0));try{n=Sr(),typeof T.comments!="undefined"&&(n.comments=T.comments
),typeof T.tokens!="undefined"&&(xr(),n.tokens=T.tokens),typeof T.errors!="undefined"&&
(n.errors=T.errors)}catch(i){throw i}finally{T={}}return n}var t,n,r,i,s,o,u,a,f
,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k;t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword
:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression
:9,Template:10},n={},n[t.BooleanLiteral]="Boolean",n[t.EOF]="<end>",n[t.Identifier
]="Identifier",n[t.Keyword]="Keyword",n[t.NullLiteral]="Null",n[t.NumericLiteral
]="Numeric",n[t.Punctuator]="Punctuator",n[t.StringLiteral]="String",n[t.RegularExpression
]="RegularExpression",n[t.Template]="Template",r=["(","{","[","in","typeof","instanceof"
,"new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<="
,">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&"
,"|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],i={AssignmentExpression
:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression"
,ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement
:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement"
,CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody"
,ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression
:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement"
,DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration
:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration
:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement"
,ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement"
,FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression"
,Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration"
,ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier"
,ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement"
,LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty
:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression"
,ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program"
,Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement"
,SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super"
,SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression
:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral"
,ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement"
,UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration
:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement"
,WithStatement:"WithStatement",YieldExpression:"YieldExpression"},s={ArrowParameterPlaceHolder
:"ArrowParameterPlaceHolder"},o={UnexpectedToken:"Unexpected token %0",UnexpectedNumber
:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier"
,UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0"
,UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw"
,InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /"
,InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn
:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop"
,MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally
:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration
:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement"
,IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement"
,StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable
:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode"
,StrictParamName:"Parameter name eval or arguments is not allowed in strict mode"
,StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName
:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode."
,StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictLHSAssignment
:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix
:"Postfix increment/decrement may not have eval or arguments operand in strict mode"
,StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode"
,StrictReservedWord:"Use of future reserved word in strict mode",TemplateOctalLiteral
:"Octal literals are not allowed in template strings.",ParameterAfterRestParameter
:"Rest parameter must be last formal parameter",DefaultRestParameter:"Unexpected token ="
,ObjectPatternAsRestParameter:"Unexpected token {",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals"
,ConstructorSpecialMethod:"Class constructor may not be an accessor",DuplicateConstructor
:"A class may only have one constructor",StaticPrototype:"Classes may not have static property named prototype"
,MissingFromClause:"Unexpected token",NoAsAfterImportNamespace:"Unexpected token"
,InvalidModuleSpecifier:"Unexpected token",IllegalImportDeclaration:"Unexpected token"
,IllegalExportDeclaration:"Unexpected token",DuplicateBinding:"Duplicate binding %0"
},u={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/
,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/
},Et.prototype=wt.prototype={processComment:function(){var e,t,n,r,s=T.bottomRightStack
,o,u,a=s[s.length-1];if(this.type===i.Program&&this.body.length>0)return;if(this
.type===i.BlockStatement&&this.body.length===0){t=[];for(o=T.leadingComments.length-1
;o>=0;--o)u=T.leadingComments[o],this.range[1]>=u.range[1]&&(t.unshift(u),T.leadingComments
.splice(o,1),T.trailingComments.splice(o,1));if(t.length){this.innerComments=t;return}
}if(T.trailingComments.length>0){r=[];for(o=T.trailingComments.length-1;o>=0;--o
)u=T.trailingComments[o],u.range[0]>=this.range[1]&&(r.unshift(u),T.trailingComments
.splice(o,1));T.trailingComments=[]}else a&&a.trailingComments&&a.trailingComments
[0].range[0]>=this.range[1]&&(r=a.trailingComments,delete a.trailingComments);while(
a&&a.range[0]>=this.range[0])e=s.pop(),a=s[s.length-1];if(e){if(e.leadingComments
){n=[];for(o=e.leadingComments.length-1;o>=0;--o)u=e.leadingComments[o],u.range[1
]<=this.range[0]&&(n.unshift(u),e.leadingComments.splice(o,1));e.leadingComments
.length||(e.leadingComments=undefined)}}else if(T.leadingComments.length>0){n=[]
;for(o=T.leadingComments.length-1;o>=0;--o)u=T.leadingComments[o],u.range[1]<=this
.range[0]&&(n.unshift(u),T.leadingComments.splice(o,1))}n&&n.length>0&&(this.leadingComments=
n),r&&r.length>0&&(this.trailingComments=r),s.push(this)},finish:function(){T.range&&
(this.range[1]=d),T.loc&&(this.loc.end={line:v,column:d-m},T.source&&(this.loc.source=
T.source)),T.attachComment&&this.processComment()},finishArrayExpression:function(
e){return this.type=i.ArrayExpression,this.elements=e,this.finish(),this},finishArrayPattern
:function(e){return this.type=i.ArrayPattern,this.elements=e,this.finish(),this}
,finishArrowFunctionExpression:function(e,t,n,r){return this.type=i.ArrowFunctionExpression
,this.id=null,this.params=e,this.defaults=t,this.body=n,this.generator=!1,this.expression=
r,this.finish(),this},finishAssignmentExpression:function(e,t,n){return this.type=
i.AssignmentExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this
},finishAssignmentPattern:function(e,t){return this.type=i.AssignmentPattern,this
.left=e,this.right=t,this.finish(),this},finishBinaryExpression:function(e,t,n){
return this.type=e==="||"||e==="&&"?i.LogicalExpression:i.BinaryExpression,this.
operator=e,this.left=t,this.right=n,this.finish(),this},finishBlockStatement:function(
e){return this.type=i.BlockStatement,this.body=e,this.finish(),this},finishBreakStatement
:function(e){return this.type=i.BreakStatement,this.label=e,this.finish(),this},
finishCallExpression:function(e,t){return this.type=i.CallExpression,this.callee=
e,this.arguments=t,this.finish(),this},finishCatchClause:function(e,t){return this
.type=i.CatchClause,this.param=e,this.body=t,this.finish(),this},finishClassBody
:function(e){return this.type=i.ClassBody,this.body=e,this.finish(),this},finishClassDeclaration
:function(e,t,n){return this.type=i.ClassDeclaration,this.id=e,this.superClass=t
,this.body=n,this.finish(),this},finishClassExpression:function(e,t,n){return this
.type=i.ClassExpression,this.id=e,this.superClass=t,this.body=n,this.finish(),this
},finishConditionalExpression:function(e,t,n){return this.type=i.ConditionalExpression
,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishContinueStatement
:function(e){return this.type=i.ContinueStatement,this.label=e,this.finish(),this
},finishDebuggerStatement:function(){return this.type=i.DebuggerStatement,this.finish
(),this},finishDoWhileStatement:function(e,t){return this.type=i.DoWhileStatement
,this.body=e,this.test=t,this.finish(),this},finishEmptyStatement:function(){return this
.type=i.EmptyStatement,this.finish(),this},finishExpressionStatement:function(e)
{return this.type=i.ExpressionStatement,this.expression=e,this.finish(),this},finishForStatement
:function(e,t,n,r){return this.type=i.ForStatement,this.init=e,this.test=t,this.
update=n,this.body=r,this.finish(),this},finishForOfStatement:function(e,t,n){return this
.type=i.ForOfStatement,this.left=e,this.right=t,this.body=n,this.finish(),this},
finishForInStatement:function(e,t,n){return this.type=i.ForInStatement,this.left=
e,this.right=t,this.body=n,this.each=!1,this.finish(),this},finishFunctionDeclaration
:function(e,t,n,r,s){return this.type=i.FunctionDeclaration,this.id=e,this.params=
t,this.defaults=n,this.body=r,this.generator=s,this.expression=!1,this.finish(),
this},finishFunctionExpression:function(e,t,n,r,s){return this.type=i.FunctionExpression
,this.id=e,this.params=t,this.defaults=n,this.body=r,this.generator=s,this.expression=!1
,this.finish(),this},finishIdentifier:function(e){return this.type=i.Identifier,
this.name=e,this.finish(),this},finishIfStatement:function(e,t,n){return this.type=
i.IfStatement,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this}
,finishLabeledStatement:function(e,t){return this.type=i.LabeledStatement,this.label=
e,this.body=t,this.finish(),this},finishLiteral:function(e){return this.type=i.Literal
,this.value=e.value,this.raw=a.slice(e.start,e.end),e.regex&&(this.regex=e.regex
),this.finish(),this},finishMemberExpression:function(e,t,n){return this.type=i.
MemberExpression,this.computed=e==="[",this.object=t,this.property=n,this.finish
(),this},finishMetaProperty:function(e,t){return this.type=i.MetaProperty,this.meta=
e,this.property=t,this.finish(),this},finishNewExpression:function(e,t){return this
.type=i.NewExpression,this.callee=e,this.arguments=t,this.finish(),this},finishObjectExpression
:function(e){return this.type=i.ObjectExpression,this.properties=e,this.finish()
,this},finishObjectPattern:function(e){return this.type=i.ObjectPattern,this.properties=
e,this.finish(),this},finishPostfixExpression:function(e,t){return this.type=i.UpdateExpression
,this.operator=e,this.argument=t,this.prefix=!1,this.finish(),this},finishProgram
:function(e,t){return this.type=i.Program,this.body=e,this.sourceType=t,this.finish
(),this},finishProperty:function(e,t,n,r,s,o){return this.type=i.Property,this.key=
t,this.computed=n,this.value=r,this.kind=e,this.method=s,this.shorthand=o,this.finish
(),this},finishRestElement:function(e){return this.type=i.RestElement,this.argument=
e,this.finish(),this},finishReturnStatement:function(e){return this.type=i.ReturnStatement
,this.argument=e,this.finish(),this},finishSequenceExpression:function(e){return this
.type=i.SequenceExpression,this.expressions=e,this.finish(),this},finishSpreadElement
:function(e){return this.type=i.SpreadElement,this.argument=e,this.finish(),this
},finishSwitchCase:function(e,t){return this.type=i.SwitchCase,this.test=e,this.
consequent=t,this.finish(),this},finishSuper:function(){return this.type=i.Super
,this.finish(),this},finishSwitchStatement:function(e,t){return this.type=i.SwitchStatement
,this.discriminant=e,this.cases=t,this.finish(),this},finishTaggedTemplateExpression
:function(e,t){return this.type=i.TaggedTemplateExpression,this.tag=e,this.quasi=
t,this.finish(),this},finishTemplateElement:function(e,t){return this.type=i.TemplateElement
,this.value=e,this.tail=t,this.finish(),this},finishTemplateLiteral:function(e,t
){return this.type=i.TemplateLiteral,this.quasis=e,this.expressions=t,this.finish
(),this},finishThisExpression:function(){return this.type=i.ThisExpression,this.
finish(),this},finishThrowStatement:function(e){return this.type=i.ThrowStatement
,this.argument=e,this.finish(),this},finishTryStatement:function(e,t,n){return this
.type=i.TryStatement,this.block=e,this.guardedHandlers=[],this.handlers=t?[t]:[]
,this.handler=t,this.finalizer=n,this.finish(),this},finishUnaryExpression:function(
e,t){return this.type=e==="++"||e==="--"?i.UpdateExpression:i.UnaryExpression,this
.operator=e,this.argument=t,this.prefix=!0,this.finish(),this},finishVariableDeclaration
:function(e){return this.type=i.VariableDeclaration,this.declarations=e,this.kind="var"
,this.finish(),this},finishLexicalDeclaration:function(e,t){return this.type=i.VariableDeclaration
,this.declarations=e,this.kind=t,this.finish(),this},finishVariableDeclarator:function(
e,t){return this.type=i.VariableDeclarator,this.id=e,this.init=t,this.finish(),this
},finishWhileStatement:function(e,t){return this.type=i.WhileStatement,this.test=
e,this.body=t,this.finish(),this},finishWithStatement:function(e,t){return this.
type=i.WithStatement,this.object=e,this.body=t,this.finish(),this},finishExportSpecifier
:function(e,t){return this.type=i.ExportSpecifier,this.exported=t||e,this.local=
e,this.finish(),this},finishImportDefaultSpecifier:function(e){return this.type=
i.ImportDefaultSpecifier,this.local=e,this.finish(),this},finishImportNamespaceSpecifier
:function(e){return this.type=i.ImportNamespaceSpecifier,this.local=e,this.finish
(),this},finishExportNamedDeclaration:function(e,t,n){return this.type=i.ExportNamedDeclaration
,this.declaration=e,this.specifiers=t,this.source=n,this.finish(),this},finishExportDefaultDeclaration
:function(e){return this.type=i.ExportDefaultDeclaration,this.declaration=e,this
.finish(),this},finishExportAllDeclaration:function(e){return this.type=i.ExportAllDeclaration
,this.source=e,this.finish(),this},finishImportSpecifier:function(e,t){return this
.type=i.ImportSpecifier,this.local=e||t,this.imported=t,this.finish(),this},finishImportDeclaration
:function(e,t){return this.type=i.ImportDeclaration,this.specifiers=e,this.source=
t,this.finish(),this},finishYieldExpression:function(e,t){return this.type=i.YieldExpression
,this.argument=e,this.delegate=t,this.finish(),this}},e.version="2.7.3",e.tokenize=
Tr,e.parse=Nr,e.Syntax=function(){var e,t={};typeof Object.create=="function"&&(
t=Object.create(null));for(e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return typeof
Object.freeze=="function"&&Object.freeze(t),t}()})
}());
/* jslint-ignore-end */



// init lib estraverse
/* istanbul ignore next */
/* jslint-ignore-begin */
// 2015-03-05T15:18:29Z
// https://github.com/estools/estraverse/blob/1.9.3/estraverse.js
// utility2-uglifyjs https://raw.githubusercontent.com/estools/estraverse/1.9.3/estraverse.js
(function () { var exports; exports = local.estraverse = {};
(function(e,t){"use strict";typeof define=="function"&&define.amd?define(["exports"
],t):typeof exports!="undefined"?t(exports):t(e.estraverse={})})(this,function e
(t){"use strict";function c(){}function h(e){var t={},n,r;for(n in e)e.hasOwnProperty
(n)&&(r=e[n],typeof r=="object"&&r!==null?t[n]=h(r):t[n]=r);return t}function p(
e){var t={},n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function d(e,
t){var n,r,i,s;r=e.length,i=0;while(r)n=r>>>1,s=i+n,t(e[s])?r=n:(i=s+1,r-=n+1);return i
}function v(e,t){var n,r,i,s;r=e.length,i=0;while(r)n=r>>>1,s=i+n,t(e[s])?(i=s+1
,r-=n+1):r=n;return i}function m(e,t){var n=u(t),r,i,s;for(i=0,s=n.length;i<s;i+=1
)r=n[i],e[r]=t[r];return e}function g(e,t){this.parent=e,this.key=t}function y(e
,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function b(){}function w(
e){return e==null?!1:typeof e=="object"&&typeof e.type=="string"}function E(e,t)
{return(e===n.ObjectExpression||e===n.ObjectPattern)&&"properties"===t}function S
(e,t){var n=new b;return n.traverse(e,t)}function x(e,t){var n=new b;return n.replace
(e,t)}function T(e,t){var n;return n=d(t,function(n){return n.range[0]>e.range[0
]}),e.extendedRange=[e.range[0],e.range[1]],n!==t.length&&(e.extendedRange[1]=t[
n].range[0]),n-=1,n>=0&&(e.extendedRange[0]=t[n].range[1]),e}function N(e,t,n){var r=
[],s,o,u,a;if(!e.range)throw new Error("attachComments needs range information")
;if(!n.length){if(t.length){for(u=0,o=t.length;u<o;u+=1)s=h(t[u]),s.extendedRange=
[0,e.range[0]],r.push(s);e.leadingComments=r}return e}for(u=0,o=t.length;u<o;u+=1
)r.push(T(h(t[u]),n));return a=0,S(e,{enter:function(e){var t;while(a<r.length){
t=r[a];if(t.extendedRange[1]>e.range[0])break;t.extendedRange[1]===e.range[0]?(e
.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),r.splice(a,1)
):a+=1}if(a===r.length)return i.Break;if(r[a].extendedRange[0]>e.range[1])return i
.Skip}}),a=0,S(e,{leave:function(e){var t;while(a<r.length){t=r[a];if(e.range[1]<
t.extendedRange[0])break;e.range[1]===t.extendedRange[0]?(e.trailingComments||(e
.trailingComments=[]),e.trailingComments.push(t),r.splice(a,1)):a+=1}if(a===r.length
)return i.Break;if(r[a].extendedRange[0]>e.range[1])return i.Skip}}),e}var n,r,i
,s,o,u,a,f,l;return r=Array.isArray,r||(r=function(t){return Object.prototype.toString
.call(t)==="[object Array]"}),c(p),c(v),o=Object.create||function(){function e()
{}return function(t){return e.prototype=t,new e}}(),u=Object.keys||function(e){var t=
[],n;for(n in e)t.push(n);return t},n={AssignmentExpression:"AssignmentExpression"
,ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression
:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement"
,BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression
:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration
:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock"
,ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression"
,ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement
:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement"
,ExportBatchSpecifier:"ExportBatchSpecifier",ExportDeclaration:"ExportDeclaration"
,ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement
:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",
FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression"
,GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement"
,ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier"
,ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier"
,Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression"
,MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ModuleSpecifier
:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression"
,ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement
:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement"
,SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression
:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral"
,ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement"
,UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration
:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement"
,WithStatement:"WithStatement",YieldExpression:"YieldExpression"},s={AssignmentExpression
:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression
:["params","defaults","rest","body"],AwaitExpression:["argument"],BlockStatement
:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression
:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration
:["id","body","superClass"],ClassExpression:["id","body","superClass"],ComprehensionBlock
:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression
:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement
:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportBatchSpecifier
:[],ExportDeclaration:["declaration","specifiers","source"],ExportSpecifier:["id"
,"name"],ExpressionStatement:["expression"],ForStatement:["init","test","update"
,"body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"
],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression
:["id","params","defaults","rest","body"],GeneratorExpression:["blocks","filter"
,"body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration
:["specifiers","source"],ImportDefaultSpecifier:["id"],ImportNamespaceSpecifier:
["id"],ImportSpecifier:["id","name"],Literal:[],LabeledStatement:["label","body"
],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition
:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression
:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"
],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:
["argument"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"
],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis"
,"expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block"
,"handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"
],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator
:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression
:["argument"]},a={},f={},l={},i={Break:a,Skip:f,Remove:l},g.prototype.replace=function(
t){this.parent[this.key]=t},g.prototype.remove=function(){return r(this.parent)?
(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},b.prototype.path=function(
){function a(e,t){if(r(t))for(i=0,s=t.length;i<s;++i)e.push(t[i]);else e.push(t)
}var t,n,i,s,o,u;if(!this.__current.path)return null;o=[];for(t=2,n=this.__leavelist
.length;t<n;++t)u=this.__leavelist[t],a(o,u.path);return a(o,this.__current.path
),o},b.prototype.type=function(){var e=this.current();return e.type||this.__current
.wrap},b.prototype.parents=function(){var t,n,r;r=[];for(t=1,n=this.__leavelist.
length;t<n;++t)r.push(this.__leavelist[t].node);return r},b.prototype.current=function(
){return this.__current.node},b.prototype.__execute=function(t,n){var r,i;return i=
undefined,r=this.__current,this.__current=n,this.__state=null,t&&(i=t.call(this,
n.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=r,i},b.
prototype.notify=function(t){this.__state=t},b.prototype.skip=function(){this.notify
(f)},b.prototype["break"]=function(){this.notify(a)},b.prototype.remove=function(
){this.notify(l)},b.prototype.__initialize=function(e,t){this.visitor=t,this.root=
e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this
.__fallback=t.fallback==="iteration",this.__keys=s,t.keys&&(this.__keys=m(o(this
.__keys),t.keys))},b.prototype.traverse=function(t,n){var i,s,o,l,c,h,p,d,v,m,g,
b;this.__initialize(t,n),b={},i=this.__worklist,s=this.__leavelist,i.push(new y(
t,null,null,null)),s.push(new y(null,null,null,null));while(i.length){o=i.pop();
if(o===b){o=s.pop(),h=this.__execute(n.leave,o);if(this.__state===a||h===a)return;
continue}if(o.node){h=this.__execute(n.enter,o);if(this.__state===a||h===a)return;
i.push(b),s.push(o);if(this.__state===f||h===f)continue;l=o.node,c=o.wrap||l.type
,m=this.__keys[c];if(!m){if(!this.__fallback)throw new Error("Unknown node type "+
c+".");m=u(l)}d=m.length;while((d-=1)>=0){p=m[d],g=l[p];if(!g)continue;if(r(g)){
v=g.length;while((v-=1)>=0){if(!g[v])continue;if(E(c,m[d]))o=new y(g[v],[p,v],"Property"
,null);else{if(!w(g[v]))continue;o=new y(g[v],[p,v],null,null)}i.push(o)}}else w
(g)&&i.push(new y(g,p,null,null))}}}},b.prototype.replace=function(t,n){function i
(e){var t,n,r,i;if(e.ref.remove()){n=e.ref.key,i=e.ref.parent,t=s.length;while(t--
){r=s[t];if(r.ref&&r.ref.parent===i){if(r.ref.key<n)break;--r.ref.key}}}}var s,o
,c,h,p,d,v,m,b,S,x,T,N;this.__initialize(t,n),x={},s=this.__worklist,o=this.__leavelist
,T={root:t},d=new y(t,null,null,new g(T,"root")),s.push(d),o.push(d);while(s.length
){d=s.pop();if(d===x){d=o.pop(),p=this.__execute(n.leave,d),p!==undefined&&p!==a&&
p!==f&&p!==l&&d.ref.replace(p),(this.__state===l||p===l)&&i(d);if(this.__state===
a||p===a)return T.root;continue}p=this.__execute(n.enter,d),p!==undefined&&p!==a&&
p!==f&&p!==l&&(d.ref.replace(p),d.node=p);if(this.__state===l||p===l)i(d),d.node=
null;if(this.__state===a||p===a)return T.root;c=d.node;if(!c)continue;s.push(x),
o.push(d);if(this.__state===f||p===f)continue;h=d.wrap||c.type,b=this.__keys[h];
if(!b){if(!this.__fallback)throw new Error("Unknown node type "+h+".");b=u(c)}v=
b.length;while((v-=1)>=0){N=b[v],S=c[N];if(!S)continue;if(r(S)){m=S.length;while(
(m-=1)>=0){if(!S[m])continue;if(E(h,b[v]))d=new y(S[m],[N,m],"Property",new g(S,
m));else{if(!w(S[m]))continue;d=new y(S[m],[N,m],null,new g(S,m))}s.push(d)}}else w
(S)&&s.push(new y(S,N,null,new g(c,N)))}}return T.root},t.version="1.8.1-dev",t.
Syntax=n,t.traverse=S,t.replace=x,t.attachComments=N,t.VisitorKeys=s,t.VisitorOption=
i,t.Controller=b,t.cloneEnvironment=function(){return e({})},t})
}());
/* jslint-ignore-end */



// init lib esutils.code
/* istanbul ignore next */
/* jslint-ignore-begin */
// 2015-03-14T16:42:41Z
// https://github.com/estools/esutils/blob/2.0.2/lib/code.js
// utility2-uglifyjs https://raw.githubusercontent.com/estools/esutils/2.0.2/lib/code.js
(function () { var module; module = {};
(function(){"use strict";function o(e){return 48<=e&&e<=57}function u(e){return 48<=
e&&e<=57||97<=e&&e<=102||65<=e&&e<=70}function a(e){return e>=48&&e<=55}function f
(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&n.indexOf(e)>=0}function l
(e){return e===10||e===13||e===8232||e===8233}function c(e){if(e<=65535)return String
.fromCharCode(e);var t=String.fromCharCode(Math.floor((e-65536)/1024)+55296),n=String
.fromCharCode((e-65536)%1024+56320);return t+n}function h(e){return e<128?r[e]:t
.NonAsciiIdentifierStart.test(c(e))}function p(e){return e<128?i[e]:t.NonAsciiIdentifierPart
.test(c(e))}function d(t){return t<128?r[t]:e.NonAsciiIdentifierStart.test(c(t))
}function v(t){return t<128?i[t]:e.NonAsciiIdentifierPart.test(c(t))}var e,t,n,r
,i,s;t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/
,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/
},e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/
,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/
},n=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288
,65279],r=new Array(128);for(s=0;s<128;++s)r[s]=s>=97&&s<=122||s>=65&&s<=90||s===36||
s===95;i=new Array(128);for(s=0;s<128;++s)i[s]=s>=97&&s<=122||s>=65&&s<=90||s>=48&&
s<=57||s===36||s===95;module.exports={isDecimalDigit:o,isHexDigit:u,isOctalDigit
:a,isWhiteSpace:f,isLineTerminator:l,isIdentifierStartES5:h,isIdentifierPartES5:
p,isIdentifierStartES6:d,isIdentifierPartES6:v}})()
local.esutils = { code: module.exports }; }());
/* jslint-ignore-end */



// init lib escodegen
/* istanbul ignore next */
/* jslint-ignore-begin */
// 2016-08-05T16:02:12Z
// https://github.com/estools/escodegen/blob/1.8.1/escodegen.js
// utility2-uglifyjs https://raw.githubusercontent.com/estools/escodegen/1.8.1/escodegen.js
(function () { var exports; exports = local.escodegen = {};
(function(){"use strict";function k(e){return bt.Expression.hasOwnProperty(e.type
)}function L(e){return bt.Statement.hasOwnProperty(e.type)}function V(){return{indent
:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment
:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless
:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines
:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap
:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,
sourceCode:null}}function $(e,t){var n="";for(t|=0;t>0;t>>>=1,e+=e)t&1&&(n+=e);return n
}function J(e){return/[\r\n]/g.test(e)}function K(e){var t=e.length;return t&&s.
code.isLineTerminator(e.charCodeAt(t-1))}function Q(e,t){var n;for(n in t)t.hasOwnProperty
(n)&&(e[n]=t[n]);return e}function G(e,t){function i(e){return typeof e=="object"&&
e instanceof Object&&!(e instanceof RegExp)}var n,r;for(n in t)t.hasOwnProperty(
n)&&(r=t[n],i(r)?i(e[n])?G(e[n],r):e[n]=G({},r):e[n]=r);return e}function Y(e){var t
,n,r,i,s;if(e!==e)throw new Error("Numeric literal whose value is NaN");if(e<0||
e===0&&1/e<0)throw new Error("Numeric literal whose value is negative");if(e===1/0
)return f?"null":l?"1e400":"1e+400";t=""+e;if(!l||t.length<3)return t;n=t.indexOf
("."),!f&&t.charCodeAt(0)===48&&n===1&&(n=0,t=t.slice(1)),r=t,t=t.replace("e+","e"
),i=0,(s=r.indexOf("e"))>0&&(i=+r.slice(s+1),r=r.slice(0,s)),n>=0&&(i-=r.length-
n-1,r=+(r.slice(0,n)+r.slice(n+1))+""),s=0;while(r.charCodeAt(r.length+s-1)===48
)--s;return s!==0&&(i-=s,r=r.slice(0,s)),i!==0&&(r+="e"+i),(r.length<t.length||c&&
e>1e12&&Math.floor(e)===e&&(r="0x"+e.toString(16)).length<t.length)&&+r===e&&(t=
r),t}function Z(e,t){return(e&-2)===8232?(t?"u":"\\u")+(e===8232?"2028":"2029"):
e===10||e===13?(t?"":"\\")+(e===10?"n":"r"):String.fromCharCode(e)}function et(e
){var t,n,r,i,s,o,u,a;n=e.toString();if(e.source){t=n.match(/\/([^/]*)$/);if(!t)
return n;r=t[1],n="",u=!1,a=!1;for(i=0,s=e.source.length;i<s;++i)o=e.source.charCodeAt
(i),a?(n+=Z(o,a),a=!1):(u?o===93&&(u=!1):o===47?n+="\\":o===91&&(u=!0),n+=Z(o,a)
,a=o===92);return"/"+n+"/"+r}return n}function tt(e,t){var n;return e===8?"\\b":
e===12?"\\f":e===9?"\\t":(n=e.toString(16).toUpperCase(),f||e>255?"\\u"+"0000".slice
(n.length)+n:e===0&&!s.code.isDecimalDigit(t)?"\\0":e===11?"\\x0B":"\\x"+"00".slice
(n.length)+n)}function nt(e){if(e===92)return"\\\\";if(e===10)return"\\n";if(e===13
)return"\\r";if(e===8232)return"\\u2028";if(e===8233)return"\\u2029";throw new Error
("Incorrectly classified character")}function rt(e){var t,n,r,i;i=h==="double"?'"'
:"'";for(t=0,n=e.length;t<n;++t){r=e.charCodeAt(t);if(r===39){i='"';break}if(r===34
){i="'";break}r===92&&++t}return i+e+i}function it(e){var t="",n,r,i,o=0,u=0,a,l
;for(n=0,r=e.length;n<r;++n){i=e.charCodeAt(n);if(i===39)++o;else if(i===34)++u;
else if(i===47&&f)t+="\\";else{if(s.code.isLineTerminator(i)||i===92){t+=nt(i);continue}
if(!s.code.isIdentifierPartES5(i)&&(f&&i<32||!f&&!p&&(i<32||i>126))){t+=tt(i,e.charCodeAt
(n+1));continue}}t+=String.fromCharCode(i)}a=!(h==="double"||h==="auto"&&u<o),l=
a?"'":'"';if(a?!o:!u)return l+t+l;e=t,t=l;for(n=0,r=e.length;n<r;++n){i=e.charCodeAt
(n);if(i===39&&a||i===34&&!a)t+="\\";t+=String.fromCharCode(i)}return t+l}function st
(e){var t,n,r,i="";for(t=0,n=e.length;t<n;++t)r=e[t],i+=o(r)?st(r):r;return i}function ot
(e,t){if(!S)return o(e)?st(e):e;if(t==null){if(e instanceof r)return e;t={}}return t
.loc==null?new r(null,null,S,e,t.name||null):new r(t.loc.start.line,t.loc.start.
column,S===!0?t.loc.source||null:S,e,t.name||null)}function ut(){return v?v:" "}
function at(e,t){var n,r,i,o;return n=ot(e).toString(),n.length===0?[t]:(r=ot(t)
.toString(),r.length===0?[e]:(i=n.charCodeAt(n.length-1),o=r.charCodeAt(0),(i===43||
i===45)&&i===o||s.code.isIdentifierPartES5(i)&&s.code.isIdentifierPartES5(o)||i===47&&
o===105?[e,ut(),t]:s.code.isWhiteSpace(i)||s.code.isLineTerminator(i)||s.code.isWhiteSpace
(o)||s.code.isLineTerminator(o)?[e,t]:[e,v,t]))}function ft(e){return[u,e]}function lt
(e){var t;t=u,u+=a,e(u),u=t}function ct(e){var t;for(t=e.length-1;t>=0;--t)if(s.
code.isLineTerminator(e.charCodeAt(t)))break;return e.length-1-t}function ht(e,t
){var n,r,i,o,a,f,l,c;n=e.split(/\r\n|[\r\n]/),f=Number.MAX_VALUE;for(r=1,i=n.length
;r<i;++r){o=n[r],a=0;while(a<o.length&&s.code.isWhiteSpace(o.charCodeAt(a)))++a;
f>a&&(f=a)}typeof t!="undefined"?(l=u,n[1][f]==="*"&&(t+=" "),u=t):(f&1&&--f,l=u
);for(r=1,i=n.length;r<i;++r)c=ot(ft(n[r].slice(f))),n[r]=S?c.join(""):c;return u=
l,n.join("\n")}function pt(e,t){if(e.type==="Line"){if(K(e.value))return"//"+e.value
;var n="//"+e.value;return T||(n+="\n"),n}return w.format.indent.adjustMultilineComment&&/[\n\r]/
.test(e.value)?ht("/*"+e.value+"*/",t):"/*"+e.value+"*/"}function dt(t,n){var r,
i,s,o,f,l,c,h,p,d,v,m,g,b;if(t.leadingComments&&t.leadingComments.length>0){o=n;
if(T){s=t.leadingComments[0],n=[],h=s.extendedRange,p=s.range,v=x.substring(h[0]
,p[0]),b=(v.match(/\n/g)||[]).length,b>0?(n.push($("\n",b)),n.push(ft(pt(s)))):(
n.push(v),n.push(pt(s))),d=p;for(r=1,i=t.leadingComments.length;r<i;r++)s=t.leadingComments
[r],p=s.range,m=x.substring(d[1],p[0]),b=(m.match(/\n/g)||[]).length,n.push($("\n"
,b)),n.push(ft(pt(s))),d=p;g=x.substring(p[1],h[1]),b=(g.match(/\n/g)||[]).length
,n.push($("\n",b))}else{s=t.leadingComments[0],n=[],y&&t.type===e.Program&&t.body
.length===0&&n.push("\n"),n.push(pt(s)),K(ot(n).toString())||n.push("\n");for(r=1
,i=t.leadingComments.length;r<i;++r)s=t.leadingComments[r],c=[pt(s)],K(ot(c).toString
())||c.push("\n"),n.push(ft(c))}n.push(ft(o))}if(t.trailingComments)if(T)s=t.trailingComments
[0],h=s.extendedRange,p=s.range,v=x.substring(h[0],p[0]),b=(v.match(/\n/g)||[]).
length,b>0?(n.push($("\n",b)),n.push(ft(pt(s)))):(n.push(v),n.push(pt(s)));else{
f=!K(ot(n).toString()),l=$(" ",ct(ot([u,n,a]).toString()));for(r=0,i=t.trailingComments
.length;r<i;++r)s=t.trailingComments[r],f?(r===0?n=[n,a]:n=[n,l],n.push(pt(s,l))
):n=[n,ft(pt(s))],r!==i-1&&!K(ot(n).toString())&&(n=[n,"\n"])}return n}function vt
(e,t,n){var r,i=0;for(r=e;r<t;r++)x[r]==="\n"&&i++;for(r=1;r<i;r++)n.push(d)}function mt
(e,t,n){return t<n?["(",e,")"]:e}function gt(e){var t,n,r;r=e.split(/\r\n|\n/);for(
t=1,n=r.length;t<n;t++)r[t]=d+u+r[t];return r}function yt(e,n){var r,i,s;return r=
e[w.verbatim],typeof r=="string"?i=mt(gt(r),t.Sequence,n):(i=gt(r.content),s=r.precedence!=
null?r.precedence:t.Sequence,i=mt(i,s,n)),ot(i,e)}function bt(){}function wt(e){
return ot(e.name,e)}function Et(e,t){return e.async?"async"+(t?ut():v):""}function St
(e){var t=e.generator&&!w.moz.starlessGenerator;return t?"*"+v:""}function xt(e)
{var t=e.value;return t.async?Et(t,!e.computed):St(t)?"*":""}function Tt(e){var n
;n=new bt;if(L(e))return n.generateStatement(e,R);if(k(e))return n.generateExpression
(e,t.Sequence,j);throw new Error("Unknown node type: "+e.type)}function Nt(e,t){
var n=V(),i,s;return t!=null?(typeof t.indent=="string"&&(n.format.indent.style=
t.indent),typeof t.base=="number"&&(n.format.indent.base=t.base),t=G(n,t),a=t.format
.indent.style,typeof t.base=="string"?u=t.base:u=$(a,t.format.indent.base)):(t=n
,a=t.format.indent.style,u=$(a,t.format.indent.base)),f=t.format.json,l=t.format
.renumber,c=f?!1:t.format.hexadecimal,h=f?"double":t.format.quotes,p=t.format.escapeless
,d=t.format.newline,v=t.format.space,t.format.compact&&(d=v=a=u=""),m=t.format.parentheses
,g=t.format.semicolons,y=t.format.safeConcatenation,b=t.directive,E=f?null:t.parse
,S=t.sourceMap,x=t.sourceCode,T=t.format.preserveBlankLines&&x!==null,w=t,S&&(exports
.browser?r=global.sourceMap.SourceNode:r=require("source-map").SourceNode),i=Tt(
e),S?(s=i.toStringWithSourceMap({file:t.file,sourceRoot:t.sourceMapRoot}),t.sourceContent&&
s.map.setSourceContent(t.sourceMap,t.sourceContent),t.sourceMapWithCode?s:s.map.
toString()):(s={code:i.toString(),map:null},t.sourceMapWithCode?s:s.code)}var e,
t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C;i=require("estraverse"),s=require
("esutils"),e=i.Syntax,t={Sequence:0,Yield:1,Await:1,Assignment:1,Conditional:2,
ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality
:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14
,Call:15,New:16,TaggedTemplate:17,Member:18,Primary:19},n={"||":t.LogicalOR,"&&"
:t.LogicalAND,"|":t.BitwiseOR,"^":t.BitwiseXOR,"&":t.BitwiseAND,"==":t.Equality,"!="
:t.Equality,"===":t.Equality,"!==":t.Equality,is:t.Equality,isnt:t.Equality,"<":
t.Relational,">":t.Relational,"<=":t.Relational,">=":t.Relational,"in":t.Relational
,"instanceof":t.Relational,"<<":t.BitwiseSHIFT,">>":t.BitwiseSHIFT,">>>":t.BitwiseSHIFT
,"+":t.Additive,"-":t.Additive,"*":t.Multiplicative,"%":t.Multiplicative,"/":t.Multiplicative
};var A=1,O=2,M=4,_=8,D=16,P=32,H=O|M,B=A|O,j=A|O|M,F=A,I=M,q=A|M,R=A,U=A|P,z=0,
W=A|D,X=A|_;o=Array.isArray,o||(o=function(t){return Object.prototype.toString.call
(t)==="[object Array]"}),bt.prototype.maybeBlock=function(t,n){var r,i,s=this;return i=!
w.comment||!t.leadingComments,t.type===e.BlockStatement&&i?[v,this.generateStatement
(t,n)]:t.type===e.EmptyStatement&&i?";":(lt(function(){r=[d,ft(s.generateStatement
(t,n))]}),r)},bt.prototype.maybeBlockSuffix=function(t,n){var r=K(ot(n).toString
());return t.type===e.BlockStatement&&(!w.comment||!t.leadingComments)&&!r?[n,v]
:r?[n,u]:[n,d,u]},bt.prototype.generatePattern=function(t,n,r){return t.type===e
.Identifier?wt(t):this.generateExpression(t,n,r)},bt.prototype.generateFunctionParams=
function(n){var r,i,s,o;o=!1;if(n.type===e.ArrowFunctionExpression&&!n.rest&&(!n
.defaults||n.defaults.length===0)&&n.params.length===1&&n.params[0].type===e.Identifier
)s=[Et(n,!0),wt(n.params[0])];else{s=n.type===e.ArrowFunctionExpression?[Et(n,!1
)]:[],s.push("("),n.defaults&&(o=!0);for(r=0,i=n.params.length;r<i;++r)o&&n.defaults
[r]?s.push(this.generateAssignment(n.params[r],n.defaults[r],"=",t.Assignment,j)
):s.push(this.generatePattern(n.params[r],t.Assignment,j)),r+1<i&&s.push(","+v);
n.rest&&(n.params.length&&s.push(","+v),s.push("..."),s.push(wt(n.rest))),s.push
(")")}return s},bt.prototype.generateFunctionBody=function(n){var r,i;return r=this
.generateFunctionParams(n),n.type===e.ArrowFunctionExpression&&(r.push(v),r.push
("=>")),n.expression?(r.push(v),i=this.generateExpression(n.body,t.Assignment,j)
,i.toString().charAt(0)==="{"&&(i=["(",i,")"]),r.push(i)):r.push(this.maybeBlock
(n.body,X)),r},bt.prototype.generateIterationForStatement=function(n,r,i){var s=
["for"+v+"("],o=this;return lt(function(){r.left.type===e.VariableDeclaration?lt
(function(){s.push(r.left.kind+ut()),s.push(o.generateStatement(r.left.declarations
[0],z))}):s.push(o.generateExpression(r.left,t.Call,j)),s=at(s,n),s=[at(s,o.generateExpression
(r.right,t.Sequence,j)),")"]}),s.push(this.maybeBlock(r.body,i)),s},bt.prototype
.generatePropertyKey=function(e,n,r){var i=[];return n&&i.push("["),r.type==="AssignmentPattern"?
i.push(this.AssignmentPattern(r,t.Sequence,j)):i.push(this.generateExpression(e,
t.Sequence,j)),n&&i.push("]"),i},bt.prototype.generateAssignment=function(e,n,r,
i,s){return t.Assignment<i&&(s|=A),mt([this.generateExpression(e,t.Call,s),v+r+v
,this.generateExpression(n,t.Assignment,s)],t.Assignment,i)},bt.prototype.semicolon=
function(e){return!g&&e&P?"":";"},bt.Statement={BlockStatement:function(e,t){var n
,r,i=["{",d],s=this;return lt(function(){e.body.length===0&&T&&(n=e.range,n[1]-n
[0]>2&&(r=x.substring(n[0]+1,n[1]-1),r[0]==="\n"&&(i=["{"]),i.push(r)));var o,u,
a,f;f=R,t&_&&(f|=D);for(o=0,u=e.body.length;o<u;++o)T&&(o===0&&(e.body[0].leadingComments&&
(n=e.body[0].leadingComments[0].extendedRange,r=x.substring(n[0],n[1]),r[0]==="\n"&&
(i=["{"])),e.body[0].leadingComments||vt(e.range[0],e.body[0].range[0],i)),o>0&&!
e.body[o-1].trailingComments&&!e.body[o].leadingComments&&vt(e.body[o-1].range[1
],e.body[o].range[0],i)),o===u-1&&(f|=P),e.body[o].leadingComments&&T?a=s.generateStatement
(e.body[o],f):a=ft(s.generateStatement(e.body[o],f)),i.push(a),K(ot(a).toString(
))||(T&&o<u-1?e.body[o+1].leadingComments||i.push(d):i.push(d)),T&&o===u-1&&(e.body
[o].trailingComments||vt(e.body[o].range[1],e.range[1],i))}),i.push(ft("}")),i},
BreakStatement:function(e,t){return e.label?"break "+e.label.name+this.semicolon
(t):"break"+this.semicolon(t)},ContinueStatement:function(e,t){return e.label?"continue "+
e.label.name+this.semicolon(t):"continue"+this.semicolon(t)},ClassBody:function(
e,n){var r=["{",d],i=this;return lt(function(n){var s,o;for(s=0,o=e.body.length;
s<o;++s)r.push(n),r.push(i.generateExpression(e.body[s],t.Sequence,j)),s+1<o&&r.
push(d)}),K(ot(r).toString())||r.push(d),r.push(u),r.push("}"),r},ClassDeclaration
:function(e,n){var r,i;return r=["class"],e.id&&(r=at(r,this.generateExpression(
e.id,t.Sequence,j))),e.superClass&&(i=at("extends",this.generateExpression(e.superClass
,t.Assignment,j)),r=at(r,i)),r.push(v),r.push(this.generateStatement(e.body,U)),
r},DirectiveStatement:function(e,t){return w.raw&&e.raw?e.raw+this.semicolon(t):
rt(e.directive)+this.semicolon(t)},DoWhileStatement:function(e,n){var r=at("do",
this.maybeBlock(e.body,R));return r=this.maybeBlockSuffix(e.body,r),at(r,["while"+
v+"(",this.generateExpression(e.test,t.Sequence,j),")"+this.semicolon(n)])},CatchClause
:function(e,n){var r,i=this;return lt(function(){var n;r=["catch"+v+"(",i.generateExpression
(e.param,t.Sequence,j),")"],e.guard&&(n=i.generateExpression(e.guard,t.Sequence,
j),r.splice(2,0," if ",n))}),r.push(this.maybeBlock(e.body,R)),r},DebuggerStatement
:function(e,t){return"debugger"+this.semicolon(t)},EmptyStatement:function(e,t){
return";"},ExportDefaultDeclaration:function(e,n){var r=["export"],i;return i=n&
P?U:R,r=at(r,"default"),L(e.declaration)?r=at(r,this.generateStatement(e.declaration
,i)):r=at(r,this.generateExpression(e.declaration,t.Assignment,j)+this.semicolon
(n)),r},ExportNamedDeclaration:function(n,r){var i=["export"],s,o=this;return s=
r&P?U:R,n.declaration?at(i,this.generateStatement(n.declaration,s)):(n.specifiers&&
(n.specifiers.length===0?i=at(i,"{"+v+"}"):n.specifiers[0].type===e.ExportBatchSpecifier?
i=at(i,this.generateExpression(n.specifiers[0],t.Sequence,j)):(i=at(i,"{"),lt(function(
e){var r,s;i.push(d);for(r=0,s=n.specifiers.length;r<s;++r)i.push(e),i.push(o.generateExpression
(n.specifiers[r],t.Sequence,j)),r+1<s&&i.push(","+d)}),K(ot(i).toString())||i.push
(d),i.push(u+"}")),n.source?i=at(i,["from"+v,this.generateExpression(n.source,t.
Sequence,j),this.semicolon(r)]):i.push(this.semicolon(r))),i)},ExportAllDeclaration
:function(e,n){return["export"+v,"*"+v,"from"+v,this.generateExpression(e.source
,t.Sequence,j),this.semicolon(n)]},ExpressionStatement:function(n,r){function u(
e){var t;return e.slice(0,5)!=="class"?!1:(t=e.charCodeAt(5),t===123||s.code.isWhiteSpace
(t)||s.code.isLineTerminator(t))}function a(e){var t;return e.slice(0,8)!=="function"?!1
:(t=e.charCodeAt(8),t===40||s.code.isWhiteSpace(t)||t===42||s.code.isLineTerminator
(t))}function f(e){var t,n,r;if(e.slice(0,5)!=="async")return!1;if(!s.code.isWhiteSpace
(e.charCodeAt(5)))return!1;for(n=6,r=e.length;n<r;++n)if(!s.code.isWhiteSpace(e.
charCodeAt(n)))break;return n===r?!1:e.slice(n,n+8)!=="function"?!1:(t=e.charCodeAt
(n+8),t===40||s.code.isWhiteSpace(t)||t===42||s.code.isLineTerminator(t))}var i,
o;return i=[this.generateExpression(n.expression,t.Sequence,j)],o=ot(i).toString
(),o.charCodeAt(0)===123||u(o)||a(o)||f(o)||b&&r&D&&n.expression.type===e.Literal&&typeof
n.expression.value=="string"?i=["(",i,")"+this.semicolon(r)]:i.push(this.semicolon
(r)),i},ImportDeclaration:function(n,r){var i,s,o=this;return n.specifiers.length===0?
["import",v,this.generateExpression(n.source,t.Sequence,j),this.semicolon(r)]:(i=
["import"],s=0,n.specifiers[s].type===e.ImportDefaultSpecifier&&(i=at(i,[this.generateExpression
(n.specifiers[s],t.Sequence,j)]),++s),n.specifiers[s]&&(s!==0&&i.push(","),n.specifiers
[s].type===e.ImportNamespaceSpecifier?i=at(i,[v,this.generateExpression(n.specifiers
[s],t.Sequence,j)]):(i.push(v+"{"),n.specifiers.length-s===1?(i.push(v),i.push(this
.generateExpression(n.specifiers[s],t.Sequence,j)),i.push(v+"}"+v)):(lt(function(
e){var r,u;i.push(d);for(r=s,u=n.specifiers.length;r<u;++r)i.push(e),i.push(o.generateExpression
(n.specifiers[r],t.Sequence,j)),r+1<u&&i.push(","+d)}),K(ot(i).toString())||i.push
(d),i.push(u+"}"+v)))),i=at(i,["from"+v,this.generateExpression(n.source,t.Sequence
,j),this.semicolon(r)]),i)},VariableDeclarator:function(e,n){var r=n&A?j:H;return e
.init?[this.generateExpression(e.id,t.Assignment,r),v,"=",v,this.generateExpression
(e.init,t.Assignment,r)]:this.generatePattern(e.id,t.Assignment,r)},VariableDeclaration
:function(e,t){function a(){s=e.declarations[0],w.comment&&s.leadingComments?(n.
push("\n"),n.push(ft(u.generateStatement(s,o)))):(n.push(ut()),n.push(u.generateStatement
(s,o)));for(r=1,i=e.declarations.length;r<i;++r)s=e.declarations[r],w.comment&&s
.leadingComments?(n.push(","+d),n.push(ft(u.generateStatement(s,o)))):(n.push(","+
v),n.push(u.generateStatement(s,o)))}var n,r,i,s,o,u=this;return n=[e.kind],o=t&
A?R:z,e.declarations.length>1?lt(a):a(),n.push(this.semicolon(t)),n},ThrowStatement
:function(e,n){return[at("throw",this.generateExpression(e.argument,t.Sequence,j
)),this.semicolon(n)]},TryStatement:function(e,t){var n,r,i,s;n=["try",this.maybeBlock
(e.block,R)],n=this.maybeBlockSuffix(e.block,n);if(e.handlers)for(r=0,i=e.handlers
.length;r<i;++r){n=at(n,this.generateStatement(e.handlers[r],R));if(e.finalizer||
r+1!==i)n=this.maybeBlockSuffix(e.handlers[r].body,n)}else{s=e.guardedHandlers||
[];for(r=0,i=s.length;r<i;++r){n=at(n,this.generateStatement(s[r],R));if(e.finalizer||
r+1!==i)n=this.maybeBlockSuffix(s[r].body,n)}if(e.handler)if(o(e.handler))for(r=0
,i=e.handler.length;r<i;++r){n=at(n,this.generateStatement(e.handler[r],R));if(e
.finalizer||r+1!==i)n=this.maybeBlockSuffix(e.handler[r].body,n)}else n=at(n,this
.generateStatement(e.handler,R)),e.finalizer&&(n=this.maybeBlockSuffix(e.handler
.body,n))}return e.finalizer&&(n=at(n,["finally",this.maybeBlock(e.finalizer,R)]
)),n},SwitchStatement:function(e,n){var r,i,s,o,u,a=this;lt(function(){r=["switch"+
v+"(",a.generateExpression(e.discriminant,t.Sequence,j),")"+v+"{"+d]});if(e.cases
){u=R;for(s=0,o=e.cases.length;s<o;++s)s===o-1&&(u|=P),i=ft(this.generateStatement
(e.cases[s],u)),r.push(i),K(ot(i).toString())||r.push(d)}return r.push(ft("}")),
r},SwitchCase:function(n,r){var i,s,o,u,a,f=this;return lt(function(){n.test?i=[
at("case",f.generateExpression(n.test,t.Sequence,j)),":"]:i=["default:"],o=0,u=n
.consequent.length,u&&n.consequent[0].type===e.BlockStatement&&(s=f.maybeBlock(n
.consequent[0],R),i.push(s),o=1),o!==u&&!K(ot(i).toString())&&i.push(d),a=R;for(
;o<u;++o)o===u-1&&r&P&&(a|=P),s=ft(f.generateStatement(n.consequent[o],a)),i.push
(s),o+1!==u&&!K(ot(s).toString())&&i.push(d)}),i},IfStatement:function(n,r){var i
,s,o,u=this;return lt(function(){i=["if"+v+"(",u.generateExpression(n.test,t.Sequence
,j),")"]}),o=r&P,s=R,o&&(s|=P),n.alternate?(i.push(this.maybeBlock(n.consequent,
R)),i=this.maybeBlockSuffix(n.consequent,i),n.alternate.type===e.IfStatement?i=at
(i,["else ",this.generateStatement(n.alternate,s)]):i=at(i,at("else",this.maybeBlock
(n.alternate,s)))):i.push(this.maybeBlock(n.consequent,s)),i},ForStatement:function(
n,r){var i,s=this;return lt(function(){i=["for"+v+"("],n.init?n.init.type===e.VariableDeclaration?
i.push(s.generateStatement(n.init,z)):(i.push(s.generateExpression(n.init,t.Sequence
,H)),i.push(";")):i.push(";"),n.test?(i.push(v),i.push(s.generateExpression(n.test
,t.Sequence,j)),i.push(";")):i.push(";"),n.update?(i.push(v),i.push(s.generateExpression
(n.update,t.Sequence,j)),i.push(")")):i.push(")")}),i.push(this.maybeBlock(n.body
,r&P?U:R)),i},ForInStatement:function(e,t){return this.generateIterationForStatement
("in",e,t&P?U:R)},ForOfStatement:function(e,t){return this.generateIterationForStatement
("of",e,t&P?U:R)},LabeledStatement:function(e,t){return[e.label.name+":",this.maybeBlock
(e.body,t&P?U:R)]},Program:function(e,t){var n,r,i,s,o;s=e.body.length,n=[y&&s>0?"\n"
:""],o=W;for(i=0;i<s;++i)!y&&i===s-1&&(o|=P),T&&(i===0&&(e.body[0].leadingComments||
vt(e.range[0],e.body[i].range[0],n)),i>0&&!e.body[i-1].trailingComments&&!e.body
[i].leadingComments&&vt(e.body[i-1].range[1],e.body[i].range[0],n)),r=ft(this.generateStatement
(e.body[i],o)),n.push(r),i+1<s&&!K(ot(r).toString())&&(T?e.body[i+1].leadingComments||
n.push(d):n.push(d)),T&&i===s-1&&(e.body[i].trailingComments||vt(e.body[i].range
[1],e.range[1],n));return n},FunctionDeclaration:function(e,t){return[Et(e,!0),"function"
,St(e)||ut(),e.id?wt(e.id):"",this.generateFunctionBody(e)]},ReturnStatement:function(
e,n){return e.argument?[at("return",this.generateExpression(e.argument,t.Sequence
,j)),this.semicolon(n)]:["return"+this.semicolon(n)]},WhileStatement:function(e,
n){var r,i=this;return lt(function(){r=["while"+v+"(",i.generateExpression(e.test
,t.Sequence,j),")"]}),r.push(this.maybeBlock(e.body,n&P?U:R)),r},WithStatement:function(
e,n){var r,i=this;return lt(function(){r=["with"+v+"(",i.generateExpression(e.object
,t.Sequence,j),")"]}),r.push(this.maybeBlock(e.body,n&P?U:R)),r}},Q(bt.prototype
,bt.Statement),bt.Expression={SequenceExpression:function(e,n,r){var i,s,o;t.Sequence<
n&&(r|=A),i=[];for(s=0,o=e.expressions.length;s<o;++s)i.push(this.generateExpression
(e.expressions[s],t.Assignment,r)),s+1<o&&i.push(","+v);return mt(i,t.Sequence,n
)},AssignmentExpression:function(e,t,n){return this.generateAssignment(e.left,e.
right,e.operator,t,n)},ArrowFunctionExpression:function(e,n,r){return mt(this.generateFunctionBody
(e),t.ArrowFunction,n)},ConditionalExpression:function(e,n,r){return t.Conditional<
n&&(r|=A),mt([this.generateExpression(e.test,t.LogicalOR,r),v+"?"+v,this.generateExpression
(e.consequent,t.Assignment,r),v+":"+v,this.generateExpression(e.alternate,t.Assignment
,r)],t.Conditional,n)},LogicalExpression:function(e,t,n){return this.BinaryExpression
(e,t,n)},BinaryExpression:function(e,t,r){var i,o,u,a;return o=n[e.operator],o<t&&
(r|=A),u=this.generateExpression(e.left,o,r),a=u.toString(),a.charCodeAt(a.length-1
)===47&&s.code.isIdentifierPartES5(e.operator.charCodeAt(0))?i=[u,ut(),e.operator
]:i=at(u,e.operator),u=this.generateExpression(e.right,o+1,r),e.operator==="/"&&
u.toString().charAt(0)==="/"||e.operator.slice(-1)==="<"&&u.toString().slice(0,3
)==="!--"?(i.push(ut()),i.push(u)):i=at(i,u),e.operator==="in"&&!(r&A)?["(",i,")"
]:mt(i,o,t)},CallExpression:function(e,n,r){var i,s,o;i=[this.generateExpression
(e.callee,t.Call,B)],i.push("(");for(s=0,o=e.arguments.length;s<o;++s)i.push(this
.generateExpression(e.arguments[s],t.Assignment,j)),s+1<o&&i.push(","+v);return i
.push(")"),r&O?mt(i,t.Call,n):["(",i,")"]},NewExpression:function(e,n,r){var i,s
,o,u,a;s=e.arguments.length,a=r&M&&!m&&s===0?q:F,i=at("new",this.generateExpression
(e.callee,t.New,a));if(!(r&M)||m||s>0){i.push("(");for(o=0,u=s;o<u;++o)i.push(this
.generateExpression(e.arguments[o],t.Assignment,j)),o+1<u&&i.push(","+v);i.push(")"
)}return mt(i,t.New,n)},MemberExpression:function(n,r,i){var o,u;return o=[this.
generateExpression(n.object,t.Call,i&O?B:F)],n.computed?(o.push("["),o.push(this
.generateExpression(n.property,t.Sequence,i&O?j:q)),o.push("]")):(n.object.type===
e.Literal&&typeof n.object.value=="number"&&(u=ot(o).toString(),u.indexOf(".")<0&&!/[eExX]/
.test(u)&&s.code.isDecimalDigit(u.charCodeAt(u.length-1))&&!(u.length>=2&&u.charCodeAt
(0)===48)&&o.push(".")),o.push("."),o.push(wt(n.property))),mt(o,t.Member,r)},MetaProperty
:function(e,n,r){var i;return i=[],i.push(e.meta),i.push("."),i.push(e.property)
,mt(i,t.Member,n)},UnaryExpression:function(e,n,r){var i,o,u,a,f;return o=this.generateExpression
(e.argument,t.Unary,j),v===""?i=at(e.operator,o):(i=[e.operator],e.operator.length>2?
i=at(i,o):(a=ot(i).toString(),f=a.charCodeAt(a.length-1),u=o.toString().charCodeAt
(0),(f===43||f===45)&&f===u||s.code.isIdentifierPartES5(f)&&s.code.isIdentifierPartES5
(u)?(i.push(ut()),i.push(o)):i.push(o))),mt(i,t.Unary,n)},YieldExpression:function(
e,n,r){var i;return e.delegate?i="yield*":i="yield",e.argument&&(i=at(i,this.generateExpression
(e.argument,t.Yield,j))),mt(i,t.Yield,n)},AwaitExpression:function(e,n,r){var i=
at(e.all?"await*":"await",this.generateExpression(e.argument,t.Await,j));return mt
(i,t.Await,n)},UpdateExpression:function(e,n,r){return e.prefix?mt([e.operator,this
.generateExpression(e.argument,t.Unary,j)],t.Unary,n):mt([this.generateExpression
(e.argument,t.Postfix,j),e.operator],t.Postfix,n)},FunctionExpression:function(e
,t,n){var r=[Et(e,!0),"function"];return e.id?(r.push(St(e)||ut()),r.push(wt(e.id
))):r.push(St(e)||v),r.push(this.generateFunctionBody(e)),r},ArrayPattern:function(
e,t,n){return this.ArrayExpression(e,t,n,!0)},ArrayExpression:function(e,n,r,i){
var s,o,a=this;return e.elements.length?(o=i?!1:e.elements.length>1,s=["[",o?d:""
],lt(function(n){var r,i;for(r=0,i=e.elements.length;r<i;++r)e.elements[r]?(s.push
(o?n:""),s.push(a.generateExpression(e.elements[r],t.Assignment,j))):(o&&s.push(
n),r+1===i&&s.push(",")),r+1<i&&s.push(","+(o?d:v))}),o&&!K(ot(s).toString())&&s
.push(d),s.push(o?u:""),s.push("]"),s):"[]"},RestElement:function(e,t,n){return"..."+
this.generatePattern(e.argument)},ClassExpression:function(e,n,r){var i,s;return i=
["class"],e.id&&(i=at(i,this.generateExpression(e.id,t.Sequence,j))),e.superClass&&
(s=at("extends",this.generateExpression(e.superClass,t.Assignment,j)),i=at(i,s))
,i.push(v),i.push(this.generateStatement(e.body,U)),i},MethodDefinition:function(
e,t,n){var r,i;return e["static"]?r=["static"+v]:r=[],e.kind==="get"||e.kind==="set"?
i=[at(e.kind,this.generatePropertyKey(e.key,e.computed,e.value)),this.generateFunctionBody
(e.value)]:i=[xt(e),this.generatePropertyKey(e.key,e.computed,e.value),this.generateFunctionBody
(e.value)],at(r,i)},Property:function(e,n,r){return e.kind==="get"||e.kind==="set"?
[e.kind,ut(),this.generatePropertyKey(e.key,e.computed,e.value),this.generateFunctionBody
(e.value)]:e.shorthand?this.generatePropertyKey(e.key,e.computed,e.value):e.method?
[xt(e),this.generatePropertyKey(e.key,e.computed,e.value),this.generateFunctionBody
(e.value)]:[this.generatePropertyKey(e.key,e.computed,e.value),":"+v,this.generateExpression
(e.value,t.Assignment,j)]},ObjectExpression:function(e,n,r){var i,s,o,a=this;return e
.properties.length?(i=e.properties.length>1,lt(function(){o=a.generateExpression
(e.properties[0],t.Sequence,j)}),!i&&!J(ot(o).toString())?["{",v,o,v,"}"]:(lt(function(
n){var r,u;s=["{",d,n,o];if(i){s.push(","+d);for(r=1,u=e.properties.length;r<u;++
r)s.push(n),s.push(a.generateExpression(e.properties[r],t.Sequence,j)),r+1<u&&s.
push(","+d)}}),K(ot(s).toString())||s.push(d),s.push(u),s.push("}"),s)):"{}"},AssignmentPattern
:function(e,t,n){return this.generateAssignment(e.left,e.right,"=",t,n)},ObjectPattern
:function(n,r,i){var s,o,a,f,l,c=this;if(!n.properties.length)return"{}";f=!1;if(
n.properties.length===1)l=n.properties[0],l.value.type!==e.Identifier&&(f=!0);else for(
o=0,a=n.properties.length;o<a;++o){l=n.properties[o];if(!l.shorthand){f=!0;break}
}return s=["{",f?d:""],lt(function(e){var r,i;for(r=0,i=n.properties.length;r<i;++
r)s.push(f?e:""),s.push(c.generateExpression(n.properties[r],t.Sequence,j)),r+1<
i&&s.push(","+(f?d:v))}),f&&!K(ot(s).toString())&&s.push(d),s.push(f?u:""),s.push
("}"),s},ThisExpression:function(e,t,n){return"this"},Super:function(e,t,n){return"super"
},Identifier:function(e,t,n){return wt(e)},ImportDefaultSpecifier:function(e,t,n
){return wt(e.id||e.local)},ImportNamespaceSpecifier:function(e,t,n){var r=["*"]
,i=e.id||e.local;return i&&r.push(v+"as"+ut()+wt(i)),r},ImportSpecifier:function(
e,t,n){var r=e.imported,i=[r.name],s=e.local;return s&&s.name!==r.name&&i.push(ut
()+"as"+ut()+wt(s)),i},ExportSpecifier:function(e,t,n){var r=e.local,i=[r.name],
s=e.exported;return s&&s.name!==r.name&&i.push(ut()+"as"+ut()+wt(s)),i},Literal:
function(t,n,r){var i;if(t.hasOwnProperty("raw")&&E&&w.raw)try{i=E(t.raw).body[0
].expression;if(i.type===e.Literal&&i.value===t.value)return t.raw}catch(s){}return t
.value===null?"null":typeof t.value=="string"?it(t.value):typeof t.value=="number"?
Y(t.value):typeof t.value=="boolean"?t.value?"true":"false":et(t.value)},GeneratorExpression
:function(e,t,n){return this.ComprehensionExpression(e,t,n)},ComprehensionExpression
:function(n,r,i){var s,o,u,a,f=this;return s=n.type===e.GeneratorExpression?["("
]:["["],w.moz.comprehensionExpressionStartsWithAssignment&&(a=this.generateExpression
(n.body,t.Assignment,j),s.push(a)),n.blocks&&lt(function(){for(o=0,u=n.blocks.length
;o<u;++o)a=f.generateExpression(n.blocks[o],t.Sequence,j),o>0||w.moz.comprehensionExpressionStartsWithAssignment?
s=at(s,a):s.push(a)}),n.filter&&(s=at(s,"if"+v),a=this.generateExpression(n.filter
,t.Sequence,j),s=at(s,["(",a,")"])),w.moz.comprehensionExpressionStartsWithAssignment||
(a=this.generateExpression(n.body,t.Assignment,j),s=at(s,a)),s.push(n.type===e.GeneratorExpression?")"
:"]"),s},ComprehensionBlock:function(n,r,i){var s;return n.left.type===e.VariableDeclaration?
s=[n.left.kind,ut(),this.generateStatement(n.left.declarations[0],z)]:s=this.generateExpression
(n.left,t.Call,j),s=at(s,n.of?"of":"in"),s=at(s,this.generateExpression(n.right,
t.Sequence,j)),["for"+v+"(",s,")"]},SpreadElement:function(e,n,r){return["...",this
.generateExpression(e.argument,t.Assignment,j)]},TaggedTemplateExpression:function(
e,n,r){var i=B;r&O||(i=F);var s=[this.generateExpression(e.tag,t.Call,i),this.generateExpression
(e.quasi,t.Primary,I)];return mt(s,t.TaggedTemplate,n)},TemplateElement:function(
e,t,n){return e.value.raw},TemplateLiteral:function(e,n,r){var i,s,o;i=["`"];for(
s=0,o=e.quasis.length;s<o;++s)i.push(this.generateExpression(e.quasis[s],t.Primary
,j)),s+1<o&&(i.push("${"+v),i.push(this.generateExpression(e.expressions[s],t.Sequence
,j)),i.push(v+"}"));return i.push("`"),i},ModuleSpecifier:function(e,t,n){return this
.Literal(e,t,n)}},Q(bt.prototype,bt.Expression),bt.prototype.generateExpression=
function(t,n,r){var i,s;return s=t.type||e.Property,w.verbatim&&t.hasOwnProperty
(w.verbatim)?yt(t,n):(i=this[s](t,n,r),w.comment&&(i=dt(t,i)),ot(i,t))},bt.prototype
.generateStatement=function(t,n){var r,i;return r=this[t.type](t,n),w.comment&&(
r=dt(t,r)),i=ot(r).toString(),t.type===e.Program&&!y&&d===""&&i.charAt(i.length-1
)==="\n"&&(r=S?ot(r).replaceRight(/\s+$/,""):i.replace(/\s+$/,"")),ot(r,t)},N={indent
:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact
:!0,parentheses:!1,semicolons:!1},C=V().format,exports.version=require("./package.json"
).version,exports.generate=Nt,exports.attachComments=i.attachComments,exports.Precedence=
G({},t),exports.browser=!1,exports.FORMAT_MINIFY=N,exports.FORMAT_DEFAULTS=C})()
}());
/* jslint-ignore-end */



// init lib handlebars
// 2013-12-26T22:37:39Z
// https://github.com/components/handlebars.js/blob/v1.2.1/handlebars.js
        local.handlebars = {};
        local.handlebars.compile = function (template) {
        /*
         * this function will return a function that will render the template with a given dict
         */
            return function (dict) {
                var result;
                result = template;
                // render triple-curly-brace
                result = result.replace((/\{\{\{/g), '{{').replace((/\}\}\}/g), '}}');
                // render with-statement
                result = result.replace(
                    (/\{\{#with (.+?)\}\}([\S\s]+?)\{\{\/with\}\}/g),
                    function (match0, match1, match2) {
                        // jslint-hack
                        local.nop(match0);
                        return local.handlebars.replace(match2, dict, match1 + '.');
                    }
                );
                // render helper
                result = result.replace(
                    '{{#show_ignores metrics}}{{/show_ignores}}',
                    function () {
                        return local.handlebars.show_ignores(dict.metrics);
                    }
                );
                result = result.replace('{{#show_line_execution_counts fileCoverage}}' +
                    '{{maxLines}}{{/show_line_execution_counts}}', function () {
                        return local.handlebars.show_line_execution_counts(
                            dict.fileCoverage,
                            { fn: function () {
                                return dict.maxLines;
                            } }
                        );
                    });
                result = result.replace(
                    '{{#show_lines}}{{maxLines}}{{/show_lines}}',
                    function () {
                        return local.handlebars.show_lines({ fn: function () {
                            return dict.maxLines;
                        } });
                    }
                );
                result = result.replace(
                    '{{#show_picture}}{{metrics.statements.pct}}{{/show_picture}}',
                    function () {
                        return local.handlebars.show_picture({ fn: function () {
                            return dict.metrics.statements.pct;
                        } });
                    }
                );
                result = local.handlebars.replace(result, dict, '');
                // show code last
                result = result.replace(
                    '{{#show_code structured}}{{/show_code}}',
                    function () {
                        return local.handlebars.show_code(dict.structured);
                    }
                );
                return result;
            };
        };
        local.handlebars.registerHelper = function (key, helper) {
        /*
         * this function will register the helper-function
         */
            local.handlebars[key] = function () {
                try {
                    return helper.apply(null, arguments);
                } catch (ignore) {
                }
            };
        };
        local.handlebars.replace = function (template, dict, withPrefix) {
        /*
         * this function will replace the keys in the template with the dict's key / value
         */
            var value;
            // search for keys in the template
            return template.replace((/\{\{.+?\}\}/g), function (match0) {
                value = dict;
                // iteratively lookup nested values in the dict
                (withPrefix + match0.slice(2, -2)).split('.').forEach(function (key) {
                    value = value && value[key];
                });
                return value === undefined
                    ? match0
                    : String(value);
            });
        };



// init lib istanbul.collector
// 2013-12-17T03:00:58Z
// https://github.com/gotwarlost/istanbul/blob/v0.2.16/lib/collector.js
        local.collector = {
            fileCoverageFor: function (file) {
                return local.global.__coverage__[file];
            },
            files: function () {
                return Object.keys(local.global.__coverage__).filter(function (key) {
                    if (local.global.__coverage__[key] &&
                            local.global.__coverageCodeDict__[key]) {
                        // reset derived info
                        local.global.__coverage__[key].l = null;
                        return true;
                    }
                });
            }
        };



// init lib istanbul.insertion-text
/* istanbul ignore next */
/* jslint-ignore-begin */
// 2012-09-12T06:39:52Z
// https://github.com/gotwarlost/istanbul/blob/v0.2.16/lib/util/insertion-text.js
// utility2-uglifyjs https://raw.githubusercontent.com/gotwarlost/istanbul/v0.2.16/lib/util/insertion-text.js
(function () { var module; module = {};
function InsertionText(e,t){this.text=e,this.origLength=e.length,this.offsets=[]
,this.consumeBlanks=t,this.startPos=this.findFirstNonBlank(),this.endPos=this.findLastNonBlank
()}var WHITE_RE=/[ \f\n\r\t\v\u00A0\u2028\u2029]/;InsertionText.prototype={findFirstNonBlank
:function(){var e=-1,t=this.text,n=t.length,r;for(r=0;r<n;r+=1)if(!t.charAt(r).match
(WHITE_RE)){e=r;break}return e},findLastNonBlank:function(){var e=this.text,t=e.
length,n=e.length+1,r;for(r=t-1;r>=0;r-=1)if(!e.charAt(r).match(WHITE_RE)){n=r;break}
return n},originalLength:function(){return this.origLength},insertAt:function(e,
t,n,r){r=typeof r=="undefined"?this.consumeBlanks:r,e=e>this.originalLength()?this
.originalLength():e,e=e<0?0:e,r&&(e<=this.startPos&&(e=0),e>this.endPos&&(e=this
.origLength));var i=t.length,s=this.findOffset(e,i,n),o=e+s,u=this.text;return this
.text=u.substring(0,o)+t+u.substring(o),this},findOffset:function(e,t,n){var r=this
.offsets,i,s=0,o;for(o=0;o<r.length;o+=1){i=r[o];if(i.pos<e||i.pos===e&&!n)s+=i.
len;if(i.pos>=e)break}return i&&i.pos===e?i.len+=t:r.splice(o,0,{pos:e,len:t}),s
},wrap:function(e,t,n,r,i){return this.insertAt(e,t,!0,i),this.insertAt(n,r,!1,i
),this},wrapLine:function(e,t){this.wrap(0,e,this.originalLength(),t)},toString:
function(){return this.text}},module.exports=InsertionText
local['../util/insertion-text'] = module.exports; }());
/* jslint-ignore-end */



// init lib istanbul.instrumenter
/* istanbul ignore next */
/* jslint-ignore-begin */
// 2016-06-26T22:12:08Z
// https://github.com/gotwarlost/istanbul/blob/v0.4.5/lib/instrumenter.js
// utility2-uglifyjs https://raw.githubusercontent.com/gotwarlost/istanbul/v0.4.5/lib/instrumenter.js
// replace '(t?"":r)' with 'Math.random().toString(16).slice(2)'
(function () { var escodegen, esprima, module, window; escodegen = local.escodegen; esprima = local.esprima; module = undefined; window = local;
(function(e){"use strict";function p(e,t){var n,r;return s!==null?(n=s.createHash
("md5"),n.update(e),r=n.digest("base64"),r=r.replace(new RegExp("=","g"),"").replace
(new RegExp("\\+","g"),"_").replace(new RegExp("/","g"),"$")):(window.__cov_seq=
window.__cov_seq||0,window.__cov_seq+=1,r=window.__cov_seq),"__cov_"+Math.random().toString(16).slice(2)}function d
(e,t){h(t)||(t=[t]),Array.prototype.push.apply(e,t)}function v(e,t,n,r){this.walkMap=
e,this.preprocessor=t,this.scope=n,this.debug=r,this.debug&&(this.level=0,this.seq=!0
)}function m(e,n){var r=e.type,i,s,o=t[r],u=!!e.loc||e.type===t.Program.name,a=u?
n.walkMap[r]:null,f,l,c,p,v,m,g,y,b,w,E;if(!t[r]){console.error(e),console.error
("Unsupported node type:"+r);return}o=t[r].children;if(e.walking)throw new Error
("Infinite regress: Custom walkers may NOT call walker.apply(node)");e.walking=!0
,m=n.apply(e,n.preprocessor),i=m.preprocessor,i&&(delete m.preprocessor,m=n.apply
(e,i));if(h(a))for(c=0;c<a.length;c+=1){E=c===a.length-1,m=n.apply(m,a[c]);if(m.
type!==r&&!E)throw new Error("Only the last walker is allowed to change the node type: [type was: "+
r+" ]")}else a&&(m=n.apply(e,a));if(e.skipSelf)return;for(f=0;f<o.length;f+=1){p=
o[f],v=e[p];if(v&&!v.skipWalk){b={node:e,property:p};if(h(v)){g=[];for(l=0;l<v.length
;l+=1)y=v[l],b.index=l,y?(w=n.apply(y,null,b),h(w.prepend)&&(d(g,w.prepend),delete
w.prepend)):w=undefined,d(g,w);e[p]=g}else{w=n.apply(v,null,b);if(h(w.prepend))throw new
Error("Internal error: attempt to prepend statements in disallowed (non-array) context"
);e[p]=w}}}return s=m.postprocessor,s&&(delete m.postprocessor,m=n.apply(m,s)),delete
e.walking,m}function g(e){this.opts=e||{debug:!1,walkDebug:!1,coverageVariable:"__coverage__"
,codeGenerationOptions:undefined,noAutoWrap:!1,noCompact:!1,embedSource:!1,preserveComments
:!1,esModules:!1},this.opts.esModules&&!this.opts.noAutoWrap&&(this.opts.noAutoWrap=!0
,this.opts.debug&&console.log("Setting noAutoWrap to true as required by esModules"
)),this.walker=new v({ArrowFunctionExpression:[this.arrowBlockConverter],ExpressionStatement
:this.coverStatement,ExportNamedDeclaration:this.coverExport,BreakStatement:this
.coverStatement,ContinueStatement:this.coverStatement,DebuggerStatement:this.coverStatement
,ReturnStatement:this.coverStatement,ThrowStatement:this.coverStatement,TryStatement
:[this.paranoidHandlerCheck,this.coverStatement],VariableDeclaration:this.coverStatement
,IfStatement:[this.ifBlockConverter,this.coverStatement,this.ifBranchInjector],ForStatement
:[this.skipInit,this.loopBlockConverter,this.coverStatement],ForInStatement:[this
.skipLeft,this.loopBlockConverter,this.coverStatement],ForOfStatement:[this.skipLeft
,this.loopBlockConverter,this.coverStatement],WhileStatement:[this.loopBlockConverter
,this.coverStatement],DoWhileStatement:[this.loopBlockConverter,this.coverStatement
],SwitchStatement:[this.coverStatement,this.switchBranchInjector],SwitchCase:[this
.switchCaseInjector],WithStatement:[this.withBlockConverter,this.coverStatement]
,FunctionDeclaration:[this.coverFunction,this.coverStatement],FunctionExpression
:this.coverFunction,LabeledStatement:this.coverStatement,ConditionalExpression:this
.conditionalBranchInjector,LogicalExpression:this.logicalExpressionBranchInjector
,ObjectExpression:this.maybeAddType,MetaProperty:this.coverMetaProperty},this.extractCurrentHint
,this,this.opts.walkDebug),this.opts.backdoor&&this.opts.backdoor.omitTrackerSuffix&&
(this.omitTrackerSuffix=!0)}var t,n,r=e?require("esprima"):esprima,i=e?require("escodegen"
):escodegen,s=e?require("crypto"):null,o="(function () { ",u="\n}());",a=/^\s*istanbul\s+ignore\s+(if|else|next)(?=\W|$)/
,f,l,c,h=Array.isArray;h||(h=function(e){return e&&Object.prototype.toString.call
(e)==="[object Array]"});if(!e){l={"Could not find esprima":r,"Could not find escodegen"
:i,"JSON object not in scope":JSON,"Array does not implement push":[].push,"Array does not implement unshift"
:[].unshift};for(c in l)if(l.hasOwnProperty(c)&&!l[c])throw new Error(c)}t={AssignmentExpression
:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"
],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression
:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement
:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody
:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass"
,"body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter"
,"body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement
:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"
],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"
],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported"
,"local"],ExpressionStatement:["expression"],ForStatement:["init","test","update"
,"body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"
],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"
],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test"
,"consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier
:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"
],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"
],MetaProperty:["meta","property"],MemberExpression:["object","property"],MethodDefinition
:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression
:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"
],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"
],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase
:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:
[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"
],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression
:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"
],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression
:["argument"]};for(n in t)t.hasOwnProperty(n)&&(t[n]={name:n,children:t[n]});f={
variable:function(e){return{type:t.Identifier.name,name:e}},stringLiteral:function(
e){return{type:t.Literal.name,value:String(e)}},numericLiteral:function(e){return{
type:t.Literal.name,value:Number(e)}},statement:function(e){return{type:t.ExpressionStatement
.name,expression:e}},dot:function(e,n){return{type:t.MemberExpression.name,computed
:!1,object:e,property:n}},subscript:function(e,n){return{type:t.MemberExpression
.name,computed:!0,object:e,property:n}},postIncrement:function(e){return{type:t.
UpdateExpression.name,operator:"++",prefix:!1,argument:e}},sequence:function(e,n
){return{type:t.SequenceExpression.name,expressions:[e,n]}},returnStatement:function(
e){return{type:t.ReturnStatement.name,argument:e}}},v.prototype={startWalk:function(
e){this.path=[],this.apply(e)},apply:function(e,t,n){var r,i,s,o;t=t||m;if(this.
debug){this.seq+=1,this.level+=1,s=this.seq,o="";for(i=0;i<this.level;i+=1)o+="    "
;console.log(o+"Enter ("+s+"):"+e.type)}return n&&this.path.push(n),r=t.call(this
.scope,e,this),n&&this.path.pop(),this.debug&&(this.level-=1,console.log(o+"Return ("+
s+"):"+e.type)),r||e},startLineForNode:function(e){return e&&e.loc&&e.loc.start?
e.loc.start.line:null},ancestor:function(e){return this.path.length>e-1?this.path
[this.path.length-e]:null},parent:function(){return this.ancestor(1)},isLabeled:
function(){var e=this.parent();return e&&e.node.type===t.LabeledStatement.name}}
,g.prototype={instrumentSync:function(e,n){var s;if(typeof e!="string")throw new
Error("Code must be string");e.charAt(0)==="#"&&(e="//"+e),this.opts.noAutoWrap||
(e=o+e+u);try{s=r.parse(e,{loc:!0,range:!0,tokens:this.opts.preserveComments,comment
:!0,sourceType:this.opts.esModules?"module":"script"})}catch(a){throw console.log
("Failed to parse file: "+n),a}return this.opts.preserveComments&&(s=i.attachComments
(s,s.comments,s.tokens)),this.opts.noAutoWrap||(s={type:t.Program.name,body:s.body
[0].expression.callee.body.body,comments:s.comments}),this.instrumentASTSync(s,n
,e)},filterHints:function(e){var t=[],n,r,i;if(!e||!h(e))return t;for(n=0;n<e.length
;n+=1)r=e[n],r&&r.value&&r.range&&h(r.range)&&(i=String(r.value).match(a),i&&t.push
({type:i[1],start:r.range[0],end:r.range[1]}));return t},extractCurrentHint:function(
e){if(!e.range)return;var t=this.currentState.lastHintPosition+1,n=this.currentState
.hints,r=e.range[0],i;this.currentState.currentHint=null;while(t<n.length){i=n[t
];if(!(i.end<r))break;this.currentState.currentHint=i,this.currentState.lastHintPosition=
t,t+=1}},instrumentASTSync:function(e,t,n){var r=!1,s,o,u,a,f;t=t||String((new Date
).getTime())+".js",this.sourceMap=null,this.coverState={path:t,s:{},b:{},f:{},fnMap
:{},statementMap:{},branchMap:{}},this.currentState={trackerVar:p(t,this.omitTrackerSuffix
),func:0,branch:0,variable:0,statement:0,hints:this.filterHints(e.comments),currentHint
:null,lastHintPosition:-1,ignoring:0},e.body&&e.body.length>0&&this.isUseStrictExpression
(e.body[0])&&(e.body.shift(),r=!0),this.walker.startWalk(e),s=this.opts.codeGenerationOptions||
{format:{compact:!this.opts.noCompact}},s.comment=this.opts.preserveComments,o=i
.generate(e,s),u=this.getPreamble(n||"",r);if(o.map&&o.code){a=u.split(/\r\n|\r|\n/
).length;for(f=0;f<o.map._mappings._array.length;f+=1)o.map._mappings._array[f].
generatedLine+=a;this.sourceMap=o.map,o=o.code}return u+"\n"+o+"\n"},instrument:
function(e,t,n){!n&&typeof t=="function"&&(n=t,t=null);try{n(null,this.instrumentSync
(e,t))}catch(r){n(r)}},lastFileCoverage:function(){return this.coverState},lastSourceMap
:function(){return this.sourceMap},fixColumnPositions:function(e){var t=o.length
,n=function(e){e.start.line===1&&(e.start.column-=t),e.end.line===1&&(e.end.column-=
t)},r,i,s,u;i=e.statementMap;for(r in i)i.hasOwnProperty(r)&&n(i[r]);i=e.fnMap;for(
r in i)i.hasOwnProperty(r)&&n(i[r].loc);i=e.branchMap;for(r in i)if(i.hasOwnProperty
(r)){u=i[r].locations;for(s=0;s<u.length;s+=1)n(u[s])}},getPreamble:function(e,t
){var n=this.opts.coverageVariable||"__coverage__",r=this.coverState.path.replace
(/\\/g,"\\\\"),i=this.currentState.trackerVar,s,o=t?'"use strict";':"",u=function(
e){return function(){return e}},a;return this.opts.noAutoWrap||this.fixColumnPositions
(this.coverState),this.opts.embedSource&&(this.coverState.code=e.split(/(?:\r?\n)|\r/
)),s=this.opts.debug?JSON.stringify(this.coverState,undefined,4):JSON.stringify(
this.coverState),a=["%STRICT%","var %VAR% = (Function('return this'))();","if (!%VAR%.%GLOBAL%) { %VAR%.%GLOBAL% = {}; }"
,"%VAR% = %VAR%.%GLOBAL%;","if (!(%VAR%['%FILE%'])) {","   %VAR%['%FILE%'] = %OBJECT%;"
,"}","%VAR% = %VAR%['%FILE%'];"].join("\n").replace(/%STRICT%/g,u(o)).replace(/%VAR%/g
,u(i)).replace(/%GLOBAL%/g,u(n)).replace(/%FILE%/g,u(r)).replace(/%OBJECT%/g,u(s
)),a},startIgnore:function(){this.currentState.ignoring+=1},endIgnore:function()
{this.currentState.ignoring-=1},convertToBlock:function(e){return e?e.type==="BlockStatement"?
e:{type:"BlockStatement",body:[e]}:{type:"BlockStatement",body:[]}},arrowBlockConverter
:function(e){var t;e.expression&&(t=f.returnStatement(e.body),t.loc=e.body.loc,e
.body=this.convertToBlock(t),e.expression=!1)},paranoidHandlerCheck:function(e){!
e.handler&&e.handlers&&(e.handler=e.handlers[0])},ifBlockConverter:function(e){e
.consequent=this.convertToBlock(e.consequent),e.alternate=this.convertToBlock(e.
alternate)},loopBlockConverter:function(e){e.body=this.convertToBlock(e.body)},withBlockConverter
:function(e){e.body=this.convertToBlock(e.body)},statementName:function(e,t){var n
,r=!!this.currentState.ignoring;return e.skip=r||undefined,t=t||0,this.currentState
.statement+=1,n=this.currentState.statement,this.coverState.statementMap[n]=e,this
.coverState.s[n]=t,n},skipInit:function(e){e.init&&(e.init.skipWalk=!0)},skipLeft
:function(e){e.left.skipWalk=!0},isUseStrictExpression:function(e){return e&&e.type===
t.ExpressionStatement.name&&e.expression&&e.expression.type===t.Literal.name&&e.
expression.value==="use strict"},maybeSkipNode:function(e,t){var n=!!this.currentState
.ignoring,r=this.currentState.currentHint,i=!n&&r&&r.type===t;return i?(this.startIgnore
(),e.postprocessor=this.endIgnore,!0):!1},coverMetaProperty:function(e){e.skipSelf=!0
},coverStatement:function(e,n){var r,i,s,o;this.maybeSkipNode(e,"next");if(this.
isUseStrictExpression(e)){o=n.ancestor(2);if(o&&(o.node.type===t.FunctionExpression
.name||o.node.type===t.FunctionDeclaration.name)&&n.parent().node.body[0]===e)return}
if(e.type===t.FunctionDeclaration.name)this.statementName(e.loc,1);else{s=n.parent
();if(s&&s.node.type===t.ExportNamedDeclaration.name)return;r=this.statementName
(e.loc),i=f.statement(f.postIncrement(f.subscript(f.dot(f.variable(this.currentState
.trackerVar),f.variable("s")),f.stringLiteral(r)))),this.splice(i,e,n)}},coverExport
:function(e,t){var n,r;if(!e.declaration||!e.declaration.declarations)return;this
.maybeSkipNode(e,"next"),n=this.statementName(e.declaration.loc),r=f.statement(f
.postIncrement(f.subscript(f.dot(f.variable(this.currentState.trackerVar),f.variable
("s")),f.stringLiteral(n)))),this.splice(r,e,t)},splice:function(e,t,n){var r=n.
isLabeled()?n.parent().node:t;r.prepend=r.prepend||[],d(r.prepend,e)},functionName
:function(e,t,n){this.currentState.func+=1;var r=this.currentState.func,i=!!this
.currentState.ignoring,s=e.id?e.id.name:"(anonymous_"+r+")",o=function(e){var t=
n[e]||{};return{line:t.line,column:t.column}};return this.coverState.fnMap[r]={name
:s,line:t,loc:{start:o("start"),end:o("end")},skip:i||undefined},this.coverState
.f[r]=0,r},coverFunction:function(e,t){var n,r=e.body,i=r.body,s;this.maybeSkipNode
(e,"next"),n=this.functionName(e,t.startLineForNode(e),{start:e.loc.start,end:{line
:e.body.loc.start.line,column:e.body.loc.start.column}}),i.length>0&&this.isUseStrictExpression
(i[0])&&(s=i.shift()),i.unshift(f.statement(f.postIncrement(f.subscript(f.dot(f.
variable(this.currentState.trackerVar),f.variable("f")),f.stringLiteral(n))))),s&&
i.unshift(s)},branchName:function(e,t,n){var r,i=[],s=[],o,u=!!this.currentState
.ignoring;this.currentState.branch+=1,r=this.currentState.branch;for(o=0;o<n.length
;o+=1)n[o].skip=n[o].skip||u||undefined,s.push(n[o]),i.push(0);return this.coverState
.b[r]=i,this.coverState.branchMap[r]={line:t,type:e,locations:s},r},branchIncrementExprAst
:function(e,t,n){var r=f.postIncrement(f.subscript(f.subscript(f.dot(f.variable(
this.currentState.trackerVar),f.variable("b")),f.stringLiteral(e)),f.numericLiteral
(t)),n);return r},locationsForNodes:function(e){var t=[],n;for(n=0;n<e.length;n+=1
)t.push(e[n].loc);return t},ifBranchInjector:function(e,t){var n=!!this.currentState
.ignoring,r=this.currentState.currentHint,i=!n&&r&&r.type==="if",s=!n&&r&&r.type==="else"
,o=e.loc.start.line,u=e.loc.start.column,a=function(){return{line:o,column:u}},l=
this.branchName("if",t.startLineForNode(e),[{start:a(),end:a(),skip:i||undefined
},{start:a(),end:a(),skip:s||undefined}]),c=e.consequent.body,h=e.alternate.body
,p;c.unshift(f.statement(this.branchIncrementExprAst(l,0))),h.unshift(f.statement
(this.branchIncrementExprAst(l,1))),i&&(p=e.consequent,p.preprocessor=this.startIgnore
,p.postprocessor=this.endIgnore),s&&(p=e.alternate,p.preprocessor=this.startIgnore
,p.postprocessor=this.endIgnore)},branchLocationFor:function(e,t){return this.coverState
.branchMap[e].locations[t]},switchBranchInjector:function(e,t){var n=e.cases,r,i
;if(!(n&&n.length>0))return;r=this.branchName("switch",t.startLineForNode(e),this
.locationsForNodes(n));for(i=0;i<n.length;i+=1)n[i].branchLocation=this.branchLocationFor
(r,i),n[i].consequent.unshift(f.statement(this.branchIncrementExprAst(r,i)))},switchCaseInjector
:function(e){var t=e.branchLocation;delete e.branchLocation,this.maybeSkipNode(e
,"next")&&(t.skip=!0)},conditionalBranchInjector:function(e,t){var n=this.branchName
("cond-expr",t.startLineForNode(e),this.locationsForNodes([e.consequent,e.alternate
])),r=this.branchIncrementExprAst(n,0),i=this.branchIncrementExprAst(n,1);e.consequent
.preprocessor=this.maybeAddSkip(this.branchLocationFor(n,0)),e.alternate.preprocessor=
this.maybeAddSkip(this.branchLocationFor(n,1)),e.consequent=f.sequence(r,e.consequent
),e.alternate=f.sequence(i,e.alternate)},maybeAddSkip:function(e){return function(
t){var n=!!this.currentState.ignoring,r=this.currentState.currentHint,i=!n&&r&&r
.type==="next";i&&(this.startIgnore(),t.postprocessor=this.endIgnore);if(i||n)e.
skip=!0}},logicalExpressionBranchInjector:function(e,n){var r=n.parent(),i=[],s,
o,u;this.maybeSkipNode(e,"next");if(r&&r.node.type===t.LogicalExpression.name)return;
this.findLeaves(e,i),s=this.branchName("binary-expr",n.startLineForNode(e),this.
locationsForNodes(i.map(function(e){return e.node})));for(u=0;u<i.length;u+=1)o=
i[u],o.parent[o.property]=f.sequence(this.branchIncrementExprAst(s,u),o.node),o.
node.preprocessor=this.maybeAddSkip(this.branchLocationFor(s,u))},findLeaves:function(
e,n,r,i){e.type===t.LogicalExpression.name?(this.findLeaves(e.left,n,e,"left"),this
.findLeaves(e.right,n,e,"right")):n.push({node:e,parent:r,property:i})},maybeAddType
:function(e){var n=e.properties,r,i;for(r=0;r<n.length;r+=1)i=n[r],i.type||(i.type=
t.Property.name)}},e?module.exports=g:window.Instrumenter=g})(typeof module!="undefined"&&typeof
module.exports!="undefined"&&typeof exports!="undefined")
}());
/* jslint-ignore-end */



// init lib istanbul.object-utils
/* istanbul ignore next */
/* jslint-ignore-begin */
// 2013-12-19T03:39:58Z
// https://github.com/gotwarlost/istanbul/blob/v0.2.16/lib/object-utils.js
// utility2-uglifyjs https://raw.githubusercontent.com/gotwarlost/istanbul/v0.2.16/lib/object-utils.js
(function () { var module, window; module = undefined; window = local;
(function(e){function t(e){var t=e.statementMap,n=e.s,r;e.l||(e.l=r={},Object.keys
(n).forEach(function(e){var i=t[e].start.line,s=n[e],o=r[i];s===0&&t[e].skip&&(s=1
);if(typeof o=="undefined"||o<s)r[i]=s}))}function n(e){Object.keys(e).forEach(function(
n){t(e[n])})}function r(e){Object.keys(e).forEach(function(t){delete e[t].l})}function i
(e,t){var n;return t>0?(n=1e5*e/t+5,Math.floor(n/10)/100):100}function s(e,t,n){
var r=e[t],s=n?e[n]:null,o={total:0,covered:0,skipped:0};return Object.keys(r).forEach
(function(e){var t=!!r[e],n=s&&s[e].skip;o.total+=1;if(t||n)o.covered+=1;!t&&n&&
(o.skipped+=1)}),o.pct=i(o.covered,o.total),o}function o(e){var t=e.b,n=e.branchMap
,r={total:0,covered:0,skipped:0};return Object.keys(t).forEach(function(e){var i=
t[e],s=n[e],o,u,a;for(a=0;a<i.length;a+=1){o=i[a]>0,u=s.locations&&s.locations[a
]&&s.locations[a].skip;if(o||u)r.covered+=1;!o&&u&&(r.skipped+=1)}r.total+=i.length
}),r.pct=i(r.covered,r.total),r}function u(){return{lines:{total:0,covered:0,skipped
:0,pct:"Unknown"},statements:{total:0,covered:0,skipped:0,pct:"Unknown"},functions
:{total:0,covered:0,skipped:0,pct:"Unknown"},branches:{total:0,covered:0,skipped
:0,pct:"Unknown"}}}function a(e){var n=u();return t(e),n.lines=s(e,"l"),n.functions=
s(e,"f","fnMap"),n.statements=s(e,"s","statementMap"),n.branches=o(e),n}function f
(e,t){var n=JSON.parse(JSON.stringify(e)),r;return delete n.l,Object.keys(t.s).forEach
(function(e){n.s[e]+=t.s[e]}),Object.keys(t.f).forEach(function(e){n.f[e]+=t.f[e
]}),Object.keys(t.b).forEach(function(e){var i=n.b[e],s=t.b[e];for(r=0;r<i.length
;r+=1)i[r]+=s[r]}),n}function l(){var e=u(),t=Array.prototype.slice.call(arguments
),n=["lines","statements","branches","functions"],r=function(t){t&&n.forEach(function(
n){e[n].total+=t[n].total,e[n].covered+=t[n].covered,e[n].skipped+=t[n].skipped}
)};return t.forEach(function(e){r(e)}),n.forEach(function(t){e[t].pct=i(e[t].covered
,e[t].total)}),e}function c(e){var t=[];return Object.keys(e).forEach(function(n
){t.push(a(e[n]))}),l.apply(null,t)}function h(e){var t={};return n(e),Object.keys
(e).forEach(function(n){var r=e[n],i=r.l,s=r.f,o=r.fnMap,u;u=t[n]={lines:{},calledLines
:0,coveredLines:0,functions:{},calledFunctions:0,coveredFunctions:0},Object.keys
(i).forEach(function(e){u.lines[e]=i[e],u.coveredLines+=1,i[e]>0&&(u.calledLines+=1
)}),Object.keys(s).forEach(function(e){var t=o[e].name+":"+o[e].line;u.functions
[t]=s[e],u.coveredFunctions+=1,s[e]>0&&(u.calledFunctions+=1)})}),t}var p={addDerivedInfo
:n,addDerivedInfoForFile:t,removeDerivedInfo:r,blankSummary:u,summarizeFileCoverage
:a,summarizeCoverage:c,mergeFileCoverage:f,mergeSummaryObjects:l,toYUICoverage:h
};e?module.exports=p:window.coverageUtils=p})(typeof module!="undefined"&&typeof
module.exports!="undefined"&&typeof exports!="undefined")
local['../object-utils'] = window.coverageUtils; }());
/* jslint-ignore-end */



// init lib istanbul.report.common.defaults
/* istanbul ignore next */
/* jslint-ignore-begin */
// 2013-12-28T06:33:02Z
// https://github.com/gotwarlost/istanbul/blob/v0.2.16/lib/report/common/defaults.js
// utility2-uglifyjs https://raw.githubusercontent.com/gotwarlost/istanbul/v0.2.16/lib/report/common/defaults.js
(function () { var module; module = {};
module.exports={watermarks:function(){return{statements:[50,80],lines:[50,80],functions
:[50,80],branches:[50,80]}},classFor:function(e,t,n){var r=n[e],i=t[e].pct;return i>=
r[1]?"high":i>=r[0]?"medium":"low"},colorize:function(e,t){if(process.stdout.isTTY
)switch(t){case"low":e="\x1B[91m"+e+"\x1B[0m";break;case"medium":e="\x1B[93m"+e+"\x1B[0m";break;
case"high":e="\x1B[92m"+e+"\x1B[0m"}return e}}
local['./common/defaults'] = module.exports; }());
/* jslint-ignore-end */



// init lib istanbul.report.index
// 2012-10-30T23:48:18Z
// https://github.com/gotwarlost/istanbul/blob/v0.2.16/lib/report/index.js
        local['./index'] = {
            call: local.nop,
            mix: function (klass, prototype) {
                klass.prototype = prototype;
            }
        };



// init lib istanbul.report.templates.foot
/* jslint-ignore-begin */
// 2014-07-04T07:47:53Z
// https://github.com/gotwarlost/istanbul/blob/v0.2.16/lib/report/templates/foot.txt
local['foot.txt'] = '\
</div>\n\
<div class="footer">\n\
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at {{datetime}}</div>\n\
</div>\n\
</body>\n\
</html>\n\
';



// init lib istanbul.report.templates.head
// 2014-07-04T07:47:53Z
// https://github.com/gotwarlost/istanbul/blob/v0.2.16/lib/report/templates/head.txt
local['head.txt'] = '\
<!doctype html>\n\
<html lang="en" class="x-istanbul">\n\
<head>\n\
    <title>Code coverage report for {{entity}}</title>\n\
    <meta charset="utf-8">\n\
<style>\n\
/* jslint-utility2 */\n\
/*csslint\n\
    box-model: false,\n\
    important: false,\n\
    qualified-headings: false,\n\
*/\n\
/* jslint-ignore-begin */\n\
*,\n\
*:after,\n\
*:before {\n\
    box-sizing: border-box;\n\
}\n\
/* jslint-ignore-end */\n\
.x-istanbul {\n\
    font-family: Helvetica Neue, Helvetica,Arial;\n\
    font-size: 10pt;\n\
    margin: 0;\n\
    padding: 0;\n\
}\n\
.x-istanbul h1 {\n\
    font-size: large;\n\
}\n\
.x-istanbul pre {\n\
    font-family: Consolas, Menlo, Monaco, monospace;\n\
    font-size: 14px;\n\
    margin: 0;\n\
    padding: 0;\n\
    tab-size: 2;\n\
}\n\
.x-istanbul .cbranch-no {\n\
    background: yellow !important;\n\
    color: #111;\n\
}\n\
.x-istanbul .cbranch-skip {\n\
    background: #ddd !important;\n\
    color: #111;\n\
}\n\
.x-istanbul .com {\n\
    color: #999 !important;\n\
}\n\
.x-istanbul .cover-empty,\n\
.x-istanbul .cover-fill {\n\
    background: white;\n\
    border: 1px solid #444;\n\
    display: inline-block;\n\
    height: 12px;\n\
}\n\
.x-istanbul .cover-empty {\n\
    background: white;\n\
    border-left: none;\n\
}\n\
.x-istanbul .cover-fill {\n\
    background: #ccc;\n\
    border-right: 1px solid #444;\n\
}\n\
.x-istanbul .cover-full {\n\
    border-right: none !important;\n\
}\n\
.x-istanbul .coverage {\n\
    border-collapse: collapse;\n\
    margin: 0;\n\
    padding: 0\n\
}\n\
.x-istanbul .coverage td {\n\
    color: #111;\n\
    margin: 0;\n\
    padding: 0;\n\
    vertical-align: top;\n\
}\n\
.x-istanbul .coverage td .cline-any {\n\
    display: inline-block;\n\
    padding: 0 5px;\n\
    width: 60px;\n\
}\n\
.x-istanbul .coverage td .cline-neutral {\n\
    background: #eee;\n\
}\n\
.x-istanbul .coverage td .cline-no {\n\
    background: #fc8c84;\n\
}\n\
.x-istanbul .coverage td .cline-yes {\n\
    background: #b5d592;\n\
    color: #999;\n\
}\n\
.x-istanbul .coverage .line-count {\n\
    padding-right: 5px;\n\
    text-align: right;\n\
    width: 50px;\n\
}\n\
.x-istanbul .coverage .line-coverage {\n\
    border-left: 1px solid #666;\n\
    border-right: 1px solid #666;\n\
    color: #777 !important;\n\
    text-align: right;\n\
}\n\
.x-istanbul .coverage-summary {\n\
    padding: 20px;\n\
}\n\
.x-istanbul .coverage-summary table {\n\
    border-collapse: collapse;\n\
    margin: auto;\n\
    table-layout: fixed;\n\
    text-align: left;\n\
    width: 100%\n\
}\n\
.x-istanbul .coverage-summary td {\n\
    border: 1px solid #666;\n\
    margin: 0;\n\
    padding: 5px;\n\
    white-space: nowrap;\n\
}\n\
.x-istanbul .coverage-summary th {\n\
    margin: 0;\n\
    padding: 0 0 2px 0;\n\
}\n\
.x-istanbul .cstat-no {\n\
    background: #fc8c84;\n\
    color: #111;\n\
}\n\
.x-istanbul .cstat-skip {\n\
    background: #ddd;\n\
    color: #111;\n\
}\n\
.x-istanbul .cstat-yes {\n\
    color: #111;\n\
}\n\
.x-istanbul .entity,\n\
.x-istanbul .metric {\n\
    font-weight: bold;\n\
}\n\
.x-istanbul .footer,\n\
.x-istanbul .header {\n\
    background: #eee;\n\
    padding: 20px;\n\
}\n\
.x-istanbul .footer {\n\
    border-top: 1px solid #666;\n\
}\n\
.x-istanbul .fstat-no {\n\
    background: #ffc520;\n\
    color: #111 !important;\n\
}\n\
.x-istanbul .fstat-skip {\n\
    background: #ddd;\n\
    color: #111 !important;\n\
}\n\
.x-istanbul .header {\n\
    border-bottom: 1px solid #666;\n\
    top: 0;\n\
    width: 100%;\n\
}\n\
.x-istanbul .high {\n\
    background: #b5d592 !important;\n\
}\n\
.x-istanbul .ignore-none {\n\
    color: #999;\n\
    font-weight: normal;\n\
}\n\
.x-istanbul .low {\n\
    background: #fc8c84 !important;\n\
}\n\
.x-istanbul .medium {\n\
    background: #ffe87c !important;\n\
}\n\
.x-istanbul .meta {\n\
    text-align: center;\n\
}\n\
.x-istanbul .metric {\n\
    background: white;\n\
    border: 1px solid #333;\n\
    display: inline-block;\n\
    padding: .3em;\n\
}\n\
.x-istanbul .missing-if-branch {\n\
    background: black;\n\
    color: yellow;\n\
    display: inline-block;\n\
    margin-right: 10px;\n\
    padding: 0 4px;\n\
    position: relative;\n\
}\n\
.x-istanbul .missing-if-branch .typ,\n\
.x-istanbul .skip-if-branch .typ {\n\
    color: inherit !important;\n\
}\n\
.x-istanbul .prettyprint {\n\
    border: none !important;\n\
    margin: 0 !important;\n\
    padding: 0 !important;\n\
}\n\
.x-istanbul .skip-if-branch {\n\
    background: #ccc;\n\
    color: white;\n\
    display: none;\n\
    margin-right: 10px;\n\
    padding: 0 4px;\n\
    position: relative;\n\
}\n\
/* validateLineSortedReset */\n\
.x-istanbul a {\n\
    color: #00d;\n\
    text-decoration: underline;\n\
}\n\
.x-istanbul pre {\n\
    overflow: visible;\n\
    white-space: pre\n\
}\n\
.x-istanbul .file div {\n\
    margin-bottom: 2px;\n\
    overflow-wrap: break-word;\n\
    white-space: normal;\n\
    width: 100%;\n\
}\n\
.x-istanbul .tableHeader {\n\
    border-collapse: collapse;\n\
    margin: 0 auto 10px auto;\n\
    table-layout: fixed;\n\
    text-align: left;\n\
    width: 100%;\n\
}\n\
.x-istanbul .tableHeader td {\n\
    background: #fff;\n\
    border: 1px solid #666;\n\
    padding: 5px;\n\
}\n\
.x-istanbul .tableHeader th {\n\
    padding: 0 0 2px 0;\n\
}\n\
</style>\n\
</head>\n\
<body class="x-istanbul">\n\
<div class="header {{reportClass}}">\n\
    <h1 style="font-weight: bold;">\n\
        <a href="{{env.npm_package_homepage}}">{{env.npm_package_name}} (v{{env.npm_package_version}})</a>\n\
    </h1>\n\
    <h1>Code coverage report for <span class="entity">{{entity}}</span></h1>\n\
    <table class="tableHeader">\n\
    <thead>\n\
    <tr>\n\
        <th>Ignored</th>\n\
        <th>Statements</th>\n\
        <th>Branches</th>\n\
        <th>Functions</th>\n\
        <th>Lines</th>\n\
    </tr>\n\
    </thead>\n\
    <tbody>\n\
        <td>{{#show_ignores metrics}}{{/show_ignores}}</td>\n\
        <td>{{#with metrics.statements}}{{pct}}%<br>({{covered}} / {{total}}){{/with}}</td>\n\
        <td>{{#with metrics.branches}}{{pct}}%<br>({{covered}} / {{total}}){{/with}}</td>\n\
        <td>{{#with metrics.functions}}{{pct}}%<br>({{covered}} / {{total}}){{/with}}</td>\n\
        <td>{{#with metrics.lines}}{{pct}}%<br>({{covered}} / {{total}}){{/with}}</td>\n\
    </tbody>\n\
    </table>\n\
    {{{pathHtml}}}\n\
</div>\n\
<div class="body">\n\
';
/* jslint-ignore-end */



// init lib istanbul.util.file-writer
/* istanbul ignore next */
// 2013-03-31T22:11:41Z
// https://github.com/gotwarlost/istanbul/blob/v0.2.16/lib/util/file-writer.js
        local.writer = {
            write: function (data) {
                local.writerData += data;
            },
            writeFile: function (file, onError) {
                local.coverageReportHtml += local.writerData + '\n\n';
                if (local.modeJs === 'node' && local.writerFile) {
                    local.fsWriteFileWithMkdirpSync(local.writerFile, local.writerData);
                }
                local.writerData = '';
                local.writerFile = file;
                onError(local.writer);
            }
        };



// init lib istanbul.util.tree-summarizer
/* istanbul ignore next */
// 2014-03-05T18:58:42Z
// https://github.com/gotwarlost/istanbul/blob/v0.2.16/lib/util/tree-summarizer.js
        (function () {
            var module;
            module = {};
/* jslint-ignore-begin */
// https://github.com/gotwarlost/istanbul/blob/v0.2.16/lib/util/tree-summarizer.js
// utility2-uglifyjs https://raw.githubusercontent.com/gotwarlost/istanbul/v0.2.16/lib/util/tree-summarizer.js
function commonArrayPrefix(e,t){var n=e.length<t.length?e.length:t.length,r,i=[]
;for(r=0;r<n;r+=1){if(e[r]!==t[r])break;i.push(e[r])}return i}function findCommonArrayPrefix
(e){if(e.length===0)return[];var t=e.map(function(e){return e.split(SEP)}),n=t.pop
();return t.length===0?n.slice(0,n.length-1):t.reduce(commonArrayPrefix,n)}function Node
(e,t,n){this.name=e,this.fullName=e,this.kind=t,this.metrics=n||null,this.parent=
null,this.children=[]}function TreeSummary(e,t){this.prefix=t,this.convertToTree
(e,t)}function TreeSummarizer(){this.summaryMap={}}var path=require("path"),SEP=
path.sep||"/",utils=require("../object-utils");Node.prototype={displayShortName:
function(){return this.relativeName},fullPath:function(){return this.fullName},addChild
:function(e){this.children.push(e),e.parent=this},toJSON:function(){return{name:
this.name,relativeName:this.relativeName,fullName:this.fullName,kind:this.kind,metrics
:this.metrics,parent:this.parent===null?null:this.parent.name,children:this.children
.map(function(e){return e.toJSON()})}}},TreeSummary.prototype={getNode:function(
e){return this.map[e]},convertToTree:function(e,t){var n=[],r=t.join(SEP)+SEP,i=new
Node(r,"dir"),s,o,u={},a=!1;u[r]=i,Object.keys(e).forEach(function(t){var r=e[t]
,s,o,f;s=new Node(t,"file",r),u[t]=s,n.push(s),o=path.dirname(t)+SEP,o===SEP+SEP&&
(o=SEP+"__root__"+SEP),f=u[o],f||(f=new Node(o,"dir"),i.addChild(f),u[o]=f),f.addChild
(s),f===i&&(a=!0)}),a&&t.length>0&&(t.pop(),s=i,o=s.children,s.children=[],i=new
Node(t.join(SEP)+SEP,"dir"),i.addChild(s),o.forEach(function(e){e.kind==="dir"?i
.addChild(e):s.addChild(e)})),this.fixupNodes(i,t.join(SEP)+SEP),this.calculateMetrics
(i),this.root=i,this.map={},this.indexAndSortTree(i,this.map)},fixupNodes:function(
e,t,n){var r=this;e.name.indexOf(t)===0&&(e.name=e.name.substring(t.length)),e.name
.charAt(0)===SEP&&(e.name=e.name.substring(1)),n?n.name!=="__root__/"?e.relativeName=
e.name.substring(n.name.length):e.relativeName=e.name:e.relativeName=e.name.substring
(t.length),e.children.forEach(function(n){r.fixupNodes(n,t,e)})},calculateMetrics
:function(e){var t=this,n;if(e.kind!=="dir")return;e.children.forEach(function(e
){t.calculateMetrics(e)}),e.metrics=utils.mergeSummaryObjects.apply(null,e.children
.map(function(e){return e.metrics})),n=e.children.filter(function(e){return e.kind!=="dir"
}),n.length>0?e.packageMetrics=utils.mergeSummaryObjects.apply(null,n.map(function(
e){return e.metrics})):e.packageMetrics=null},indexAndSortTree:function(e,t){var n=
this;t[e.name]=e,e.children.sort(function(e,t){return e=e.relativeName,t=t.relativeName
,e<t?-1:e>t?1:0}),e.children.forEach(function(e){n.indexAndSortTree(e,t)})},toJSON
:function(){return{prefix:this.prefix,root:this.root.toJSON()}}},TreeSummarizer.
prototype={addFileCoverageSummary:function(e,t){this.summaryMap[e]=t},getTreeSummary
:function(){var e=findCommonArrayPrefix(Object.keys(this.summaryMap));return new
TreeSummary(this.summaryMap,e)}},module.exports=TreeSummarizer
/* jslint-ignore-end */
            local['../util/tree-summarizer'] = module.exports;
            module.exports.prototype._getTreeSummary = module.exports.prototype.getTreeSummary;
            module.exports.prototype.getTreeSummary = function () {
                local.coverageReportSummary = this._getTreeSummary();
                return local.coverageReportSummary;
            };
        }());



// init lib istanbul.report.html
/* istanbul ignore next */
/* jslint-ignore-begin */
// 2014-01-17T21:08:38Z
// https://github.com/gotwarlost/istanbul/blob/v0.2.16/lib/report/html.js
// utility2-uglifyjs https://raw.githubusercontent.com/gotwarlost/istanbul/v0.2.16/lib/report/html.js
(function () { var module; module = {};
function customEscape(e){return e=e.toString(),e.replace(RE_AMP,"&amp;").replace
(RE_LT,"&lt;").replace(RE_GT,"&gt;").replace(RE_lt,"<").replace(RE_gt,">")}function title
(e){return' title="'+e+'" '}function annotateLines(e,t){var n=e.l;if(!n)return;Object
.keys(n).forEach(function(e){var r=n[e];t[e].covered=r>0?"yes":"no"}),t.forEach(
function(e){e.covered===null&&(e.covered="neutral")})}function annotateStatements
(e,t){var n=e.s,r=e.statementMap;Object.keys(n).forEach(function(e){var i=n[e],s=
r[e],o=i>0?"yes":"no",u=s.start.column,a=s.end.column+1,f=s.start.line,l=s.end.line
,c=lt+'span class="'+(s.skip?"cstat-skip":"cstat-no")+'"'+title("statement not covered"
)+gt,h=lt+"/span"+gt,p;o==="no"&&(l!==f&&(l=f,a=t[f].text.originalLength()),p=t[
f].text,p.wrap(u,c,f===l?a:p.originalLength(),h))})}function annotateFunctions(e
,t){var n=e.f,r=e.fnMap;if(!n)return;Object.keys(n).forEach(function(e){var i=n[
e],s=r[e],o=i>0?"yes":"no",u=s.loc.start.column,a=s.loc.end.column+1,f=s.loc.start
.line,l=s.loc.end.line,c=lt+'span class="'+(s.skip?"fstat-skip":"fstat-no")+'"'+
title("function not covered")+gt,h=lt+"/span"+gt,p;o==="no"&&(l!==f&&(l=f,a=t[f]
.text.originalLength()),p=t[f].text,p.wrap(u,c,f===l?a:p.originalLength(),h))})}
function annotateBranches(e,t){var n=e.b,r=e.branchMap;if(!n)return;Object.keys(
n).forEach(function(e){var i=n[e],s=i.reduce(function(e,t){return e+t},0),o=r[e]
.locations,u,a,f,l,c,h,p,d,v,m,g;if(s>0)for(u=0;u<i.length;u+=1)a=i[u],f=o[u],l=
a>0?"yes":"no",c=f.start.column,h=f.end.column+1,p=f.start.line,d=f.end.line,v=lt+'span class="branch-'+
u+" "+(f.skip?"cbranch-skip":"cbranch-no")+'"'+title("branch not covered")+gt,m=
lt+"/span"+gt,a===0&&(d!==p&&(d=p,h=t[p].text.originalLength()),g=t[p].text,r[e]
.type==="if"?g.insertAt(c,lt+'span class="'+(f.skip?"skip-if-branch":"missing-if-branch"
)+'"'+title((u===0?"if":"else")+" path not taken")+gt+(u===0?"I":"E")+lt+"/span"+
gt,!0,!1):g.wrap(c,v,p===d?h:g.originalLength(),m))})}function getReportClass(e,
t){var n=e.pct,r=1;return n*r===n?n>=t[1]?"high":n>=t[0]?"medium":"low":""}function HtmlReport
(e){Report.call(this),this.opts=e||{},this.opts.dir=this.opts.dir||path.resolve(
process.cwd(),"html-report"),this.opts.sourceStore=this.opts.sourceStore||Store.
create("fslookup"),this.opts.linkMapper=this.opts.linkMapper||this.standardLinkMapper
(),this.opts.writer=this.opts.writer||null,this.opts.templateData={datetime:Date
()},this.opts.watermarks=this.opts.watermarks||defaults.watermarks()}var handlebars=
require("handlebars"),defaults=require("./common/defaults"),path=require("path")
,SEP=path.sep||"/",fs=require("fs"),util=require("util"),FileWriter=require("../util/file-writer"
),Report=require("./index"),Store=require("../store"),InsertionText=require("../util/insertion-text"
),TreeSummarizer=require("../util/tree-summarizer"),utils=require("../object-utils"
),templateFor=function(e){return handlebars.compile(fs.readFileSync(path.resolve
(__dirname,"templates",e+".txt"),"utf8"))},headerTemplate=templateFor("head"),footerTemplate=
templateFor("foot"),pathTemplate=handlebars.compile('<div class="path">{{{html}}}</div>'
),detailTemplate=handlebars.compile(["<tr>",'<td class="line-count">{{#show_lines}}{{maxLines}}{{/show_lines}}</td>'
,'<td class="line-coverage">{{#show_line_execution_counts fileCoverage}}{{maxLines}}{{/show_line_execution_counts}}</td>'
,'<td class="text"><pre class="prettyprint lang-js">{{#show_code structured}}{{/show_code}}</pre></td>'
,"</tr>\n"].join("")),summaryTableHeader=['<div class="coverage-summary">',"<table>"
,"<thead>","<tr>",'   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>'
,'   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>'
,'   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>'
,'   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>'
,'   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>'
,"</tr>","</thead>","<tbody>"].join("\n"),summaryLineTemplate=handlebars.compile
(["<tr>",'<td class="file {{reportClasses.statements}}" data-value="{{file}}"><a href="{{output}}"><div>{{file}}</div>{{#show_picture}}{{metrics.statements.pct}}{{/show_picture}}</a></td>'
,'<td data-value="{{metrics.statements.pct}}" class="pct {{reportClasses.statements}}">{{metrics.statements.pct}}%<br>({{metrics.statements.covered}} / {{metrics.statements.total}})</td>'
,'<td data-value="{{metrics.branches.pct}}" class="pct {{reportClasses.branches}}">{{metrics.branches.pct}}%<br>({{metrics.branches.covered}} / {{metrics.branches.total}})</td>'
,'<td data-value="{{metrics.functions.pct}}" class="pct {{reportClasses.functions}}">{{metrics.functions.pct}}%<br>({{metrics.functions.covered}} / {{metrics.functions.total}})</td>'
,'<td data-value="{{metrics.lines.pct}}" class="pct {{reportClasses.lines}}">{{metrics.lines.pct}}%<br>({{metrics.lines.covered}} / {{metrics.lines.total}})</td>'
,"</tr>\n"].join("\n\t")),summaryTableFooter=["</tbody>","</table>","</div>"].join
("\n"),lt="",gt="",RE_LT=/</g,RE_GT=/>/g,RE_AMP=/&/g,RE_lt=/\u0001/g,RE_gt=/\u0002/g
;handlebars.registerHelper("show_picture",function(e){var t=Number(e.fn(this)),n
,r="";return isFinite(t)?(t===100&&(r=" cover-full"),t=Math.floor(t),n=100-t,'<span class="cover-fill'+
r+'" style="width: '+t+'px;"></span>'+'<span class="cover-empty" style="width:'+
n+'px;"></span>'):""}),handlebars.registerHelper("show_ignores",function(e){var t=
e.statements.skipped,n=e.functions.skipped,r=e.branches.skipped,i;return t===0&&
n===0&&r===0?'<span class="ignore-none">none</span>':(i=[],r>0&&i.push("branches: "+r),t>0&&i.push(
"statements: "+t),n>0&&i.push("functions: "+n),i.join("<br>"))}),handlebars.registerHelper("show_lines",function(
e){var t=Number(e.fn(this)),n,r=[];for(n=0;n<t;n+=1)r[n]=n+1;return r.join("\n")
}),handlebars.registerHelper("show_line_execution_counts",function(e,t){var n=e.
l,r=Number(t.fn(this)),i,s,o=[],u,a="";for(i=0;i<r;i+=1)s=i+1,a="&nbsp;",u="neutral"
,n.hasOwnProperty(s)&&(n[s]>0?(u="yes",a=n[s]):u="no"),o.push('<span class="cline-any cline-'+
u+'">'+a+"</span>");return o.join("\n")}),handlebars.registerHelper("show_code",
function(e){var t=[];return e.forEach(function(e){t.push(customEscape(e.text)||"&nbsp;"
)}),t.join("\n")}),HtmlReport.TYPE="html",util.inherits(HtmlReport,Report),Report
.mix(HtmlReport,{getPathHtml:function(e,t){var n=e.parent,r=[],i=[],s;while(n)r.
push(n),n=n.parent;for(s=0;s<r.length;s+=1)i.push('<a href="'+t.ancestor(e,s+1)+'">'+
(r[s].relativeName||"All files")+"</a>");return i.reverse(),i.length>0?i.join(" &#187; "
)+" &#187; "+e.displayShortName():""},fillTemplate:function(e,t){var n=this.opts
,r=n.linkMapper;t.entity=e.name||"All files",t.metrics=e.metrics,t.reportClass=getReportClass
(e.metrics.statements,n.watermarks.statements),t.pathHtml=pathTemplate({html:this
.getPathHtml(e,r)}),t.prettify={js:r.asset(e,"prettify.js"),css:r.asset(e,"prettify.css"
)}},writeDetailPage:function(e,t,n){var r=this.opts,i=r.sourceStore,s=r.templateData
,o=n.code&&Array.isArray(n.code)?n.code.join("\n")+"\n":i.get(n.path),u=o.split(/(?:\r?\n)|\r/
),a=0,f=u.map(function(e){return a+=1,{line:a,covered:null,text:new InsertionText
(e,!0)}}),l;f.unshift({line:0,covered:null,text:new InsertionText("")}),this.fillTemplate
(t,s),e.write(headerTemplate(s)),e.write('<pre><table class="coverage">\n'),annotateLines
(n,f),annotateBranches(n,f),annotateFunctions(n,f),annotateStatements(n,f),f.shift
(),l={structured:f,maxLines:f.length,fileCoverage:n},e.write(detailTemplate(l)),
e.write("</table></pre>\n"),e.write(footerTemplate(s))},writeIndexPage:function(
e,t){var n=this.opts.linkMapper,r=this.opts.templateData,i=Array.prototype.slice
.apply(t.children),s=this.opts.watermarks;i.sort(function(e,t){return e.name<t.name?-1
:1}),this.fillTemplate(t,r),e.write(headerTemplate(r)),e.write(summaryTableHeader
),i.forEach(function(t){var r=t.metrics,i={statements:getReportClass(r.statements
,s.statements),lines:getReportClass(r.lines,s.lines),functions:getReportClass(r.
functions,s.functions),branches:getReportClass(r.branches,s.branches)},o={metrics
:r,reportClasses:i,file:t.displayShortName(),output:n.fromParent(t)};e.write(summaryLineTemplate
(o)+"\n")}),e.write(summaryTableFooter),e.write(footerTemplate(r))},writeFiles:function(
e,t,n,r){var i=this,s=path.resolve(n,"index.html"),o;this.opts.verbose&&console.
error("Writing "+s),e.writeFile(s,function(e){i.writeIndexPage(e,t)}),t.children
.forEach(function(t){t.kind==="dir"?i.writeFiles(e,t,path.resolve(n,t.relativeName
),r):(o=path.resolve(n,t.relativeName+".html"),i.opts.verbose&&console.error("Writing "+
o),e.writeFile(o,function(e){i.writeDetailPage(e,t,r.fileCoverageFor(t.fullPath(
)))}))})},standardLinkMapper:function(){return{fromParent:function(e){var t=0,n=
e.relativeName,r;if(SEP!=="/"){n="";for(t=0;t<e.relativeName.length;t+=1)r=e.relativeName
.charAt(t),r===SEP?n+="/":n+=r}return e.kind==="dir"?n+"index.html":n+".html"},ancestorHref
:function(e,t){var n="",r,i,s,o;for(s=0;s<t;s+=1){r=e.relativeName.split(SEP),i=
r.length-1;for(o=0;o<i;o+=1)n+="../";e=e.parent}return n},ancestor:function(e,t)
{return this.ancestorHref(e,t)+"index.html"},asset:function(e,t){var n=0,r=e.parent
;while(r)n+=1,r=r.parent;return this.ancestorHref(e,n)+t}}},writeReport:function(
e,t){var n=this.opts,r=n.dir,i=new TreeSummarizer,s=n.writer||new FileWriter(t),
o;e.files().forEach(function(t){i.addFileCoverageSummary(t,utils.summarizeFileCoverage
(e.fileCoverageFor(t)))}),o=i.getTreeSummary(),fs.readdirSync(path.resolve(__dirname
,"..","vendor")).forEach(function(e){var t=path.resolve(__dirname,"..","vendor",
e),i=path.resolve(r,e),o=fs.statSync(t);o.isFile()&&(n.verbose&&console.log("Write asset: "+
i),s.copyFile(t,i))}),this.writeFiles(s,o.root,r,e)}}),module.exports=HtmlReport
local.HtmlReport = module.exports; }());
/* jslint-ignore-end */



// init lib istanbul.report.text
/* istanbul ignore next */
/* jslint-ignore-begin */
// 2014-06-26T02:15:16Z
// https://github.com/gotwarlost/istanbul/blob/v0.2.16/lib/report/text.js
// utility2-uglifyjs https://raw.githubusercontent.com/gotwarlost/istanbul/v0.2.16/lib/report/text.js
(function () { var module; module = {};
function TextReport(e){Report.call(this),e=e||{},this.dir=e.dir||process.cwd(),this
.file=e.file,this.summary=e.summary,this.maxCols=e.maxCols||0,this.watermarks=e.
watermarks||defaults.watermarks()}function padding(e,t){var n="",r;t=t||" ";for(
r=0;r<e;r+=1)n+=t;return n}function fill(e,t,n,r,i){r=r||0,e=String(e);var s=r*TAB_SIZE
,o=t-s,u=padding(s),a="",f,l=e.length;return o>0&&(o>=l?(f=padding(o-l),a=n?f+e:
e+f):(a=e.substring(l-o),a="... "+a.substring(4))),a=defaults.colorize(a,i),u+a}
function formatName(e,t,n,r){return fill(e,t,!1,n,r)}function formatPct(e,t){return fill
(e,PCT_COLS,!0,0,t)}function nodeName(e){return e.displayShortName()||"All files"
}function tableHeader(e){var t=[];return t.push(formatName("File",e,0)),t.push(formatPct
("% Stmts")),t.push(formatPct("% Branches")),t.push(formatPct("% Funcs")),t.push
(formatPct("% Lines")),t.join(" |")+" |"}function tableRow(e,t,n,r){var i=nodeName
(e),s=e.metrics.statements.pct,o=e.metrics.branches.pct,u=e.metrics.functions.pct
,a=e.metrics.lines.pct,f=[];return f.push(formatName(i,t,n,defaults.classFor("statements"
,e.metrics,r))),f.push(formatPct(s,defaults.classFor("statements",e.metrics,r)))
,f.push(formatPct(o,defaults.classFor("branches",e.metrics,r))),f.push(formatPct
(u,defaults.classFor("functions",e.metrics,r))),f.push(formatPct(a,defaults.classFor
("lines",e.metrics,r))),f.join(DELIM)+DELIM}function findNameWidth(e,t,n){n=n||0
,t=t||0;var r=TAB_SIZE*t+nodeName(e).length;return r>n&&(n=r),e.children.forEach
(function(e){n=findNameWidth(e,t+1,n)}),n}function makeLine(e){var t=padding(e,"-"
),n=padding(PCT_COLS,"-"),r=[];return r.push(t),r.push(n),r.push(n),r.push(n),r.
push(n),r.join(COL_DELIM)+COL_DELIM}function walk(e,t,n,r,i){var s;r===0?(s=makeLine
(t),n.push(s),n.push(tableHeader(t)),n.push(s)):n.push(tableRow(e,t,r,i)),e.children
.forEach(function(e){walk(e,t,n,r+1,i)}),r===0&&(n.push(s),n.push(tableRow(e,t,r
,i)),n.push(s))}var path=require("path"),mkdirp=require("mkdirp"),fs=require("fs"
),defaults=require("./common/defaults"),Report=require("./index"),TreeSummarizer=
require("../util/tree-summarizer"),utils=require("../object-utils"),PCT_COLS=10,
TAB_SIZE=3,DELIM=" |",COL_DELIM="-|";TextReport.TYPE="text",Report.mix(TextReport
,{writeReport:function(e){var t=new TreeSummarizer,n,r,i,s=4*(PCT_COLS+2),o,u=[]
,a;e.files().forEach(function(n){t.addFileCoverageSummary(n,utils.summarizeFileCoverage
(e.fileCoverageFor(n)))}),n=t.getTreeSummary(),r=n.root,i=findNameWidth(r),this.
maxCols>0&&(o=this.maxCols-s-2,i>o&&(i=o)),walk(r,i,u,0,this.watermarks),a=u.join
("\n")+"\n",this.file?(mkdirp.sync(this.dir),fs.writeFileSync(path.join(this.dir
,this.file),a,"utf8")):console.log(a)}}),module.exports=TextReport
local.TextReport = module.exports; }());
/* jslint-ignore-end */



/* jslint-ignore-begin */
// https://img.shields.io/badge/coverage-100.0%-00dd00.svg?style=flat
local.templateCoverageBadgeSvg =
'<svg xmlns="http://www.w3.org/2000/svg" width="117" height="20"><linearGradient id="a" x2="0" y2="100%"><stop offset="0" stop-color="#bbb" stop-opacity=".1"/><stop offset="1" stop-opacity=".1"/></linearGradient><rect rx="0" width="117" height="20" fill="#555"/><rect rx="0" x="63" width="54" height="20" fill="#0d0"/><path fill="#0d0" d="M63 0h4v20h-4z"/><rect rx="0" width="117" height="20" fill="url(#a)"/><g fill="#fff" text-anchor="middle" font-family="DejaVu Sans,Verdana,Geneva,sans-serif" font-size="11"><text x="32.5" y="15" fill="#010101" fill-opacity=".3">coverage</text><text x="32.5" y="14">coverage</text><text x="89" y="15" fill="#010101" fill-opacity=".3">100.0%</text><text x="89" y="14">100.0%</text></g></svg>';
/* jslint-ignore-end */
    }());
    switch (local.modeJs) {



    // run node js-env code - init-after
    /* istanbul ignore next */
    case 'node':
        // init cli
        if (module !== local.require.main || local.global.utility2_rollup) {
            break;
        }
        local.cliDict = {};
        local.cliDict.cover = function () {
        /*
         * script
         * run and cover the script
         */
            var tmp;
            try {
                tmp = JSON.parse(local.fs.readFileSync('package.json', 'utf8'));
                process.env.npm_package_nameLib = process.env.npm_package_nameLib ||
                    tmp.nameLib ||
                    tmp.name.replace((/-/g), '_');
            } catch (ignore) {
            }
            process.env.npm_config_mode_coverage = process.env.npm_config_mode_coverage ||
                process.env.npm_package_nameLib ||
                'all';
            // add coverage hook to require
            local._istanbul_moduleExtensionsJs = local._istanbul_module._extensions['.js'];
            local._istanbul_module._extensions['.js'] = function (module, file) {
                if (typeof file === 'string' && (
                        file.indexOf(process.env.npm_config_mode_coverage_dir) === 0 ||
                        (file.indexOf(process.cwd()) === 0 &&
                            file.indexOf(process.cwd() + '/node_modules/') !== 0)
                    )) {
                    module._compile(local.instrumentInPackage(
                        local.fs.readFileSync(file, 'utf8'),
                        file
                    ), file);
                    return;
                }
                local._istanbul_moduleExtensionsJs(module, file);
            };
            // init process.argv
            process.argv.splice(1, 2);
            process.argv[1] = local.path.resolve(process.cwd(), process.argv[1]);
            console.log('\ncovering $ ' + process.argv.join(' '));
            // create coverage on exit
            process.on('exit', function () {
                local.coverageReportCreate({ coverage: local.global.__coverage__ });
            });
            // re-init cli
            local._istanbul_module.runMain();
        };
        local.cliDict.instrument = function () {
        /*
         * script
         * instrument the script and print result to stdout
         */
            process.argv[3] = local.path.resolve(process.cwd(), process.argv[3]);
            process.stdout.write(local.instrumentSync(
                local.fs.readFileSync(process.argv[3], 'utf8'),
                process.argv[3]
            ));
        };
        //
        local.cliDict.test = function () {
        /*
         * script
         * run and cover the script if env var $npm_config_mode_coverage is set
         */
            if (process.env.npm_config_mode_coverage) {
                process.argv[2] = 'cover';
                // re-init cli
                local.cliDict[process.argv[2]]();
                return;
            }
            // init process.argv
            process.argv.splice(1, 2);
            process.argv[1] = local.path.resolve(process.cwd(), process.argv[1]);
            // re-init cli
            local._istanbul_module.runMain();
        };
        local.cliRun();
        break;
    }
}());
/* script-end /assets.utility2.lib.istanbul.js */



/* script-begin /assets.utility2.lib.jslint.js */
///usr/bin/env node
/* istanbul instrument in package jslint */
/* jslint-utility2 */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;



    // run shared js-env code - init-before
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || local;
        /* istanbul ignore next */
        if (!local) {
            local = local.global.utility2_rollup ||
                local.global.utility2_rollup_old ||
                require('./assets.utility2.rollup.js');
            local.fs = null;
        }
        // init exports
        if (local.modeJs === 'browser') {
            local.global.utility2_jslint = local;
        } else {
            // require builtins
            // local.assert = require('assert');
            local.buffer = require('buffer');
            local.child_process = require('child_process');
            local.cluster = require('cluster');
            local.console = require('console');
            local.constants = require('constants');
            local.crypto = require('crypto');
            local.dgram = require('dgram');
            local.dns = require('dns');
            local.domain = require('domain');
            local.events = require('events');
            local.fs = require('fs');
            local.http = require('http');
            local.https = require('https');
            local.module = require('module');
            local.net = require('net');
            local.os = require('os');
            local.path = require('path');
            local.process = require('process');
            local.punycode = require('punycode');
            local.querystring = require('querystring');
            local.readline = require('readline');
            local.repl = require('repl');
            local.stream = require('stream');
            local.string_decoder = require('string_decoder');
            local.timers = require('timers');
            local.tls = require('tls');
            local.tty = require('tty');
            local.url = require('url');
            local.util = require('util');
            local.v8 = require('v8');
            local.vm = require('vm');
            local.zlib = require('zlib');
/* validateLineSortedReset */
            module.exports = local;
            module.exports.__dirname = __dirname;
        }
        // init lib
        local.local = local.jslint = local;
    }());



    // run shared js-env code - function-before
    /* istanbul ignore next */
    (function () {
        local.cliRun = function (fnc) {
        /*
         * this function will run the cli
         */
            var nop;
            nop = function () {
            /*
             * this function will do nothing
             */
                return;
            };
            local.cliDict._eval = local.cliDict._eval || function () {
            /*
             * code
             * eval code
             */
                local.global.local = local;
                require('vm').runInThisContext(process.argv[3]);
            };
            local.cliDict['--eval'] = local.cliDict['--eval'] || local.cliDict._eval;
            local.cliDict['-e'] = local.cliDict['-e'] || local.cliDict._eval;
            local.cliDict._help = local.cliDict._help || function () {
            /*
             * [none]
             * print help
             */
                var element, result, lengthList, sortDict;
                console.log(require(__dirname + '/package.json').name + ' v' +
                    require(__dirname + '/package.json').version);
                sortDict = {};
                result = [['[command]', '[args]', '[description]', -1]];
                lengthList = [result[0][0].length, result[0][1].length];
                Object.keys(local.cliDict).sort().forEach(function (key, ii) {
                    if (key[0] === '_' && key !== '_default') {
                        return;
                    }
                    sortDict[local.cliDict[key].toString()] =
                        sortDict[local.cliDict[key].toString()] || (ii + 1);
                    element = (/\n +\*(.*)\n +\*(.*)/).exec(local.cliDict[key].toString());
                    // coverage-hack - ignore else-statement
                    nop(local.global.__coverage__ && (function () {
                        element = element || ['', '', ''];
                    }()));
                    element = [
                        key.replace('_default', '[none]') + ' ',
                        element[1].trim() + ' ',
                        element[2].trim(),
                        (sortDict[local.cliDict[key].toString()] << 8) + ii
                    ];
                    result.push(element);
                    lengthList.forEach(function (length, jj) {
                        lengthList[jj] = Math.max(element[jj].length, length);
                    });
                });
                result.sort(function (aa, bb) {
                    return aa[3] < bb[3]
                        ? -1
                        : 1;
                });
                console.log('usage:   ' + __filename + ' [command] [args]');
                console.log('example: ' + __filename + ' --eval    ' +
                    '"console.log(\'hello world\')"\n');
                result.forEach(function (element, ii) {
                    lengthList.forEach(function (length, jj) {
                        while (element[jj].length < length) {
                            element[jj] += '-';
                        }
                    });
                    element = element.slice(0, 3).join('---- ');
                    if (!ii) {
                        element = element.replace((/-/g), ' ');
                    }
                    console.log(element);
                });
            };
            local.cliDict['--help'] = local.cliDict['--help'] || local.cliDict._help;
            local.cliDict['-h'] = local.cliDict['-h'] || local.cliDict._help;
            local.cliDict._default = local.cliDict._default || local.cliDict._help;
            local.cliDict.help = local.cliDict.help || local.cliDict._help;
            local.cliDict._interactive = local.cliDict._interactive || function () {
            /*
             * [none]
             * start interactive-mode
             */
                local.global.local = local;
                local.replStart();
            };
            if (local.replStart) {
                local.cliDict['--interactive'] = local.cliDict['--interactive'] ||
                    local.cliDict._interactive;
                local.cliDict['-i'] = local.cliDict['-i'] || local.cliDict._interactive;
            }
            local.cliDict._version = local.cliDict._version || function () {
            /*
             * [none]
             * print version
             */
                console.log(require(__dirname + '/package.json').version);
            };
            local.cliDict['--version'] = local.cliDict['--version'] || local.cliDict._version;
            local.cliDict['-v'] = local.cliDict['-v'] || local.cliDict._version;
            // run fnc()
            fnc = fnc || function () {
                if (local.cliDict[process.argv[2]]) {
                    local.cliDict[process.argv[2]]();
                    return;
                }
                local.cliDict._default();
            };
            fnc();
        };
    }());



/* jslint-ignore-begin */
// init lib csslint
/* istanbul ignore next */
// 2013-08-15T10:18:30Z
// https://github.com/CSSLint/csslint/blob/v1.0.5/dist/csslint.js
// utility2-uglifyjs https://raw.githubusercontent.com/CSSLint/csslint/v1.0.5/dist/csslint.js
(function () {
var CSSLint=function(){function s(e,t,n,r){"use strict";this.messages=[],this.stats=
[],this.lines=e,this.ruleset=t,this.allow=n,this.allow||(this.allow={}),this.ignore=
r,this.ignore||(this.ignore=[])}var e=e||{},t=t||{},n=function(){var e;return e=
function t(n,r,i){function s(u,a){if(!r[u]){if(!n[u]){var f=typeof e=="function"&&
e;if(!a&&f)return f(u,!0);if(o)return o(u,!0);var l=new Error("Cannot find module '"+
u+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[u]={exports:{}};n[u][0].call(c.
exports,function(e){var t=n[u][1][e];return s(t?t:e)},c,c.exports,t,n,r,i)}return r
[u].exports}var o=typeof e=="function"&&e;for(var u=0;u<i.length;u++)s(i[u]);return s
}({1:[function(e,t,n){"use strict";var r=t.exports={__proto__:null,aliceblue:"#f0f8ff"
,antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige
:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff"
,blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse
:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk
:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b"
,darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400"
,darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00"
,darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f"
,darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise
:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray
:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite
:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite
:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green
:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c"
,indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush
:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral
:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3"
,lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a"
,lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey
:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen
:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa"
,mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen
:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise
:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",
mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace
:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500"
,orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee"
,palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f"
,pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000"
,rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",
sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver
:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090"
,snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080"
,thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3"
,white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",currentColor
:"The value of the 'color' property.",activeBorder:"Active window border.",activecaption
:"Active window caption.",appworkspace:"Background color of multiple document interface."
,background:"Desktop background.",buttonface:"The face background color for 3-D elements that appear 3-D due to one layer of surrounding border."
,buttonhighlight:"The color of the border facing the light source for 3-D elements that appear 3-D due to one layer of surrounding border."
,buttonshadow:"The color of the border away from the light source for 3-D elements that appear 3-D due to one layer of surrounding border."
,buttontext:"Text on push buttons.",captiontext:"Text in caption, size box, and scrollbar arrow box."
,graytext:"Grayed (disabled) text. This color is set to #000 if the current display driver does not support a solid gray color."
,greytext:"Greyed (disabled) text. This color is set to #000 if the current display driver does not support a solid grey color."
,highlight:"Item(s) selected in a control.",highlighttext:"Text of item(s) selected in a control."
,inactiveborder:"Inactive window border.",inactivecaption:"Inactive window caption."
,inactivecaptiontext:"Color of text in an inactive caption.",infobackground:"Background color for tooltip controls."
,infotext:"Text color for tooltip controls.",menu:"Menu background.",menutext:"Text in menus."
,scrollbar:"Scroll bar gray area.",threeddarkshadow:"The color of the darker (generally outer) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border."
,threedface:"The face background color for 3-D elements that appear 3-D due to two concentric layers of surrounding border."
,threedhighlight:"The color of the lighter (generally outer) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border."
,threedlightshadow:"The color of the darker (generally inner) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border."
,threedshadow:"The color of the lighter (generally inner) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border."
,window:"Window background.",windowframe:"Window frame.",windowtext:"Text in windows."
}},{}],2:[function(e,t,n){"use strict";function s(e,t,n){r.call(this,e,t,n,i.COMBINATOR_TYPE
),this.type="unknown",/^\s+$/.test(e)?this.type="descendant":e===">"?this.type="child"
:e==="+"?this.type="adjacent-sibling":e==="~"&&(this.type="sibling")}t.exports=s
;var r=e("../util/SyntaxUnit"),i=e("./Parser");s.prototype=new r,s.prototype.constructor=
s},{"../util/SyntaxUnit":26,"./Parser":6}],3:[function(e,t,n){"use strict";function s
(e,t){this.match=function(t){var n;return t.mark(),n=e(t),n?t.drop():t.restore()
,n},this.toString=typeof t=="function"?t:function(){return t}}t.exports=s;var r=
e("../util/StringReader"),i=e("../util/SyntaxError");s.prec={MOD:5,SEQ:4,ANDAND:3
,OROR:2,ALT:1},s.parse=function(e){var t,n,o,u,a,f,l,c,h;t=new r(e),n=function(e
){var n=t.readMatch(e);if(n===null)throw new i("Expected "+e,t.getLine(),t.getCol
());return n},o=function(){var e=[u()];while(t.readMatch(" | ")!==null)e.push(u(
));return e.length===1?e[0]:s.alt.apply(s,e)},u=function(){var e=[a()];while(t.readMatch
(" || ")!==null)e.push(a());return e.length===1?e[0]:s.oror.apply(s,e)},a=function(
){var e=[f()];while(t.readMatch(" && ")!==null)e.push(f());return e.length===1?e
[0]:s.andand.apply(s,e)},f=function(){var e=[l()];while(t.readMatch(/^ (?![&|\]])/
)!==null)e.push(l());return e.length===1?e[0]:s.seq.apply(s,e)},l=function(){var e=
c();if(t.readMatch("?")!==null)return e.question();if(t.readMatch("*")!==null)return e
.star();if(t.readMatch("+")!==null)return e.plus();if(t.readMatch("#")!==null)return e
.hash();if(t.readMatch(/^\{\s*/)!==null){var r=n(/^\d+/);n(/^\s*,\s*/);var i=n(/^\d+/
);return n(/^\s*\}/),e.braces(+r,+i)}return e},c=function(){if(t.readMatch("[ ")!==
null){var e=o();return n(" ]"),e}return s.fromType(n(/^[^ ?*+#{]+/))},h=o();if(!
t.eof())throw new i("Expected end of string",t.getLine(),t.getCol());return h},s
.cast=function(e){return e instanceof s?e:s.parse(e)},s.fromType=function(t){var n=
e("./ValidationTypes");return new s(function(e){return e.hasNext()&&n.isType(e,t
)},t)},s.seq=function(){var e=Array.prototype.slice.call(arguments).map(s.cast);
return e.length===1?e[0]:new s(function(t){var n,r=!0;for(n=0;r&&n<e.length;n++)
r=e[n].match(t);return r},function(t){var n=s.prec.SEQ,r=e.map(function(e){return e
.toString(n)}).join(" ");return t>n&&(r="[ "+r+" ]"),r})},s.alt=function(){var e=
Array.prototype.slice.call(arguments).map(s.cast);return e.length===1?e[0]:new s
(function(t){var n,r=!1;for(n=0;!r&&n<e.length;n++)r=e[n].match(t);return r},function(
t){var n=s.prec.ALT,r=e.map(function(e){return e.toString(n)}).join(" | ");return t>
n&&(r="[ "+r+" ]"),r})},s.many=function(t){var n=Array.prototype.slice.call(arguments
,1).reduce(function(t,n){if(n.expand){var r=e("./ValidationTypes");t.push.apply(
t,r.complex[n.expand].options)}else t.push(s.cast(n));return t},[]);t===!0&&(t=n
.map(function(){return!0}));var r=new s(function(e){var r=[],i=0,s=0,o=function(
e){return s===0?(i=Math.max(e,i),e===n.length):e===i},u=function(i){for(var s=0;
s<n.length;s++){if(r[s])continue;e.mark();if(n[s].match(e)){r[s]=!0;if(u(i+(t===!1||
t[s]?1:0)))return e.drop(),!0;e.restore(),r[s]=!1}else e.drop()}return o(i)};u(0
)||(s++,u(0));if(t===!1)return i>0;for(var a=0;a<n.length;a++)if(t[a]&&!r[a])return!1
;return!0},function(e){var r=t===!1?s.prec.OROR:s.prec.ANDAND,i=n.map(function(e
,n){return t!==!1&&!t[n]?e.toString(s.prec.MOD)+"?":e.toString(r)}).join(t===!1?" || "
:" && ");return e>r&&(i="[ "+i+" ]"),i});return r.options=n,r},s.andand=function(
){var e=Array.prototype.slice.call(arguments);return e.unshift(!0),s.many.apply(
s,e)},s.oror=function(){var e=Array.prototype.slice.call(arguments);return e.unshift
(!1),s.many.apply(s,e)},s.prototype={constructor:s,match:function(){throw new Error
("unimplemented")},toString:function(){throw new Error("unimplemented")},func:function(
){return this.match.bind(this)},then:function(e){return s.seq(this,e)},or:function(
e){return s.alt(this,e)},andand:function(e){return s.many(!0,this,e)},oror:function(
e){return s.many(!1,this,e)},star:function(){return this.braces(0,Infinity,"*")}
,plus:function(){return this.braces(1,Infinity,"+")},question:function(){return this
.braces(0,1,"?")},hash:function(){return this.braces(1,Infinity,"#",s.cast(","))
},braces:function(e,t,n,r){var i=this,o=r?r.then(this):this;return n||(n="{"+e+","+
t+"}"),new s(function(n){var s=!0,u;for(u=0;u<t;u++){u>0&&r?s=o.match(n):s=i.match
(n);if(!s)break}return u>=e},function(){return i.toString(s.prec.MOD)+n})}}},{"../util/StringReader"
:24,"../util/SyntaxError":25,"./ValidationTypes":21}],4:[function(e,t,n){"use strict"
;function s(e,t){r.call(this,"("+e+(t!==null?":"+t:"")+")",e.startLine,e.startCol
,i.MEDIA_FEATURE_TYPE),this.name=e,this.value=t}t.exports=s;var r=e("../util/SyntaxUnit"
),i=e("./Parser");s.prototype=new r,s.prototype.constructor=s},{"../util/SyntaxUnit"
:26,"./Parser":6}],5:[function(e,t,n){"use strict";function s(e,t,n,s,o){r.call(
this,(e?e+" ":"")+(t?t:"")+(t&&n.length>0?" and ":"")+n.join(" and "),s,o,i.MEDIA_QUERY_TYPE
),this.modifier=e,this.mediaType=t,this.features=n}t.exports=s;var r=e("../util/SyntaxUnit"
),i=e("./Parser");s.prototype=new r,s.prototype.constructor=s},{"../util/SyntaxUnit"
:26,"./Parser":6}],6:[function(e,t,n){"use strict";function y(e){r.call(this),this
.options=e||{},this._tokenStream=null}t.exports=y;var r=e("../util/EventTarget")
,i=e("../util/SyntaxError"),s=e("../util/SyntaxUnit"),o=e("./Combinator"),u=e("./MediaFeature"
),a=e("./MediaQuery"),f=e("./PropertyName"),l=e("./PropertyValue"),c=e("./PropertyValuePart"
),h=e("./Selector"),p=e("./SelectorPart"),d=e("./SelectorSubPart"),v=e("./TokenStream"
),m=e("./Tokens"),g=e("./Validation");y.DEFAULT_TYPE=0,y.COMBINATOR_TYPE=1,y.MEDIA_FEATURE_TYPE=2
,y.MEDIA_QUERY_TYPE=3,y.PROPERTY_NAME_TYPE=4,y.PROPERTY_VALUE_TYPE=5,y.PROPERTY_VALUE_PART_TYPE=6
,y.SELECTOR_TYPE=7,y.SELECTOR_PART_TYPE=8,y.SELECTOR_SUB_PART_TYPE=9,y.prototype=
function(){var e=new r,t,n={__proto__:null,constructor:y,DEFAULT_TYPE:0,COMBINATOR_TYPE
:1,MEDIA_FEATURE_TYPE:2,MEDIA_QUERY_TYPE:3,PROPERTY_NAME_TYPE:4,PROPERTY_VALUE_TYPE
:5,PROPERTY_VALUE_PART_TYPE:6,SELECTOR_TYPE:7,SELECTOR_PART_TYPE:8,SELECTOR_SUB_PART_TYPE
:9,_stylesheet:function(){var e=this._tokenStream,t,n,r;this.fire("startstylesheet"
),this._charset(),this._skipCruft();while(e.peek()===m.IMPORT_SYM)this._import()
,this._skipCruft();while(e.peek()===m.NAMESPACE_SYM)this._namespace(),this._skipCruft
();r=e.peek();while(r>m.EOF){try{switch(r){case m.MEDIA_SYM:this._media(),this._skipCruft
();break;case m.PAGE_SYM:this._page(),this._skipCruft();break;case m.FONT_FACE_SYM
:this._font_face(),this._skipCruft();break;case m.KEYFRAMES_SYM:this._keyframes(
),this._skipCruft();break;case m.VIEWPORT_SYM:this._viewport(),this._skipCruft()
;break;case m.DOCUMENT_SYM:this._document(),this._skipCruft();break;case m.SUPPORTS_SYM
:this._supports(),this._skipCruft();break;case m.UNKNOWN_SYM:e.get();if(!!this.options
.strict)throw new i("Unknown @ rule.",e.LT(0).startLine,e.LT(0).startCol);this.fire
({type:"error",error:null,message:"Unknown @ rule: "+e.LT(0).value+".",line:e.LT
(0).startLine,col:e.LT(0).startCol}),t=0;while(e.advance([m.LBRACE,m.RBRACE])===
m.LBRACE)t++;while(t)e.advance([m.RBRACE]),t--;break;case m.S:this._readWhitespace
();break;default:if(!this._ruleset())switch(r){case m.CHARSET_SYM:throw n=e.LT(1
),this._charset(!1),new i("@charset not allowed here.",n.startLine,n.startCol);case m
.IMPORT_SYM:throw n=e.LT(1),this._import(!1),new i("@import not allowed here.",n
.startLine,n.startCol);case m.NAMESPACE_SYM:throw n=e.LT(1),this._namespace(!1),new
i("@namespace not allowed here.",n.startLine,n.startCol);default:e.get(),this._unexpectedToken
(e.token())}}}catch(s){if(!(s instanceof i&&!this.options.strict))throw s;this.fire
({type:"error",error:s,message:s.message,line:s.line,col:s.col})}r=e.peek()}r!==
m.EOF&&this._unexpectedToken(e.token()),this.fire("endstylesheet")},_charset:function(
e){var t=this._tokenStream,n,r,i,s;t.match(m.CHARSET_SYM)&&(i=t.token().startLine
,s=t.token().startCol,this._readWhitespace(),t.mustMatch(m.STRING),r=t.token(),n=
r.value,this._readWhitespace(),t.mustMatch(m.SEMICOLON),e!==!1&&this.fire({type:"charset"
,charset:n,line:i,col:s}))},_import:function(e){var t=this._tokenStream,n,r,i=[]
;t.mustMatch(m.IMPORT_SYM),r=t.token(),this._readWhitespace(),t.mustMatch([m.STRING
,m.URI]),n=t.token().value.replace(/^(?:url\()?["']?([^"']+?)["']?\)?$/,"$1"),this
._readWhitespace(),i=this._media_query_list(),t.mustMatch(m.SEMICOLON),this._readWhitespace
(),e!==!1&&this.fire({type:"import",uri:n,media:i,line:r.startLine,col:r.startCol
})},_namespace:function(e){var t=this._tokenStream,n,r,i,s;t.mustMatch(m.NAMESPACE_SYM
),n=t.token().startLine,r=t.token().startCol,this._readWhitespace(),t.match(m.IDENT
)&&(i=t.token().value,this._readWhitespace()),t.mustMatch([m.STRING,m.URI]),s=t.
token().value.replace(/(?:url\()?["']([^"']+)["']\)?/,"$1"),this._readWhitespace
(),t.mustMatch(m.SEMICOLON),this._readWhitespace(),e!==!1&&this.fire({type:"namespace"
,prefix:i,uri:s,line:n,col:r})},_supports:function(e){var t=this._tokenStream,n,
r;if(t.match(m.SUPPORTS_SYM)){n=t.token().startLine,r=t.token().startCol,this._readWhitespace
(),this._supports_condition(),this._readWhitespace(),t.mustMatch(m.LBRACE),this.
_readWhitespace(),e!==!1&&this.fire({type:"startsupports",line:n,col:r});for(;;)
if(!this._ruleset())break;t.mustMatch(m.RBRACE),this._readWhitespace(),this.fire
({type:"endsupports",line:n,col:r})}},_supports_condition:function(){var e=this.
_tokenStream,t;if(e.match(m.IDENT))t=e.token().value.toLowerCase(),t==="not"?(e.
mustMatch(m.S),this._supports_condition_in_parens()):e.unget();else{this._supports_condition_in_parens
(),this._readWhitespace();while(e.peek()===m.IDENT){t=e.LT(1).value.toLowerCase(
);if(t==="and"||t==="or")e.mustMatch(m.IDENT),this._readWhitespace(),this._supports_condition_in_parens
(),this._readWhitespace()}}},_supports_condition_in_parens:function(){var e=this
._tokenStream,t;e.match(m.LPAREN)?(this._readWhitespace(),e.match(m.IDENT)?(t=e.
token().value.toLowerCase(),t==="not"?(this._readWhitespace(),this._supports_condition
(),this._readWhitespace(),e.mustMatch(m.RPAREN)):(e.unget(),this._supports_declaration_condition
(!1))):(this._supports_condition(),this._readWhitespace(),e.mustMatch(m.RPAREN))
):this._supports_declaration_condition()},_supports_declaration_condition:function(
e){var t=this._tokenStream;e!==!1&&t.mustMatch(m.LPAREN),this._readWhitespace(),
this._declaration(),t.mustMatch(m.RPAREN)},_media:function(){var e=this._tokenStream
,t,n,r;e.mustMatch(m.MEDIA_SYM),t=e.token().startLine,n=e.token().startCol,this.
_readWhitespace(),r=this._media_query_list(),e.mustMatch(m.LBRACE),this._readWhitespace
(),this.fire({type:"startmedia",media:r,line:t,col:n});for(;;)if(e.peek()===m.PAGE_SYM
)this._page();else if(e.peek()===m.FONT_FACE_SYM)this._font_face();else if(e.peek
()===m.VIEWPORT_SYM)this._viewport();else if(e.peek()===m.DOCUMENT_SYM)this._document
();else if(e.peek()===m.SUPPORTS_SYM)this._supports();else if(e.peek()===m.MEDIA_SYM
)this._media();else if(!this._ruleset())break;e.mustMatch(m.RBRACE),this._readWhitespace
(),this.fire({type:"endmedia",media:r,line:t,col:n})},_media_query_list:function(
){var e=this._tokenStream,t=[];this._readWhitespace(),(e.peek()===m.IDENT||e.peek
()===m.LPAREN)&&t.push(this._media_query());while(e.match(m.COMMA))this._readWhitespace
(),t.push(this._media_query());return t},_media_query:function(){var e=this._tokenStream
,t=null,n=null,r=null,i=[];e.match(m.IDENT)&&(n=e.token().value.toLowerCase(),n!=="only"&&
n!=="not"?(e.unget(),n=null):r=e.token()),this._readWhitespace(),e.peek()===m.IDENT?
(t=this._media_type(),r===null&&(r=e.token())):e.peek()===m.LPAREN&&(r===null&&(
r=e.LT(1)),i.push(this._media_expression()));if(t===null&&i.length===0)return null
;this._readWhitespace();while(e.match(m.IDENT))e.token().value.toLowerCase()!=="and"&&
this._unexpectedToken(e.token()),this._readWhitespace(),i.push(this._media_expression
());return new a(n,t,i,r.startLine,r.startCol)},_media_type:function(){return this
._media_feature()},_media_expression:function(){var e=this._tokenStream,t=null,n
,r=null;return e.mustMatch(m.LPAREN),t=this._media_feature(),this._readWhitespace
(),e.match(m.COLON)&&(this._readWhitespace(),n=e.LT(1),r=this._expression()),e.mustMatch
(m.RPAREN),this._readWhitespace(),new u(t,r?new s(r,n.startLine,n.startCol):null
)},_media_feature:function(){var e=this._tokenStream;return this._readWhitespace
(),e.mustMatch(m.IDENT),s.fromToken(e.token())},_page:function(){var e=this._tokenStream
,t,n,r=null,i=null;e.mustMatch(m.PAGE_SYM),t=e.token().startLine,n=e.token().startCol
,this._readWhitespace(),e.match(m.IDENT)&&(r=e.token().value,r.toLowerCase()==="auto"&&
this._unexpectedToken(e.token())),e.peek()===m.COLON&&(i=this._pseudo_page()),this
._readWhitespace(),this.fire({type:"startpage",id:r,pseudo:i,line:t,col:n}),this
._readDeclarations(!0,!0),this.fire({type:"endpage",id:r,pseudo:i,line:t,col:n})
},_margin:function(){var e=this._tokenStream,t,n,r=this._margin_sym();return r?(
t=e.token().startLine,n=e.token().startCol,this.fire({type:"startpagemargin",margin
:r,line:t,col:n}),this._readDeclarations(!0),this.fire({type:"endpagemargin",margin
:r,line:t,col:n}),!0):!1},_margin_sym:function(){var e=this._tokenStream;return e
.match([m.TOPLEFTCORNER_SYM,m.TOPLEFT_SYM,m.TOPCENTER_SYM,m.TOPRIGHT_SYM,m.TOPRIGHTCORNER_SYM
,m.BOTTOMLEFTCORNER_SYM,m.BOTTOMLEFT_SYM,m.BOTTOMCENTER_SYM,m.BOTTOMRIGHT_SYM,m.
BOTTOMRIGHTCORNER_SYM,m.LEFTTOP_SYM,m.LEFTMIDDLE_SYM,m.LEFTBOTTOM_SYM,m.RIGHTTOP_SYM
,m.RIGHTMIDDLE_SYM,m.RIGHTBOTTOM_SYM])?s.fromToken(e.token()):null},_pseudo_page
:function(){var e=this._tokenStream;return e.mustMatch(m.COLON),e.mustMatch(m.IDENT
),e.token().value},_font_face:function(){var e=this._tokenStream,t,n;e.mustMatch
(m.FONT_FACE_SYM),t=e.token().startLine,n=e.token().startCol,this._readWhitespace
(),this.fire({type:"startfontface",line:t,col:n}),this._readDeclarations(!0),this
.fire({type:"endfontface",line:t,col:n})},_viewport:function(){var e=this._tokenStream
,t,n;e.mustMatch(m.VIEWPORT_SYM),t=e.token().startLine,n=e.token().startCol,this
._readWhitespace(),this.fire({type:"startviewport",line:t,col:n}),this._readDeclarations
(!0),this.fire({type:"endviewport",line:t,col:n})},_document:function(){var e=this
._tokenStream,t,n=[],r="";e.mustMatch(m.DOCUMENT_SYM),t=e.token(),/^@\-([^\-]+)\-/
.test(t.value)&&(r=RegExp.$1),this._readWhitespace(),n.push(this._document_function
());while(e.match(m.COMMA))this._readWhitespace(),n.push(this._document_function
());e.mustMatch(m.LBRACE),this._readWhitespace(),this.fire({type:"startdocument"
,functions:n,prefix:r,line:t.startLine,col:t.startCol});var i=!0;while(i)switch(
e.peek()){case m.PAGE_SYM:this._page();break;case m.FONT_FACE_SYM:this._font_face
();break;case m.VIEWPORT_SYM:this._viewport();break;case m.MEDIA_SYM:this._media
();break;case m.KEYFRAMES_SYM:this._keyframes();break;case m.DOCUMENT_SYM:this._document
();break;default:i=Boolean(this._ruleset())}e.mustMatch(m.RBRACE),t=e.token(),this
._readWhitespace(),this.fire({type:"enddocument",functions:n,prefix:r,line:t.startLine
,col:t.startCol})},_document_function:function(){var e=this._tokenStream,t;return e
.match(m.URI)?(t=e.token().value,this._readWhitespace()):t=this._function(),t},_operator
:function(e){var t=this._tokenStream,n=null;if(t.match([m.SLASH,m.COMMA])||e&&t.
match([m.PLUS,m.STAR,m.MINUS]))n=t.token(),this._readWhitespace();return n?c.fromToken
(n):null},_combinator:function(){var e=this._tokenStream,t=null,n;return e.match
([m.PLUS,m.GREATER,m.TILDE])&&(n=e.token(),t=new o(n.value,n.startLine,n.startCol
),this._readWhitespace()),t},_unary_operator:function(){var e=this._tokenStream;
return e.match([m.MINUS,m.PLUS])?e.token().value:null},_property:function(){var e=
this._tokenStream,t=null,n=null,r,i,s,o;return e.peek()===m.STAR&&this.options.starHack&&
(e.get(),i=e.token(),n=i.value,s=i.startLine,o=i.startCol),e.match(m.IDENT)&&(i=
e.token(),r=i.value,r.charAt(0)==="_"&&this.options.underscoreHack&&(n="_",r=r.substring
(1)),t=new f(r,n,s||i.startLine,o||i.startCol),this._readWhitespace()),t},_ruleset
:function(){var e=this._tokenStream,t,n;try{n=this._selectors_group()}catch(r){if(
r instanceof i&&!this.options.strict){this.fire({type:"error",error:r,message:r.
message,line:r.line,col:r.col}),t=e.advance([m.RBRACE]);if(t!==m.RBRACE)throw r;
return!0}throw r}return n&&(this.fire({type:"startrule",selectors:n,line:n[0].line
,col:n[0].col}),this._readDeclarations(!0),this.fire({type:"endrule",selectors:n
,line:n[0].line,col:n[0].col})),n},_selectors_group:function(){var e=this._tokenStream
,t=[],n;n=this._selector();if(n!==null){t.push(n);while(e.match(m.COMMA))this._readWhitespace
(),n=this._selector(),n!==null?t.push(n):this._unexpectedToken(e.LT(1))}return t
.length?t:null},_selector:function(){var e=this._tokenStream,t=[],n=null,r=null,
i=null;n=this._simple_selector_sequence();if(n===null)return null;t.push(n);do{r=
this._combinator();if(r!==null)t.push(r),n=this._simple_selector_sequence(),n===
null?this._unexpectedToken(e.LT(1)):t.push(n);else{if(!this._readWhitespace())break;
i=new o(e.token().value,e.token().startLine,e.token().startCol),r=this._combinator
(),n=this._simple_selector_sequence(),n===null?r!==null&&this._unexpectedToken(e
.LT(1)):(r!==null?t.push(r):t.push(i),t.push(n))}}while(!0);return new h(t,t[0].
line,t[0].col)},_simple_selector_sequence:function(){var e=this._tokenStream,t=null
,n=[],r="",i=[function(){return e.match(m.HASH)?new d(e.token().value,"id",e.token
().startLine,e.token().startCol):null},this._class,this._attrib,this._pseudo,this
._negation],s=0,o=i.length,u=null,a,f;a=e.LT(1).startLine,f=e.LT(1).startCol,t=this
._type_selector(),t||(t=this._universal()),t!==null&&(r+=t);for(;;){if(e.peek()===
m.S)break;while(s<o&&u===null)u=i[s++].call(this);if(u===null){if(r==="")return null
;break}s=0,n.push(u),r+=u.toString(),u=null}return r!==""?new p(t,n,r,a,f):null}
,_type_selector:function(){var e=this._tokenStream,t=this._namespace_prefix(),n=
this._element_name();return n?(t&&(n.text=t+n.text,n.col-=t.length),n):(t&&(e.unget
(),t.length>1&&e.unget()),null)},_class:function(){var e=this._tokenStream,t;return e
.match(m.DOT)?(e.mustMatch(m.IDENT),t=e.token(),new d("."+t.value,"class",t.startLine
,t.startCol-1)):null},_element_name:function(){var e=this._tokenStream,t;return e
.match(m.IDENT)?(t=e.token(),new d(t.value,"elementName",t.startLine,t.startCol)
):null},_namespace_prefix:function(){var e=this._tokenStream,t="";if(e.LA(1)===m
.PIPE||e.LA(2)===m.PIPE)e.match([m.IDENT,m.STAR])&&(t+=e.token().value),e.mustMatch
(m.PIPE),t+="|";return t.length?t:null},_universal:function(){var e=this._tokenStream
,t="",n;return n=this._namespace_prefix(),n&&(t+=n),e.match(m.STAR)&&(t+="*"),t.
length?t:null},_attrib:function(){var e=this._tokenStream,t=null,n,r;return e.match
(m.LBRACKET)?(r=e.token(),t=r.value,t+=this._readWhitespace(),n=this._namespace_prefix
(),n&&(t+=n),e.mustMatch(m.IDENT),t+=e.token().value,t+=this._readWhitespace(),e
.match([m.PREFIXMATCH,m.SUFFIXMATCH,m.SUBSTRINGMATCH,m.EQUALS,m.INCLUDES,m.DASHMATCH
])&&(t+=e.token().value,t+=this._readWhitespace(),e.mustMatch([m.IDENT,m.STRING]
),t+=e.token().value,t+=this._readWhitespace()),e.mustMatch(m.RBRACKET),new d(t+"]"
,"attribute",r.startLine,r.startCol)):null},_pseudo:function(){var e=this._tokenStream
,t=null,n=":",r,s;if(e.match(m.COLON)){e.match(m.COLON)&&(n+=":"),e.match(m.IDENT
)?(t=e.token().value,r=e.token().startLine,s=e.token().startCol-n.length):e.peek
()===m.FUNCTION&&(r=e.LT(1).startLine,s=e.LT(1).startCol-n.length,t=this._functional_pseudo
());if(!t){var o=e.LT(1).startLine,u=e.LT(0).startCol;throw new i("Expected a `FUNCTION` or `IDENT` after colon at line "+
o+", col "+u+".",o,u)}t=new d(n+t,"pseudo",r,s)}return t},_functional_pseudo:function(
){var e=this._tokenStream,t=null;return e.match(m.FUNCTION)&&(t=e.token().value,
t+=this._readWhitespace(),t+=this._expression(),e.mustMatch(m.RPAREN),t+=")"),t}
,_expression:function(){var e=this._tokenStream,t="";while(e.match([m.PLUS,m.MINUS
,m.DIMENSION,m.NUMBER,m.STRING,m.IDENT,m.LENGTH,m.FREQ,m.ANGLE,m.TIME,m.RESOLUTION
,m.SLASH]))t+=e.token().value,t+=this._readWhitespace();return t.length?t:null},
_negation:function(){var e=this._tokenStream,t,n,r="",i,s=null;return e.match(m.
NOT)&&(r=e.token().value,t=e.token().startLine,n=e.token().startCol,r+=this._readWhitespace
(),i=this._negation_arg(),r+=i,r+=this._readWhitespace(),e.match(m.RPAREN),r+=e.
token().value,s=new d(r,"not",t,n),s.args.push(i)),s},_negation_arg:function(){var e=
this._tokenStream,t=[this._type_selector,this._universal,function(){return e.match
(m.HASH)?new d(e.token().value,"id",e.token().startLine,e.token().startCol):null
},this._class,this._attrib,this._pseudo],n=null,r=0,i=t.length,s,o,u;s=e.LT(1).startLine
,o=e.LT(1).startCol;while(r<i&&n===null)n=t[r].call(this),r++;return n===null&&this
._unexpectedToken(e.LT(1)),n.type==="elementName"?u=new p(n,[],n.toString(),s,o)
:u=new p(null,[n],n.toString(),s,o),u},_declaration:function(){var e=this._tokenStream
,t=null,n=null,r=null,i=null,s="";t=this._property();if(t!==null){e.mustMatch(m.
COLON),this._readWhitespace(),n=this._expr(),(!n||n.length===0)&&this._unexpectedToken
(e.LT(1)),r=this._prio(),s=t.toString();if(this.options.starHack&&t.hack==="*"||
this.options.underscoreHack&&t.hack==="_")s=t.text;try{this._validateProperty(s,
n)}catch(o){i=o}return this.fire({type:"property",property:t,value:n,important:r
,line:t.line,col:t.col,invalid:i}),!0}return!1},_prio:function(){var e=this._tokenStream
,t=e.match(m.IMPORTANT_SYM);return this._readWhitespace(),t},_expr:function(e){var t=
[],n=null,r=null;n=this._term(e);if(n!==null){t.push(n);do{r=this._operator(e),r&&
t.push(r),n=this._term(e);if(n===null)break;t.push(n)}while(!0)}return t.length>0?new
l(t,t[0].line,t[0].col):null},_term:function(e){var t=this._tokenStream,n=null,r=
null,i=null,s=null,o,u,a;return n=this._unary_operator(),n!==null&&(u=t.token().
startLine,a=t.token().startCol),t.peek()===m.IE_FUNCTION&&this.options.ieFilters?
(r=this._ie_function(),n===null&&(u=t.token().startLine,a=t.token().startCol)):e&&
t.match([m.LPAREN,m.LBRACE,m.LBRACKET])?(o=t.token(),i=o.endChar,r=o.value+this.
_expr(e).text,n===null&&(u=t.token().startLine,a=t.token().startCol),t.mustMatch
(m.type(i)),r+=i,this._readWhitespace()):t.match([m.NUMBER,m.PERCENTAGE,m.LENGTH
,m.ANGLE,m.TIME,m.FREQ,m.STRING,m.IDENT,m.URI,m.UNICODE_RANGE])?(r=t.token().value
,n===null&&(u=t.token().startLine,a=t.token().startCol,s=c.fromToken(t.token()))
,this._readWhitespace()):(o=this._hexcolor(),o===null?(n===null&&(u=t.LT(1).startLine
,a=t.LT(1).startCol),r===null&&(t.LA(3)===m.EQUALS&&this.options.ieFilters?r=this
._ie_function():r=this._function())):(r=o.value,n===null&&(u=o.startLine,a=o.startCol
))),s!==null?s:r!==null?new c(n!==null?n+r:r,u,a):null},_function:function(){var e=
this._tokenStream,t=null,n=null,r;if(e.match(m.FUNCTION)){t=e.token().value,this
._readWhitespace(),n=this._expr(!0),t+=n;if(this.options.ieFilters&&e.peek()===m
.EQUALS)do{this._readWhitespace()&&(t+=e.token().value),e.LA(0)===m.COMMA&&(t+=e
.token().value),e.match(m.IDENT),t+=e.token().value,e.match(m.EQUALS),t+=e.token
().value,r=e.peek();while(r!==m.COMMA&&r!==m.S&&r!==m.RPAREN)e.get(),t+=e.token(
).value,r=e.peek()}while(e.match([m.COMMA,m.S]));e.match(m.RPAREN),t+=")",this._readWhitespace
()}return t},_ie_function:function(){var e=this._tokenStream,t=null,n;if(e.match
([m.IE_FUNCTION,m.FUNCTION])){t=e.token().value;do{this._readWhitespace()&&(t+=e
.token().value),e.LA(0)===m.COMMA&&(t+=e.token().value),e.match(m.IDENT),t+=e.token
().value,e.match(m.EQUALS),t+=e.token().value,n=e.peek();while(n!==m.COMMA&&n!==
m.S&&n!==m.RPAREN)e.get(),t+=e.token().value,n=e.peek()}while(e.match([m.COMMA,m
.S]));e.match(m.RPAREN),t+=")",this._readWhitespace()}return t},_hexcolor:function(
){var e=this._tokenStream,t=null,n;if(e.match(m.HASH)){t=e.token(),n=t.value;if(!/#[a-f0-9]{3,6}/i
.test(n))throw new i("Expected a hex color but found '"+n+"' at line "+t.startLine+", col "+
t.startCol+".",t.startLine,t.startCol);this._readWhitespace()}return t},_keyframes
:function(){var e=this._tokenStream,t,n,r,i="";e.mustMatch(m.KEYFRAMES_SYM),t=e.
token(),/^@\-([^\-]+)\-/.test(t.value)&&(i=RegExp.$1),this._readWhitespace(),r=this
._keyframe_name(),this._readWhitespace(),e.mustMatch(m.LBRACE),this.fire({type:"startkeyframes"
,name:r,prefix:i,line:t.startLine,col:t.startCol}),this._readWhitespace(),n=e.peek
();while(n===m.IDENT||n===m.PERCENTAGE)this._keyframe_rule(),this._readWhitespace
(),n=e.peek();this.fire({type:"endkeyframes",name:r,prefix:i,line:t.startLine,col
:t.startCol}),this._readWhitespace(),e.mustMatch(m.RBRACE),this._readWhitespace(
)},_keyframe_name:function(){var e=this._tokenStream;return e.mustMatch([m.IDENT
,m.STRING]),s.fromToken(e.token())},_keyframe_rule:function(){var e=this._key_list
();this.fire({type:"startkeyframerule",keys:e,line:e[0].line,col:e[0].col}),this
._readDeclarations(!0),this.fire({type:"endkeyframerule",keys:e,line:e[0].line,col
:e[0].col})},_key_list:function(){var e=this._tokenStream,t=[];t.push(this._key(
)),this._readWhitespace();while(e.match(m.COMMA))this._readWhitespace(),t.push(this
._key()),this._readWhitespace();return t},_key:function(){var e=this._tokenStream
,t;if(e.match(m.PERCENTAGE))return s.fromToken(e.token());if(e.match(m.IDENT)){t=
e.token();if(/from|to/i.test(t.value))return s.fromToken(t);e.unget()}this._unexpectedToken
(e.LT(1))},_skipCruft:function(){while(this._tokenStream.match([m.S,m.CDO,m.CDC]
));},_readDeclarations:function(e,t){var n=this._tokenStream,r;this._readWhitespace
(),e&&n.mustMatch(m.LBRACE),this._readWhitespace();try{for(;;){if(!(n.match(m.SEMICOLON
)||t&&this._margin())){if(!this._declaration())break;if(!n.match(m.SEMICOLON))break}
this._readWhitespace()}n.mustMatch(m.RBRACE),this._readWhitespace()}catch(s){if(!
(s instanceof i&&!this.options.strict))throw s;this.fire({type:"error",error:s,message
:s.message,line:s.line,col:s.col}),r=n.advance([m.SEMICOLON,m.RBRACE]);if(r===m.
SEMICOLON)this._readDeclarations(!1,t);else if(r!==m.RBRACE)throw s}},_readWhitespace
:function(){var e=this._tokenStream,t="";while(e.match(m.S))t+=e.token().value;return t
},_unexpectedToken:function(e){throw new i("Unexpected token '"+e.value+"' at line "+
e.startLine+", col "+e.startCol+".",e.startLine,e.startCol)},_verifyEnd:function(
){this._tokenStream.LA(1)!==m.EOF&&this._unexpectedToken(this._tokenStream.LT(1)
)},_validateProperty:function(e,t){g.validate(e,t)},parse:function(e){this._tokenStream=new
v(e,m),this._stylesheet()},parseStyleSheet:function(e){return this.parse(e)},parseMediaQuery
:function(e){this._tokenStream=new v(e,m);var t=this._media_query();return this.
_verifyEnd(),t},parsePropertyValue:function(e){this._tokenStream=new v(e,m),this
._readWhitespace();var t=this._expr();return this._readWhitespace(),this._verifyEnd
(),t},parseRule:function(e){this._tokenStream=new v(e,m),this._readWhitespace();
var t=this._ruleset();return this._readWhitespace(),this._verifyEnd(),t},parseSelector
:function(e){this._tokenStream=new v(e,m),this._readWhitespace();var t=this._selector
();return this._readWhitespace(),this._verifyEnd(),t},parseStyleAttribute:function(
e){e+="}",this._tokenStream=new v(e,m),this._readDeclarations()}};for(t in n)Object
.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}()},{"../util/EventTarget"
:23,"../util/SyntaxError":25,"../util/SyntaxUnit":26,"./Combinator":2,"./MediaFeature"
:4,"./MediaQuery":5,"./PropertyName":8,"./PropertyValue":9,"./PropertyValuePart"
:11,"./Selector":13,"./SelectorPart":14,"./SelectorSubPart":15,"./TokenStream":17
,"./Tokens":18,"./Validation":19}],7:[function(e,t,n){"use strict";var r=t.exports=
{__proto__:null,"align-items":"flex-start | flex-end | center | baseline | stretch"
,"align-content":"flex-start | flex-end | center | space-between | space-around | stretch"
,"align-self":"auto | flex-start | flex-end | center | baseline | stretch",all:"initial | inherit | unset"
,"-webkit-align-items":"flex-start | flex-end | center | baseline | stretch","-webkit-align-content"
:"flex-start | flex-end | center | space-between | space-around | stretch","-webkit-align-self"
:"auto | flex-start | flex-end | center | baseline | stretch","alignment-adjust"
:"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical | <percentage> | <length>"
,"alignment-baseline":"auto | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical"
,animation:1,"animation-delay":"<time>#","animation-direction":"<single-animation-direction>#"
,"animation-duration":"<time>#","animation-fill-mode":"[ none | forwards | backwards | both ]#"
,"animation-iteration-count":"[ <number> | infinite ]#","animation-name":"[ none | <single-animation-name> ]#"
,"animation-play-state":"[ running | paused ]#","animation-timing-function":1,"-moz-animation-delay"
:"<time>#","-moz-animation-direction":"[ normal | alternate ]#","-moz-animation-duration"
:"<time>#","-moz-animation-iteration-count":"[ <number> | infinite ]#","-moz-animation-name"
:"[ none | <single-animation-name> ]#","-moz-animation-play-state":"[ running | paused ]#"
,"-ms-animation-delay":"<time>#","-ms-animation-direction":"[ normal | alternate ]#"
,"-ms-animation-duration":"<time>#","-ms-animation-iteration-count":"[ <number> | infinite ]#"
,"-ms-animation-name":"[ none | <single-animation-name> ]#","-ms-animation-play-state"
:"[ running | paused ]#","-webkit-animation-delay":"<time>#","-webkit-animation-direction"
:"[ normal | alternate ]#","-webkit-animation-duration":"<time>#","-webkit-animation-fill-mode"
:"[ none | forwards | backwards | both ]#","-webkit-animation-iteration-count":"[ <number> | infinite ]#"
,"-webkit-animation-name":"[ none | <single-animation-name> ]#","-webkit-animation-play-state"
:"[ running | paused ]#","-o-animation-delay":"<time>#","-o-animation-direction"
:"[ normal | alternate ]#","-o-animation-duration":"<time>#","-o-animation-iteration-count"
:"[ <number> | infinite ]#","-o-animation-name":"[ none | <single-animation-name> ]#"
,"-o-animation-play-state":"[ running | paused ]#",appearance:"none | auto","-moz-appearance"
:"none | button | button-arrow-down | button-arrow-next | button-arrow-previous | button-arrow-up | button-bevel | button-focus | caret | checkbox | checkbox-container | checkbox-label | checkmenuitem | dualbutton | groupbox | listbox | listitem | menuarrow | menubar | menucheckbox | menuimage | menuitem | menuitemtext | menulist | menulist-button | menulist-text | menulist-textfield | menupopup | menuradio | menuseparator | meterbar | meterchunk | progressbar | progressbar-vertical | progresschunk | progresschunk-vertical | radio | radio-container | radio-label | radiomenuitem | range | range-thumb | resizer | resizerpanel | scale-horizontal | scalethumbend | scalethumb-horizontal | scalethumbstart | scalethumbtick | scalethumb-vertical | scale-vertical | scrollbarbutton-down | scrollbarbutton-left | scrollbarbutton-right | scrollbarbutton-up | scrollbarthumb-horizontal | scrollbarthumb-vertical | scrollbartrack-horizontal | scrollbartrack-vertical | searchfield | separator | sheet | spinner | spinner-downbutton | spinner-textfield | spinner-upbutton | splitter | statusbar | statusbarpanel | tab | tabpanel | tabpanels | tab-scroll-arrow-back | tab-scroll-arrow-forward | textfield | textfield-multiline | toolbar | toolbarbutton | toolbarbutton-dropdown | toolbargripper | toolbox | tooltip | treeheader | treeheadercell | treeheadersortarrow | treeitem | treeline | treetwisty | treetwistyopen | treeview | -moz-mac-unified-toolbar | -moz-win-borderless-glass | -moz-win-browsertabbar-toolbox | -moz-win-communicationstext | -moz-win-communications-toolbox | -moz-win-exclude-glass | -moz-win-glass | -moz-win-mediatext | -moz-win-media-toolbox | -moz-window-button-box | -moz-window-button-box-maximized | -moz-window-button-close | -moz-window-button-maximize | -moz-window-button-minimize | -moz-window-button-restore | -moz-window-frame-bottom | -moz-window-frame-left | -moz-window-frame-right | -moz-window-titlebar | -moz-window-titlebar-maximized"
,"-ms-appearance":"none | icon | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal"
,"-webkit-appearance":"none | button | button-bevel | caps-lock-indicator | caret | checkbox | default-button | listbox\t| listitem | media-fullscreen-button | media-mute-button | media-play-button | media-seek-back-button\t| media-seek-forward-button\t| media-slider | media-sliderthumb | menulist\t| menulist-button\t| menulist-text\t| menulist-textfield | push-button\t| radio\t| searchfield\t| searchfield-cancel-button\t| searchfield-decoration | searchfield-results-button | searchfield-results-decoration | slider-horizontal | slider-vertical | sliderthumb-horizontal | sliderthumb-vertical\t| square-button\t| textarea\t| textfield\t| scrollbarbutton-down | scrollbarbutton-left | scrollbarbutton-right | scrollbarbutton-up | scrollbargripper-horizontal | scrollbargripper-vertical | scrollbarthumb-horizontal | scrollbarthumb-vertical | scrollbartrack-horizontal | scrollbartrack-vertical"
,"-o-appearance":"none | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal"
,azimuth:"<azimuth>","backface-visibility":"visible | hidden",background:1,"background-attachment"
:"<attachment>#","background-clip":"<box>#","background-color":"<color>","background-image"
:"<bg-image>#","background-origin":"<box>#","background-position":"<bg-position>"
,"background-repeat":"<repeat-style>#","background-size":"<bg-size>#","baseline-shift"
:"baseline | sub | super | <percentage> | <length>",behavior:1,binding:1,bleed:"<length>"
,"bookmark-label":"<content> | <attr> | <string>","bookmark-level":"none | <integer>"
,"bookmark-state":"open | closed","bookmark-target":"none | <uri> | <attr>",border
:"<border-width> || <border-style> || <color>","border-bottom":"<border-width> || <border-style> || <color>"
,"border-bottom-color":"<color>","border-bottom-left-radius":"<x-one-radius>","border-bottom-right-radius"
:"<x-one-radius>","border-bottom-style":"<border-style>","border-bottom-width":"<border-width>"
,"border-collapse":"collapse | separate","border-color":"<color>{1,4}","border-image"
:1,"border-image-outset":"[ <length> | <number> ]{1,4}","border-image-repeat":"[ stretch | repeat | round ]{1,2}"
,"border-image-slice":"<border-image-slice>","border-image-source":"<image> | none"
,"border-image-width":"[ <length> | <percentage> | <number> | auto ]{1,4}","border-left"
:"<border-width> || <border-style> || <color>","border-left-color":"<color>","border-left-style"
:"<border-style>","border-left-width":"<border-width>","border-radius":"<border-radius>"
,"border-right":"<border-width> || <border-style> || <color>","border-right-color"
:"<color>","border-right-style":"<border-style>","border-right-width":"<border-width>"
,"border-spacing":"<length>{1,2}","border-style":"<border-style>{1,4}","border-top"
:"<border-width> || <border-style> || <color>","border-top-color":"<color>","border-top-left-radius"
:"<x-one-radius>","border-top-right-radius":"<x-one-radius>","border-top-style":"<border-style>"
,"border-top-width":"<border-width>","border-width":"<border-width>{1,4}",bottom
:"<margin-width>","-moz-box-align":"start | end | center | baseline | stretch","-moz-box-decoration-break"
:"slice | clone","-moz-box-direction":"normal | reverse","-moz-box-flex":"<number>"
,"-moz-box-flex-group":"<integer>","-moz-box-lines":"single | multiple","-moz-box-ordinal-group"
:"<integer>","-moz-box-orient":"horizontal | vertical | inline-axis | block-axis"
,"-moz-box-pack":"start | end | center | justify","-o-box-decoration-break":"slice | clone"
,"-webkit-box-align":"start | end | center | baseline | stretch","-webkit-box-decoration-break"
:"slice | clone","-webkit-box-direction":"normal | reverse","-webkit-box-flex":"<number>"
,"-webkit-box-flex-group":"<integer>","-webkit-box-lines":"single | multiple","-webkit-box-ordinal-group"
:"<integer>","-webkit-box-orient":"horizontal | vertical | inline-axis | block-axis"
,"-webkit-box-pack":"start | end | center | justify","box-decoration-break":"slice | clone"
,"box-shadow":"<box-shadow>","box-sizing":"content-box | border-box","break-after"
:"auto | always | avoid | left | right | page | column | avoid-page | avoid-column"
,"break-before":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column"
,"break-inside":"auto | avoid | avoid-page | avoid-column","caption-side":"top | bottom"
,clear:"none | right | left | both",clip:"<shape> | auto","-webkit-clip-path":"<clip-source> | <clip-path> | none"
,"clip-path":"<clip-source> | <clip-path> | none","clip-rule":"nonzero | evenodd"
,color:"<color>","color-interpolation":"auto | sRGB | linearRGB","color-interpolation-filters"
:"auto | sRGB | linearRGB","color-profile":1,"color-rendering":"auto | optimizeSpeed | optimizeQuality"
,"column-count":"<integer> | auto","column-fill":"auto | balance","column-gap":"<length> | normal"
,"column-rule":"<border-width> || <border-style> || <color>","column-rule-color"
:"<color>","column-rule-style":"<border-style>","column-rule-width":"<border-width>"
,"column-span":"none | all","column-width":"<length> | auto",columns:1,content:1
,"counter-increment":1,"counter-reset":1,crop:"<shape> | auto",cue:"cue-after | cue-before"
,"cue-after":1,"cue-before":1,cursor:1,direction:"ltr | rtl",display:"inline | block | list-item | inline-block | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | grid | inline-grid | run-in | ruby | ruby-base | ruby-text | ruby-base-container | ruby-text-container | contents | none | -moz-box | -moz-inline-block | -moz-inline-box | -moz-inline-grid | -moz-inline-stack | -moz-inline-table | -moz-grid | -moz-grid-group | -moz-grid-line | -moz-groupbox | -moz-deck | -moz-popup | -moz-stack | -moz-marker | -webkit-box | -webkit-inline-box | -ms-flexbox | -ms-inline-flexbox | flex | -webkit-flex | inline-flex | -webkit-inline-flex"
,"dominant-baseline":"auto | use-script | no-change | reset-size | ideographic | alphabetic | hanging | mathematical | central | middle | text-after-edge | text-before-edge"
,"drop-initial-after-adjust":"central | middle | after-edge | text-after-edge | ideographic | alphabetic | mathematical | <percentage> | <length>"
,"drop-initial-after-align":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical"
,"drop-initial-before-adjust":"before-edge | text-before-edge | central | middle | hanging | mathematical | <percentage> | <length>"
,"drop-initial-before-align":"caps-height | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical"
,"drop-initial-size":"auto | line | <length> | <percentage>","drop-initial-value"
:"<integer>",elevation:"<angle> | below | level | above | higher | lower","empty-cells"
:"show | hide","enable-background":1,fill:"<paint>","fill-opacity":"<opacity-value>"
,"fill-rule":"nonzero | evenodd",filter:"<filter-function-list> | none",fit:"fill | hidden | meet | slice"
,"fit-position":1,flex:"<flex>","flex-basis":"<width>","flex-direction":"row | row-reverse | column | column-reverse"
,"flex-flow":"<flex-direction> || <flex-wrap>","flex-grow":"<number>","flex-shrink"
:"<number>","flex-wrap":"nowrap | wrap | wrap-reverse","-webkit-flex":"<flex>","-webkit-flex-basis"
:"<width>","-webkit-flex-direction":"row | row-reverse | column | column-reverse"
,"-webkit-flex-flow":"<flex-direction> || <flex-wrap>","-webkit-flex-grow":"<number>"
,"-webkit-flex-shrink":"<number>","-webkit-flex-wrap":"nowrap | wrap | wrap-reverse"
,"-ms-flex":"<flex>","-ms-flex-align":"start | end | center | stretch | baseline"
,"-ms-flex-direction":"row | row-reverse | column | column-reverse","-ms-flex-order"
:"<number>","-ms-flex-pack":"start | end | center | justify","-ms-flex-wrap":"nowrap | wrap | wrap-reverse"
,"float":"left | right | none","float-offset":1,"flood-color":1,"flood-opacity":"<opacity-value>"
,font:"<font-shorthand> | caption | icon | menu | message-box | small-caption | status-bar"
,"font-family":"<font-family>","font-feature-settings":"<feature-tag-value> | normal"
,"font-kerning":"auto | normal | none","font-size":"<font-size>","font-size-adjust"
:"<number> | none","font-stretch":"<font-stretch>","font-style":"<font-style>","font-variant"
:"<font-variant> | normal | none","font-variant-alternates":"<font-variant-alternates> | normal"
,"font-variant-caps":"<font-variant-caps> | normal","font-variant-east-asian":"<font-variant-east-asian> | normal"
,"font-variant-ligatures":"<font-variant-ligatures> | normal | none","font-variant-numeric"
:"<font-variant-numeric> | normal","font-variant-position":"normal | sub | super"
,"font-weight":"<font-weight>","glyph-orientation-horizontal":"<glyph-angle>","glyph-orientation-vertical"
:"auto | <glyph-angle>",grid:1,"grid-area":1,"grid-auto-columns":1,"grid-auto-flow"
:1,"grid-auto-position":1,"grid-auto-rows":1,"grid-cell-stacking":"columns | rows | layer"
,"grid-column":1,"grid-columns":1,"grid-column-align":"start | end | center | stretch"
,"grid-column-sizing":1,"grid-column-start":1,"grid-column-end":1,"grid-column-span"
:"<integer>","grid-flow":"none | rows | columns","grid-layer":"<integer>","grid-row"
:1,"grid-rows":1,"grid-row-align":"start | end | center | stretch","grid-row-start"
:1,"grid-row-end":1,"grid-row-span":"<integer>","grid-row-sizing":1,"grid-template"
:1,"grid-template-areas":1,"grid-template-columns":1,"grid-template-rows":1,"hanging-punctuation"
:1,height:"<margin-width> | <content-sizing>","hyphenate-after":"<integer> | auto"
,"hyphenate-before":"<integer> | auto","hyphenate-character":"<string> | auto","hyphenate-lines"
:"no-limit | <integer>","hyphenate-resource":1,hyphens:"none | manual | auto",icon
:1,"image-orientation":"angle | auto","image-rendering":"auto | optimizeSpeed | optimizeQuality"
,"image-resolution":1,"ime-mode":"auto | normal | active | inactive | disabled","inline-box-align"
:"last | <integer>","justify-content":"flex-start | flex-end | center | space-between | space-around"
,"-webkit-justify-content":"flex-start | flex-end | center | space-between | space-around"
,kerning:"auto | <length>",left:"<margin-width>","letter-spacing":"<length> | normal"
,"line-height":"<line-height>","line-break":"auto | loose | normal | strict","line-stacking"
:1,"line-stacking-ruby":"exclude-ruby | include-ruby","line-stacking-shift":"consider-shifts | disregard-shifts"
,"line-stacking-strategy":"inline-line-height | block-line-height | max-height | grid-height"
,"list-style":1,"list-style-image":"<uri> | none","list-style-position":"inside | outside"
,"list-style-type":"disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none"
,margin:"<margin-width>{1,4}","margin-bottom":"<margin-width>","margin-left":"<margin-width>"
,"margin-right":"<margin-width>","margin-top":"<margin-width>",mark:1,"mark-after"
:1,"mark-before":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,marks
:1,"marquee-direction":1,"marquee-play-count":1,"marquee-speed":1,"marquee-style"
:1,mask:1,"max-height":"<length> | <percentage> | <content-sizing> | none","max-width"
:"<length> | <percentage> | <content-sizing> | none","min-height":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats"
,"min-width":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats"
,"move-to":1,"nav-down":1,"nav-index":1,"nav-left":1,"nav-right":1,"nav-up":1,"object-fit"
:"fill | contain | cover | none | scale-down","object-position":"<position>",opacity
:"<opacity-value>",order:"<integer>","-webkit-order":"<integer>",orphans:"<integer>"
,outline:1,"outline-color":"<color> | invert","outline-offset":1,"outline-style"
:"<border-style>","outline-width":"<border-width>",overflow:"visible | hidden | scroll | auto"
,"overflow-style":1,"overflow-wrap":"normal | break-word","overflow-x":1,"overflow-y"
:1,padding:"<padding-width>{1,4}","padding-bottom":"<padding-width>","padding-left"
:"<padding-width>","padding-right":"<padding-width>","padding-top":"<padding-width>"
,page:1,"page-break-after":"auto | always | avoid | left | right","page-break-before"
:"auto | always | avoid | left | right","page-break-inside":"auto | avoid","page-policy"
:1,pause:1,"pause-after":1,"pause-before":1,perspective:1,"perspective-origin":1
,phonemes:1,pitch:1,"pitch-range":1,"play-during":1,"pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all"
,position:"static | relative | absolute | fixed","presentation-level":1,"punctuation-trim"
:1,quotes:1,"rendering-intent":1,resize:1,rest:1,"rest-after":1,"rest-before":1,
richness:1,right:"<margin-width>",rotation:1,"rotation-point":1,"ruby-align":1,"ruby-overhang"
:1,"ruby-position":1,"ruby-span":1,"shape-rendering":"auto | optimizeSpeed | crispEdges | geometricPrecision"
,size:1,speak:"normal | none | spell-out","speak-header":"once | always","speak-numeral"
:"digits | continuous","speak-punctuation":"code | none","speech-rate":1,src:1,"stop-color"
:1,"stop-opacity":"<opacity-value>",stress:1,"string-set":1,stroke:"<paint>","stroke-dasharray"
:"none | <dasharray>","stroke-dashoffset":"<percentage> | <length>","stroke-linecap"
:"butt | round | square","stroke-linejoin":"miter | round | bevel","stroke-miterlimit"
:"<miterlimit>","stroke-opacity":"<opacity-value>","stroke-width":"<percentage> | <length>"
,"table-layout":"auto | fixed","tab-size":"<integer> | <length>",target:1,"target-name"
:1,"target-new":1,"target-position":1,"text-align":"left | right | center | justify | match-parent | start | end"
,"text-align-last":1,"text-anchor":"start | middle | end","text-decoration":"<text-decoration-line> || <text-decoration-style> || <text-decoration-color>"
,"text-decoration-color":"<text-decoration-color>","text-decoration-line":"<text-decoration-line>"
,"text-decoration-style":"<text-decoration-style>","text-emphasis":1,"text-height"
:1,"text-indent":"<length> | <percentage>","text-justify":"auto | none | inter-word | inter-ideograph | inter-cluster | distribute | kashida"
,"text-outline":1,"text-overflow":1,"text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision"
,"text-shadow":1,"text-transform":"capitalize | uppercase | lowercase | none","text-wrap"
:"normal | none | avoid",top:"<margin-width>","-ms-touch-action":"auto | none | pan-x | pan-y | pan-left | pan-right | pan-up | pan-down | manipulation"
,"touch-action":"auto | none | pan-x | pan-y | pan-left | pan-right | pan-up | pan-down | manipulation"
,transform:1,"transform-origin":1,"transform-style":1,transition:1,"transition-delay"
:1,"transition-duration":1,"transition-property":1,"transition-timing-function":1
,"unicode-bidi":"normal | embed | isolate | bidi-override | isolate-override | plaintext"
,"user-modify":"read-only | read-write | write-only","user-select":"none | text | toggle | element | elements | all"
,"vertical-align":"auto | use-script | baseline | sub | super | top | text-top | central | middle | bottom | text-bottom | <percentage> | <length>"
,visibility:"visible | hidden | collapse","voice-balance":1,"voice-duration":1,"voice-family"
:1,"voice-pitch":1,"voice-pitch-range":1,"voice-rate":1,"voice-stress":1,"voice-volume"
:1,volume:1,"white-space":"normal | pre | nowrap | pre-wrap | pre-line | -pre-wrap | -o-pre-wrap | -moz-pre-wrap | -hp-pre-wrap"
,"white-space-collapse":1,widows:"<integer>",width:"<length> | <percentage> | <content-sizing> | auto"
,"will-change":"<will-change>","word-break":"normal | keep-all | break-all","word-spacing"
:"<length> | normal","word-wrap":"normal | break-word","writing-mode":"horizontal-tb | vertical-rl | vertical-lr | lr-tb | rl-tb | tb-rl | bt-rl | tb-lr | bt-lr | lr-bt | rl-bt | lr | rl | tb"
,"z-index":"<integer> | auto",zoom:"<number> | <percentage> | normal"}},{}],8:[function(
e,t,n){"use strict";function s(e,t,n,s){r.call(this,e,n,s,i.PROPERTY_NAME_TYPE),
this.hack=t}t.exports=s;var r=e("../util/SyntaxUnit"),i=e("./Parser");s.prototype=new
r,s.prototype.constructor=s,s.prototype.toString=function(){return(this.hack?this
.hack:"")+this.text}},{"../util/SyntaxUnit":26,"./Parser":6}],9:[function(e,t,n)
{"use strict";function s(e,t,n){r.call(this,e.join(" "),t,n,i.PROPERTY_VALUE_TYPE
),this.parts=e}t.exports=s;var r=e("../util/SyntaxUnit"),i=e("./Parser");s.prototype=new
r,s.prototype.constructor=s},{"../util/SyntaxUnit":26,"./Parser":6}],10:[function(
e,t,n){"use strict";function r(e){this._i=0,this._parts=e.parts,this._marks=[],this
.value=e}t.exports=r,r.prototype.count=function(){return this._parts.length},r.prototype
.isFirst=function(){return this._i===0},r.prototype.hasNext=function(){return this
._i<this._parts.length},r.prototype.mark=function(){this._marks.push(this._i)},r
.prototype.peek=function(e){return this.hasNext()?this._parts[this._i+(e||0)]:null
},r.prototype.next=function(){return this.hasNext()?this._parts[this._i++]:null}
,r.prototype.previous=function(){return this._i>0?this._parts[--this._i]:null},r
.prototype.restore=function(){this._marks.length&&(this._i=this._marks.pop())},r
.prototype.drop=function(){this._marks.pop()}},{}],11:[function(e,t,n){"use strict"
;function u(e,t,n,o){var a=o||{};r.call(this,e,t,n,s.PROPERTY_VALUE_PART_TYPE),this
.type="unknown";var f;if(/^([+\-]?[\d\.]+)([a-z]+)$/i.test(e)){this.type="dimension"
,this.value=+RegExp.$1,this.units=RegExp.$2;switch(this.units.toLowerCase()){case"em"
:case"rem":case"ex":case"px":case"cm":case"mm":case"in":case"pt":case"pc":case"ch"
:case"vh":case"vw":case"vmax":case"vmin":this.type="length";break;case"fr":this.
type="grid";break;case"deg":case"rad":case"grad":case"turn":this.type="angle";break;
case"ms":case"s":this.type="time";break;case"hz":case"khz":this.type="frequency"
;break;case"dpi":case"dpcm":this.type="resolution"}}else/^([+\-]?[\d\.]+)%$/i.test
(e)?(this.type="percentage",this.value=+RegExp.$1):/^([+\-]?\d+)$/i.test(e)?(this
.type="integer",this.value=+RegExp.$1):/^([+\-]?[\d\.]+)$/i.test(e)?(this.type="number"
,this.value=+RegExp.$1):/^#([a-f0-9]{3,6})/i.test(e)?(this.type="color",f=RegExp
.$1,f.length===3?(this.red=parseInt(f.charAt(0)+f.charAt(0),16),this.green=parseInt
(f.charAt(1)+f.charAt(1),16),this.blue=parseInt(f.charAt(2)+f.charAt(2),16)):(this
.red=parseInt(f.substring(0,2),16),this.green=parseInt(f.substring(2,4),16),this
.blue=parseInt(f.substring(4,6),16))):/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i
.test(e)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+
RegExp.$3):/^rgb\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i.test(e)?(this.type="color"
,this.red=+RegExp.$1*255/100,this.green=+RegExp.$2*255/100,this.blue=+RegExp.$3*255/100
):/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/i.test(e)?(this.
type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3,this
.alpha=+RegExp.$4):/^rgba\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([\d\.]+)\s*\)/i
.test(e)?(this.type="color",this.red=+RegExp.$1*255/100,this.green=+RegExp.$2*255/100
,this.blue=+RegExp.$3*255/100,this.alpha=+RegExp.$4):/^hsl\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i
.test(e)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this
.lightness=+RegExp.$3/100):/^hsla\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([\d\.]+)\s*\)/i
.test(e)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this
.lightness=+RegExp.$3/100,this.alpha=+RegExp.$4):/^url\(("([^\\"]|\\.)*")\)/i.test
(e)?(this.type="uri",this.uri=u.parseString(RegExp.$1)):/^([^\(]+)\(/i.test(e)?(
this.type="function",this.name=RegExp.$1,this.value=e):/^"([^\n\r\f\\"]|\\\r\n|\\[^\r0-9a-f]|\\[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?)*"/i
.test(e)?(this.type="string",this.value=u.parseString(e)):/^'([^\n\r\f\\']|\\\r\n|\\[^\r0-9a-f]|\\[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?)*'/i
.test(e)?(this.type="string",this.value=u.parseString(e)):i[e.toLowerCase()]?(this
.type="color",f=i[e.toLowerCase()].substring(1),this.red=parseInt(f.substring(0,2
),16),this.green=parseInt(f.substring(2,4),16),this.blue=parseInt(f.substring(4,6
),16)):/^[,\/]$/.test(e)?(this.type="operator",this.value=e):/^-?[a-z_\u00A0-\uFFFF][a-z0-9\-_\u00A0-\uFFFF]*$/i
.test(e)&&(this.type="identifier",this.value=e);this.wasIdent=Boolean(a.ident)}t
.exports=u;var r=e("../util/SyntaxUnit"),i=e("./Colors"),s=e("./Parser"),o=e("./Tokens"
);u.prototype=new r,u.prototype.constructor=u,u.parseString=function(e){e=e.slice
(1,-1);var t=function(e,t){if(/^(\n|\r\n|\r|\f)$/.test(t))return"";var n=/^[0-9a-f]{1,6}/i
.exec(t);if(n){var r=parseInt(n[0],16);return String.fromCodePoint?String.fromCodePoint
(r):String.fromCharCode(r)}return t};return e.replace(/\\(\r\n|[^\r0-9a-f]|[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?)/ig
,t)},u.serializeString=function(e){var t=function(e,t){if(t==='"')return"\\"+t;var n=
String.codePointAt?String.codePointAt(0):String.charCodeAt(0);return"\\"+n.toString
(16)+" "};return'"'+e.replace(/["\r\n\f]/g,t)+'"'},u.fromToken=function(e){var t=new
u(e.value,e.startLine,e.startCol,{ident:e.type===o.IDENT});return t}},{"../util/SyntaxUnit"
:26,"./Colors":1,"./Parser":6,"./Tokens":18}],12:[function(e,t,n){"use strict";var r=
t.exports={__proto__:null,":first-letter":1,":first-line":1,":before":1,":after"
:1};r.ELEMENT=1,r.CLASS=2,r.isElement=function(e){return e.indexOf("::")===0||r[
e.toLowerCase()]===r.ELEMENT}},{}],13:[function(e,t,n){"use strict";function o(e
,t,n){r.call(this,e.join(" "),t,n,i.SELECTOR_TYPE),this.parts=e,this.specificity=
s.calculate(this)}t.exports=o;var r=e("../util/SyntaxUnit"),i=e("./Parser"),s=e("./Specificity"
);o.prototype=new r,o.prototype.constructor=o},{"../util/SyntaxUnit":26,"./Parser"
:6,"./Specificity":16}],14:[function(e,t,n){"use strict";function s(e,t,n,s,o){r
.call(this,n,s,o,i.SELECTOR_PART_TYPE),this.elementName=e,this.modifiers=t}t.exports=
s;var r=e("../util/SyntaxUnit"),i=e("./Parser");s.prototype=new r,s.prototype.constructor=
s},{"../util/SyntaxUnit":26,"./Parser":6}],15:[function(e,t,n){"use strict";function s
(e,t,n,s){r.call(this,e,n,s,i.SELECTOR_SUB_PART_TYPE),this.type=t,this.args=[]}t
.exports=s;var r=e("../util/SyntaxUnit"),i=e("./Parser");s.prototype=new r,s.prototype
.constructor=s},{"../util/SyntaxUnit":26,"./Parser":6}],16:[function(e,t,n){"use strict"
;function s(e,t,n,r){this.a=e,this.b=t,this.c=n,this.d=r}t.exports=s;var r=e("./Pseudos"
),i=e("./SelectorPart");s.prototype={constructor:s,compare:function(e){var t=["a"
,"b","c","d"],n,r;for(n=0,r=t.length;n<r;n++){if(this[t[n]]<e[t[n]])return-1;if(
this[t[n]]>e[t[n]])return 1}return 0},valueOf:function(){return this.a*1e3+this.
b*100+this.c*10+this.d},toString:function(){return this.a+","+this.b+","+this.c+","+
this.d}},s.calculate=function(e){function l(e){var t,n,i,s,o=e.elementName?e.elementName
.text:"",h;o&&o.charAt(o.length-1)!=="*"&&f++;for(t=0,i=e.modifiers.length;t<i;t++
){h=e.modifiers[t];switch(h.type){case"class":case"attribute":a++;break;case"id"
:u++;break;case"pseudo":r.isElement(h.text)?f++:a++;break;case"not":for(n=0,s=h.
args.length;n<s;n++)l(h.args[n])}}}var t,n,o,u=0,a=0,f=0;for(t=0,n=e.parts.length
;t<n;t++)o=e.parts[t],o instanceof i&&l(o);return new s(0,u,a,f)}},{"./Pseudos":12
,"./SelectorPart":14}],17:[function(e,t,n){"use strict";function l(e){return e!==
null&&o.test(e)}function c(e){return e!==null&&/\d/.test(e)}function h(e){return e!==
null&&f.test(e)}function p(e){return e!==null&&a.test(e)}function d(e){return e!==
null&&/[a-z_\u00A0-\uFFFF\\]/i.test(e)}function v(e){return e!==null&&(d(e)||/[0-9\-\\]/
.test(e))}function m(e){return e!==null&&(d(e)||/\-\\/.test(e))}function g(e,t){
for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function y
(e){r.call(this,e,s)}t.exports=y;var r=e("../util/TokenStreamBase"),i=e("./PropertyValuePart"
),s=e("./Tokens"),o=/^[0-9a-fA-F]$/,u=/^[\u00A0-\uFFFF]$/,a=/\n|\r\n|\r|\f/,f=/\u0009|\u000a|\u000c|\u000d|\u0020/
;y.prototype=g(new r,{_getToken:function(){var e,t=this._reader,n=null,r=t.getLine
(),i=t.getCol();e=t.read();while(e){switch(e){case"/":t.peek()==="*"?n=this.commentToken
(e,r,i):n=this.charToken(e,r,i);break;case"|":case"~":case"^":case"$":case"*":t.
peek()==="="?n=this.comparisonToken(e,r,i):n=this.charToken(e,r,i);break;case'"'
:case"'":n=this.stringToken(e,r,i);break;case"#":v(t.peek())?n=this.hashToken(e,
r,i):n=this.charToken(e,r,i);break;case".":c(t.peek())?n=this.numberToken(e,r,i)
:n=this.charToken(e,r,i);break;case"-":t.peek()==="-"?n=this.htmlCommentEndToken
(e,r,i):d(t.peek())?n=this.identOrFunctionToken(e,r,i):n=this.charToken(e,r,i);break;
case"!":n=this.importantToken(e,r,i);break;case"@":n=this.atRuleToken(e,r,i);break;
case":":n=this.notToken(e,r,i);break;case"<":n=this.htmlCommentStartToken(e,r,i)
;break;case"\\":/[^\r\n\f]/.test(t.peek())?n=this.identOrFunctionToken(this.readEscape
(e,!0),r,i):n=this.charToken(e,r,i);break;case"U":case"u":if(t.peek()==="+"){n=this
.unicodeRangeToken(e,r,i);break};default:c(e)?n=this.numberToken(e,r,i):h(e)?n=this
.whitespaceToken(e,r,i):m(e)?n=this.identOrFunctionToken(e,r,i):n=this.charToken
(e,r,i)}break}return!n&&e===null&&(n=this.createToken(s.EOF,null,r,i)),n},createToken
:function(e,t,n,r,i){var s=this._reader;return i=i||{},{value:t,type:e,channel:i
.channel,endChar:i.endChar,hide:i.hide||!1,startLine:n,startCol:r,endLine:s.getLine
(),endCol:s.getCol()}},atRuleToken:function(e,t,n){var r=e,i=this._reader,o=s.CHAR
,u;i.mark(),u=this.readName(),r=e+u,o=s.type(r.toLowerCase());if(o===s.CHAR||o===
s.UNKNOWN)r.length>1?o=s.UNKNOWN_SYM:(o=s.CHAR,r=e,i.reset());return this.createToken
(o,r,t,n)},charToken:function(e,t,n){var r=s.type(e),i={};return r===-1?r=s.CHAR
:i.endChar=s[r].endChar,this.createToken(r,e,t,n,i)},commentToken:function(e,t,n
){var r=this.readComment(e);return this.createToken(s.COMMENT,r,t,n)},comparisonToken
:function(e,t,n){var r=this._reader,i=e+r.read(),o=s.type(i)||s.CHAR;return this
.createToken(o,i,t,n)},hashToken:function(e,t,n){var r=this.readName(e);return this
.createToken(s.HASH,r,t,n)},htmlCommentStartToken:function(e,t,n){var r=this._reader
,i=e;return r.mark(),i+=r.readCount(3),i==="<!--"?this.createToken(s.CDO,i,t,n):
(r.reset(),this.charToken(e,t,n))},htmlCommentEndToken:function(e,t,n){var r=this
._reader,i=e;return r.mark(),i+=r.readCount(2),i==="-->"?this.createToken(s.CDC,
i,t,n):(r.reset(),this.charToken(e,t,n))},identOrFunctionToken:function(e,t,n){var r=
this._reader,i=this.readName(e),o=s.IDENT,u=["url(","url-prefix(","domain("],a;return r
.peek()==="("?(i+=r.read(),u.indexOf(i.toLowerCase())>-1?(r.mark(),a=this.readURI
(i),a===null?(r.reset(),o=s.FUNCTION):(o=s.URI,i=a)):o=s.FUNCTION):r.peek()===":"&&
i.toLowerCase()==="progid"&&(i+=r.readTo("("),o=s.IE_FUNCTION),this.createToken(
o,i,t,n)},importantToken:function(e,t,n){var r=this._reader,i=e,o=s.CHAR,u,a;r.mark
(),a=r.read();while(a){if(a==="/"){if(r.peek()!=="*")break;u=this.readComment(a)
;if(u==="")break}else{if(!h(a)){if(/i/i.test(a)){u=r.readCount(8),/mportant/i.test
(u)&&(i+=a+u,o=s.IMPORTANT_SYM);break}break}i+=a+this.readWhitespace()}a=r.read(
)}return o===s.CHAR?(r.reset(),this.charToken(e,t,n)):this.createToken(o,i,t,n)}
,notToken:function(e,t,n){var r=this._reader,i=e;return r.mark(),i+=r.readCount(4
),i.toLowerCase()===":not("?this.createToken(s.NOT,i,t,n):(r.reset(),this.charToken
(e,t,n))},numberToken:function(e,t,n){var r=this._reader,i=this.readNumber(e),o,
u=s.NUMBER,a=r.peek();return m(a)?(o=this.readName(r.read()),i+=o,/^em$|^ex$|^px$|^gd$|^rem$|^vw$|^vh$|^vmax$|^vmin$|^ch$|^cm$|^mm$|^in$|^pt$|^pc$/i
.test(o)?u=s.LENGTH:/^deg|^rad$|^grad$|^turn$/i.test(o)?u=s.ANGLE:/^ms$|^s$/i.test
(o)?u=s.TIME:/^hz$|^khz$/i.test(o)?u=s.FREQ:/^dpi$|^dpcm$/i.test(o)?u=s.RESOLUTION
:u=s.DIMENSION):a==="%"&&(i+=r.read(),u=s.PERCENTAGE),this.createToken(u,i,t,n)}
,stringToken:function(e,t,n){var r=e,i=e,o=this._reader,u=s.STRING,a=o.read(),f;
while(a){i+=a;if(a==="\\"){a=o.read();if(a===null)break;if(/[^\r\n\f0-9a-f]/i.test
(a))i+=a;else{for(f=0;l(a)&&f<6;f++)i+=a,a=o.read();a==="\r"&&o.peek()==="\n"&&(
i+=a,a=o.read());if(!h(a))continue;i+=a}}else{if(a===r)break;if(p(o.peek())){u=s
.INVALID;break}}a=o.read()}return a===null&&(u=s.INVALID),this.createToken(u,i,t
,n)},unicodeRangeToken:function(e,t,n){var r=this._reader,i=e,o,u=s.CHAR;return r
.peek()==="+"&&(r.mark(),i+=r.read(),i+=this.readUnicodeRangePart(!0),i.length===2?
r.reset():(u=s.UNICODE_RANGE,i.indexOf("?")===-1&&r.peek()==="-"&&(r.mark(),o=r.
read(),o+=this.readUnicodeRangePart(!1),o.length===1?r.reset():i+=o))),this.createToken
(u,i,t,n)},whitespaceToken:function(e,t,n){var r=e+this.readWhitespace();return this
.createToken(s.S,r,t,n)},readUnicodeRangePart:function(e){var t=this._reader,n=""
,r=t.peek();while(l(r)&&n.length<6)t.read(),n+=r,r=t.peek();if(e)while(r==="?"&&
n.length<6)t.read(),n+=r,r=t.peek();return n},readWhitespace:function(){var e=this
._reader,t="",n=e.peek();while(h(n))e.read(),t+=n,n=e.peek();return t},readNumber
:function(e){var t=this._reader,n=e,r=e===".",i=t.peek();while(i){if(c(i))n+=t.read
();else{if(i!==".")break;if(r)break;r=!0,n+=t.read()}i=t.peek()}return n},readString
:function(){var e=this.stringToken(this._reader.read(),0,0);return e.type===s.INVALID?
null:e.value},readURI:function(e){var t=this._reader,n=e,r="",s=t.peek();while(s&&
h(s))t.read(),s=t.peek();s==="'"||s==='"'?(r=this.readString(),r!==null&&(r=i.parseString
(r))):r=this.readUnquotedURL(),s=t.peek();while(s&&h(s))t.read(),s=t.peek();return r===
null||s!==")"?n=null:n+=i.serializeString(r)+t.read(),n},readUnquotedURL:function(
e){var t=this._reader,n=e||"",r;for(r=t.peek();r;r=t.peek())if(u.test(r)||/^[\-!#$%&*-\[\]-~]$/
.test(r))n+=r,t.read();else{if(r!=="\\")break;if(!/^[^\r\n\f]$/.test(t.peek(2)))
break;n+=this.readEscape(t.read(),!0)}return n},readName:function(e){var t=this.
_reader,n=e||"",r;for(r=t.peek();r;r=t.peek())if(r==="\\"){if(!/^[^\r\n\f]$/.test
(t.peek(2)))break;n+=this.readEscape(t.read(),!0)}else{if(!v(r))break;n+=t.read(
)}return n},readEscape:function(e,t){var n=this._reader,r=e||"",i=0,s=n.peek();if(
l(s))do r+=n.read(),s=n.peek();while(s&&l(s)&&++i<6);if(r.length===1){if(!/^[^\r\n\f0-9a-f]$/
.test(s))throw new Error("Bad escape sequence.");n.read();if(t)return s}else s==="\r"?
(n.read(),n.peek()==="\n"&&(s+=n.read())):/^[ \t\n\f]$/.test(s)?n.read():s="";if(
t){var o=parseInt(r.slice(e.length),16);return String.fromCodePoint?String.fromCodePoint
(o):String.fromCharCode(o)}return r+s},readComment:function(e){var t=this._reader
,n=e||"",r=t.read();if(r==="*"){while(r){n+=r;if(n.length>2&&r==="*"&&t.peek()==="/"
){n+=t.read();break}r=t.read()}return n}return""}})},{"../util/TokenStreamBase":27
,"./PropertyValuePart":11,"./Tokens":18}],18:[function(e,t,n){"use strict";var r=
t.exports=[{name:"CDO"},{name:"CDC"},{name:"S",whitespace:!0},{name:"COMMENT",comment
:!0,hide:!0,channel:"comment"},{name:"INCLUDES",text:"~="},{name:"DASHMATCH",text
:"|="},{name:"PREFIXMATCH",text:"^="},{name:"SUFFIXMATCH",text:"$="},{name:"SUBSTRINGMATCH"
,text:"*="},{name:"STRING"},{name:"IDENT"},{name:"HASH"},{name:"IMPORT_SYM",text
:"@import"},{name:"PAGE_SYM",text:"@page"},{name:"MEDIA_SYM",text:"@media"},{name
:"FONT_FACE_SYM",text:"@font-face"},{name:"CHARSET_SYM",text:"@charset"},{name:"NAMESPACE_SYM"
,text:"@namespace"},{name:"SUPPORTS_SYM",text:"@supports"},{name:"VIEWPORT_SYM",
text:["@viewport","@-ms-viewport","@-o-viewport"]},{name:"DOCUMENT_SYM",text:["@document"
,"@-moz-document"]},{name:"UNKNOWN_SYM"},{name:"KEYFRAMES_SYM",text:["@keyframes"
,"@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"]},{name:"IMPORTANT_SYM"}
,{name:"LENGTH"},{name:"ANGLE"},{name:"TIME"},{name:"FREQ"},{name:"DIMENSION"},{
name:"PERCENTAGE"},{name:"NUMBER"},{name:"URI"},{name:"FUNCTION"},{name:"UNICODE_RANGE"
},{name:"INVALID"},{name:"PLUS",text:"+"},{name:"GREATER",text:">"},{name:"COMMA"
,text:","},{name:"TILDE",text:"~"},{name:"NOT"},{name:"TOPLEFTCORNER_SYM",text:"@top-left-corner"
},{name:"TOPLEFT_SYM",text:"@top-left"},{name:"TOPCENTER_SYM",text:"@top-center"
},{name:"TOPRIGHT_SYM",text:"@top-right"},{name:"TOPRIGHTCORNER_SYM",text:"@top-right-corner"
},{name:"BOTTOMLEFTCORNER_SYM",text:"@bottom-left-corner"},{name:"BOTTOMLEFT_SYM"
,text:"@bottom-left"},{name:"BOTTOMCENTER_SYM",text:"@bottom-center"},{name:"BOTTOMRIGHT_SYM"
,text:"@bottom-right"},{name:"BOTTOMRIGHTCORNER_SYM",text:"@bottom-right-corner"
},{name:"LEFTTOP_SYM",text:"@left-top"},{name:"LEFTMIDDLE_SYM",text:"@left-middle"
},{name:"LEFTBOTTOM_SYM",text:"@left-bottom"},{name:"RIGHTTOP_SYM",text:"@right-top"
},{name:"RIGHTMIDDLE_SYM",text:"@right-middle"},{name:"RIGHTBOTTOM_SYM",text:"@right-bottom"
},{name:"RESOLUTION",state:"media"},{name:"IE_FUNCTION"},{name:"CHAR"},{name:"PIPE"
,text:"|"},{name:"SLASH",text:"/"},{name:"MINUS",text:"-"},{name:"STAR",text:"*"
},{name:"LBRACE",endChar:"}",text:"{"},{name:"RBRACE",text:"}"},{name:"LBRACKET"
,endChar:"]",text:"["},{name:"RBRACKET",text:"]"},{name:"EQUALS",text:"="},{name
:"COLON",text:":"},{name:"SEMICOLON",text:";"},{name:"LPAREN",endChar:")",text:"("
},{name:"RPAREN",text:")"},{name:"DOT",text:"."}];(function(){var e=[],t=Object.
create(null);r.UNKNOWN=-1,r.unshift({name:"EOF"});for(var n=0,i=r.length;n<i;n++
){e.push(r[n].name),r[r[n].name]=n;if(r[n].text)if(r[n].text instanceof Array)for(
var s=0;s<r[n].text.length;s++)t[r[n].text[s]]=n;else t[r[n].text]=n}r.name=function(
t){return e[t]},r.type=function(e){return t[e]||-1}})()},{}],19:[function(e,t,n)
{"use strict";var r=e("./Matcher"),i=e("./Properties"),s=e("./ValidationTypes"),
o=e("./ValidationError"),u=e("./PropertyValueIterator"),a=t.exports={validate:function(
e,t){var n=e.toString().toLowerCase(),r=new u(t),a=i[n],f;if(!a){if(n.indexOf("-"
)!==0)throw new o("Unknown property '"+e+"'.",e.line,e.col)}else if(typeof a!="number"
){if(s.isAny(r,"inherit | initial | unset")){if(r.hasNext())throw f=r.next(),new
o("Expected end of value but found '"+f+"'.",f.line,f.col);return}this.singleProperty
(a,r)}},singleProperty:function(e,t){var n=!1,i=t.value,u;n=r.parse(e).match(t);
if(!n)throw t.hasNext()&&!t.isFirst()?(u=t.peek(),new o("Expected end of value but found '"+
u+"'.",u.line,u.col)):new o("Expected ("+s.describe(e)+") but found '"+i+"'.",i.
line,i.col);if(t.hasNext())throw u=t.next(),new o("Expected end of value but found '"+
u+"'.",u.line,u.col)}}},{"./Matcher":3,"./Properties":7,"./PropertyValueIterator"
:10,"./ValidationError":20,"./ValidationTypes":21}],20:[function(e,t,n){"use strict"
;function r(e,t,n){this.col=n,this.line=t,this.message=e}t.exports=r,r.prototype=new
Error},{}],21:[function(e,t,n){"use strict";function s(e,t){Object.keys(t).forEach
(function(n){e[n]=t[n]})}var r=t.exports,i=e("./Matcher");s(r,{isLiteral:function(
e,t){var n=e.text.toString().toLowerCase(),r=t.split(" | "),i,s,o=!1;for(i=0,s=r
.length;i<s&&!o;i++)r[i].charAt(0)==="<"?o=this.simple[r[i]](e):r[i].slice(-2)==="()"?
o=e.type==="function"&&e.name===r[i].slice(0,-2):n===r[i].toLowerCase()&&(o=!0);
return o},isSimple:function(e){return Boolean(this.simple[e])},isComplex:function(
e){return Boolean(this.complex[e])},describe:function(e){return this.complex[e]instanceof
i?this.complex[e].toString(0):e},isAny:function(e,t){var n=t.split(" | "),r,i,s=!1
;for(r=0,i=n.length;r<i&&!s&&e.hasNext();r++)s=this.isType(e,n[r]);return s},isAnyOfGroup
:function(e,t){var n=t.split(" || "),r,i,s=!1;for(r=0,i=n.length;r<i&&!s;r++)s=this
.isType(e,n[r]);return s?n[r-1]:!1},isType:function(e,t){var n=e.peek(),r=!1;return t
.charAt(0)!=="<"?(r=this.isLiteral(n,t),r&&e.next()):this.simple[t]?(r=this.simple
[t](n),r&&e.next()):this.complex[t]instanceof i?r=this.complex[t].match(e):r=this
.complex[t](e),r},simple:{__proto__:null,"<absolute-size>":"xx-small | x-small | small | medium | large | x-large | xx-large"
,"<animateable-feature>":"scroll-position | contents | <animateable-feature-name>"
,"<animateable-feature-name>":function(e){return this["<ident>"](e)&&!/^(unset|initial|inherit|will-change|auto|scroll-position|contents)$/i
.test(e)},"<angle>":function(e){return e.type==="angle"},"<attachment>":"scroll | fixed | local"
,"<attr>":"attr()","<basic-shape>":"inset() | circle() | ellipse() | polygon()","<bg-image>"
:"<image> | <gradient> | none","<border-style>":"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset"
,"<border-width>":"<length> | thin | medium | thick","<box>":"padding-box | border-box | content-box"
,"<clip-source>":"<uri>","<color>":function(e){return e.type==="color"||String(e
)==="transparent"||String(e)==="currentColor"},"<color-svg>":function(e){return e
.type==="color"},"<content>":"content()","<content-sizing>":"fill-available | -moz-available | -webkit-fill-available | max-content | -moz-max-content | -webkit-max-content | min-content | -moz-min-content | -webkit-min-content | fit-content | -moz-fit-content | -webkit-fit-content"
,"<feature-tag-value>":function(e){return e.type==="function"&&/^[A-Z0-9]{4}$/i.
test(e)},"<filter-function>":"blur() | brightness() | contrast() | custom() | drop-shadow() | grayscale() | hue-rotate() | invert() | opacity() | saturate() | sepia()"
,"<flex-basis>":"<width>","<flex-direction>":"row | row-reverse | column | column-reverse"
,"<flex-grow>":"<number>","<flex-shrink>":"<number>","<flex-wrap>":"nowrap | wrap | wrap-reverse"
,"<font-size>":"<absolute-size> | <relative-size> | <length> | <percentage>","<font-stretch>"
:"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded"
,"<font-style>":"normal | italic | oblique","<font-variant-caps>":"small-caps | all-small-caps | petite-caps | all-petite-caps | unicase | titling-caps"
,"<font-variant-css21>":"normal | small-caps","<font-weight>":"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900"
,"<generic-family>":"serif | sans-serif | cursive | fantasy | monospace","<geometry-box>"
:"<shape-box> | fill-box | stroke-box | view-box","<glyph-angle>":function(e){return e
.type==="angle"&&e.units==="deg"},"<gradient>":function(e){return e.type==="function"&&/^(?:\-(?:ms|moz|o|webkit)\-)?(?:repeating\-)?(?:radial\-|linear\-)?gradient/i
.test(e)},"<icccolor>":"cielab() | cielch() | cielchab() | icc-color() | icc-named-color()"
,"<ident>":function(e){return e.type==="identifier"||e.wasIdent},"<ident-not-generic-family>"
:function(e){return this["<ident>"](e)&&!this["<generic-family>"](e)},"<image>":"<uri>"
,"<integer>":function(e){return e.type==="integer"},"<length>":function(e){return e
.type==="function"&&/^(?:\-(?:ms|moz|o|webkit)\-)?calc/i.test(e)?!0:e.type==="length"||
e.type==="number"||e.type==="integer"||String(e)==="0"},"<line>":function(e){return e
.type==="integer"},"<line-height>":"<number> | <length> | <percentage> | normal"
,"<margin-width>":"<length> | <percentage> | auto","<miterlimit>":function(e){return this
["<number>"](e)&&e.value>=1},"<nonnegative-length-or-percentage>":function(e){return(
this["<length>"](e)||this["<percentage>"](e))&&(String(e)==="0"||e.type==="function"||
e.value>=0)},"<nonnegative-number-or-percentage>":function(e){return(this["<number>"
](e)||this["<percentage>"](e))&&(String(e)==="0"||e.type==="function"||e.value>=0
)},"<number>":function(e){return e.type==="number"||this["<integer>"](e)},"<opacity-value>"
:function(e){return this["<number>"](e)&&e.value>=0&&e.value<=1},"<padding-width>"
:"<nonnegative-length-or-percentage>","<percentage>":function(e){return e.type==="percentage"||
String(e)==="0"},"<relative-size>":"smaller | larger","<shape>":"rect() | inset-rect()"
,"<shape-box>":"<box> | margin-box","<single-animation-direction>":"normal | reverse | alternate | alternate-reverse"
,"<single-animation-name>":function(e){return this["<ident>"](e)&&/^-?[a-z_][-a-z0-9_]+$/i
.test(e)&&!/^(none|unset|initial|inherit)$/i.test(e)},"<string>":function(e){return e
.type==="string"},"<time>":function(e){return e.type==="time"},"<uri>":function(
e){return e.type==="uri"},"<width>":"<margin-width>"},complex:{__proto__:null,"<azimuth>"
:"<angle> | [ [ left-side | far-left | left | center-left | center | center-right | right | far-right | right-side ] || behind ] | leftwards | rightwards"
,"<bg-position>":"<position>#","<bg-size>":"[ <length> | <percentage> | auto ]{1,2} | cover | contain"
,"<border-image-slice>":i.many([!0],i.cast("<nonnegative-number-or-percentage>")
,i.cast("<nonnegative-number-or-percentage>"),i.cast("<nonnegative-number-or-percentage>"
),i.cast("<nonnegative-number-or-percentage>"),"fill"),"<border-radius>":"<nonnegative-length-or-percentage>{1,4} [ / <nonnegative-length-or-percentage>{1,4} ]?"
,"<box-shadow>":"none | <shadow>#","<clip-path>":"<basic-shape> || <geometry-box>"
,"<dasharray>":i.cast("<nonnegative-length-or-percentage>").braces(1,Infinity,"#"
,i.cast(",").question()),"<family-name>":"<string> | <ident-not-generic-family> <ident>*"
,"<filter-function-list>":"[ <filter-function> | <uri> ]+","<flex>":"none | [ <flex-grow> <flex-shrink>? || <flex-basis> ]"
,"<font-family>":"[ <generic-family> | <family-name> ]#","<font-shorthand>":"[ <font-style> || <font-variant-css21> || <font-weight> || <font-stretch> ]? <font-size> [ / <line-height> ]? <font-family>"
,"<font-variant-alternates>":"stylistic() || historical-forms || styleset() || character-variant() || swash() || ornaments() || annotation()"
,"<font-variant-ligatures>":"[ common-ligatures | no-common-ligatures ] || [ discretionary-ligatures | no-discretionary-ligatures ] || [ historical-ligatures | no-historical-ligatures ] || [ contextual | no-contextual ]"
,"<font-variant-numeric>":"[ lining-nums | oldstyle-nums ] || [ proportional-nums | tabular-nums ] || [ diagonal-fractions | stacked-fractions ] || ordinal || slashed-zero"
,"<font-variant-east-asian>":"[ jis78 | jis83 | jis90 | jis04 | simplified | traditional ] || [ full-width | proportional-width ] || ruby"
,"<paint>":"<paint-basic> | <uri> <paint-basic>?","<paint-basic>":"none | currentColor | <color-svg> <icccolor>?"
,"<position>":"[ center | [ left | right ] [ <percentage> | <length> ]? ] && [ center | [ top | bottom ] [ <percentage> | <length> ]? ] | [ left | center | right | <percentage> | <length> ] [ top | center | bottom | <percentage> | <length> ] | [ left | center | right | top | bottom | <percentage> | <length> ]"
,"<repeat-style>":"repeat-x | repeat-y | [ repeat | space | round | no-repeat ]{1,2}"
,"<shadow>":i.many([!0],i.cast("<length>").braces(2,4),"inset","<color>"),"<text-decoration-color>"
:"<color>","<text-decoration-line>":"none | [ underline || overline || line-through || blink ]"
,"<text-decoration-style>":"solid | double | dotted | dashed | wavy","<will-change>"
:"auto | <animateable-feature>#","<x-one-radius>":"[ <length> | <percentage> ]{1,2}"
}}),Object.keys(r.simple).forEach(function(e){var t=r.simple[e];typeof t=="string"&&
(r.simple[e]=function(e){return r.isLiteral(e,t)})}),Object.keys(r.complex).forEach
(function(e){var t=r.complex[e];typeof t=="string"&&(r.complex[e]=i.parse(t))}),
r.complex["<font-variant>"]=i.oror({expand:"<font-variant-ligatures>"},{expand:"<font-variant-alternates>"
},"<font-variant-caps>",{expand:"<font-variant-numeric>"},{expand:"<font-variant-east-asian>"
})},{"./Matcher":3}],22:[function(e,t,n){"use strict";t.exports={Colors:e("./Colors"
),Combinator:e("./Combinator"),Parser:e("./Parser"),PropertyName:e("./PropertyName"
),PropertyValue:e("./PropertyValue"),PropertyValuePart:e("./PropertyValuePart"),
Matcher:e("./Matcher"),MediaFeature:e("./MediaFeature"),MediaQuery:e("./MediaQuery"
),Selector:e("./Selector"),SelectorPart:e("./SelectorPart"),SelectorSubPart:e("./SelectorSubPart"
),Specificity:e("./Specificity"),TokenStream:e("./TokenStream"),Tokens:e("./Tokens"
),ValidationError:e("./ValidationError")}},{"./Colors":1,"./Combinator":2,"./Matcher"
:3,"./MediaFeature":4,"./MediaQuery":5,"./Parser":6,"./PropertyName":8,"./PropertyValue"
:9,"./PropertyValuePart":11,"./Selector":13,"./SelectorPart":14,"./SelectorSubPart"
:15,"./Specificity":16,"./TokenStream":17,"./Tokens":18,"./ValidationError":20}]
,23:[function(e,t,n){"use strict";function r(){this._listeners=Object.create(null
)}t.exports=r,r.prototype={constructor:r,addListener:function(e,t){this._listeners
[e]||(this._listeners[e]=[]),this._listeners[e].push(t)},fire:function(e){typeof
e=="string"&&(e={type:e}),typeof e.target!="undefined"&&(e.target=this);if(typeof
e.type=="undefined")throw new Error("Event object missing 'type' property.");if(
this._listeners[e.type]){var t=this._listeners[e.type].concat();for(var n=0,r=t.
length;n<r;n++)t[n].call(this,e)}},removeListener:function(e,t){if(this._listeners
[e]){var n=this._listeners[e];for(var r=0,i=n.length;r<i;r++)if(n[r]===t){n.splice
(r,1);break}}}}},{}],24:[function(e,t,n){"use strict";function r(e){this._input=
e.replace(/(\r\n?|\n)/g,"\n"),this._line=1,this._col=1,this._cursor=0}t.exports=
r,r.prototype={constructor:r,getCol:function(){return this._col},getLine:function(
){return this._line},eof:function(){return this._cursor===this._input.length},peek
:function(e){var t=null;return e=typeof e=="undefined"?1:e,this._cursor<this._input
.length&&(t=this._input.charAt(this._cursor+e-1)),t},read:function(){var e=null;
return this._cursor<this._input.length&&(this._input.charAt(this._cursor)==="\n"?
(this._line++,this._col=1):this._col++,e=this._input.charAt(this._cursor++)),e},
mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col
}},reset:function(){this._bookmark&&(this._cursor=this._bookmark.cursor,this._line=
this._bookmark.line,this._col=this._bookmark.col,delete this._bookmark)},readTo:
function(e){var t="",n;while(t.length<e.length||t.lastIndexOf(e)!==t.length-e.length
){n=this.read();if(!n)throw new Error('Expected "'+e+'" at line '+this._line+", col "+
this._col+".");t+=n}return t},readWhile:function(e){var t="",n=this.peek();while(
n!==null&&e(n))t+=this.read(),n=this.peek();return t},readMatch:function(e){var t=
this._input.substring(this._cursor),n=null;return typeof e=="string"?t.slice(0,e
.length)===e&&(n=this.readCount(e.length)):e instanceof RegExp&&e.test(t)&&(n=this
.readCount(RegExp.lastMatch.length)),n},readCount:function(e){var t="";while(e--
)t+=this.read();return t}}},{}],25:[function(e,t,n){"use strict";function r(e,t,
n){Error.call(this),this.name=this.constructor.name,this.col=n,this.line=t,this.
message=e}t.exports=r,r.prototype=Object.create(Error.prototype),r.prototype.constructor=
r},{}],26:[function(e,t,n){"use strict";function r(e,t,n,r){this.col=n,this.line=
t,this.text=e,this.type=r}t.exports=r,r.fromToken=function(e){return new r(e.value
,e.startLine,e.startCol)},r.prototype={constructor:r,valueOf:function(){return this
.toString()},toString:function(){return this.text}}},{}],27:[function(e,t,n){"use strict"
;function s(e,t){this._reader=new r(e?e.toString():""),this._token=null,this._tokenData=
t,this._lt=[],this._ltIndex=0,this._ltIndexCache=[]}t.exports=s;var r=e("./StringReader"
),i=e("./SyntaxError");s.createTokenData=function(e){var t=[],n=Object.create(null
),r=e.concat([]),i=0,s=r.length+1;r.UNKNOWN=-1,r.unshift({name:"EOF"});for(;i<s;
i++)t.push(r[i].name),r[r[i].name]=i,r[i].text&&(n[r[i].text]=i);return r.name=function(
e){return t[e]},r.type=function(e){return n[e]},r},s.prototype={constructor:s,match
:function(e,t){e instanceof Array||(e=[e]);var n=this.get(t),r=0,i=e.length;while(
r<i)if(n===e[r++])return!0;return this.unget(),!1},mustMatch:function(e){var t;e instanceof
Array||(e=[e]);if(!this.match.apply(this,arguments))throw t=this.LT(1),new i("Expected "+
this._tokenData[e[0]].name+" at line "+t.startLine+", col "+t.startCol+".",t.startLine
,t.startCol)},advance:function(e,t){while(this.LA(0)!==0&&!this.match(e,t))this.
get();return this.LA(0)},get:function(e){var t=this._tokenData,n=0,r,i;if(this._lt
.length&&this._ltIndex>=0&&this._ltIndex<this._lt.length){n++,this._token=this._lt
[this._ltIndex++],i=t[this._token.type];while(i.channel!==undefined&&e!==i.channel&&
this._ltIndex<this._lt.length)this._token=this._lt[this._ltIndex++],i=t[this._token
.type],n++;if((i.channel===undefined||e===i.channel)&&this._ltIndex<=this._lt.length
)return this._ltIndexCache.push(n),this._token.type}return r=this._getToken(),r.
type>-1&&!t[r.type].hide&&(r.channel=t[r.type].channel,this._token=r,this._lt.push
(r),this._ltIndexCache.push(this._lt.length-this._ltIndex+n),this._lt.length>5&&
this._lt.shift(),this._ltIndexCache.length>5&&this._ltIndexCache.shift(),this._ltIndex=
this._lt.length),i=t[r.type],i&&(i.hide||i.channel!==undefined&&e!==i.channel)?this
.get(e):r.type},LA:function(e){var t=e,n;if(e>0){if(e>5)throw new Error("Too much lookahead."
);while(t)n=this.get(),t--;while(t<e)this.unget(),t++}else if(e<0){if(!this._lt[
this._ltIndex+e])throw new Error("Too much lookbehind.");n=this._lt[this._ltIndex+
e].type}else n=this._token.type;return n},LT:function(e){return this.LA(e),this.
_lt[this._ltIndex+e-1]},peek:function(){return this.LA(1)},token:function(){return this
._token},tokenName:function(e){return e<0||e>this._tokenData.length?"UNKNOWN_TOKEN"
:this._tokenData[e].name},tokenType:function(e){return this._tokenData[e]||-1},unget
:function(){if(!this._ltIndexCache.length)throw new Error("Too much lookahead.")
;this._ltIndex-=this._ltIndexCache.pop(),this._token=this._lt[this._ltIndex-1]}}
},{"./StringReader":24,"./SyntaxError":25}],28:[function(e,t,n){"use strict";t.exports=
{StringReader:e("./StringReader"),SyntaxError:e("./SyntaxError"),SyntaxUnit:e("./SyntaxUnit"
),EventTarget:e("./EventTarget"),TokenStreamBase:e("./TokenStreamBase")}},{"./EventTarget"
:23,"./StringReader":24,"./SyntaxError":25,"./SyntaxUnit":26,"./TokenStreamBase"
:27}],parserlib:[function(e,t,n){"use strict";t.exports={css:e("./css"),util:e("./util"
)}},{"./css":22,"./util":28}]},{},[]),e("parserlib")}(),r=function(){"use strict"
;function i(t,s,o,u,a){function p(t,o){if(t===null)return null;if(o===0)return t
;var d,v;if(typeof t!="object")return t;if(t instanceof e)d=new e;else if(t instanceof
n)d=new n;else if(t instanceof r)d=new r(function(e,n){t.then(function(t){e(p(t,
o-1))},function(e){n(p(e,o-1))})});else if(i.__isArray(t))d=[];else if(i.__isRegExp
(t))d=new RegExp(t.source,f(t)),t.lastIndex&&(d.lastIndex=t.lastIndex);else if(i
.__isDate(t))d=new Date(t.getTime());else{if(h&&Buffer.isBuffer(t))return d=new
Buffer(t.length),t.copy(d),d;t instanceof Error?d=Object.create(t):typeof u=="undefined"?
(v=Object.getPrototypeOf(t),d=Object.create(v)):(d=Object.create(u),v=u)}if(s){var m=
l.indexOf(t);if(m!=-1)return c[m];l.push(t),c.push(d)}if(t instanceof e){var g=t
.keys();for(;;){var y=g.next();if(y.done)break;var b=p(y.value,o-1),w=p(t.get(y.
value),o-1);d.set(b,w)}}if(t instanceof n){var E=t.keys();for(;;){var y=E.next()
;if(y.done)break;var S=p(y.value,o-1);d.add(S)}}for(var x in t){var T;v&&(T=Object
.getOwnPropertyDescriptor(v,x));if(T&&T.set==null)continue;d[x]=p(t[x],o-1)}if(Object
.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(t);for(var x=0;x<N.length
;x++){var C=N[x],k=Object.getOwnPropertyDescriptor(t,C);if(k&&!k.enumerable&&!a)
continue;d[C]=p(t[C],o-1),k.enumerable||Object.defineProperty(d,C,{enumerable:!1
})}}if(a){var L=Object.getOwnPropertyNames(t);for(var x=0;x<L.length;x++){var A=
L[x],k=Object.getOwnPropertyDescriptor(t,A);if(k&&k.enumerable)continue;d[A]=p(t
[A],o-1),Object.defineProperty(d,A,{enumerable:!1})}}return d}typeof s=="object"&&
(o=s.depth,u=s.prototype,a=s.includeNonEnumerable,s=s.circular);var l=[],c=[],h=typeof
Buffer!="undefined";return typeof s=="undefined"&&(s=!0),typeof o=="undefined"&&
(o=Infinity),p(t,o)}function s(e){return Object.prototype.toString.call(e)}function o
(e){return typeof e=="object"&&s(e)==="[object Date]"}function u(e){return typeof
e=="object"&&s(e)==="[object Array]"}function a(e){return typeof e=="object"&&s(
e)==="[object RegExp]"}function f(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&
(t+="i"),e.multiline&&(t+="m"),t}var e;try{e=Map}catch(t){e=function(){}}var n;try{
n=Set}catch(t){n=function(){}}var r;try{r=Promise}catch(t){r=function(){}}return i
.clonePrototype=function(t){if(t===null)return null;var n=function(){};return n.
prototype=t,new n},i.__objToStr=s,i.__isDate=o,i.__isArray=u,i.__isRegExp=a,i.__getRegExpFlags=
f,i}();typeof e=="object"&&e.exports&&(e.exports=r);var i=function(){"use strict"
;function a(e,t){var n,r=e&&e.match(o),i=r&&r[1];return i&&(n={"true":2,"":1,"false"
:0,2:2,1:1,0:0},i.toLowerCase().split(",").forEach(function(e){var r=e.split(":"
),i=r[0]||"",s=r[1]||"";t[i.trim()]=n[s.trim()]})),t}var e=[],t=[],o=/\/\*\s*csslint([^\*]*)\*\//
,u=new n.util.EventTarget;return u.version="1.0.4",u.addRule=function(t){e.push(
t),e[t.id]=t},u.clearRules=function(){e=[]},u.getRules=function(){return[].concat
(e).sort(function(e,t){return e.id>t.id?1:0})},u.getRuleset=function(){var t={},
n=0,r=e.length;while(n<r)t[e[n++].id]=1;return t},u.addFormatter=function(e){t[e
.id]=e},u.getFormatter=function(e){return t[e]},u.format=function(e,t,n,r){var i=
this.getFormatter(n),s=null;return i&&(s=i.startFormat(),s+=i.formatResults(e,t,
r||{}),s+=i.endFormat()),s},u.hasFormat=function(e){return t.hasOwnProperty(e)},
u.verify=function(t,u){var f=0,l,c,h={},p=[],d,v=new n.css.Parser({starHack:!0,ieFilters
:!0,underscoreHack:!0,strict:!1});c=t.replace(/\n\r?/g,"$split$").split("$split$"
),i.Util.forEach(c,function(e,t){var n=e&&e.match(/\/\*[ \t]*csslint[ \t]+allow:[ \t]*([^\*]*)\*\//i
),r=n&&n[1],i={};r&&(r.toLowerCase().split(",").forEach(function(e){i[e.trim()]=!0
}),Object.keys(i).length>0&&(h[t+1]=i))});var m=null,g=null;i.Util.forEach(c,function(
e,t){m===null&&e.match(/\/\*[ \t]*csslint[ \t]+ignore:start[ \t]*\*\//i)&&(m=t),
e.match(/\/\*[ \t]*csslint[ \t]+ignore:end[ \t]*\*\//i)&&(g=t),m!==null&&g!==null&&
(p.push([m,g]),m=g=null)}),m!==null&&p.push([m,c.length]),u||(u=this.getRuleset(
)),o.test(t)&&(u=r(u),u=a(t,u)),l=new s(c,u,h,p),u.errors=2;for(f in u)u.hasOwnProperty
(f)&&u[f]&&e[f]&&e[f].init(v,l);try{v.parse(t)}catch(y){l.error("Fatal error, cannot continue: "+
y.message,y.line,y.col,{})}return d={messages:l.messages,stats:l.stats,ruleset:l
.ruleset,allow:l.allow,ignore:l.ignore},d.messages.sort(function(e,t){return e.rollup&&!
t.rollup?1:!e.rollup&&t.rollup?-1:e.line-t.line}),d},u}();return s.prototype={constructor
:s,error:function(e,t,n,r){"use strict";this.messages.push({type:"error",line:t,
col:n,message:e,evidence:this.lines[t-1],rule:r||{}})},warn:function(e,t,n,r){"use strict"
;this.report(e,t,n,r)},report:function(e,t,n,r){"use strict";if(this.allow.hasOwnProperty
(t)&&this.allow[t].hasOwnProperty(r.id))return;var s=!1;i.Util.forEach(this.ignore
,function(e){e[0]<=t&&t<=e[1]&&(s=!0)});if(s)return;this.messages.push({type:this
.ruleset[r.id]===2?"error":"warning",line:t,col:n,message:e,evidence:this.lines[
t-1],rule:r})},info:function(e,t,n,r){"use strict";this.messages.push({type:"info"
,line:t,col:n,message:e,evidence:this.lines[t-1],rule:r})},rollupError:function(
e,t){"use strict";this.messages.push({type:"error",rollup:!0,message:e,rule:t})}
,rollupWarn:function(e,t){"use strict";this.messages.push({type:"warning",rollup
:!0,message:e,rule:t})},stat:function(e,t){"use strict";this.stats[e]=t}},i._Reporter=
s,i.Util={mix:function(e,t){"use strict";var n;for(n in t)t.hasOwnProperty(n)&&(
e[n]=t[n]);return n},indexOf:function(e,t){"use strict";if(e.indexOf)return e.indexOf
(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(
e,t){"use strict";if(e.forEach)return e.forEach(t);for(var n=0,r=e.length;n<r;n++
)t(e[n],n,e)}},i.addRule({id:"adjoining-classes",name:"Disallow adjoining classes"
,desc:"Don't use adjoining classes.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-adjoining-classes"
,browsers:"IE6",init:function(e,t){"use strict";var n=this;e.addListener("startrule"
,function(r){var i=r.selectors,s,o,u,a,f,l,c;for(f=0;f<i.length;f++){s=i[f];for(
l=0;l<s.parts.length;l++){o=s.parts[l];if(o.type===e.SELECTOR_PART_TYPE){a=0;for(
c=0;c<o.modifiers.length;c++)u=o.modifiers[c],u.type==="class"&&a++,a>1&&t.report
("Adjoining classes: "+i[f].text,o.line,o.col,n)}}}})}}),i.addRule({id:"box-model"
,name:"Beware of broken box size",desc:"Don't use width or height when using padding or border."
,url:"https://github.com/CSSLint/csslint/wiki/Beware-of-box-model-size",browsers
:"All",init:function(e,t){"use strict";function u(){s={},o=!1}function a(){var e
,u;if(!o){if(s.height)for(e in i)i.hasOwnProperty(e)&&s[e]&&(u=s[e].value,(e!=="padding"||
u.parts.length!==2||u.parts[0].value!==0)&&t.report("Using height with "+e+" can sometimes make elements larger than you expect."
,s[e].line,s[e].col,n));if(s.width)for(e in r)r.hasOwnProperty(e)&&s[e]&&(u=s[e]
.value,(e!=="padding"||u.parts.length!==2||u.parts[1].value!==0)&&t.report("Using width with "+
e+" can sometimes make elements larger than you expect.",s[e].line,s[e].col,n))}
}var n=this,r={border:1,"border-left":1,"border-right":1,padding:1,"padding-left"
:1,"padding-right":1},i={border:1,"border-bottom":1,"border-top":1,padding:1,"padding-bottom"
:1,"padding-top":1},s,o=!1;e.addListener("startrule",u),e.addListener("startfontface"
,u),e.addListener("startpage",u),e.addListener("startpagemargin",u),e.addListener
("startkeyframerule",u),e.addListener("startviewport",u),e.addListener("property"
,function(e){var t=e.property.text.toLowerCase();i[t]||r[t]?!/^0\S*$/.test(e.value
)&&(t!=="border"||e.value.toString()!=="none")&&(s[t]={line:e.property.line,col:
e.property.col,value:e.value}):/^(width|height)/i.test(t)&&/^(length|percentage)/
.test(e.value.parts[0].type)?s[t]=1:t==="box-sizing"&&(o=!0)}),e.addListener("endrule"
,a),e.addListener("endfontface",a),e.addListener("endpage",a),e.addListener("endpagemargin"
,a),e.addListener("endkeyframerule",a),e.addListener("endviewport",a)}}),i.addRule
({id:"box-sizing",name:"Disallow use of box-sizing",desc:"The box-sizing properties isn't supported in IE6 and IE7."
,url:"https://github.com/CSSLint/csslint/wiki/Disallow-box-sizing",browsers:"IE6, IE7"
,tags:["Compatibility"],init:function(e,t){"use strict";var n=this;e.addListener
("property",function(e){var r=e.property.text.toLowerCase();r==="box-sizing"&&t.
report("The box-sizing property isn't supported in IE6 and IE7.",e.line,e.col,n)
})}}),i.addRule({id:"bulletproof-font-face",name:"Use the bulletproof @font-face syntax"
,desc:"Use the bulletproof @font-face syntax to avoid 404's in old IE (http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax)."
,url:"https://github.com/CSSLint/csslint/wiki/Bulletproof-font-face",browsers:"All"
,init:function(e,t){"use strict";var n=this,r=!1,i=!0,s=!1,o,u;e.addListener("startfontface"
,function(){r=!0}),e.addListener("property",function(e){if(!r)return;var t=e.property
.toString().toLowerCase(),n=e.value.toString();o=e.line,u=e.col;if(t==="src"){var a=/^\s?url\(['"].+\.eot\?.*['"]\)\s*format\(['"]embedded-opentype['"]\).*$/i
;!n.match(a)&&i?(s=!0,i=!1):n.match(a)&&!i&&(s=!1)}}),e.addListener("endfontface"
,function(){r=!1,s&&t.report("@font-face declaration doesn't follow the fontspring bulletproof syntax."
,o,u,n)})}}),i.addRule({id:"compatible-vendor-prefixes",name:"Require compatible vendor prefixes"
,desc:"Include all compatible vendor prefixes to reach a wider range of users.",
url:"https://github.com/CSSLint/csslint/wiki/Require-compatible-vendor-prefixes"
,browsers:"All",init:function(e,t){"use strict";var n=this,r,s,o,u,a,f,l,c=!1,h=
Array.prototype.push,p=[];r={animation:"webkit","animation-delay":"webkit","animation-direction"
:"webkit","animation-duration":"webkit","animation-fill-mode":"webkit","animation-iteration-count"
:"webkit","animation-name":"webkit","animation-play-state":"webkit","animation-timing-function"
:"webkit",appearance:"webkit moz","border-end":"webkit moz","border-end-color":"webkit moz"
,"border-end-style":"webkit moz","border-end-width":"webkit moz","border-image":"webkit moz o"
,"border-radius":"webkit","border-start":"webkit moz","border-start-color":"webkit moz"
,"border-start-style":"webkit moz","border-start-width":"webkit moz","box-align"
:"webkit moz ms","box-direction":"webkit moz ms","box-flex":"webkit moz ms","box-lines"
:"webkit ms","box-ordinal-group":"webkit moz ms","box-orient":"webkit moz ms","box-pack"
:"webkit moz ms","box-sizing":"","box-shadow":"","column-count":"webkit moz ms","column-gap"
:"webkit moz ms","column-rule":"webkit moz ms","column-rule-color":"webkit moz ms"
,"column-rule-style":"webkit moz ms","column-rule-width":"webkit moz ms","column-width"
:"webkit moz ms",hyphens:"epub moz","line-break":"webkit ms","margin-end":"webkit moz"
,"margin-start":"webkit moz","marquee-speed":"webkit wap","marquee-style":"webkit wap"
,"padding-end":"webkit moz","padding-start":"webkit moz","tab-size":"moz o","text-size-adjust"
:"webkit ms",transform:"webkit ms","transform-origin":"webkit ms",transition:"","transition-delay"
:"","transition-duration":"","transition-property":"","transition-timing-function"
:"","user-modify":"webkit moz","user-select":"webkit moz ms","word-break":"epub ms"
,"writing-mode":"epub ms"};for(o in r)if(r.hasOwnProperty(o)){u=[],a=r[o].split(" "
);for(f=0,l=a.length;f<l;f++)u.push("-"+a[f]+"-"+o);r[o]=u,h.apply(p,u)}e.addListener
("startrule",function(){s=[]}),e.addListener("startkeyframes",function(e){c=e.prefix||!0
}),e.addListener("endkeyframes",function(){c=!1}),e.addListener("property",function(
e){var t=e.property;i.Util.indexOf(p,t.text)>-1&&(!c||typeof c!="string"||t.text
.indexOf("-"+c+"-")!==0)&&s.push(t)}),e.addListener("endrule",function(){if(!s.length
)return;var e={},o,u,a,f,l,c,h,p,d,v;for(o=0,u=s.length;o<u;o++){a=s[o];for(f in
r)r.hasOwnProperty(f)&&(l=r[f],i.Util.indexOf(l,a.text)>-1&&(e[f]||(e[f]={full:l
.slice(0),actual:[],actualNodes:[]}),i.Util.indexOf(e[f].actual,a.text)===-1&&(e
[f].actual.push(a.text),e[f].actualNodes.push(a))))}for(f in e)if(e.hasOwnProperty
(f)){c=e[f],h=c.full,p=c.actual;if(h.length>p.length)for(o=0,u=h.length;o<u;o++)
d=h[o],i.Util.indexOf(p,d)===-1&&(v=p.length===1?p[0]:p.length===2?p.join(" and "
):p.join(", "),t.report("The property "+d+" is compatible with "+v+" and should be included as well."
,c.actualNodes[0].line,c.actualNodes[0].col,n))}})}}),i.addRule({id:"display-property-grouping"
,name:"Require properties appropriate for display",desc:"Certain properties shouldn't be used with certain display property values."
,url:"https://github.com/CSSLint/csslint/wiki/Require-properties-appropriate-for-display"
,browsers:"All",init:function(e,t){"use strict";function s(e,s,o){i[e]&&(typeof
r[e]!="string"||i[e].value.toLowerCase()!==r[e])&&t.report(o||e+" can't be used with display: "+
s+".",i[e].line,i[e].col,n)}function o(){i={}}function u(){var e=i.display?i.display
.value:null;if(e)switch(e){case"inline":s("height",e),s("width",e),s("margin",e)
,s("margin-top",e),s("margin-bottom",e),s("float",e,"display:inline has no effect on floated elements (but may be used to fix the IE6 double-margin bug)."
);break;case"block":s("vertical-align",e);break;case"inline-block":s("float",e);
break;default:e.indexOf("table-")===0&&(s("margin",e),s("margin-left",e),s("margin-right"
,e),s("margin-top",e),s("margin-bottom",e),s("float",e))}}var n=this,r={display:1
,"float":"none",height:1,width:1,margin:1,"margin-left":1,"margin-right":1,"margin-bottom"
:1,"margin-top":1,padding:1,"padding-left":1,"padding-right":1,"padding-bottom":1
,"padding-top":1,"vertical-align":1},i;e.addListener("startrule",o),e.addListener
("startfontface",o),e.addListener("startkeyframerule",o),e.addListener("startpagemargin"
,o),e.addListener("startpage",o),e.addListener("startviewport",o),e.addListener("property"
,function(e){var t=e.property.text.toLowerCase();r[t]&&(i[t]={value:e.value.text
,line:e.property.line,col:e.property.col})}),e.addListener("endrule",u),e.addListener
("endfontface",u),e.addListener("endkeyframerule",u),e.addListener("endpagemargin"
,u),e.addListener("endpage",u),e.addListener("endviewport",u)}}),i.addRule({id:"duplicate-background-images"
,name:"Disallow duplicate background images",desc:"Every background-image should be unique. Use a common class for e.g. sprites."
,url:"https://github.com/CSSLint/csslint/wiki/Disallow-duplicate-background-images"
,browsers:"All",init:function(e,t){"use strict";var n=this,r={};e.addListener("property"
,function(e){var i=e.property.text,s=e.value,o,u;if(i.match(/background/i))for(o=0
,u=s.parts.length;o<u;o++)s.parts[o].type==="uri"&&(typeof r[s.parts[o].uri]=="undefined"?
r[s.parts[o].uri]=e:t.report("Background image '"+s.parts[o].uri+"' was used multiple times, first declared at line "+
r[s.parts[o].uri].line+", col "+r[s.parts[o].uri].col+".",e.line,e.col,n))})}}),
i.addRule({id:"duplicate-properties",name:"Disallow duplicate properties",desc:"Duplicate properties must appear one after the other."
,url:"https://github.com/CSSLint/csslint/wiki/Disallow-duplicate-properties",browsers
:"All",init:function(e,t){"use strict";function s(){r={}}var n=this,r,i;e.addListener
("startrule",s),e.addListener("startfontface",s),e.addListener("startpage",s),e.
addListener("startpagemargin",s),e.addListener("startkeyframerule",s),e.addListener
("startviewport",s),e.addListener("property",function(e){var s=e.property,o=s.text
.toLowerCase();r[o]&&(i!==o||r[o]===e.value.text)&&t.report("Duplicate property '"+
e.property+"' found.",e.line,e.col,n),r[o]=e.value.text,i=o})}}),i.addRule({id:"empty-rules"
,name:"Disallow empty rules",desc:"Rules without any properties specified should be removed."
,url:"https://github.com/CSSLint/csslint/wiki/Disallow-empty-rules",browsers:"All"
,init:function(e,t){"use strict";var n=this,r=0;e.addListener("startrule",function(
){r=0}),e.addListener("property",function(){r++}),e.addListener("endrule",function(
e){var i=e.selectors;r===0&&t.report("Rule is empty.",i[0].line,i[0].col,n)})}})
,i.addRule({id:"errors",name:"Parsing Errors",desc:"This rule looks for recoverable syntax errors."
,browsers:"All",init:function(e,t){"use strict";var n=this;e.addListener("error"
,function(e){t.error(e.message,e.line,e.col,n)})}}),i.addRule({id:"fallback-colors"
,name:"Require fallback colors",desc:"For older browsers that don't support RGBA, HSL, or HSLA, provide a fallback color."
,url:"https://github.com/CSSLint/csslint/wiki/Require-fallback-colors",browsers:"IE6,IE7,IE8"
,init:function(e,t){"use strict";function s(){r=null}var n=this,r,i={color:1,background
:1,"border-color":1,"border-top-color":1,"border-right-color":1,"border-bottom-color"
:1,"border-left-color":1,border:1,"border-top":1,"border-right":1,"border-bottom"
:1,"border-left":1,"background-color":1};e.addListener("startrule",s),e.addListener
("startfontface",s),e.addListener("startpage",s),e.addListener("startpagemargin"
,s),e.addListener("startkeyframerule",s),e.addListener("startviewport",s),e.addListener
("property",function(e){var s=e.property,o=s.text.toLowerCase(),u=e.value.parts,
a=0,f="",l=u.length;if(i[o])while(a<l)u[a].type==="color"&&("alpha"in u[a]||"hue"in
u[a]?(/([^\)]+)\(/.test(u[a])&&(f=RegExp.$1.toUpperCase()),(!r||r.property.text.
toLowerCase()!==o||r.colorType!=="compat")&&t.report("Fallback "+o+" (hex or RGB) should precede "+
f+" "+o+".",e.line,e.col,n)):e.colorType="compat"),a++;r=e})}}),i.addRule({id:"floats"
,name:"Disallow too many floats",desc:"This rule tests if the float property is used too many times"
,url:"https://github.com/CSSLint/csslint/wiki/Disallow-too-many-floats",browsers
:"All",init:function(e,t){"use strict";var n=this,r=0;e.addListener("property",function(
e){e.property.text.toLowerCase()==="float"&&e.value.text.toLowerCase()!=="none"&&
r++}),e.addListener("endstylesheet",function(){t.stat("floats",r),r>=10&&t.rollupWarn
("Too many floats ("+r+"), you're probably using them for layout. Consider using a grid system instead."
,n)})}}),i.addRule({id:"font-faces",name:"Don't use too many web fonts",desc:"Too many different web fonts in the same stylesheet."
,url:"https://github.com/CSSLint/csslint/wiki/Don%27t-use-too-many-web-fonts",browsers
:"All",init:function(e,t){"use strict";var n=this,r=0;e.addListener("startfontface"
,function(){r++}),e.addListener("endstylesheet",function(){r>5&&t.rollupWarn("Too many @font-face declarations ("+
r+").",n)})}}),i.addRule({id:"font-sizes",name:"Disallow too many font sizes",desc
:"Checks the number of font-size declarations.",url:"https://github.com/CSSLint/csslint/wiki/Don%27t-use-too-many-font-size-declarations"
,browsers:"All",init:function(e,t){"use strict";var n=this,r=0;e.addListener("property"
,function(e){e.property.toString()==="font-size"&&r++}),e.addListener("endstylesheet"
,function(){t.stat("font-sizes",r),r>=10&&t.rollupWarn("Too many font-size declarations ("+
r+"), abstraction needed.",n)})}}),i.addRule({id:"gradients",name:"Require all gradient definitions"
,desc:"When using a vendor-prefixed gradient, make sure to use them all.",url:"https://github.com/CSSLint/csslint/wiki/Require-all-gradient-definitions"
,browsers:"All",init:function(e,t){"use strict";var n=this,r;e.addListener("startrule"
,function(){r={moz:0,webkit:0,oldWebkit:0,o:0}}),e.addListener("property",function(
e){/\-(moz|o|webkit)(?:\-(?:linear|radial))\-gradient/i.test(e.value)?r[RegExp.$1
]=1:/\-webkit\-gradient/i.test(e.value)&&(r.oldWebkit=1)}),e.addListener("endrule"
,function(e){var i=[];r.moz||i.push("Firefox 3.6+"),r.webkit||i.push("Webkit (Safari 5+, Chrome)"
),r.oldWebkit||i.push("Old Webkit (Safari 4+, Chrome)"),r.o||i.push("Opera 11.1+"
),i.length&&i.length<4&&t.report("Missing vendor-prefixed CSS gradients for "+i.
join(", ")+".",e.selectors[0].line,e.selectors[0].col,n)})}}),i.addRule({id:"ids"
,name:"Disallow IDs in selectors",desc:"Selectors should not contain IDs.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-IDs-in-selectors"
,browsers:"All",init:function(e,t){"use strict";var n=this;e.addListener("startrule"
,function(r){var i=r.selectors,s,o,u,a,f,l,c;for(f=0;f<i.length;f++){s=i[f],a=0;
for(l=0;l<s.parts.length;l++){o=s.parts[l];if(o.type===e.SELECTOR_PART_TYPE)for(
c=0;c<o.modifiers.length;c++)u=o.modifiers[c],u.type==="id"&&a++}a===1?t.report("Don't use IDs in selectors."
,s.line,s.col,n):a>1&&t.report(a+" IDs in the selector, really?",s.line,s.col,n)
}})}}),i.addRule({id:"import-ie-limit",name:"@import limit on IE6-IE9",desc:"IE6-9 supports up to 31 @import per stylesheet"
,browsers:"IE6, IE7, IE8, IE9",init:function(e,t){"use strict";function s(){i=0}
var n=this,r=31,i=0;e.addListener("startpage",s),e.addListener("import",function(
){i++}),e.addListener("endstylesheet",function(){i>r&&t.rollupError("Too many @import rules ("+
i+"). IE6-9 supports up to 31 import per stylesheet.",n)})}}),i.addRule({id:"import"
,name:"Disallow @import",desc:"Don't use @import, use <link> instead.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-%40import"
,browsers:"All",init:function(e,t){"use strict";var n=this;e.addListener("import"
,function(e){t.report("@import prevents parallel downloads, use <link> instead."
,e.line,e.col,n)})}}),i.addRule({id:"important",name:"Disallow !important",desc:"Be careful when using !important declaration"
,url:"https://github.com/CSSLint/csslint/wiki/Disallow-%21important",browsers:"All"
,init:function(e,t){"use strict";var n=this,r=0;e.addListener("property",function(
e){e.important===!0&&(r++,t.report("Use of !important",e.line,e.col,n))}),e.addListener
("endstylesheet",function(){t.stat("important",r),r>=10&&t.rollupWarn("Too many !important declarations ("+
r+"), try to use less than 10 to avoid specificity issues.",n)})}}),i.addRule({id
:"known-properties",name:"Require use of known properties",desc:"Properties should be known (listed in CSS3 specification) or be a vendor-prefixed property."
,url:"https://github.com/CSSLint/csslint/wiki/Require-use-of-known-properties",browsers
:"All",init:function(e,t){"use strict";var n=this;e.addListener("property",function(
e){e.invalid&&t.report(e.invalid.message,e.line,e.col,n)})}}),i.addRule({id:"order-alphabetical"
,name:"Alphabetical order",desc:"Assure properties are in alphabetical order",browsers
:"All",init:function(e,t){"use strict";var n=this,r,i=function(){r=[]},s=function(
e){var i=r.join(","),s=r.sort().join(",");i!==s&&t.report("Rule doesn't have all its properties in alphabetical order."
,e.line,e.col,n)};e.addListener("startrule",i),e.addListener("startfontface",i),
e.addListener("startpage",i),e.addListener("startpagemargin",i),e.addListener("startkeyframerule"
,i),e.addListener("startviewport",i),e.addListener("property",function(e){var t=
e.property.text,n=t.toLowerCase().replace(/^-.*?-/,"");r.push(n)}),e.addListener
("endrule",s),e.addListener("endfontface",s),e.addListener("endpage",s),e.addListener
("endpagemargin",s),e.addListener("endkeyframerule",s),e.addListener("endviewport"
,s)}}),i.addRule({id:"outline-none",name:"Disallow outline: none",desc:"Use of outline: none or outline: 0 should be limited to :focus rules."
,url:"https://github.com/CSSLint/csslint/wiki/Disallow-outline%3Anone",browsers:"All"
,tags:["Accessibility"],init:function(e,t){"use strict";function i(e){e.selectors?
r={line:e.line,col:e.col,selectors:e.selectors,propCount:0,outline:!1}:r=null}function s
(){r&&r.outline&&(r.selectors.toString().toLowerCase().indexOf(":focus")===-1?t.
report("Outlines should only be modified using :focus.",r.line,r.col,n):r.propCount===1&&
t.report("Outlines shouldn't be hidden unless other visual changes are made.",r.
line,r.col,n))}var n=this,r;e.addListener("startrule",i),e.addListener("startfontface"
,i),e.addListener("startpage",i),e.addListener("startpagemargin",i),e.addListener
("startkeyframerule",i),e.addListener("startviewport",i),e.addListener("property"
,function(e){var t=e.property.text.toLowerCase(),n=e.value;r&&(r.propCount++,t==="outline"&&
(n.toString()==="none"||n.toString()==="0")&&(r.outline=!0))}),e.addListener("endrule"
,s),e.addListener("endfontface",s),e.addListener("endpage",s),e.addListener("endpagemargin"
,s),e.addListener("endkeyframerule",s),e.addListener("endviewport",s)}}),i.addRule
({id:"overqualified-elements",name:"Disallow overqualified elements",desc:"Don't use classes or IDs with elements (a.foo or a#foo)."
,url:"https://github.com/CSSLint/csslint/wiki/Disallow-overqualified-elements",browsers
:"All",init:function(e,t){"use strict";var n=this,r={};e.addListener("startrule"
,function(i){var s=i.selectors,o,u,a,f,l,c;for(f=0;f<s.length;f++){o=s[f];for(l=0
;l<o.parts.length;l++){u=o.parts[l];if(u.type===e.SELECTOR_PART_TYPE)for(c=0;c<u
.modifiers.length;c++)a=u.modifiers[c],u.elementName&&a.type==="id"?t.report("Element ("+
u+") is overqualified, just use "+a+" without element name.",u.line,u.col,n):a.type==="class"&&
(r[a]||(r[a]=[]),r[a].push({modifier:a,part:u}))}}}),e.addListener("endstylesheet"
,function(){var e;for(e in r)r.hasOwnProperty(e)&&r[e].length===1&&r[e][0].part.
elementName&&t.report("Element ("+r[e][0].part+") is overqualified, just use "+r
[e][0].modifier+" without element name.",r[e][0].part.line,r[e][0].part.col,n)})
}}),i.addRule({id:"qualified-headings",name:"Disallow qualified headings",desc:"Headings should not be qualified (namespaced)."
,url:"https://github.com/CSSLint/csslint/wiki/Disallow-qualified-headings",browsers
:"All",init:function(e,t){"use strict";var n=this;e.addListener("startrule",function(
r){var i=r.selectors,s,o,u,a;for(u=0;u<i.length;u++){s=i[u];for(a=0;a<s.parts.length
;a++)o=s.parts[a],o.type===e.SELECTOR_PART_TYPE&&o.elementName&&/h[1-6]/.test(o.
elementName.toString())&&a>0&&t.report("Heading ("+o.elementName+") should not be qualified."
,o.line,o.col,n)}})}}),i.addRule({id:"regex-selectors",name:"Disallow selectors that look like regexs"
,desc:"Selectors that look like regular expressions are slow and should be avoided."
,url:"https://github.com/CSSLint/csslint/wiki/Disallow-selectors-that-look-like-regular-expressions"
,browsers:"All",init:function(e,t){"use strict";var n=this;e.addListener("startrule"
,function(r){var i=r.selectors,s,o,u,a,f,l;for(a=0;a<i.length;a++){s=i[a];for(f=0
;f<s.parts.length;f++){o=s.parts[f];if(o.type===e.SELECTOR_PART_TYPE)for(l=0;l<o
.modifiers.length;l++)u=o.modifiers[l],u.type==="attribute"&&/([~\|\^\$\*]=)/.test
(u)&&t.report("Attribute selectors with "+RegExp.$1+" are slow!",u.line,u.col,n)
}}})}}),i.addRule({id:"rules-count",name:"Rules Count",desc:"Track how many rules there are."
,browsers:"All",init:function(e,t){"use strict";var n=0;e.addListener("startrule"
,function(){n++}),e.addListener("endstylesheet",function(){t.stat("rule-count",n
)})}}),i.addRule({id:"selector-max-approaching",name:"Warn when approaching the 4095 selector limit for IE"
,desc:"Will warn when selector count is >= 3800 selectors.",browsers:"IE",init:function(
e,t){"use strict";var n=this,r=0;e.addListener("startrule",function(e){r+=e.selectors
.length}),e.addListener("endstylesheet",function(){r>=3800&&t.report("You have "+
r+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring."
,0,0,n)})}}),i.addRule({id:"selector-max",name:"Error when past the 4095 selector limit for IE"
,desc:"Will error when selector count is > 4095.",browsers:"IE",init:function(e,
t){"use strict";var n=this,r=0;e.addListener("startrule",function(e){r+=e.selectors
.length}),e.addListener("endstylesheet",function(){r>4095&&t.report("You have "+
r+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring."
,0,0,n)})}}),i.addRule({id:"selector-newline",name:"Disallow new-line characters in selectors"
,desc:"New-line characters in selectors are usually a forgotten comma and not a descendant combinator."
,browsers:"All",init:function(e,t){"use strict";function r(e){var r,i,s,o,u,a,f,
l,c,h,p,d=e.selectors;for(r=0,i=d.length;r<i;r++){s=d[r];for(o=0,a=s.parts.length
;o<a;o++)for(u=o+1;u<a;u++)f=s.parts[o],l=s.parts[u],c=f.type,h=f.line,p=l.line,
c==="descendant"&&p>h&&t.report("newline character found in selector (forgot a comma?)"
,h,d[r].parts[0].col,n)}}var n=this;e.addListener("startrule",r)}}),i.addRule({id
:"shorthand",name:"Require shorthand properties",desc:"Use shorthand properties where possible."
,url:"https://github.com/CSSLint/csslint/wiki/Require-shorthand-properties",browsers
:"All",init:function(e,t){"use strict";function f(){u={}}function l(e){var r,i,s
,o;for(r in a)if(a.hasOwnProperty(r)){o=0;for(i=0,s=a[r].length;i<s;i++)o+=u[a[r
][i]]?1:0;o===a[r].length&&t.report("The properties "+a[r].join(", ")+" can be replaced by "+
r+".",e.line,e.col,n)}}var n=this,r,i,s,o={},u,a={margin:["margin-top","margin-bottom"
,"margin-left","margin-right"],padding:["padding-top","padding-bottom","padding-left"
,"padding-right"]};for(r in a)if(a.hasOwnProperty(r))for(i=0,s=a[r].length;i<s;i++
)o[a[r][i]]=r;e.addListener("startrule",f),e.addListener("startfontface",f),e.addListener
("property",function(e){var t=e.property.toString().toLowerCase();o[t]&&(u[t]=1)
}),e.addListener("endrule",l),e.addListener("endfontface",l)}}),i.addRule({id:"star-property-hack"
,name:"Disallow properties with a star prefix",desc:"Checks for the star property hack (targets IE6/7)"
,url:"https://github.com/CSSLint/csslint/wiki/Disallow-star-hack",browsers:"All"
,init:function(e,t){"use strict";var n=this;e.addListener("property",function(e)
{var r=e.property;r.hack==="*"&&t.report("Property with star prefix found.",e.property
.line,e.property.col,n)})}}),i.addRule({id:"text-indent",name:"Disallow negative text-indent"
,desc:"Checks for text indent less than -99px",url:"https://github.com/CSSLint/csslint/wiki/Disallow-negative-text-indent"
,browsers:"All",init:function(e,t){"use strict";function s(){r=!1,i="inherit"}function o
(){r&&i!=="ltr"&&t.report("Negative text-indent doesn't work well with RTL. If you use text-indent for image replacement explicitly set direction for that item to ltr."
,r.line,r.col,n)}var n=this,r,i;e.addListener("startrule",s),e.addListener("startfontface"
,s),e.addListener("property",function(e){var t=e.property.toString().toLowerCase
(),n=e.value;t==="text-indent"&&n.parts[0].value<-99?r=e.property:t==="direction"&&
n.toString()==="ltr"&&(i="ltr")}),e.addListener("endrule",o),e.addListener("endfontface"
,o)}}),i.addRule({id:"underscore-property-hack",name:"Disallow properties with an underscore prefix"
,desc:"Checks for the underscore property hack (targets IE6)",url:"https://github.com/CSSLint/csslint/wiki/Disallow-underscore-hack"
,browsers:"All",init:function(e,t){"use strict";var n=this;e.addListener("property"
,function(e){var r=e.property;r.hack==="_"&&t.report("Property with underscore prefix found."
,e.property.line,e.property.col,n)})}}),i.addRule({id:"unique-headings",name:"Headings should only be defined once"
,desc:"Headings should be defined only once.",url:"https://github.com/CSSLint/csslint/wiki/Headings-should-only-be-defined-once"
,browsers:"All",init:function(e,t){"use strict";var n=this,r={h1:0,h2:0,h3:0,h4:0
,h5:0,h6:0};e.addListener("startrule",function(e){var i=e.selectors,s,o,u,a,f;for(
a=0;a<i.length;a++){s=i[a],o=s.parts[s.parts.length-1];if(o.elementName&&/(h[1-6])/i
.test(o.elementName.toString())){for(f=0;f<o.modifiers.length;f++)if(o.modifiers
[f].type==="pseudo"){u=!0;break}u||(r[RegExp.$1]++,r[RegExp.$1]>1&&t.report("Heading ("+
o.elementName+") has already been defined.",o.line,o.col,n))}}}),e.addListener("endstylesheet"
,function(){var e,i=[];for(e in r)r.hasOwnProperty(e)&&r[e]>1&&i.push(r[e]+" "+e+"s"
);i.length&&t.rollupWarn("You have "+i.join(", ")+" defined in this stylesheet."
,n)})}}),i.addRule({id:"universal-selector",name:"Disallow universal selector",desc
:"The universal selector (*) is known to be slow.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-universal-selector"
,browsers:"All",init:function(e,t){"use strict";var n=this;e.addListener("startrule"
,function(e){var r=e.selectors,i,s,o;for(o=0;o<r.length;o++)i=r[o],s=i.parts[i.parts
.length-1],s.elementName==="*"&&t.report(n.desc,s.line,s.col,n)})}}),i.addRule({
id:"unqualified-attributes",name:"Disallow unqualified attribute selectors",desc
:"Unqualified attribute selectors are known to be slow.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-unqualified-attribute-selectors"
,browsers:"All",init:function(e,t){"use strict";var n=this;e.addListener("startrule"
,function(r){var i=r.selectors,s=!1,o,u,a,f,l;for(f=0;f<i.length;f++){o=i[f],u=o
.parts[o.parts.length-1];if(u.type===e.SELECTOR_PART_TYPE){for(l=0;l<u.modifiers
.length;l++){a=u.modifiers[l];if(a.type==="class"||a.type==="id"){s=!0;break}}if(!
s)for(l=0;l<u.modifiers.length;l++)a=u.modifiers[l],a.type==="attribute"&&(!u.elementName||
u.elementName==="*")&&t.report(n.desc,u.line,u.col,n)}}})}}),i.addRule({id:"vendor-prefix"
,name:"Require standard property with vendor prefix",desc:"When using a vendor-prefixed property, make sure to include the standard one."
,url:"https://github.com/CSSLint/csslint/wiki/Require-standard-property-with-vendor-prefix"
,browsers:"All",init:function(e,t){"use strict";function o(){r={},i=1}function u
(){var e,i,o,u,a,f=[];for(e in r)s[e]&&f.push({actual:e,needed:s[e]});for(i=0,o=
f.length;i<o;i++)u=f[i].needed,a=f[i].actual,r[u]?r[u][0].pos<r[a][0].pos&&t.report
("Standard property '"+u+"' should come after vendor-prefixed property '"+a+"'."
,r[a][0].name.line,r[a][0].name.col,n):t.report("Missing standard property '"+u+"' to go along with '"+
a+"'.",r[a][0].name.line,r[a][0].name.col,n)}var n=this,r,i,s={"-webkit-border-radius"
:"border-radius","-webkit-border-top-left-radius":"border-top-left-radius","-webkit-border-top-right-radius"
:"border-top-right-radius","-webkit-border-bottom-left-radius":"border-bottom-left-radius"
,"-webkit-border-bottom-right-radius":"border-bottom-right-radius","-o-border-radius"
:"border-radius","-o-border-top-left-radius":"border-top-left-radius","-o-border-top-right-radius"
:"border-top-right-radius","-o-border-bottom-left-radius":"border-bottom-left-radius"
,"-o-border-bottom-right-radius":"border-bottom-right-radius","-moz-border-radius"
:"border-radius","-moz-border-radius-topleft":"border-top-left-radius","-moz-border-radius-topright"
:"border-top-right-radius","-moz-border-radius-bottomleft":"border-bottom-left-radius"
,"-moz-border-radius-bottomright":"border-bottom-right-radius","-moz-column-count"
:"column-count","-webkit-column-count":"column-count","-moz-column-gap":"column-gap"
,"-webkit-column-gap":"column-gap","-moz-column-rule":"column-rule","-webkit-column-rule"
:"column-rule","-moz-column-rule-style":"column-rule-style","-webkit-column-rule-style"
:"column-rule-style","-moz-column-rule-color":"column-rule-color","-webkit-column-rule-color"
:"column-rule-color","-moz-column-rule-width":"column-rule-width","-webkit-column-rule-width"
:"column-rule-width","-moz-column-width":"column-width","-webkit-column-width":"column-width"
,"-webkit-column-span":"column-span","-webkit-columns":"columns","-moz-box-shadow"
:"box-shadow","-webkit-box-shadow":"box-shadow","-moz-transform":"transform","-webkit-transform"
:"transform","-o-transform":"transform","-ms-transform":"transform","-moz-transform-origin"
:"transform-origin","-webkit-transform-origin":"transform-origin","-o-transform-origin"
:"transform-origin","-ms-transform-origin":"transform-origin","-moz-box-sizing":"box-sizing"
,"-webkit-box-sizing":"box-sizing"};e.addListener("startrule",o),e.addListener("startfontface"
,o),e.addListener("startpage",o),e.addListener("startpagemargin",o),e.addListener
("startkeyframerule",o),e.addListener("startviewport",o),e.addListener("property"
,function(e){var t=e.property.text.toLowerCase();r[t]||(r[t]=[]),r[t].push({name
:e.property,value:e.value,pos:i++})}),e.addListener("endrule",u),e.addListener("endfontface"
,u),e.addListener("endpage",u),e.addListener("endpagemargin",u),e.addListener("endkeyframerule"
,u),e.addListener("endviewport",u)}}),i.addRule({id:"zero-units",name:"Disallow units for 0 values"
,desc:"You don't need to specify units when a value is 0.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-units-for-zero-values"
,browsers:"All",init:function(e,t){"use strict";var n=this;e.addListener("property"
,function(e){var r=e.value.parts,i=0,s=r.length;while(i<s)(r[i].units||r[i].type==="percentage"
)&&r[i].value===0&&r[i].type!=="time"&&t.report("Values of 0 shouldn't have units specified."
,r[i].line,r[i].col,n),i++})}}),function(){"use strict";var e=function(e){return!
e||e.constructor!==String?"":e.replace(/["&><]/g,function(e){switch(e){case'"':return"&quot;"
;case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;"}})};i.addFormatter
({id:"checkstyle-xml",name:"Checkstyle XML format",startFormat:function(){return'<?xml version="1.0" encoding="utf-8"?><checkstyle>'
},endFormat:function(){return"</checkstyle>"},readError:function(t,n){return'<file name="'+
e(t)+'"><error line="0" column="0" severty="error" message="'+e(n)+'"></error></file>'
},formatResults:function(t,n){var r=t.messages,s=[],o=function(e){return!!e&&"name"in
e?"net.csslint."+e.name.replace(/\s/g,""):""};return r.length>0&&(s.push('<file name="'+
n+'">'),i.Util.forEach(r,function(t){t.rollup||s.push('<error line="'+t.line+'" column="'+
t.col+'" severity="'+t.type+'"'+' message="'+e(t.message)+'" source="'+o(t.rule)+'"/>'
)}),s.push("</file>")),s.join("")}})}(),i.addFormatter({id:"compact",name:"Compact, 'porcelain' format"
,startFormat:function(){"use strict";return""},endFormat:function(){"use strict"
;return""},formatResults:function(e,t,n){"use strict";var r=e.messages,s="";n=n||
{};var o=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return r.length===0?
n.quiet?"":t+": Lint Free!":(i.Util.forEach(r,function(e){e.rollup?s+=t+": "+o(e
.type)+" - "+e.message+" ("+e.rule.id+")\n":s+=t+": line "+e.line+", col "+e.col+", "+
o(e.type)+" - "+e.message+" ("+e.rule.id+")\n"}),s)}}),i.addFormatter({id:"csslint-xml"
,name:"CSSLint XML format",startFormat:function(){"use strict";return'<?xml version="1.0" encoding="utf-8"?><csslint>'
},endFormat:function(){"use strict";return"</csslint>"},formatResults:function(e
,t){"use strict";var n=e.messages,r=[],s=function(e){return!e||e.constructor!==String?""
:e.replace(/"/g,"'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"
)};return n.length>0&&(r.push('<file name="'+t+'">'),i.Util.forEach(n,function(e
){e.rollup?r.push('<issue severity="'+e.type+'" reason="'+s(e.message)+'" evidence="'+
s(e.evidence)+'"/>'):r.push('<issue line="'+e.line+'" char="'+e.col+'" severity="'+
e.type+'"'+' reason="'+s(e.message)+'" evidence="'+s(e.evidence)+'"/>')}),r.push
("</file>")),r.join("")}}),i.addFormatter({id:"json",name:"JSON",startFormat:function(
){"use strict";return this.json=[],""},endFormat:function(){"use strict";var e=""
;return this.json.length>0&&(this.json.length===1?e=JSON.stringify(this.json[0])
:e=JSON.stringify(this.json)),e},formatResults:function(e,t,n){"use strict";return(
e.messages.length>0||!n.quiet)&&this.json.push({filename:t,messages:e.messages,stats
:e.stats}),""}}),i.addFormatter({id:"junit-xml",name:"JUNIT XML format",startFormat
:function(){"use strict";return'<?xml version="1.0" encoding="utf-8"?><testsuites>'
},endFormat:function(){"use strict";return"</testsuites>"},formatResults:function(
e,t){"use strict";var n=e.messages,r=[],i={error:0,failure:0},s=function(e){return!!
e&&"name"in e?"net.csslint."+e.name.replace(/\s/g,""):""},o=function(e){return!e||
e.constructor!==String?"":e.replace(/"/g,"'").replace(/</g,"&lt;").replace(/>/g,"&gt;"
)};return n.length>0&&(n.forEach(function(e){var t=e.type==="warning"?"error":e.
type;e.rollup||(r.push('<testcase time="0" name="'+s(e.rule)+'">'),r.push("<"+t+' message="'+
o(e.message)+'"><![CDATA['+e.line+":"+e.col+":"+o(e.evidence)+"]]></"+t+">"),r.push
("</testcase>"),i[t]+=1)}),r.unshift('<testsuite time="0" tests="'+n.length+'" skipped="0" errors="'+
i.error+'" failures="'+i.failure+'" package="net.csslint" name="'+t+'">'),r.push
("</testsuite>")),r.join("")}}),i.addFormatter({id:"lint-xml",name:"Lint XML format"
,startFormat:function(){"use strict";return'<?xml version="1.0" encoding="utf-8"?><lint>'
},endFormat:function(){"use strict";return"</lint>"},formatResults:function(e,t)
{"use strict";var n=e.messages,r=[],s=function(e){return!e||e.constructor!==String?""
:e.replace(/"/g,"'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"
)};return n.length>0&&(r.push('<file name="'+t+'">'),i.Util.forEach(n,function(e
){if(e.rollup)r.push('<issue severity="'+e.type+'" reason="'+s(e.message)+'" evidence="'+
s(e.evidence)+'"/>');else{var t="";e.rule&&e.rule.id&&(t='rule="'+s(e.rule.id)+'" '
),r.push("<issue "+t+'line="'+e.line+'" char="'+e.col+'" severity="'+e.type+'"'+' reason="'+
s(e.message)+'" evidence="'+s(e.evidence)+'"/>')}}),r.push("</file>")),r.join(""
)}}),i.addFormatter({id:"text",name:"Plain Text",startFormat:function(){"use strict"
;return""},endFormat:function(){"use strict";return""},formatResults:function(e,
t,n){"use strict";var r=e.messages,s="";n=n||{};if(r.length===0)return n.quiet?""
:"\n\ncsslint: No errors in "+t+".";s="\n\ncsslint: There ",r.length===1?s+="is 1 problem"
:s+="are "+r.length+" problems",s+=" in "+t+".";var o=t.lastIndexOf("/"),u=t;return o===-1&&
(o=t.lastIndexOf("\\")),o>-1&&(u=t.substring(o+1)),i.Util.forEach(r,function(e,t
){s=s+"\n\n"+u,e.rollup?(s+="\n"+(t+1)+": "+e.type,s+="\n"+e.message):(s+="\n"+(
t+1)+": "+e.type+" at line "+e.line+", col "+e.col,s+="\n"+e.message,s+="\n"+e.evidence
)}),s}}),i}()



// init lib jslint
/* istanbul ignore next */
// 2014-07-08T19:15:40Z
// https://github.com/douglascrockford/JSLint/blob/394bf291bfa3881bb9827b9fc7b7d1112d83f313/jslint.js
// jslint.js
// 2014-07-08

// Copyright (c) 2002 Douglas Crockford  (www.JSLint.com)

// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:

// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.

// The Software shall be used for Good, not Evil.

// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
// SOFTWARE.

// WARNING: JSLint will hurt your feelings.

// JSLINT is a global function. It takes two parameters.

//     var myResult = JSLINT(source, option);

// The first parameter is either a string or an array of strings. If it is a
// string, it will be split on '\n' or '\r'. If it is an array of strings, it
// is assumed that each string represents one line. The source can be a
// JavaScript text or a JSON text.

// The second parameter is an optional object of options that control the
// operation of JSLINT. Most of the options are booleans: They are all
// optional and have a default value of false. One of the options, predef,
// can be an array of names, which will be used to declare global variables,
// or an object whose keys are used as global names, with a boolean value
// that determines if they are assignable.

// If it checks out, JSLINT returns true. Otherwise, it returns false.

// If false, you can inspect JSLINT.errors to find out the problems.
// JSLINT.errors is an array of objects containing these properties:

//  {
//      line      : The line (relative to 0) at which the lint was found
//      character : The character (relative to 0) at which the lint was found
//      reason    : The problem
//      evidence  : The text line in which the problem occurred
//      raw       : The raw message before the details were inserted
//      a         : The first detail
//      b         : The second detail
//      c         : The third detail
//      d         : The fourth detail
//  }

// If a stopping error was found, a null will be the last element of the
// JSLINT.errors array. A stopping error means that JSLint was not confident
// enough to continue. It does not necessarily mean that the error was
// especially heinous.

// You can request a data structure that contains JSLint's results.

//     var myData = JSLINT.data();

// It returns a structure with this form:

//     {
//         errors: [
//             {
//                 line: NUMBER,
//                 character: NUMBER,
//                 reason: STRING,
//                 evidence: STRING
//             }
//         ],
//         functions: [
//             {
//                 name: STRING,
//                 line: NUMBER,
//                 level: NUMBER,
//                 parameter: [
//                     STRING
//                 ],
//                 var: [
//                     STRING
//                 ],
//                 exception: [
//                     STRING
//                 ],
//                 closure: [
//                     STRING
//                 ],
//                 outer: [
//                     STRING
//                 ],
//                 global: [
//                     STRING
//                 ],
//                 label: [
//                     STRING
//                 ]
//             }
//         ],
//         global: [
//             STRING
//         ],
//         member: {
//             STRING: NUMBER
//         },
//         json: BOOLEAN
//     }

// You can request a Function Report, which shows all of the functions
// and the parameters and vars that they use. This can be used to find
// implied global variables and other problems. The report is in HTML and
// can be inserted into an HTML <body>. It should be given the result of the
// JSLINT.data function.

//     var myReport = JSLINT.report(data);

// You can request an HTML error report.

//     var myErrorReport = JSLINT.error_report(data);

// You can obtain an object containing all of the properties found in the
// file. JSLINT.property contains an object containing a key for each
// property used in the program, the value being the number of times that
// property name was used in the file.

// You can request a properties report, which produces a list of the program's
// properties in the form of a /*properties*/ declaration.

//      var myPropertyReport = JSLINT.properties_report(JSLINT.property);

// You can obtain the parse tree that JSLint constructed while parsing. The
// latest tree is kept in JSLINT.tree. A nice stringification can be produced
// with

//     JSON.stringify(JSLINT.tree, [
//         'string',  'arity', 'name',  'first',
//         'second', 'third', 'block', 'else'
//     ], 4));

// You can request a context coloring table. It contains information that can be
// applied to the file that was analyzed. Context coloring colors functions
// based on their nesting level, and variables on the color of the functions
// in which they are defined.

//      var myColorization = JSLINT.color(data);

// It returns an array containing objects of this form:

//      {
//          from: COLUMN,
//          thru: COLUMN,
//          line: ROW,
//          level: 0 or higher
//      }

// JSLint provides three inline directives. They look like slashstar comments,
// and allow for setting options, declaring global variables, and establishing a
// set of allowed property names.

// These directives respect function scope.

// The jslint directive is a special comment that can set one or more options.
// For example:

/*jslint
    evil: true, nomen: true, regexp: true, todo: true
*/

// The current option set is

//     ass        true, if assignment expressions should be allowed
//     bitwise    true, if bitwise operators should be allowed
//     browser    true, if the standard browser globals should be predefined
//     closure    true, if Google Closure idioms should be tolerated
//     continue   true, if the continuation statement should be tolerated
//     debug      true, if debugger statements should be allowed
//     devel      true, if logging should be allowed (console, alert, etc.)
//     eqeq       true, if == should be allowed
//     evil       true, if eval should be allowed
//     forin      true, if for in statements need not filter
//     indent     the indentation factor
//     maxerr     the maximum number of errors to allow
//     maxlen     the maximum length of a source line
//     newcap     true, if constructor names capitalization is ignored
//     node       true, if Node.js globals should be predefined
//     nomen      true, if names may have dangling _
//     passfail   true, if the scan should stop on first error
//     plusplus   true, if increment/decrement should be allowed
//     properties true, if all property names must be declared with /*properties*/
//     regexp     true, if the . should be allowed in regexp literals
//     rhino      true, if the Rhino environment globals should be predefined
//     unparam    true, if unused parameters should be tolerated
//     sloppy     true, if the 'use strict'; pragma is optional
//     stupid     true, if really stupid practices are tolerated
//     sub        true, if all forms of subscript notation are tolerated
//     todo       true, if TODO comments are tolerated
//     vars       true, if multiple var statements per function should be allowed
//     white      true, if sloppy whitespace is tolerated

// The properties directive declares an exclusive list of property names.
// Any properties named in the program that are not in the list will
// produce a warning.

// For example:

/*properties
    '\b', '\t', '\n', '\f', '\r', '!', '!=', '!==', '"', '%', '\'', '(begin)',
    '(error)', '*', '+', '-', '/', '<', '<=', '==', '===', '>', '>=', '\\', a,
    a_label, a_scope, already_defined, and, apply, arguments, arity, ass,
    assign, assignment_expression, assignment_function_expression, at, avoid_a,
    b, bad_assignment, bad_constructor, bad_in_a, bad_invocation, bad_new,
    bad_number, bad_operand, bad_wrap, bitwise, block, break, breakage, browser,
    c, call, charAt, charCodeAt, character, closure, code, color, combine_var,
    comments, conditional_assignment, confusing_a, confusing_regexp,
    constructor_name_a, continue, control_a, couch, create, d, dangling_a, data,
    dead, debug, deleted, devel, disrupt, duplicate_a, edge, edition, elif,
    else, empty_block, empty_case, empty_class, entityify, eqeq, error_report,
    errors, evidence, evil, exception, exec, expected_a_at_b_c, expected_a_b,
    expected_a_b_from_c_d, expected_id_a, expected_identifier_a,
    expected_identifier_a_reserved, expected_number_a, expected_operator_a,
    expected_positive_a, expected_small_a, expected_space_a_b,
    expected_string_a, f, first, flag, floor, forEach, for_if, forin, from,
    fromCharCode, fud, function, function_block, function_eval, function_loop,
    function_statement, function_strict, functions, global, hasOwnProperty, id,
    identifier, identifier_function, immed, implied_evil, indent, indexOf,
    infix_in, init, insecure_a, isAlpha, isArray, isDigit, isNaN, join, jslint,
    json, keys, kind, label, labeled, lbp, leading_decimal_a, led, left, length,
    level, line, loopage, master, match, maxerr, maxlen, message, missing_a,
    missing_a_after_b, missing_property, missing_space_a_b, missing_use_strict,
    mode, move_invocation, move_var, n, name, name_function, nested_comment,
    newcap, node, nomen, not, not_a_constructor, not_a_defined, not_a_function,
    not_a_label, not_a_scope, not_greater, nud, number, octal_a, open, outer,
    parameter, parameter_a_get_b, parameter_arguments_a, parameter_set_a,
    params, paren, passfail, plusplus, pop, postscript, predef, properties,
    properties_report, property, prototype, push, quote, r, radix, raw,
    read_only, reason, redefinition_a_b, regexp, relation, replace, report,
    reserved, reserved_a, rhino, right, scanned_a_b, scope, search, second,
    shift, slash_equal, slice, sloppy, sort, split, statement, statement_block,
    stop, stopping, strange_loop, strict, string, stupid, sub, subscript,
    substr, supplant, sync_a, t, tag_a_in_b, test, third, thru, toString, todo,
    todo_comment, token, tokens, too_long, too_many, trailing_decimal_a, tree,
    unclosed, unclosed_comment, unclosed_regexp, unescaped_a, unexpected_a,
    unexpected_char_a, unexpected_comment, unexpected_label_a,
    unexpected_property_a, unexpected_space_a_b, unexpected_typeof_a,
    uninitialized_a, unnecessary_else, unnecessary_initialize, unnecessary_use,
    unparam, unreachable_a_b, unsafe, unused_a, url, use_array, use_braces,
    use_nested_if, use_object, use_or, use_param, use_spaces, used,
    used_before_a, var, var_a_not, var_loop, vars, varstatement, warn, warning,
    was, weird_assignment, weird_condition, weird_new, weird_program,
    weird_relation, weird_ternary, white, wrap, wrap_immediate, wrap_regexp,
    write_is_wrong, writeable
*/

// The global directive is used to declare global variables that can
// be accessed by the program. If a declaration is true, then the variable
// is writeable. Otherwise, it is read-only.

// We build the application inside a function so that we produce only a single
// global variable. That function will be invoked immediately, and its return
// value is the JSLINT function itself. That function is also an object that
// can contain data and other functions.

var JSLINT = (function () {
    'use strict';

    function array_to_object(array, value) {

// Make an object from an array of keys and a common value.

        var i, length = array.length, object = Object.create(null);
        for (i = 0; i < length; i += 1) {
            object[array[i]] = value;
        }
        return object;
    }


    var allowed_option = {
            ass       : true,
            bitwise   : true,
            browser   : true,
            closure   : true,
            continue  : true,
            couch     : true,
            debug     : true,
            devel     : true,
            eqeq      : true,
            evil      : true,
            forin     : true,
            indent    :   10,
            maxerr    : 1000,
            maxlen    :  256,
            newcap    : true,
            node      : true,
            nomen     : true,
            passfail  : true,
            plusplus  : true,
            properties: true,
            regexp    : true,
            rhino     : true,
            unparam   : true,
            sloppy    : true,
            stupid    : true,
            sub       : true,
            todo      : true,
            vars      : true,
            white     : true
        },
        anonname,       // The guessed name for anonymous functions.

// These are operators that should not be used with the ! operator.

        bang = {
            '<'  : true,
            '<=' : true,
            '==' : true,
            '===': true,
            '!==': true,
            '!=' : true,
            '>'  : true,
            '>=' : true,
            '+'  : true,
            '-'  : true,
            '*'  : true,
            '/'  : true,
            '%'  : true
        },
        begin,          // The root token
        block_var,     // vars defined in the current block

// browser contains a set of global names that are commonly provided by a
// web browser environment.

        browser = array_to_object([
            'clearInterval', 'clearTimeout', 'document', 'event', 'FormData',
            'frames', 'history', 'Image', 'localStorage', 'location', 'name',
            'navigator', 'Option', 'parent', 'screen', 'sessionStorage',
            'setInterval', 'setTimeout', 'Storage', 'window', 'XMLHttpRequest'
        ], false),

// bundle contains the text messages.

        bundle = {
            a_label: "'{a}' is a statement label.",
            a_scope: "'{a}' used out of scope.",
            already_defined: "'{a}' is already defined.",
            and: "The '&&' subexpression should be wrapped in parens.",
            assignment_expression: "Unexpected assignment expression.",
            assignment_function_expression: "Expected an assignment or " +
                "function call and instead saw an expression.",
            avoid_a: "Avoid '{a}'.",
            bad_assignment: "Bad assignment.",
            bad_constructor: "Bad constructor.",
            bad_in_a: "Bad for in variable '{a}'.",
            bad_invocation: "Bad invocation.",
            bad_new: "Do not use 'new' for side effects.",
            bad_number: "Bad number '{a}'.",
            bad_operand: "Bad operand.",
            bad_wrap: "Do not wrap function literals in parens unless they " +
                "are to be immediately invoked.",
            combine_var: "Combine this with the previous 'var' statement.",
            conditional_assignment: "Expected a conditional expression and " +
                "instead saw an assignment.",
            confusing_a: "Confusing use of '{a}'.",
            confusing_regexp: "Confusing regular expression.",
            constructor_name_a: "A constructor name '{a}' should start with " +
                "an uppercase letter.",
            control_a: "Unexpected control character '{a}'.",
            dangling_a: "Unexpected dangling '_' in '{a}'.",
            deleted: "Only properties should be deleted.",
            duplicate_a: "Duplicate '{a}'.",
            empty_block: "Empty block.",
            empty_case: "Empty case.",
            empty_class: "Empty class.",
            evil: "eval is evil.",
            expected_a_b: "Expected '{a}' and instead saw '{b}'.",
            expected_a_b_from_c_d: "Expected '{a}' to match '{b}' from line " +
                "{c} and instead saw '{d}'.",
            expected_a_at_b_c: "Expected '{a}' at column {b}, not column {c}.",
            expected_id_a: "Expected an id, and instead saw #{a}.",
            expected_identifier_a: "Expected an identifier and instead saw '{a}'.",
            expected_identifier_a_reserved: "Expected an identifier and " +
                "instead saw '{a}' (a reserved word).",
            expected_number_a: "Expected a number and instead saw '{a}'.",
            expected_operator_a: "Expected an operator and instead saw '{a}'.",
            expected_positive_a: "Expected a positive number and instead saw '{a}'",
            expected_small_a: "Expected a small positive integer and instead saw '{a}'",
            expected_space_a_b: "Expected exactly one space between '{a}' and '{b}'.",
            expected_string_a: "Expected a string and instead saw '{a}'.",
            for_if: "The body of a for in should be wrapped in an if " +
                "statement to filter unwanted properties from the prototype.",
            function_block: "Function statements should not be placed in blocks." +
                "Use a function expression or move the statement to the top of " +
                "the outer function.",
            function_eval: "The Function constructor is eval.",
            function_loop: "Don't make functions within a loop.",
            function_statement: "Function statements are not invocable. " +
                "Wrap the whole function invocation in parens.",
            function_strict: "Use the function form of 'use strict'.",
            identifier_function: "Expected an identifier in an assignment " +
                "and instead saw a function invocation.",
            implied_evil: "Implied eval is evil. Pass a function instead of a string.",
            infix_in: "Unexpected 'in'. Compare with undefined, or use the " +
                "hasOwnProperty method instead.",
            insecure_a: "Insecure '{a}'.",
            isNaN: "Use the isNaN function to compare with NaN.",
            leading_decimal_a: "A leading decimal point can be confused with a dot: '.{a}'.",
            missing_a: "Missing '{a}'.",
            missing_a_after_b: "Missing '{a}' after '{b}'.",
            missing_property: "Missing property name.",
            missing_space_a_b: "Missing space between '{a}' and '{b}'.",
            missing_use_strict: "Missing 'use strict' statement.",
            move_invocation: "Move the invocation into the parens that " +
                "contain the function.",
            move_var: "Move 'var' declarations to the top of the function.",
            name_function: "Missing name in function statement.",
            nested_comment: "Nested comment.",
            not: "Nested not.",
            not_a_constructor: "Do not use {a} as a constructor.",
            not_a_defined: "'{a}' has not been fully defined yet.",
            not_a_function: "'{a}' is not a function.",
            not_a_label: "'{a}' is not a label.",
            not_a_scope: "'{a}' is out of scope.",
            not_greater: "'{a}' should not be greater than '{b}'.",
            octal_a: "Don't use octal: '{a}'. Use '\\u....' instead.",
            parameter_arguments_a: "Do not mutate parameter '{a}' when using 'arguments'.",
            parameter_a_get_b: "Unexpected parameter '{a}' in get {b} function.",
            parameter_set_a: "Expected parameter (value) in set {a} function.",
            radix: "Missing radix parameter.",
            read_only: "Read only.",
            redefinition_a_b: "Redefinition of '{a}' from line {b}.",
            reserved_a: "Reserved name '{a}'.",
            scanned_a_b: "{a} ({b}% scanned).",
            slash_equal: "A regular expression literal can be confused with '/='.",
            statement_block: "Expected to see a statement and instead saw a block.",
            stopping: "Stopping.",
            strange_loop: "Strange loop.",
            strict: "Strict violation.",
            subscript: "['{a}'] is better written in dot notation.",
            sync_a: "Unexpected sync method: '{a}'.",
            tag_a_in_b: "A '<{a}>' must be within '<{b}>'.",
            todo_comment: "Unexpected TODO comment.",
            too_long: "Line too long.",
            too_many: "Too many errors.",
            trailing_decimal_a: "A trailing decimal point can be confused " +
                "with a dot: '.{a}'.",
            unclosed: "Unclosed string.",
            unclosed_comment: "Unclosed comment.",
            unclosed_regexp: "Unclosed regular expression.",
            unescaped_a: "Unescaped '{a}'.",
            unexpected_a: "Unexpected '{a}'.",
            unexpected_char_a: "Unexpected character '{a}'.",
            unexpected_comment: "Unexpected comment.",
            unexpected_label_a: "Unexpected label '{a}'.",
            unexpected_property_a: "Unexpected /*property*/ '{a}'.",
            unexpected_space_a_b: "Unexpected space between '{a}' and '{b}'.",
            unexpected_typeof_a: "Unexpected 'typeof'. " +
                "Use '===' to compare directly with {a}.",
            uninitialized_a: "Uninitialized '{a}'.",
            unnecessary_else: "Unnecessary 'else' after disruption.",
            unnecessary_initialize: "It is not necessary to initialize '{a}' " +
                "to 'undefined'.",
            unnecessary_use: "Unnecessary 'use strict'.",
            unreachable_a_b: "Unreachable '{a}' after '{b}'.",
            unsafe: "Unsafe character.",
            unused_a: "Unused '{a}'.",
            url: "JavaScript URL.",
            use_array: "Use the array literal notation [].",
            use_braces: "Spaces are hard to count. Use {{a}}.",
            use_nested_if: "Expected 'else { if' and instead saw 'else if'.",
            use_object: "Use the object literal notation {} or Object.create(null).",
            use_or: "Use the || operator.",
            use_param: "Use a named parameter.",
            use_spaces: "Use spaces, not tabs.",
            used_before_a: "'{a}' was used before it was defined.",
            var_a_not: "Variable {a} was not declared correctly.",
            var_loop: "Don't declare variables in a loop.",
            weird_assignment: "Weird assignment.",
            weird_condition: "Weird condition.",
            weird_new: "Weird construction. Delete 'new'.",
            weird_program: "Weird program.",
            weird_relation: "Weird relation.",
            weird_ternary: "Weird ternary.",
            wrap_immediate: "Wrap an immediate function invocation in " +
                "parentheses to assist the reader in understanding that the " +
                "expression is the result of a function, and not the " +
                "function itself.",
            wrap_regexp: "Wrap the /regexp/ literal in parens to " +
                "disambiguate the slash operator.",
            write_is_wrong: "document.write can be a form of eval."
        },
        closure = array_to_object([
            'goog'
        ], false),
        comments,
        comments_off,
        couch = array_to_object([
            'emit', 'getRow', 'isArray', 'log', 'provides', 'registerType',
            'require', 'send', 'start', 'sum', 'toJSON'
        ], false),

        descapes = {
            'b': '\b',
            't': '\t',
            'n': '\n',
            'f': '\f',
            'r': '\r',
            '"': '"',
            '/': '/',
            '\\': '\\',
            '!': '!'
        },

        devel = array_to_object([
            'alert', 'confirm', 'console', 'Debug', 'opera', 'prompt', 'WSH'
        ], false),
        directive,
        escapes = {
            '\b': '\\b',
            '\t': '\\t',
            '\n': '\\n',
            '\f': '\\f',
            '\r': '\\r',
            '\'': '\\\'',
            '"' : '\\"',
            '/' : '\\/',
            '\\': '\\\\'
        },

        funct,          // The current function

        functions,      // All of the functions
        global_funct,   // The global body
        global_scope,   // The global scope
        in_block,       // Where function statements are not allowed
        indent,
        itself,         // JSLINT itself
        json_mode,
        lex,            // the tokenizer
        lines,
        lookahead,
        node = array_to_object([
            'Buffer', 'clearImmediate', 'clearInterval', 'clearTimeout',
            'console', 'exports', 'global', 'module', 'process',
            'require', 'setImmediate', 'setInterval', 'setTimeout',
            '__dirname', '__filename'
        ], false),
        node_js,
        numbery = array_to_object(['indexOf', 'lastIndexOf', 'search'], true),
        next_token,
        option,
        predefined,     // Global variables defined by option
        prereg,
        prev_token,
        property,
        protosymbol,
        regexp_flag = array_to_object(['g', 'i', 'm'], true),
        return_this = function return_this() {
            return this;
        },
        rhino = array_to_object([
            'defineClass', 'deserialize', 'gc', 'interactive', 'load', 'loadClass',
            'print', 'quit', 'readFile', 'readUrl', 'runCommand', 'seal',
            'serialize', 'spawn', 'sync', 'toint32', 'version'
        ], false),

        scope,      // An object containing an object for each variable in scope
        semicolon_coda = array_to_object([';', '"', '\'', ')'], true),

// standard contains the global names that are provided by the
// ECMAScript standard.

        standard = array_to_object([
            'Array', 'Boolean', 'Date', 'decodeURI', 'decodeURIComponent',
            'encodeURI', 'encodeURIComponent', 'Error', 'eval', 'EvalError',
            'Function', 'isFinite', 'isNaN', 'JSON', 'Map', 'Math', 'Number',
            'Object', 'parseInt', 'parseFloat', 'Promise', 'Proxy',
            'RangeError', 'ReferenceError', 'Reflect', 'RegExp', 'Set',
            'String', 'Symbol', 'SyntaxError', 'System', 'TypeError',
            'URIError', 'WeakMap', 'WeakSet'
        ], false),

        strict_mode,
        syntax = Object.create(null),
        token,
        tokens,
        var_mode,
        warnings,

// Regular expressions. Some of these are stupidly long.

// carriage return, carriage return linefeed, or linefeed
        crlfx = /\r\n?|\n/,
// unsafe characters that are silently deleted by one or more browsers
        cx = /[\u0000-\u0008\u000a-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,
// identifier
        ix = /^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,
// javascript url
        jx = /^(?:javascript|jscript|ecmascript|vbscript)\s*:/i,
// star slash
        lx = /\*\/|\/\*/,
// characters in strings that need escapement
        nx = /[\u0000-\u001f'\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
// sync
        syx = /Sync$/,
// comment todo
        tox = /^\W*to\s*do(?:\W|$)/i,
// token
        tx = /^\s*([(){}\[\]\?.,:;'"~#@`]|={1,3}|\/(\*(jslint|properties|property|members?|globals?)?|=|\/)?|\*[\/=]?|\+(?:=|\++)?|-(?:=|-+)?|[\^%]=?|&[&=]?|\|[|=]?|>{1,3}=?|<(?:[\/=!]|\!(\[|--)?|<=?)?|\!(\!|==?)?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+(?:[xX][0-9a-fA-F]+|\.[0-9]*)?(?:[eE][+\-]?[0-9]+)?)/;


    if (typeof String.prototype.entityify !== 'function') {
        String.prototype.entityify = function () {
            return this
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;');
        };
    }

    if (typeof String.prototype.isAlpha !== 'function') {
        String.prototype.isAlpha = function () {
            return (this >= 'a' && this <= 'z\uffff') ||
                (this >= 'A' && this <= 'Z\uffff');
        };
    }

    if (typeof String.prototype.isDigit !== 'function') {
        String.prototype.isDigit = function () {
            return (this >= '0' && this <= '9');
        };
    }

    if (typeof String.prototype.supplant !== 'function') {
        String.prototype.supplant = function (o) {
            return this.replace(/\{([^{}]*)\}/g, function (a, b) {
                var replacement = o[b];
                return typeof replacement === 'string' ||
                    typeof replacement === 'number' ? replacement : a;
            });
        };
    }


    function sanitize(a) {

//  Escapify a troublesome character.

        return escapes[a] ||
            '\\u' + ('0000' + a.charCodeAt().toString(16)).slice(-4);
    }


    function add_to_predefined(group) {
        Object.keys(group).forEach(function (name) {
            predefined[name] = group[name];
        });
    }


    function assume() {
        if (option.browser) {
            add_to_predefined(browser);
            option.browser = false;
        }
        if (option.closure) {
            add_to_predefined(closure);
        }
        if (option.couch) {
            add_to_predefined(couch);
            option.couch = false;
        }
        if (option.devel) {
            add_to_predefined(devel);
            option.devel = false;
        }
        if (option.node) {
            add_to_predefined(node);
            option.node = false;
            node_js = true;
        }
        if (option.rhino) {
            add_to_predefined(rhino);
            option.rhino = false;
        }
    }


// Produce an error warning.

    function artifact(tok) {
        if (!tok) {
            tok = next_token;
        }
        return tok.id === '(number)' ? tok.number : tok.string;
    }

    function quit(message, line, character) {
        throw {
            name: 'JSLintError',
            line: line,
            character: character,
            message: bundle.scanned_a_b.supplant({
                a: bundle[message] || message,
                b: Math.floor((line / lines.length) * 100)
            })
        };
    }

    function warn(code, line, character, a, b, c, d) {
        var warning = {         // ~~
            id: '(error)',
            raw: bundle[code] || code,
            code: code,
            evidence: lines[line - 1] || '',
            line: line,
            character: character,
            a: a || artifact(this),
            b: b,
            c: c,
            d: d
        };
        warning.reason = warning.raw.supplant(warning);
        itself.errors.push(warning);
        if (option.passfail) {
            quit('stopping', line, character);
        }
        warnings += 1;
        if (warnings >= option.maxerr) {
            quit('too_many', line, character);
        }
        return warning;
    }

    function stop(code, line, character, a, b, c, d) {
        var warning = warn(code, line, character, a, b, c, d);
        quit('stopping', warning.line, warning.character);
    }

    function expected_at(at) {
        if (!option.white && next_token.from !== at) {
            next_token.warn('expected_a_at_b_c', '', at, next_token.from);
        }
    }

// lexical analysis and token construction

    lex = (function lex() {
        var character, c, from, length, line, pos, source_row;

// Private lex methods

        function next_line() {
            var at;
            character = 1;
            source_row = lines[line];
            line += 1;
            if (source_row === undefined) {
                return false;
            }
            at = source_row.search(/\t/);
            if (at >= 0) {
                if (option.white) {
                    source_row = source_row.replace(/\t/g, ' ');
                } else {
                    warn('use_spaces', line, at + 1);
                }
            }
            at = source_row.search(cx);
            if (at >= 0) {
                warn('unsafe', line, at);
            }
            if (option.maxlen && option.maxlen < source_row.length) {
                warn('too_long', line, source_row.length);
            }
            return true;
        }

// Produce a token object.  The token inherits from a syntax symbol.

        function it(type, value) {
            var id, the_token;
            if (type === '(string)') {
                if (jx.test(value)) {
                    warn('url', line, from);
                }
            }
            the_token = Object.create(syntax[(
                type === '(punctuator)' || (type === '(identifier)' &&
                        Object.prototype.hasOwnProperty.call(syntax, value))
                    ? value
                    : type
            )] || syntax['(error)']);
            if (type === '(identifier)') {
                the_token.identifier = true;
                if (value === '__iterator__' || value === '__proto__') {
                    stop('reserved_a', line, from, value);
                } else if (!option.nomen &&
                        (value.charAt(0) === '_' ||
                        value.charAt(value.length - 1) === '_')) {
                    warn('dangling_a', line, from, value);
                }
            }
            if (type === '(number)') {
                the_token.number = +value;
            } else if (value !== undefined) {
                the_token.string = String(value);
            }
            the_token.line = line;
            the_token.from = from;
            the_token.thru = character;
            if (comments.length) {
                the_token.comments = comments;
                comments = [];
            }
            id = the_token.id;
            prereg = id && (
                ('(,=:[!&|?{};~+-*%^<>'.indexOf(id.charAt(id.length - 1)) >= 0) ||
                id === 'return' || id === 'case'
            );
            return the_token;
        }

        function match(x) {
            var exec = x.exec(source_row), first;
            if (exec) {
                length = exec[0].length;
                first = exec[1];
                c = first.charAt(0);
                source_row = source_row.slice(length);
                from = character + length - first.length;
                character += length;
                return first;
            }
            for (;;) {
                if (!source_row) {
                    if (!option.white) {
                        warn('unexpected_char_a', line, character - 1, '(space)');
                    }
                    return;
                }
                c = source_row.charAt(0);
                if (c !== ' ') {
                    break;
                }
                source_row = source_row.slice(1);
                character += 1;
            }
            stop('unexpected_char_a', line, character, c);

        }

        function string(x) {
            var ch, at = 0, r = '', result;

            function hex(n) {
                var i = parseInt(source_row.substr(at + 1, n), 16);
                at += n;
                if (i >= 32 && i <= 126 &&
                        i !== 34 && i !== 92 && i !== 39) {
                    warn('unexpected_a', line, character, '\\');
                }
                character += n;
                ch = String.fromCharCode(i);
            }

            if (json_mode && x !== '"') {
                warn('expected_a_b', line, character, '"', x);
            }

            for (;;) {
                while (at >= source_row.length) {
                    at = 0;
                    if (!next_line()) {
                        stop('unclosed', line - 1, from);
                    }
                }
                ch = source_row.charAt(at);
                if (ch === x) {
                    character += 1;
                    source_row = source_row.slice(at + 1);
                    result = it('(string)', r);
                    result.quote = x;
                    return result;
                }
                if (ch < ' ') {
                    if (ch === '\n' || ch === '\r') {
                        break;
                    }
                    warn('control_a', line, character + at,
                        source_row.slice(0, at));
                } else if (ch === '\\') {
                    at += 1;
                    character += 1;
                    ch = source_row.charAt(at);
                    switch (ch) {
                    case '':
                        warn('unexpected_a', line, character, '\\');
                        next_line();
                        at = -1;
                        break;
                    case '\'':
                        if (json_mode) {
                            warn('unexpected_a', line, character, '\\\'');
                        }
                        break;
                    case 'u':
                        hex(4);
                        break;
                    case 'v':
                        if (json_mode) {
                            warn('unexpected_a', line, character, '\\v');
                        }
                        ch = '\v';
                        break;
                    case 'x':
                        if (json_mode) {
                            warn('unexpected_a', line, character, '\\x');
                        }
                        hex(2);
                        break;
                    default:
                        if (typeof descapes[ch] !== 'string') {
                            warn(ch >= '0' && ch <= '7' ? 'octal_a' : 'unexpected_a',
                                line, character, '\\' + ch);
                        } else {
                            ch = descapes[ch];
                        }
                    }
                }
                r += ch;
                character += 1;
                at += 1;
            }
        }

        function number(snippet) {
            var digit;
            if (source_row.charAt(0).isAlpha()) {
                warn('expected_space_a_b',
                    line, character, c, source_row.charAt(0));
            }
            if (c === '0') {
                digit = snippet.charAt(1);
                if (digit.isDigit()) {
                    if (token.id !== '.') {
                        warn('unexpected_a', line, character, snippet);
                    }
                } else if (json_mode && (digit === 'x' || digit === 'X')) {
                    warn('unexpected_a', line, character, '0x');
                }
            }
            if (snippet.slice(snippet.length - 1) === '.') {
                warn('trailing_decimal_a', line, character, snippet);
            }
            digit = +snippet;
            if (!isFinite(digit)) {
                warn('bad_number', line, character, snippet);
            }
            snippet = digit;
            return it('(number)', snippet);
        }

        function comment(snippet, type) {
            if (comments_off) {
                warn('unexpected_comment', line, character);
            } else if (!option.todo && tox.test(snippet)) {
                warn('todo_comment', line, character);
            }
            comments.push({
                id: type,
                from: from,
                thru: character,
                line: line,
                string: snippet
            });
        }

        function regexp() {
            var at = 0,
                b,
                bit,
                depth = 0,
                flag = '',
                high,
                letter,
                low,
                potential,
                quote,
                result;
            for (;;) {
                b = true;
                c = source_row.charAt(at);
                at += 1;
                switch (c) {
                case '':
                    stop('unclosed_regexp', line, from);
                    return;
                case '/':
                    if (depth > 0) {
                        warn('unescaped_a', line, from + at, '/');
                    }
                    c = source_row.slice(0, at - 1);
                    potential = Object.create(regexp_flag);
                    for (;;) {
                        letter = source_row.charAt(at);
                        if (potential[letter] !== true) {
                            break;
                        }
                        potential[letter] = false;
                        at += 1;
                        flag += letter;
                    }
                    if (source_row.charAt(at).isAlpha()) {
                        stop('unexpected_a', line, from, source_row.charAt(at));
                    }
                    character += at;
                    source_row = source_row.slice(at);
                    quote = source_row.charAt(0);
                    if (quote === '/' || quote === '*') {
                        stop('confusing_regexp', line, from);
                    }
                    result = it('(regexp)', c);
                    result.flag = flag;
                    return result;
                case '\\':
                    c = source_row.charAt(at);
                    if (c < ' ') {
                        warn('control_a', line, from + at, String(c));
                    } else if (c === '<') {
                        warn('unexpected_a', line, from + at, '\\');
                    }
                    at += 1;
                    break;
                case '(':
                    depth += 1;
                    b = false;
                    if (source_row.charAt(at) === '?') {
                        at += 1;
                        switch (source_row.charAt(at)) {
                        case ':':
                        case '=':
                        case '!':
                            at += 1;
                            break;
                        default:
                            warn('expected_a_b', line, from + at,
                                ':', source_row.charAt(at));
                        }
                    }
                    break;
                case '|':
                    b = false;
                    break;
                case ')':
                    if (depth === 0) {
                        warn('unescaped_a', line, from + at, ')');
                    } else {
                        depth -= 1;
                    }
                    break;
                case ' ':
                    pos = 1;
                    while (source_row.charAt(at) === ' ') {
                        at += 1;
                        pos += 1;
                    }
                    if (pos > 1) {
                        warn('use_braces', line, from + at, pos);
                    }
                    break;
                case '[':
                    c = source_row.charAt(at);
                    if (c === '^') {
                        at += 1;
                        if (!option.regexp) {
                            warn('insecure_a', line, from + at, c);
                        } else if (source_row.charAt(at) === ']') {
                            stop('unescaped_a', line, from + at, '^');
                        }
                    }
                    bit = false;
                    if (c === ']') {
                        warn('empty_class', line, from + at - 1);
                        bit = true;
                    }
klass:              do {
                        c = source_row.charAt(at);
                        at += 1;
                        switch (c) {
                        case '[':
                        case '^':
                            warn('unescaped_a', line, from + at, c);
                            bit = true;
                            break;
                        case '-':
                            if (bit) {
                                bit = false;
                            } else {
                                warn('unescaped_a', line, from + at, '-');
                                bit = true;
                            }
                            break;
                        case ']':
                            if (!bit) {
                                warn('unescaped_a', line, from + at - 1, '-');
                            }
                            break klass;
                        case '\\':
                            c = source_row.charAt(at);
                            if (c < ' ') {
                                warn('control_a', line, from + at, String(c));
                            } else if (c === '<') {
                                warn('unexpected_a', line, from + at, '\\');
                            }
                            at += 1;
                            bit = true;
                            break;
                        case '/':
                            warn('unescaped_a', line, from + at - 1, '/');
                            bit = true;
                            break;
                        default:
                            bit = true;
                        }
                    } while (c);
                    break;
                case '.':
                    if (!option.regexp) {
                        warn('insecure_a', line, from + at, c);
                    }
                    break;
                case ']':
                case '?':
                case '{':
                case '}':
                case '+':
                case '*':
                    warn('unescaped_a', line, from + at, c);
                    break;
                }
                if (b) {
                    switch (source_row.charAt(at)) {
                    case '?':
                    case '+':
                    case '*':
                        at += 1;
                        if (source_row.charAt(at) === '?') {
                            at += 1;
                        }
                        break;
                    case '{':
                        at += 1;
                        c = source_row.charAt(at);
                        if (c < '0' || c > '9') {
                            warn('expected_number_a', line,
                                from + at, c);
                        }
                        at += 1;
                        low = +c;
                        for (;;) {
                            c = source_row.charAt(at);
                            if (c < '0' || c > '9') {
                                break;
                            }
                            at += 1;
                            low = +c + (low * 10);
                        }
                        high = low;
                        if (c === ',') {
                            at += 1;
                            high = Infinity;
                            c = source_row.charAt(at);
                            if (c >= '0' && c <= '9') {
                                at += 1;
                                high = +c;
                                for (;;) {
                                    c = source_row.charAt(at);
                                    if (c < '0' || c > '9') {
                                        break;
                                    }
                                    at += 1;
                                    high = +c + (high * 10);
                                }
                            }
                        }
                        if (source_row.charAt(at) !== '}') {
                            warn('expected_a_b', line, from + at,
                                '}', c);
                        } else {
                            at += 1;
                        }
                        if (source_row.charAt(at) === '?') {
                            at += 1;
                        }
                        if (low > high) {
                            warn('not_greater', line, from + at,
                                low, high);
                        }
                        break;
                    }
                }
            }
            c = source_row.slice(0, at - 1);
            character += at;
            source_row = source_row.slice(at);
            return it('(regexp)', c);
        }

// Public lex methods

        return {
            init: function (source) {
                if (typeof source === 'string') {
                    lines = source.split(crlfx);
                } else {
                    lines = source;
                }
                line = 0;
                next_line();
                from = 1;
            },

// token -- this is called by advance to get the next token.

            token: function () {
                var first, i, snippet;

                for (;;) {
                    while (!source_row) {
                        if (!next_line()) {
                            return it('(end)');
                        }
                    }
                    snippet = match(tx);
                    if (snippet) {

//      identifier

                        first = snippet.charAt(0);
                        if (first.isAlpha() || first === '_' || first === '$') {
                            return it('(identifier)', snippet);
                        }

//      number

                        if (first.isDigit()) {
                            return number(snippet);
                        }
                        switch (snippet) {

//      string

                        case '"':
                        case "'":
                            return string(snippet);

//      // comment

                        case '//':
                            comment(source_row, '//');
                            source_row = '';
                            break;

//      /* comment

                        case '/*':
                            for (;;) {
                                i = source_row.search(lx);
                                if (i >= 0) {
                                    break;
                                }
                                character = source_row.length;
                                comment(source_row);
                                from = 0;
                                if (!next_line()) {
                                    stop('unclosed_comment', line, character);
                                }
                            }
                            comment(source_row.slice(0, i), '/*');
                            character += i + 2;
                            if (source_row.charAt(i) === '/') {
                                stop('nested_comment', line, character);
                            }
                            source_row = source_row.slice(i + 2);
                            break;

                        case '':
                            break;
//      /
                        case '/':
                            if (token.id === '/=') {
                                stop('slash_equal', line, from);
                            }
                            return prereg
                                ? regexp()
                                : it('(punctuator)', snippet);

//      punctuator
                        default:
                            return it('(punctuator)', snippet);
                        }
                    }
                }
            }
        };
    }());

    function define(kind, token) {

// Define a name.

        var name = token.string,
            master = scope[name];       // The current definition of the name

// vars are created with a deadzone, so that the expression that initializes
// the var cannot access the var. Functions are not writeable.

        token.dead = false;
        token.init = false;
        token.kind = kind;
        token.master = master;
        token.used = 0;
        token.writeable = true;

// Global variables are a little weird. They can be defined multiple times.
// Some predefined global vars are (or should) not be writeable.

        if (kind === 'var' && funct === global_funct) {
            if (!master) {
                if (predefined[name] === false) {
                    token.writeable = false;
                }
                global_scope[name] = token;
            }
        } else {

// It is an error if the name has already been defined in this scope, except
// when reusing an exception variable name.

            if (master) {
                if (master.function === funct) {
                    if (master.kind !== 'exception' || kind !== 'exception' ||
                            !master.dead) {
                        token.warn('already_defined', name);
                    }
                } else if (master.function !== global_funct) {
                    if (kind === 'var') {
                        token.warn('redefinition_a_b', name, master.line);
                    }
                }
            }
            scope[name] = token;
            if (kind === 'var') {
                block_var.push(name);
            }
        }
    }

    function peek(distance) {

// Peek ahead to a future token. The distance is how far ahead to look. The
// default is the next token.

        var found, slot = 0;

        distance = distance || 0;
        while (slot <= distance) {
            found = lookahead[slot];
            if (!found) {
                found = lookahead[slot] = lex.token();
            }
            slot += 1;
        }
        return found;
    }


    function advance(id, match) {

// Produce the next token, also looking for programming errors.

        if (indent) {

// If indentation checking was requested, then inspect all of the line breakings.
// The var statement is tricky because the names might be aligned or not. We
// look at the first line break after the var to determine the programmer's
// intention.

            if (var_mode && next_token.line !== token.line) {
                if ((var_mode !== indent || !next_token.edge) &&
                        next_token.from === indent.at -
                        (next_token.edge ? option.indent : 0)) {
                    var dent = indent;
                    for (;;) {
                        dent.at -= option.indent;
                        if (dent === var_mode) {
                            break;
                        }
                        dent = dent.was;
                    }
                    dent.open = false;
                }
                var_mode = null;
            }
            if (next_token.id === '?' && indent.mode === ':' &&
                    token.line !== next_token.line) {
                indent.at -= option.indent;
            }
            if (indent.open) {

// If the token is an edge.

                if (next_token.edge) {
                    if (next_token.edge === 'label') {
                        expected_at(1);
                    } else if (next_token.edge === 'case' || indent.mode === 'statement') {
                        expected_at(indent.at - option.indent);
                    } else if (indent.mode !== 'array' || next_token.line !== token.line) {
                        expected_at(indent.at);
                    }

// If the token is not an edge, but is the first token on the line.

                } else if (next_token.line !== token.line) {
                    if (next_token.from < indent.at + (indent.mode ===
                            'expression' ? 0 : option.indent)) {
                        expected_at(indent.at + option.indent);
                    }
                    indent.wrap = true;
                }
            } else if (next_token.line !== token.line) {
                if (next_token.edge) {
                    expected_at(indent.at);
                } else {
                    indent.wrap = true;
                    if (indent.mode === 'statement' || indent.mode === 'var') {
                        expected_at(indent.at + option.indent);
                    } else if (next_token.from < indent.at + (indent.mode ===
                            'expression' ? 0 : option.indent)) {
                        expected_at(indent.at + option.indent);
                    }
                }
            }
        }

        switch (token.id) {
        case '(number)':
            if (next_token.id === '.') {
                next_token.warn('trailing_decimal_a');
            }
            break;
        case '-':
            if (next_token.id === '-' || next_token.id === '--') {
                next_token.warn('confusing_a');
            }
            break;
        case '+':
            if (next_token.id === '+' || next_token.id === '++') {
                next_token.warn('confusing_a');
            }
            break;
        }
        if (token.id === '(string)' || token.identifier) {
            anonname = token.string;
        }

        if (id && next_token.id !== id) {
            if (match) {
                next_token.warn('expected_a_b_from_c_d', id,
                    match.id, match.line, artifact());
            } else if (!next_token.identifier || next_token.string !== id) {
                next_token.warn('expected_a_b', id, artifact());
            }
        }
        prev_token = token;
        token = next_token;
        next_token = lookahead.shift() || lex.token();
        next_token.function = funct;
        tokens.push(next_token);
    }


    function do_globals() {
        var name, writeable;
        for (;;) {
            if (next_token.id !== '(string)' && !next_token.identifier) {
                return;
            }
            name = next_token.string;
            advance();
            writeable = false;
            if (next_token.id === ':') {
                advance(':');
                switch (next_token.id) {
                case 'true':
                    writeable = predefined[name] !== false;
                    advance('true');
                    break;
                case 'false':
                    advance('false');
                    break;
                default:
                    next_token.stop('unexpected_a');
                }
            }
            predefined[name] = writeable;
            if (next_token.id !== ',') {
                return;
            }
            advance(',');
        }
    }


    function do_jslint() {
        var name, value;
        while (next_token.id === '(string)' || next_token.identifier) {
            name = next_token.string;
            if (!allowed_option[name]) {
                next_token.stop('unexpected_a');
            }
            advance();
            if (next_token.id !== ':') {
                next_token.stop('expected_a_b', ':', artifact());
            }
            advance(':');
            if (typeof allowed_option[name] === 'number') {
                value = next_token.number;
                if (value > allowed_option[name] || value <= 0 ||
                        Math.floor(value) !== value) {
                    next_token.stop('expected_small_a');
                }
                option[name] = value;
            } else {
                if (next_token.id === 'true') {
                    option[name] = true;
                } else if (next_token.id === 'false') {
                    option[name] = false;
                } else {
                    next_token.stop('unexpected_a');
                }
            }
            advance();
            if (next_token.id === ',') {
                advance(',');
            }
        }
        assume();
    }


    function do_properties() {
        var name;
        option.properties = true;
        for (;;) {
            if (next_token.id !== '(string)' && !next_token.identifier) {
                return;
            }
            name = next_token.string;
            advance();
            if (next_token.id === ':') {
                for (;;) {
                    advance();
                    if (next_token.id !== '(string)' && !next_token.identifier) {
                        break;
                    }
                }
            }
            property[name] = 0;
            if (next_token.id !== ',') {
                return;
            }
            advance(',');
        }
    }


    directive = function directive() {
        var command = this.id,
            old_comments_off = comments_off,
            old_indent = indent;
        comments_off = true;
        indent = null;
        if (next_token.line === token.line && next_token.from === token.thru) {
            next_token.warn('missing_space_a_b', artifact(token), artifact());
        }
        if (lookahead.length > 0) {
            this.warn('unexpected_a');
        }
        switch (command) {
        case '/*properties':
        case '/*property':
        case '/*members':
        case '/*member':
            do_properties();
            break;
        case '/*jslint':
            do_jslint();
            break;
        case '/*globals':
        case '/*global':
            do_globals();
            break;
        default:
            this.stop('unexpected_a');
        }
        comments_off = old_comments_off;
        advance('*/');
        indent = old_indent;
    };


// Indentation intention

    function edge(mode) {
        next_token.edge = indent ? indent.open && (mode || 'edge') : '';
    }


    function step_in(mode) {
        var open;
        if (typeof mode === 'number') {
            indent = {
                at: +mode,
                open: true,
                was: indent
            };
        } else if (!indent) {
            indent = {
                at: 1,
                mode: 'statement',
                open: true
            };
        } else if (mode === 'statement') {
            indent = {
                at: indent.at,
                open: true,
                was: indent
            };
        } else {
            open = mode === 'var' || next_token.line !== token.line;
            indent = {
                at: (open || mode === 'control'
                    ? indent.at + option.indent
                    : indent.at) + (indent.wrap ? option.indent : 0),
                mode: mode,
                open: open,
                was: indent
            };
            if (mode === 'var' && open) {
                var_mode = indent;
            }
        }
    }

    function step_out(id, symbol) {
        if (id) {
            if (indent && indent.open) {
                indent.at -= option.indent;
                edge();
            }
            advance(id, symbol);
        }
        if (indent) {
            indent = indent.was;
        }
    }

// Functions for conformance of whitespace.

    function one_space(left, right) {
        left = left || token;
        right = right || next_token;
        if (right.id !== '(end)' && !option.white &&
                (token.line !== right.line ||
                token.thru + 1 !== right.from)) {
            right.warn('expected_space_a_b', artifact(token), artifact(right));
        }
    }

    function one_space_only(left, right) {
        left = left || token;
        right = right || next_token;
        if (right.id !== '(end)' && (left.line !== right.line ||
                (!option.white && left.thru + 1 !== right.from))) {
            right.warn('expected_space_a_b', artifact(left), artifact(right));
        }
    }

    function no_space(left, right) {
        left = left || token;
        right = right || next_token;
        if ((!option.white) &&
                left.thru !== right.from && left.line === right.line) {
            right.warn('unexpected_space_a_b', artifact(left), artifact(right));
        }
    }

    function no_space_only(left, right) {
        left = left || token;
        right = right || next_token;
        if (right.id !== '(end)' && (left.line !== right.line ||
                (!option.white && left.thru !== right.from))) {
            right.warn('unexpected_space_a_b', artifact(left), artifact(right));
        }
    }

    function spaces(left, right) {
        if (!option.white) {
            left = left || token;
            right = right || next_token;
            if (left.thru === right.from && left.line === right.line) {
                right.warn('missing_space_a_b', artifact(left), artifact(right));
            }
        }
    }

    function comma() {
        if (next_token.id !== ',') {
            warn('expected_a_b', token.line, token.thru, ',', artifact());
        } else {
            if (!option.white) {
                no_space_only();
            }
            advance(',');
            spaces();
        }
    }


    function semicolon() {
        if (next_token.id !== ';') {
            warn('expected_a_b', token.line, token.thru, ';', artifact());
        } else {
            if (!option.white) {
                no_space_only();
            }
            advance(';');
            if (semicolon_coda[next_token.id] !== true) {
                spaces();
            }
        }
    }

    function use_strict() {
        if (next_token.string === 'use strict') {
            if (strict_mode) {
                next_token.warn('unnecessary_use');
            }
            edge();
            advance();
            semicolon();
            strict_mode = true;
            return true;
        }
        return false;
    }


    function are_similar(a, b) {
        if (a === b) {
            return true;
        }
        if (Array.isArray(a)) {
            if (Array.isArray(b) && a.length === b.length) {
                var i;
                for (i = 0; i < a.length; i += 1) {
                    if (!are_similar(a[i], b[i])) {
                        return false;
                    }
                }
                return true;
            }
            return false;
        }
        if (Array.isArray(b)) {
            return false;
        }
        if (a.id === '(number)' && b.id === '(number)') {
            return a.number === b.number;
        }
        if (a.arity === b.arity && a.string === b.string) {
            switch (a.arity) {
            case undefined:
                return a.string === b.string;
            case 'prefix':
            case 'suffix':
                return a.id === b.id && are_similar(a.first, b.first) &&
                    a.id !== '{' && a.id !== '[';
            case 'infix':
                return are_similar(a.first, b.first) &&
                    are_similar(a.second, b.second);
            case 'ternary':
                return are_similar(a.first, b.first) &&
                    are_similar(a.second, b.second) &&
                    are_similar(a.third, b.third);
            case 'function':
            case 'regexp':
                return false;
            default:
                return true;
            }
        }
        if (a.id === '.' && b.id === '[' && b.arity === 'infix') {
            return a.second.string === b.second.string && b.second.id === '(string)';
        }
        if (a.id === '[' && a.arity === 'infix' && b.id === '.') {
            return a.second.string === b.second.string && a.second.id === '(string)';
        }
        return false;
    }


// This is the heart of JSLINT, the Pratt parser. In addition to parsing, it
// is looking for ad hoc lint patterns. We add .fud to Pratt's model, which is
// like .nud except that it is only used on the first token of a statement.
// Having .fud makes it much easier to define statement-oriented languages like
// JavaScript. I retained Pratt's nomenclature.

// .nud     Null denotation
// .fud     First null denotation
// .led     Left denotation
//  lbp     Left binding power
//  rbp     Right binding power

// They are elements of the parsing method called Top Down Operator Precedence.

    function expression(rbp, initial) {

// rbp is the right binding power.
// initial indicates that this is the first expression of a statement.

        var left;
        if (next_token.id === '(end)') {
            token.stop('unexpected_a', next_token.id);
        }
        advance();
        if (initial) {
            anonname = 'anonymous';
        }
        if (initial === true && token.fud) {
            left = token.fud();
        } else {
            if (token.nud) {
                left = token.nud();
            } else {
                if (next_token.id === '(number)' && token.id === '.') {
                    token.warn('leading_decimal_a', artifact());
                    advance();
                    return token;
                }
                token.stop('expected_identifier_a', artifact(token));
            }
            while (rbp < next_token.lbp) {
                advance();
                left = token.led(left);
            }
        }
        if (left && left.assign && !initial) {
            if (!option.ass) {
                left.warn('assignment_expression');
            }
            if (left.id !== '=' && left.first.master) {
                left.first.master.used = true;
            }
        }
        return left;
    }

    protosymbol = {
        nud: function () {
            this.stop('unexpected_a');
        },
        led: function () {
            this.stop('expected_operator_a');
        },
        warn: function (code, a, b, c, d) {
            if (!this.warning) {
                this.warning = warn(code, this.line || 0, this.from || 0,
                    a || artifact(this), b, c, d);
            }
        },
        stop: function (code, a, b, c, d) {
            this.warning = undefined;
            this.warn(code, a, b, c, d);
            return quit('stopping', this.line, this.character);
        },
        lbp: 0
    };

// Functional constructors for making the symbols that will be inherited by
// tokens.

    function symbol(s, bp) {
        var x = syntax[s];
        if (!x) {
            x = Object.create(protosymbol);
            x.id = x.string = s;
            x.lbp = bp || 0;
            syntax[s] = x;
        }
        return x;
    }

    function postscript(x) {
        x.postscript = true;
        return x;
    }

    function ultimate(s) {
        var x = symbol(s, 0);
        x.from = 1;
        x.thru = 1;
        x.line = 0;
        x.edge = 'edge';
        x.string = s;
        return postscript(x);
    }

    function reserve_name(x) {
        var c = x.id.charAt(0);
        if ((c >= 'a' && c <= 'z') || (c >= 'A' && c <= 'Z')) {
            x.identifier = x.reserved = true;
        }
        return x;
    }

    function stmt(s, f) {
        var x = symbol(s);
        x.fud = f;
        return reserve_name(x);
    }

    function disrupt_stmt(s, f) {
        var x = stmt(s, f);
        x.disrupt = true;
    }

    function labeled_stmt(s, f) {
        var x = stmt(s, function labeled() {
            var the_statement;
            if (funct.breakage) {
                funct.breakage.push(this);
            } else {
                funct.breakage = [this];
            }
            the_statement = f.apply(this);
            if (funct.breakage.length > 1) {
                funct.breakage.pop();
            } else {
                delete funct.breakage;
            }
            return the_statement;
        });
        x.labeled = true;
    }

    function prefix(s, f) {
        var x = symbol(s, 150);
        reserve_name(x);
        x.nud = function () {
            var that = this;
            that.arity = 'prefix';
            if (typeof f === 'function') {
                that = f(that);
                if (that.arity !== 'prefix') {
                    return that;
                }
            } else {
                if (s === 'typeof') {
                    one_space();
                } else {
                    no_space_only();
                }
                that.first = expression(150);
            }
            switch (that.id) {
            case '++':
            case '--':
                if (!option.plusplus) {
                    that.warn('unexpected_a');
                } else if ((!that.first.identifier || that.first.reserved) &&
                        that.first.id !== '.' && that.first.id !== '[') {
                    that.warn('bad_operand');
                }
                break;
            default:
                if (that.first.arity === 'prefix' ||
                        that.first.arity === 'function') {
                    that.warn('unexpected_a');
                }
            }
            return that;
        };
        return x;
    }


    function type(s, t, nud) {
        var x = symbol(s);
        x.arity = t;
        if (nud) {
            x.nud = nud;
        }
        return x;
    }


    function reserve(s, f) {
        var x = symbol(s);
        x.identifier = x.reserved = true;
        if (typeof f === 'function') {
            x.nud = f;
        }
        return x;
    }


    function constant(name) {
        var x = reserve(name);
        x.string = name;
        x.nud = return_this;
        return x;
    }


    function reservevar(s, v) {
        return reserve(s, function () {
            if (typeof v === 'function') {
                v(this);
            }
            return this;
        });
    }


    function infix(s, p, f, w) {
        var x = symbol(s, p);
        reserve_name(x);
        x.led = function (left) {
            this.arity = 'infix';
            if (!w) {
                spaces(prev_token, token);
                spaces();
            }
            if (!option.bitwise && this.bitwise) {
                this.warn('unexpected_a');
            }
            if (typeof f === 'function') {
                return f(left, this);
            }
            this.first = left;
            this.second = expression(p);
            return this;
        };
        return x;
    }

    function expected_relation(node, message) {
        if (node.assign) {
            node.warn(message || 'conditional_assignment');
        }
        return node;
    }

    function expected_condition(node, message) {
        switch (node.id) {
        case '[':
        case '-':
            if (node.arity !== 'infix') {
                node.warn(message || 'weird_condition');
            }
            break;
        case 'false':
        case 'function':
        case 'Infinity':
        case 'NaN':
        case 'null':
        case 'true':
        case 'undefined':
        case 'void':
        case '(number)':
        case '(regexp)':
        case '(string)':
        case '{':
        case '?':
        case '~':
            node.warn(message || 'weird_condition');
            break;
        case '(':
            if (node.first.id === 'new' ||
                    (node.first.string === 'Boolean') ||
                    (node.first.id === '.' &&
                        numbery[node.first.second.string] === true)) {
                node.warn(message || 'weird_condition');
            }
            break;
        }
        return node;
    }

    function check_relation(node) {
        switch (node.arity) {
        case 'prefix':
            switch (node.id) {
            case '{':
            case '[':
                node.warn('unexpected_a');
                break;
            case '!':
                node.warn('confusing_a');
                break;
            }
            break;
        case 'function':
        case 'regexp':
            node.warn('unexpected_a');
            break;
        default:
            if (node.id  === 'NaN') {
                node.warn('isNaN');
            } else if (node.relation) {
                node.warn('weird_relation');
            }
        }
        return node;
    }


    function relation(s, eqeq) {
        var x = infix(s, 100, function (left, that) {
            check_relation(left);
            if (eqeq && !option.eqeq) {
                that.warn('expected_a_b', eqeq, that.id);
            }
            var right = expression(100);
            if (are_similar(left, right) ||
                    ((left.id === '(string)' || left.id === '(number)') &&
                    (right.id === '(string)' || right.id === '(number)'))) {
                that.warn('weird_relation');
            } else if (left.id === 'typeof') {
                if (right.id !== '(string)') {
                    right.warn("expected_string_a", artifact(right));
                } else if (right.string === 'undefined' ||
                        right.string === 'null') {
                    left.warn("unexpected_typeof_a", right.string);
                }
            } else if (right.id === 'typeof') {
                if (left.id !== '(string)') {
                    left.warn("expected_string_a", artifact(left));
                } else if (left.string === 'undefined' ||
                        left.string === 'null') {
                    right.warn("unexpected_typeof_a", left.string);
                }
            }
            that.first = left;
            that.second = check_relation(right);
            return that;
        });
        x.relation = true;
        return x;
    }

    function lvalue(that, s) {
        var master;
        if (that.identifier) {
            master = scope[that.string];
            if (master) {
                if (scope[that.string].writeable !== true) {
                    that.warn('read_only');
                }
                master.used -= 1;
                if (s === '=') {
                    master.init = true;
                }
            } else if (that.reserved) {
                that.warn('expected_identifier_a_reserved');
            }
        } else if (that.id === '.' || that.id === '[') {
            if (!that.first || that.first.string === 'arguments') {
                that.warn('bad_assignment');
            }
        } else {
            that.warn('bad_assignment');
        }
    }


    function assignop(s, op) {
        var x = infix(s, 20, function (left, that) {
            var next;
            that.first = left;
            lvalue(left, s);
            that.second = expression(20);
            if (that.id === '=' && are_similar(that.first, that.second)) {
                that.warn('weird_assignment');
            }
            next = that;
            while (next_token.id === '=') {
                lvalue(next.second, '=');
                next_token.first = next.second;
                next.second = next_token;
                next = next_token;
                advance('=');
                next.second = expression(20);
            }
            return that;
        });
        x.assign = true;
        if (op) {
            if (syntax[op].bitwise) {
                x.bitwise = true;
            }
        }
        return x;
    }


    function bitwise(s, p) {
        var x = infix(s, p, 'number');
        x.bitwise = true;
        return x;
    }


    function suffix(s) {
        var x = symbol(s, 150);
        x.led = function (left) {
            no_space_only(prev_token, token);
            if (!option.plusplus) {
                this.warn('unexpected_a');
            } else if ((!left.identifier || left.reserved) &&
                    left.id !== '.' && left.id !== '[') {
                this.warn('bad_operand');
            }
            this.first = left;
            this.arity = 'suffix';
            return this;
        };
        return x;
    }


    function optional_identifier(variable) {
        if (next_token.identifier) {
            advance();
            if (token.reserved && variable) {
                token.warn('expected_identifier_a_reserved');
            }
            return token.string;
        }
    }


    function identifier(variable) {
        var i = optional_identifier(variable);
        if (!i) {
            next_token.stop(token.id === 'function' && next_token.id === '('
                ? 'name_function'
                : 'expected_identifier_a');
        }
        return i;
    }


    function statement() {

        var label, preamble, the_statement;

// We don't like the empty statement.

        if (next_token.id === ';') {
            next_token.warn('unexpected_a');
            semicolon();
            return;
        }

// Is this a labeled statement?

        if (next_token.identifier && !next_token.reserved && peek().id === ':') {
            edge('label');
            label = next_token;
            advance();
            advance(':');
            define('label', label);
            if (next_token.labeled !== true || funct === global_funct) {
                label.stop('unexpected_label_a');
            } else if (jx.test(label.string + ':')) {
                label.warn('url');
            }
            next_token.label = label;
            label.init = true;
            label.statement = next_token;
        }

// Parse the statement.

        preamble = next_token;
        if (token.id !== 'else') {
            edge();
        }
        step_in('statement');
        the_statement = expression(0, true);
        if (the_statement) {

// Look for the final semicolon.

            if (the_statement.arity === 'statement') {
                if (the_statement.id === 'switch' ||
                        (the_statement.block && the_statement.id !== 'do')) {
                    spaces();
                } else {
                    semicolon();
                }
            } else {

// If this is an expression statement, determine if it is acceptable.
// We do not like
//      new Blah;
// statements. If it is to be used at all, new should only be used to make
// objects, not side effects. The expression statements we do like do
// assignment or invocation or delete.

                if (the_statement.id === '(') {
                    if (the_statement.first.id === 'new') {
                        next_token.warn('bad_new');
                    }
                } else if (the_statement.id === '++' ||
                        the_statement.id === '--') {
                    lvalue(the_statement.first);
                } else if (!the_statement.assign &&
                        the_statement.id !== 'delete') {
                    if (!option.closure || !preamble.comments) {
                        preamble.warn('assignment_function_expression');
                    }
                }
                semicolon();
            }
        }
        step_out();
        if (label) {
            label.dead = true;
        }
        return the_statement;
    }


    function statements() {
        var array = [], disruptor, the_statement;

// A disrupt statement may not be followed by any other statement.
// If the last statement is disrupt, then the sequence is disrupt.

        while (next_token.postscript !== true) {
            if (next_token.id === ';') {
                next_token.warn('unexpected_a');
                semicolon();
            } else {
                if (next_token.string === 'use strict') {
                    if ((!node_js) || funct !== global_funct || array.length > 0) {
                        next_token.warn('function_strict');
                    }
                    use_strict();
                }
                if (disruptor) {
                    next_token.warn('unreachable_a_b', next_token.string,
                        disruptor.string);
                    disruptor = null;
                }
                the_statement = statement();
                if (the_statement) {
                    array.push(the_statement);
                    if (the_statement.disrupt) {
                        disruptor = the_statement;
                        array.disrupt = true;
                    }
                }
            }
        }
        return array;
    }


    function block(kind) {

// A block is a sequence of statements wrapped in braces.

        var array,
            curly = next_token,
            old_block_var = block_var,
            old_in_block = in_block,
            old_strict_mode = strict_mode;

        in_block = kind !== 'function' && kind !== 'try' && kind !== 'catch';
        block_var = [];
        if (curly.id === '{') {
            spaces();
            advance('{');
            step_in();
            if (kind === 'function' && !use_strict() && !old_strict_mode &&
                    !option.sloppy && funct.level === 1) {
                next_token.warn('missing_use_strict');
            }
            array = statements();
            strict_mode = old_strict_mode;
            step_out('}', curly);
        } else if (in_block) {
            curly.stop('expected_a_b', '{', artifact());
        } else {
            curly.warn('expected_a_b', '{', artifact());
            array = [statement()];
            array.disrupt = array[0].disrupt;
        }
        if (kind !== 'catch' && array.length === 0 && !option.debug) {
            curly.warn('empty_block');
        }
        block_var.forEach(function (name) {
            scope[name].dead = true;
        });
        block_var = old_block_var;
        in_block = old_in_block;
        return array;
    }


    function tally_property(name) {
        if (option.properties && typeof property[name] !== 'number') {
            token.warn('unexpected_property_a', name);
        }
        if (property[name]) {
            property[name] += 1;
        } else {
            property[name] = 1;
        }
    }


// ECMAScript parser

    (function () {
        var x = symbol('(identifier)');
        x.nud = function () {
            var name = this.string,
                master = scope[name],
                writeable;

// If the master is not in scope, then we may have an undeclared variable.
// Check the predefined list. If it was predefined, create the global
// variable.

            if (!master) {
                writeable = predefined[name];
                if (typeof writeable === 'boolean') {
                    global_scope[name] = master = {
                        dead: false,
                        function: global_funct,
                        kind: 'var',
                        string: name,
                        writeable: writeable
                    };

// But if the variable is not in scope, and is not predefined, and if we are not
// in the global scope, then we have an undefined variable error.

                } else {
                    token.warn('used_before_a');
                }
            } else {
                this.master = master;
            }

// Annotate uses that cross scope boundaries.

            if (master) {
                if (master.kind === 'label') {
                    this.warn('a_label');
                } else {
                    if (master.dead === true || master.dead === funct) {
                        this.warn('a_scope');
                    }
                    master.used += 1;
                    if (master.function !== funct) {
                        if (master.function === global_funct) {
                            funct.global.push(name);
                        } else {
                            master.function.closure.push(name);
                            funct.outer.push(name);
                        }
                    }
                }
            }
            return this;
        };
        x.identifier = true;
    }());


// Build the syntax table by declaring the syntactic elements.

    type('(array)', 'array');
    type('(function)', 'function');
    type('(number)', 'number', return_this);
    type('(object)', 'object');
    type('(string)', 'string', return_this);
    type('(boolean)', 'boolean', return_this);
    type('(regexp)', 'regexp', return_this);

    ultimate('(begin)');
    ultimate('(end)');
    ultimate('(error)');
    postscript(symbol('}'));
    symbol(')');
    symbol(']');
    postscript(symbol('"'));
    postscript(symbol('\''));
    symbol(';');
    symbol(':');
    symbol(',');
    symbol('#');
    symbol('@');
    symbol('*/');
    postscript(reserve('case'));
    reserve('catch');
    postscript(reserve('default'));
    reserve('else');
    reserve('finally');

    reservevar('arguments', function (x) {
        if (strict_mode && funct === global_funct) {
            x.warn('strict');
        }
        funct.arguments = true;
    });
    reservevar('eval');
    constant('false', 'boolean');
    constant('Infinity', 'number');
    constant('NaN', 'number');
    constant('null', '');
    reservevar('this', function (x) {
        if (strict_mode && funct.statement && funct.name.charAt(0) > 'Z') {
            x.warn('strict');
        }
    });
    constant('true', 'boolean');
    constant('undefined', '');

    infix('?', 30, function (left, that) {
        step_in('?');
        that.first = expected_condition(expected_relation(left));
        that.second = expression(0);
        spaces();
        step_out();
        var colon = next_token;
        advance(':');
        step_in(':');
        spaces();
        that.third = expression(10);
        that.arity = 'ternary';
        if (are_similar(that.second, that.third)) {
            colon.warn('weird_ternary');
        } else if (are_similar(that.first, that.second)) {
            that.warn('use_or');
        }
        step_out();
        return that;
    });

    infix('||', 40, function (left, that) {
        function paren_check(that) {
            if (that.id === '&&' && !that.paren) {
                that.warn('and');
            }
            return that;
        }

        that.first = paren_check(expected_condition(expected_relation(left)));
        that.second = paren_check(expected_relation(expression(40)));
        if (are_similar(that.first, that.second)) {
            that.warn('weird_condition');
        }
        return that;
    });

    infix('&&', 50, function (left, that) {
        that.first = expected_condition(expected_relation(left));
        that.second = expected_relation(expression(50));
        if (are_similar(that.first, that.second)) {
            that.warn('weird_condition');
        }
        return that;
    });

    prefix('void', function (that) {
        that.first = expression(0);
        that.warn('expected_a_b', 'undefined', 'void');
        return that;
    });

    bitwise('|', 70);
    bitwise('^', 80);
    bitwise('&', 90);

    relation('==', '===');
    relation('===');
    relation('!=', '!==');
    relation('!==');
    relation('<');
    relation('>');
    relation('<=');
    relation('>=');

    bitwise('<<', 120);
    bitwise('>>', 120);
    bitwise('>>>', 120);

    infix('in', 120, function (left, that) {
        that.warn('infix_in');
        that.left = left;
        that.right = expression(130);
        return that;
    });
    infix('instanceof', 120);
    infix('+', 130, function (left, that) {
        if (left.id === '(number)') {
            if (left.number === 0) {
                left.warn('unexpected_a', '0');
            }
        } else if (left.id === '(string)') {
            if (left.string === '') {
                left.warn('expected_a_b', 'String', '\'\'');
            }
        }
        var right = expression(130);
        if (right.id === '(number)') {
            if (right.number === 0) {
                right.warn('unexpected_a', '0');
            }
        } else if (right.id === '(string)') {
            if (right.string === '') {
                right.warn('expected_a_b', 'String', '\'\'');
            }
        }
        if (left.id === right.id) {
            if (left.id === '(string)' || left.id === '(number)') {
                if (left.id === '(string)') {
                    left.string += right.string;
                    if (jx.test(left.string)) {
                        left.warn('url');
                    }
                } else {
                    left.number += right.number;
                }
                left.thru = right.thru;
                return left;
            }
        }
        that.first = left;
        that.second = right;
        return that;
    });
    prefix('+');
    prefix('+++', function () {
        token.warn('confusing_a');
        this.first = expression(150);
        this.arity = 'prefix';
        return this;
    });
    infix('+++', 130, function (left) {
        token.warn('confusing_a');
        this.first = left;
        this.second = expression(130);
        return this;
    });
    infix('-', 130, function (left, that) {
        if ((left.id === '(number)' && left.number === 0) || left.id === '(string)') {
            left.warn('unexpected_a');
        }
        var right = expression(130);
        if ((right.id === '(number)' && right.number === 0) || right.id === '(string)') {
            right.warn('unexpected_a');
        }
        if (left.id === right.id && left.id === '(number)') {
            left.number -= right.number;
            left.thru = right.thru;
            return left;
        }
        that.first = left;
        that.second = right;
        return that;
    });
    prefix('-');
    prefix('---', function () {
        token.warn('confusing_a');
        this.first = expression(150);
        this.arity = 'prefix';
        return this;
    });
    infix('---', 130, function (left) {
        token.warn('confusing_a');
        this.first = left;
        this.second = expression(130);
        return this;
    });
    infix('*', 140, function (left, that) {
        if ((left.id === '(number)' && (left.number === 0 || left.number === 1)) || left.id === '(string)') {
            left.warn('unexpected_a');
        }
        var right = expression(140);
        if ((right.id === '(number)' && (right.number === 0 || right.number === 1)) || right.id === '(string)') {
            right.warn('unexpected_a');
        }
        if (left.id === right.id && left.id === '(number)') {
            left.number *= right.number;
            left.thru = right.thru;
            return left;
        }
        that.first = left;
        that.second = right;
        return that;
    });
    infix('/', 140, function (left, that) {
        if ((left.id === '(number)' && left.number === 0) || left.id === '(string)') {
            left.warn('unexpected_a');
        }
        var right = expression(140);
        if ((right.id === '(number)' && (right.number === 0 || right.number === 1)) || right.id === '(string)') {
            right.warn('unexpected_a');
        }
        if (left.id === right.id && left.id === '(number)') {
            left.number /= right.number;
            left.thru = right.thru;
            return left;
        }
        that.first = left;
        that.second = right;
        return that;
    });
    infix('%', 140, function (left, that) {
        if ((left.id === '(number)' && (left.number === 0 || left.number === 1)) || left.id === '(string)') {
            left.warn('unexpected_a');
        }
        var right = expression(140);
        if ((right.id === '(number)' && right.number === 0) || right.id === '(string)') {
            right.warn('unexpected_a');
        }
        if (left.id === right.id && left.id === '(number)') {
            left.number %= right.number;
            left.thru = right.thru;
            return left;
        }
        that.first = left;
        that.second = right;
        return that;
    });

    suffix('++');
    prefix('++');

    suffix('--');
    prefix('--');
    prefix('delete', function (that) {
        one_space();
        var p = expression(0);
        if (!p || (p.id !== '.' && p.id !== '[')) {
            next_token.warn('deleted');
        }
        that.first = p;
        return that;
    });


    prefix('~', function (that) {
        no_space_only();
        if (!option.bitwise) {
            that.warn('unexpected_a');
        }
        that.first = expression(150);
        return that;
    });
    function banger(that) {
        no_space_only();
        that.first = expected_condition(expression(150));
        if (bang[that.first.id] === that || that.first.assign) {
            that.warn('confusing_a');
        }
        return that;
    }
    prefix('!', banger);
    prefix('!!', banger);
    prefix('typeof');
    prefix('new', function (that) {
        one_space();
        var c = expression(160), n, p, v;
        that.first = c;
        if (c.id !== 'function') {
            if (c.identifier) {
                switch (c.string) {
                case 'Object':
                    token.warn('use_object');
                    break;
                case 'Array':
                    if (next_token.id === '(') {
                        p = next_token;
                        p.first = this;
                        advance('(');
                        if (next_token.id !== ')') {
                            n = expression(0);
                            p.second = [n];
                            if (n.id === '(string)' || next_token.id === ',') {
                                p.warn('use_array');
                            }
                            while (next_token.id === ',') {
                                advance(',');
                                p.second.push(expression(0));
                            }
                        } else {
                            token.warn('use_array');
                        }
                        advance(')', p);
                        return p;
                    }
                    token.warn('use_array');
                    break;
                case 'Number':
                case 'String':
                case 'Boolean':
                case 'Math':
                case 'JSON':
                    c.warn('not_a_constructor');
                    break;
                case 'Function':
                    if (!option.evil) {
                        next_token.warn('function_eval');
                    }
                    break;
                case 'Date':
                case 'RegExp':
                case 'this':
                    break;
                default:
                    if (c.id !== 'function') {
                        v = c.string.charAt(0);
                        if (!option.newcap && (v < 'A' || v > 'Z')) {
                            token.warn('constructor_name_a');
                        }
                    }
                }
            } else {
                if (c.id !== '.' && c.id !== '[' && c.id !== '(') {
                    token.warn('bad_constructor');
                }
            }
        } else {
            that.warn('weird_new');
        }
        if (next_token.id !== '(') {
            next_token.warn('missing_a', '()');
        }
        return that;
    });

    infix('(', 160, function (left, that) {
        var e, p;
        if (indent && indent.mode === 'expression') {
            no_space(prev_token, token);
        } else {
            no_space_only(prev_token, token);
        }
        if (!left.immed && left.id === 'function') {
            next_token.warn('wrap_immediate');
        }
        p = [];
        if (left.identifier) {
            if (left.string.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)) {
                if (left.string !== 'Number' && left.string !== 'String' &&
                        left.string !== 'Boolean' && left.string !== 'Date') {
                    if (left.string === 'Math') {
                        left.warn('not_a_function');
                    } else if (left.string === 'Object') {
                        token.warn('use_object');
                    } else if (left.string === 'Array' || !option.newcap) {
                        left.warn('missing_a', 'new');
                    }
                }
            } else if (left.string === 'JSON') {
                left.warn('not_a_function');
            }
        } else if (left.id === '.') {
            if (left.second.string === 'split' &&
                    left.first.id === '(string)') {
                left.second.warn('use_array');
            }
        }
        step_in();
        if (next_token.id !== ')') {
            no_space();
            for (;;) {
                edge();
                e = expression(10);
                if (left.string === 'Boolean' && (e.id === '!' || e.id === '~')) {
                    e.warn('weird_condition');
                }
                p.push(e);
                if (next_token.id !== ',') {
                    break;
                }
                comma();
            }
        }
        no_space();
        step_out(')', that);
        if (typeof left === 'object') {
            if (left.string === 'parseInt' && p.length === 1) {
                left.warn('radix');
            } else if (left.string === 'String' && p.length >= 1 && p[0].id === '(string)') {
                left.warn('unexpected_a');
            }
            if (!option.evil) {
                if (left.string === 'eval' || left.string === 'Function' ||
                        left.string === 'execScript') {
                    left.warn('evil');
                } else if (p[0] && p[0].id === '(string)' &&
                        (left.string === 'setTimeout' ||
                        left.string === 'setInterval')) {
                    left.warn('implied_evil');
                }
            }
            if (!left.identifier && left.id !== '.' && left.id !== '[' &&
                    left.id !== '(' && left.id !== '&&' && left.id !== '||' &&
                    left.id !== '?') {
                left.warn('bad_invocation');
            }
            if (left.id === '.') {
                if (p.length > 0 &&
                        left.first && left.first.first &&
                        are_similar(p[0], left.first.first)) {
                    if (left.second.string === 'call' ||
                            (left.second.string === 'apply' && (p.length === 1 ||
                            (p[1].arity === 'prefix' && p[1].id === '[')))) {
                        left.second.warn('unexpected_a');
                    }
                }
                if (left.second.string === 'toString') {
                    if (left.first.id === '(string)' || left.first.id === '(number)') {
                        left.second.warn('unexpected_a');
                    }
                }
            }
        }
        that.first = left;
        that.second = p;
        return that;
    }, true);

    prefix('(', function (that) {
        step_in('expression');
        no_space();
        edge();
        if (next_token.id === 'function') {
            next_token.immed = true;
        }
        var value = expression(0);
        value.paren = true;
        no_space();
        step_out(')', that);
        if (value.id === 'function') {
            switch (next_token.id) {
            case '(':
                next_token.warn('move_invocation');
                break;
            case '.':
            case '[':
                next_token.warn('unexpected_a');
                break;
            default:
                that.warn('bad_wrap');
            }
        } else if (!value.arity) {
            if (!option.closure || !that.comments) {
                that.warn('unexpected_a');
            }
        }
        return value;
    });

    infix('.', 170, function (left, that) {
        no_space(prev_token, token);
        no_space();
        var name = identifier();
        if (typeof name === 'string') {
            tally_property(name);
        }
        that.first = left;
        that.second = token;
        if (left && left.string === 'arguments' &&
                (name === 'callee' || name === 'caller')) {
            left.warn('avoid_a', 'arguments.' + name);
        } else if (!option.evil && left && left.string === 'document' &&
                (name === 'write' || name === 'writeln')) {
            left.warn('write_is_wrong');
        } else if (!option.stupid && syx.test(name)) {
            token.warn('sync_a');
        } else if (left && left.id === '{') {
            that.warn('unexpected_a');
        }
        if (!option.evil && (name === 'eval' || name === 'execScript')) {
            next_token.warn('evil');
        }
        return that;
    }, true);

    infix('[', 170, function (left, that) {
        var e, s;
        no_space_only(prev_token, token);
        no_space();
        step_in();
        edge();
        e = expression(0);
        switch (e.id) {
        case '(number)':
            if (e.id === '(number)' && left.id === 'arguments') {
                left.warn('use_param');
            }
            break;
        case '(string)':
            if (!option.evil &&
                    (e.string === 'eval' || e.string === 'execScript')) {
                e.warn('evil');
            } else if (!option.sub && ix.test(e.string)) {
                s = syntax[e.string];
                if (!s || !s.reserved) {
                    e.warn('subscript');
                }
            }
            tally_property(e.string);
            break;
        }
        if (left && (left.id === '{' || (left.id === '[' && left.arity === 'prefix'))) {
            that.warn('unexpected_a');
        }
        step_out(']', that);
        no_space(prev_token, token);
        that.first = left;
        that.second = e;
        return that;
    }, true);

    prefix('[', function (that) {
        that.first = [];
        step_in('array');
        while (next_token.id !== '(end)') {
            while (next_token.id === ',') {
                next_token.warn('unexpected_a');
                advance(',');
            }
            if (next_token.id === ']') {
                break;
            }
            indent.wrap = false;
            edge();
            that.first.push(expression(10));
            if (next_token.id === ',') {
                comma();
                if (next_token.id === ']') {
                    token.warn('unexpected_a');
                    break;
                }
            } else {
                break;
            }
        }
        step_out(']', that);
        return that;
    }, 170);


    function property_name() {
        var id = optional_identifier();
        if (!id) {
            if (next_token.id === '(string)') {
                id = next_token.string;
                advance();
            } else if (next_token.id === '(number)') {
                id = next_token.number.toString();
                advance();
            }
        }
        return id;
    }



    assignop('=');
    assignop('+=', '+');
    assignop('-=', '-');
    assignop('*=', '*');
    assignop('/=', '/').nud = function () {
        next_token.stop('slash_equal');
    };
    assignop('%=', '%');
    assignop('&=', '&');
    assignop('|=', '|');
    assignop('^=', '^');
    assignop('<<=', '<<');
    assignop('>>=', '>>');
    assignop('>>>=', '>>>');

    function function_parameters() {
        var id, parameters = [], paren = next_token;
        advance('(');
        token.function = funct;
        step_in();
        no_space();
        if (next_token.id !== ')') {
            for (;;) {
                edge();
                id = identifier();
                if (token.reserved) {
                    token.warn('expected_identifier_a_reserved');
                }
                define('parameter', token);
                parameters.push(id);
                token.init = true;
                token.writeable = true;
                if (next_token.id !== ',') {
                    break;
                }
                comma();
            }
        }
        no_space();
        step_out(')', paren);
        return parameters;
    }

    function do_function(func, name) {
        var old_funct = funct,
            old_option = option,
            old_scope = scope;
        scope = Object.create(old_scope);
        funct = {
            closure: [],
            global: [],
            level: old_funct.level + 1,
            line: next_token.line,
            loopage: 0,
            name: name || '\'' + (anonname || '').replace(nx, sanitize) + '\'',
            outer: [],
            scope: scope
        };
        funct.parameter = function_parameters();
        func.function = funct;
        option = Object.create(old_option);
        functions.push(funct);
        if (name) {
            func.name = name;
            func.string = name;
            define('function', func);
            func.init = true;
            func.used += 1;
        }
        func.writeable = false;
        one_space();
        func.block = block('function');
        Object.keys(scope).forEach(function (name) {
            var master = scope[name];
            if (!master.used && master.kind !== 'exception' &&
                    (master.kind !== 'parameter' || !option.unparam)) {
                master.warn('unused_a');
            } else if (!master.init) {
                master.warn('uninitialized_a');
            }
        });
        funct = old_funct;
        option = old_option;
        scope = old_scope;
    }

    prefix('{', function (that) {
        var get, i, j, name, set, seen = Object.create(null);
        that.first = [];
        step_in();
        while (next_token.id !== '}') {
            indent.wrap = false;

// JSLint recognizes the ES5 extension for get/set in object literals,
// but requires that they be used in pairs.

            edge();
            if (next_token.string === 'get' && peek().id !== ':') {
                get = next_token;
                advance('get');
                one_space_only();
                name = next_token;
                i = property_name();
                if (!i) {
                    next_token.stop('missing_property');
                }
                get.string = '';
                do_function(get);
                if (funct.loopage) {
                    get.warn('function_loop');
                }
                if (get.function.parameter.length) {
                    get.warn('parameter_a_get_b', get.function.parameter[0], i);
                }
                comma();
                set = next_token;
                spaces();
                edge();
                advance('set');
                set.string = '';
                one_space_only();
                j = property_name();
                if (i !== j) {
                    token.stop('expected_a_b', i, j || next_token.string);
                }
                do_function(set);
                if (set.block.length === 0) {
                    token.warn('missing_a', 'throw');
                }
                if (set.function.parameter.length === 0) {
                    set.stop('parameter_set_a', 'value');
                } else if (set.function.parameter[0] !== 'value') {
                    set.stop('expected_a_b', 'value',
                        set.function.parameter[0]);
                }
                name.first = [get, set];
            } else {
                name = next_token;
                i = property_name();
                if (typeof i !== 'string') {
                    next_token.stop('missing_property');
                }
                advance(':');
                spaces();
                name.first = expression(10);
            }
            that.first.push(name);
            if (seen[i] === true) {
                next_token.warn('duplicate_a', i);
            }
            seen[i] = true;
            tally_property(i);
            if (next_token.id !== ',') {
                break;
            }
            for (;;) {
                comma();
                if (next_token.id !== ',') {
                    break;
                }
                next_token.warn('unexpected_a');
            }
            if (next_token.id === '}') {
                token.warn('unexpected_a');
            }
        }
        step_out('}', that);
        return that;
    });

    stmt('{', function () {
        next_token.warn('statement_block');
        this.arity = 'statement';
        this.block = statements();
        this.disrupt = this.block.disrupt;
        advance('}', this);
        return this;
    });

    stmt('/*global', directive);
    stmt('/*globals', directive);
    stmt('/*jslint', directive);
    stmt('/*member', directive);
    stmt('/*members', directive);
    stmt('/*property', directive);
    stmt('/*properties', directive);

    stmt('var', function () {

// JavaScript does not have block scope. It only has function scope. So,
// declaring a variable in a block can have unexpected consequences.

// var.first will contain an array, the array containing name tokens
// and assignment tokens.

        var assign, id, name;

        if (funct.loopage) {
            next_token.warn('var_loop');
        } else if (funct.varstatement && !option.vars) {
            next_token.warn('combine_var');
        }
        if (funct !== global_funct) {
            funct.varstatement = true;
        }
        this.arity = 'statement';
        this.first = [];
        step_in('var');
        for (;;) {
            name = next_token;
            id = identifier(true);
            define('var', name);
            name.dead = funct;
            if (next_token.id === '=') {
                if (funct === global_funct && !name.writeable) {
                    name.warn('read_only');
                }
                assign = next_token;
                assign.first = name;
                spaces();
                advance('=');
                spaces();
                if (next_token.id === 'undefined') {
                    token.warn('unnecessary_initialize', id);
                }
                if (peek(0).id === '=' && next_token.identifier) {
                    next_token.stop('var_a_not');
                }
                assign.second = expression(0);
                assign.arity = 'infix';
                name.init = true;
                this.first.push(assign);
            } else {
                this.first.push(name);
            }
            name.dead = false;
            name.writeable = true;
            if (next_token.id !== ',') {
                break;
            }
            comma();
            indent.wrap = false;
            if (var_mode && next_token.line === token.line &&
                    this.first.length === 1) {
                var_mode = null;
                indent.open = false;
                indent.at -= option.indent;
            }
            spaces();
            edge();
        }
        var_mode = null;
        step_out();
        return this;
    });

    stmt('function', function () {
        one_space();
        if (in_block) {
            token.warn('function_block');
        }
        var name = next_token,
            id = identifier(true);
        define('var', name);
        if (!name.writeable) {
            name.warn('read_only');
        }
        name.init = true;
        name.statement = true;
        no_space();
        this.arity = 'statement';
        do_function(this, id);
        if (next_token.id === '(' && next_token.line === token.line) {
            next_token.stop('function_statement');
        }
        return this;
    });

    prefix('function', function (that) {
        var id = optional_identifier(true), name;
        if (id) {
            name = token;
            no_space();
        } else {
            id = '';
            one_space();
        }
        do_function(that, id);
        if (name) {
            name.function = that.function;
        }
        if (funct.loopage) {
            that.warn('function_loop');
        }
        switch (next_token.id) {
        case ';':
        case '(':
        case ')':
        case ',':
        case ']':
        case '}':
        case ':':
        case '(end)':
            break;
        case '.':
            if (peek().string !== 'bind' || peek(1).id !== '(') {
                next_token.warn('unexpected_a');
            }
            break;
        default:
            next_token.stop('unexpected_a');
        }
        that.arity = 'function';
        return that;
    });

    stmt('if', function () {
        var paren = next_token;
        one_space();
        advance('(');
        step_in('control');
        no_space();
        edge();
        this.arity = 'statement';
        this.first = expected_condition(expected_relation(expression(0)));
        no_space();
        step_out(')', paren);
        one_space();
        this.block = block('if');
        if (next_token.id === 'else') {
            if (this.block.disrupt) {
                next_token.warn(this.elif ? 'use_nested_if' : 'unnecessary_else');
            }
            one_space();
            advance('else');
            one_space();
            if (next_token.id === 'if') {
                next_token.elif = true;
                this.else = statement(true);
            } else {
                this.else = block('else');
            }
            if (this.else.disrupt && this.block.disrupt) {
                this.disrupt = true;
            }
        }
        return this;
    });

    stmt('try', function () {

// try.first    The catch variable
// try.second   The catch clause
// try.third    The finally clause
// try.block    The try block

        var exception_variable, paren;
        one_space();
        this.arity = 'statement';
        this.block = block('try');
        if (next_token.id === 'catch') {
            one_space();
            advance('catch');
            one_space();
            paren = next_token;
            advance('(');
            step_in('control');
            no_space();
            edge();
            exception_variable = next_token;
            this.first = identifier();
            define('exception', exception_variable);
            exception_variable.init = true;
            no_space();
            step_out(')', paren);
            one_space();
            this.second = block('catch');
            if (this.second.length) {
                if (this.first === 'ignore') {
                    exception_variable.warn('unexpected_a');
                }
            } else {
                if (this.first !== 'ignore') {
                    exception_variable.warn('expected_a_b', 'ignore',
                        exception_variable.string);
                }
            }
            exception_variable.dead = true;
        }
        if (next_token.id === 'finally') {
            one_space();
            advance('finally');
            one_space();
            this.third = block('finally');
        } else if (!this.second) {
            next_token.stop('expected_a_b', 'catch', artifact());
        }
        return this;
    });

    labeled_stmt('while', function () {
        one_space();
        var paren = next_token;
        funct.loopage += 1;
        advance('(');
        step_in('control');
        no_space();
        edge();
        this.arity = 'statement';
        this.first = expected_relation(expression(0));
        if (this.first.id !== 'true') {
            expected_condition(this.first, 'unexpected_a');
        }
        no_space();
        step_out(')', paren);
        one_space();
        this.block = block('while');
        if (this.block.disrupt) {
            prev_token.warn('strange_loop');
        }
        funct.loopage -= 1;
        return this;
    });

    reserve('with');

    labeled_stmt('switch', function () {

// switch.first         the switch expression
// switch.second        the array of cases. A case is 'case' or 'default' token:
//    case.first        the array of case expressions
//    case.second       the array of statements
// If all of the arrays of statements are disrupt, then the switch is disrupt.

        var cases = [],
            old_in_block = in_block,
            particular,
            that = token,
            the_case = next_token;

        function find_duplicate_case(value) {
            if (are_similar(particular, value)) {
                value.warn('duplicate_a');
            }
        }

        one_space();
        advance('(');
        no_space();
        step_in();
        this.arity = 'statement';
        this.first = expected_condition(expected_relation(expression(0)));
        no_space();
        step_out(')', the_case);
        one_space();
        advance('{');
        step_in();
        in_block = true;
        this.second = [];
        if (that.from !== next_token.from && !option.white) {
            next_token.warn('expected_a_at_b_c', next_token.string, that.from, next_token.from);
        }
        while (next_token.id === 'case') {
            the_case = next_token;
            the_case.first = [];
            the_case.arity = 'case';
            for (;;) {
                spaces();
                edge('case');
                advance('case');
                one_space();
                particular = expression(0);
                cases.forEach(find_duplicate_case);
                cases.push(particular);
                the_case.first.push(particular);
                if (particular.id === 'NaN') {
                    particular.warn('unexpected_a');
                }
                no_space_only();
                advance(':');
                if (next_token.id !== 'case') {
                    break;
                }
            }
            spaces();
            the_case.second = statements();
            if (the_case.second && the_case.second.length > 0) {
                if (!the_case.second[the_case.second.length - 1].disrupt) {
                    next_token.warn('missing_a_after_b', 'break', 'case');
                }
            } else {
                next_token.warn('empty_case');
            }
            this.second.push(the_case);
        }
        if (this.second.length === 0) {
            next_token.warn('missing_a', 'case');
        }
        if (next_token.id === 'default') {
            spaces();
            the_case = next_token;
            the_case.arity = 'case';
            edge('case');
            advance('default');
            no_space_only();
            advance(':');
            spaces();
            the_case.second = statements();
            if (the_case.second && the_case.second.length > 0) {
                this.disrupt = the_case.second[the_case.second.length - 1].disrupt;
            } else {
                the_case.warn('empty_case');
            }
            this.second.push(the_case);
        }
        if (this.break) {
            this.disrupt = false;
        }
        spaces();
        step_out('}', this);
        in_block = old_in_block;
        return this;
    });

    stmt('debugger', function () {
        if (!option.debug) {
            this.warn('unexpected_a');
        }
        this.arity = 'statement';
        return this;
    });

    labeled_stmt('do', function () {
        funct.loopage += 1;
        one_space();
        this.arity = 'statement';
        this.block = block('do');
        if (this.block.disrupt) {
            prev_token.warn('strange_loop');
        }
        one_space();
        advance('while');
        var paren = next_token;
        one_space();
        advance('(');
        step_in();
        no_space();
        edge();
        this.first = expected_condition(expected_relation(expression(0)), 'unexpected_a');
        no_space();
        step_out(')', paren);
        funct.loopage -= 1;
        return this;
    });

    labeled_stmt('for', function () {

        var blok, filter, master, ok = false, paren = next_token, value;
        this.arity = 'statement';
        funct.loopage += 1;
        advance('(');
        if (next_token.id === ';') {
            no_space();
            advance(';');
            no_space();
            advance(';');
            no_space();
            advance(')');
            blok = block('for');
        } else {
            step_in('control');
            spaces(this, paren);
            no_space();
            if (next_token.id === 'var') {
                next_token.stop('move_var');
            }
            edge();
            if (peek(0).id === 'in') {
                this.forin = true;
                value = expression(1000);
                master = value.master;
                if (!master) {
                    value.stop('bad_in_a');
                }
                if (master.kind !== 'var' || master.function !== funct ||
                        !master.writeable || master.dead) {
                    value.warn('bad_in_a');
                }
                master.init = true;
                master.used -= 1;
                this.first = value;
                advance('in');
                this.second = expression(20);
                step_out(')', paren);
                blok = block('for');
                if (!option.forin) {
                    if (blok.length === 1 && typeof blok[0] === 'object') {
                        if (blok[0].id === 'if' && !blok[0].else) {
                            filter = blok[0].first;
                            while (filter.id === '&&') {
                                filter = filter.first;
                            }
                            switch (filter.id) {
                            case '===':
                            case '!==':
                                ok = filter.first.id === '['
                                    ? are_similar(filter.first.first, this.second) &&
                                        are_similar(filter.first.second, this.first)
                                    : filter.first.id === 'typeof' &&
                                        filter.first.first.id === '[' &&
                                        are_similar(filter.first.first.first, this.second) &&
                                        are_similar(filter.first.first.second, this.first);
                                break;
                            case '(':
                                ok = filter.first.id === '.' && ((
                                    are_similar(filter.first.first, this.second) &&
                                    filter.first.second.string === 'hasOwnProperty' &&
                                    are_similar(filter.second[0], this.first)
                                ) || (
                                    filter.first.first.id === '.' &&
                                    filter.first.first.first.first &&
                                    filter.first.first.first.first.string === 'Object' &&
                                    filter.first.first.first.id === '.' &&
                                    filter.first.first.first.second.string === 'prototype' &&
                                    filter.first.first.second.string === 'hasOwnProperty' &&
                                    filter.first.second.string === 'call' &&
                                    are_similar(filter.second[0], this.second) &&
                                    are_similar(filter.second[1], this.first)
                                ));
                                break;
                            }
                        } else if (blok[0].id === 'switch') {
                            ok = blok[0].id === 'switch' &&
                                blok[0].first.id === 'typeof' &&
                                blok[0].first.first.id === '[' &&
                                are_similar(blok[0].first.first.first, this.second) &&
                                are_similar(blok[0].first.first.second, this.first);
                        }
                    }
                    if (!ok) {
                        this.warn('for_if');
                    }
                }
            } else {
                edge();
                this.first = [];
                for (;;) {
                    this.first.push(expression(0, 'for'));
                    if (next_token.id !== ',') {
                        break;
                    }
                    comma();
                }
                semicolon();
                edge();
                this.second = expected_relation(expression(0));
                if (this.second.id !== 'true') {
                    expected_condition(this.second, 'unexpected_a');
                }
                semicolon(token);
                if (next_token.id === ';') {
                    next_token.stop('expected_a_b', ')', ';');
                }
                this.third = [];
                edge();
                for (;;) {
                    this.third.push(expression(0, 'for'));
                    if (next_token.id !== ',') {
                        break;
                    }
                    comma();
                }
                no_space();
                step_out(')', paren);
                one_space();
                blok = block('for');
            }
        }
        if (blok.disrupt) {
            prev_token.warn('strange_loop');
        }
        this.block = blok;
        funct.loopage -= 1;
        return this;
    });

    function optional_label(that) {
        var label = next_token.string,
            master;
        that.arity = 'statement';
        if (!funct.breakage || (!option.continue && that.id === 'continue')) {
            that.warn('unexpected_a');
        } else if (next_token.identifier && token.line === next_token.line) {
            one_space_only();
            master = scope[label];
            if (!master || master.kind !== 'label') {
                next_token.warn('not_a_label');
            } else if (master.dead || master.function !== funct) {
                next_token.warn('not_a_scope');
            } else {
                master.used += 1;
                if (that.id === 'break') {
                    master.statement.break = true;
                }
                if (funct.breakage[funct.breakage.length - 1] === master.statement) {
                    next_token.warn('unexpected_a');
                }
            }
            that.first = next_token;
            advance();
        } else {
            if (that.id === 'break') {
                funct.breakage[funct.breakage.length - 1].break = true;
            }
        }
        return that;

    }

    disrupt_stmt('break', function () {
        return optional_label(this);
    });

    disrupt_stmt('continue', function () {
        return optional_label(this);
    });

    disrupt_stmt('return', function () {
        if (funct === global_funct) {
            this.warn('unexpected_a');
        }
        this.arity = 'statement';
        if (next_token.id !== ';' && next_token.line === token.line) {
            if (option.closure) {
                spaces();
            } else {
                one_space_only();
            }
            if (next_token.id === '/' || next_token.id === '(regexp)') {
                next_token.warn('wrap_regexp');
            }
            this.first = expression(0);
            if (this.first.assign) {
                this.first.warn('unexpected_a');
            }
        }
        return this;
    });

    disrupt_stmt('throw', function () {
        this.arity = 'statement';
        one_space_only();
        this.first = expression(20);
        return this;
    });


//  Superfluous reserved words

    reserve('class');
    reserve('const');
    reserve('enum');
    reserve('export');
    reserve('extends');
    reserve('import');
    reserve('super');

// Harmony reserved words

    reserve('implements');
    reserve('interface');
    reserve('let');
    reserve('package');
    reserve('private');
    reserve('protected');
    reserve('public');
    reserve('static');
    reserve('yield');


// Parse JSON

    function json_value() {

        function json_object() {
            var brace = next_token, object = Object.create(null);
            advance('{');
            if (next_token.id !== '}') {
                while (next_token.id !== '(end)') {
                    while (next_token.id === ',') {
                        next_token.warn('unexpected_a');
                        advance(',');
                    }
                    if (next_token.id !== '(string)') {
                        next_token.warn('expected_string_a');
                    }
                    if (object[next_token.string] === true) {
                        next_token.warn('duplicate_a');
                    } else if (next_token.string === '__proto__') {
                        next_token.warn('dangling_a');
                    } else {
                        object[next_token.string] = true;
                    }
                    advance();
                    advance(':');
                    json_value();
                    if (next_token.id !== ',') {
                        break;
                    }
                    advance(',');
                    if (next_token.id === '}') {
                        token.warn('unexpected_a');
                        break;
                    }
                }
            }
            advance('}', brace);
        }

        function json_array() {
            var bracket = next_token;
            advance('[');
            if (next_token.id !== ']') {
                while (next_token.id !== '(end)') {
                    while (next_token.id === ',') {
                        next_token.warn('unexpected_a');
                        advance(',');
                    }
                    json_value();
                    if (next_token.id !== ',') {
                        break;
                    }
                    advance(',');
                    if (next_token.id === ']') {
                        token.warn('unexpected_a');
                        break;
                    }
                }
            }
            advance(']', bracket);
        }

        switch (next_token.id) {
        case '{':
            json_object();
            break;
        case '[':
            json_array();
            break;
        case 'true':
        case 'false':
        case 'null':
        case '(number)':
        case '(string)':
            advance();
            break;
        case '-':
            advance('-');
            no_space_only();
            advance('(number)');
            break;
        default:
            next_token.stop('unexpected_a');
        }
    }


// The actual JSLINT function itself.

    itself = function JSLint(the_source, the_option) {

        var i, predef, tree;
        itself.errors = [];
        itself.tree = '';
        itself.properties = '';
        begin = prev_token = token = next_token =
            Object.create(syntax['(begin)']);
        tokens = [];
        predefined = Object.create(null);
        add_to_predefined(standard);
        property = Object.create(null);
        if (the_option) {
            option = Object.create(the_option);
            predef = option.predef;
            if (predef) {
                if (Array.isArray(predef)) {
                    for (i = 0; i < predef.length; i += 1) {
                        predefined[predef[i]] = true;
                    }
                } else if (typeof predef === 'object') {
                    add_to_predefined(predef);
                }
            }
        } else {
            option = Object.create(null);
        }
        option.indent = +option.indent || 4;
        option.maxerr = +option.maxerr || 50;
        global_scope = scope = Object.create(null);
        global_funct = funct = {
            scope: scope,
            loopage: 0,
            level: 0
        };
        functions = [funct];
        block_var = [];

        comments = [];
        comments_off = false;
        in_block = false;
        indent = null;
        json_mode = false;
        lookahead = [];
        node_js = false;
        prereg = true;
        strict_mode = false;
        var_mode = null;
        warnings = 0;
        lex.init(the_source);

        assume();

        try {
            advance();
            if (next_token.id === '(number)') {
                next_token.stop('unexpected_a');
            } else {
                switch (next_token.id) {
                case '{':
                case '[':
                    comments_off = true;
                    json_mode = true;
                    json_value();
                    break;
                default:

// If the first token is a semicolon, ignore it. This is sometimes used when
// files are intended to be appended to files that may be sloppy. A sloppy
// file may be depending on semicolon insertion on its last line.

                    step_in(1);
                    if (next_token.id === ';' && !node_js) {
                        next_token.edge = true;
                        advance(';');
                    }
                    tree = statements();
                    begin.first = tree;
                    itself.tree = begin;
                    if (tree.disrupt) {
                        prev_token.warn('weird_program');
                    }
                }
            }
            indent = null;
            advance('(end)');
            itself.property = property;
        } catch (e) {
            if (e) {        // ~~
                itself.errors.push({
                    reason    : e.message,
                    line      : e.line || next_token.line,
                    character : e.character || next_token.from
                }, null);
            }
        }
        return itself.errors.length === 0;
    };

    function unique(array) {
        array = array.sort();
        var i, length = 0, previous, value;
        for (i = 0; i < array.length; i += 1) {
            value = array[i];
            if (value !== previous) {
                array[length] = value;
                previous = value;
                length += 1;
            }
        }
        array.length = length;
        return array;
    }

// Data summary.

    itself.data = function () {
        var data = {functions: []},
            function_data,
            i,
            the_function,
            the_scope;
        data.errors = itself.errors;
        data.json = json_mode;
        data.global = unique(Object.keys(global_scope));

        function selects(name) {
            var kind = the_scope[name].kind;
            switch (kind) {
            case 'var':
            case 'exception':
            case 'label':
                function_data[kind].push(name);
                break;
            }
        }

        for (i = 1; i < functions.length; i += 1) {
            the_function = functions[i];
            function_data = {
                name: the_function.name,
                line: the_function.line,
                level: the_function.level,
                parameter: the_function.parameter,
                var: [],
                exception: [],
                closure: unique(the_function.closure),
                outer: unique(the_function.outer),
                global: unique(the_function.global),
                label: []
            };
            the_scope = the_function.scope;
            Object.keys(the_scope).forEach(selects);
            function_data.var.sort();
            function_data.exception.sort();
            function_data.label.sort();
            data.functions.push(function_data);
        }
        data.tokens = tokens;
        return data;
    };

    itself.error_report = function (data) {
        var evidence, i, output = [], warning;
        if (data.errors.length) {
            if (data.json) {
                output.push('<cite>JSON: bad.</cite><br>');
            }
            for (i = 0; i < data.errors.length; i += 1) {
                warning = data.errors[i];
                if (warning) {
                    evidence = warning.evidence || '';
                    output.push('<cite>');
                    if (isFinite(warning.line)) {
                        output.push('<address>line ' +
                            String(warning.line) +
                            ' character ' + String(warning.character) +
                            '</address>');
                    }
                    output.push(warning.reason.entityify() + '</cite>');
                    if (evidence) {
                        output.push('<pre>' + evidence.entityify() + '</pre>');
                    }
                }
            }
        }
        return output.join('');
    };


    itself.report = function (data) {
        var dl, i, j, names, output = [], the_function;

        function detail(h, array) {
            var comma_needed = false;
            if (array.length) {
                output.push("<dt>" + h + "</dt><dd>");
                array.forEach(function (item) {
                    output.push((comma_needed ? ', ' : '') + item);
                    comma_needed = true;
                });
                output.push("</dd>");
            }
        }

        output.push('<dl class=level0>');
        if (data.global.length) {
            detail('global', data.global);
            dl = true;
        } else if (data.json) {
            if (!data.errors.length) {
                output.push("<dt>JSON: good.</dt>");
            }
        } else {
            output.push("<dt><i>No new global variables introduced.</i></dt>");
        }
        if (dl) {
            output.push("</dl>");
        } else {
            output[0] = '';
        }

        if (data.functions) {
            for (i = 0; i < data.functions.length; i += 1) {
                the_function = data.functions[i];
                names = [];
                if (the_function.params) {
                    for (j = 0; j < the_function.params.length; j += 1) {
                        names[j] = the_function.params[j].string;
                    }
                }
                output.push('<dl class=level' + the_function.level +
                    '><address>line ' + String(the_function.line) +
                    '</address>' + the_function.name.entityify());
                detail('parameter', the_function.parameter);
                detail('variable', the_function.var);
                detail('exception', the_function.exception);
                detail('closure', the_function.closure);
                detail('outer', the_function.outer);
                detail('global', the_function.global);
                detail('label', the_function.label);
                output.push('</dl>');
            }
        }
        return output.join('');
    };

    itself.properties_report = function (property) {
        if (!property) {
            return '';
        }
        var i,
            key,
            keys = Object.keys(property).sort(),
            mem = '   ',
            name,
            not_first = false,
            output = ['/*properties'];
        for (i = 0; i < keys.length; i += 1) {
            key = keys[i];
            if (property[key] > 0) {
                if (not_first) {
                    mem += ',';
                }
                name = ix.test(key)
                    ? key
                    : '\'' + key.replace(nx, sanitize) + '\'';
                if (mem.length + name.length >= 80) {
                    output.push(mem);
                    mem = '    ';
                } else {
                    mem += ' ';
                }
                mem += name;
                not_first = true;
            }
        }
        output.push(mem, '*/\n');
        return output.join('\n');
    };

    itself.color = function (data) {
        var from,
            i = 1,
            level,
            line,
            result = [],
            thru,
            data_token = data.tokens[0];
        while (data_token && data_token.id !== '(end)') {
            from = data_token.from;
            line = data_token.line;
            thru = data_token.thru;
            level = data_token.function.level;
            do {
                thru = data_token.thru;
                data_token = data.tokens[i];
                i += 1;
            } while (data_token && data_token.line === line &&
                    data_token.from - thru < 5 &&
                    level === data_token.function.level);
            result.push({
                line: line,
                level: level,
                from: from,
                thru: thru
            });
        }
        return result;
    };

    itself.jslint = itself;

    itself.edition = '2014-07-08';

    return itself;
}());



// init lib jslintEs6
/* istanbul ignore next */
// 2016-10-24T18:30:02Z
// https://github.com/douglascrockford/JSLint/blob/4075c9955e6eefdfafc1a6d9c1183e6147cd73f1/jslint.js
// utility2-uglifyjs https://raw.githubusercontent.com/douglascrockford/JSLint/4075c9955e6eefdfafc1a6d9c1183e6147cd73f1/jslint.js
var jslint=function(){"use strict";function t(){return Object.create(null)}function n
(e,t,n){t.forEach(function(t){e[t]=n})}function D(e){return e>="a"&&e<="z\uffff"||
e>="A"&&e<="Z\uffff"}function P(e,t){return e.replace(l,function(e,n){var r=t[n]
;return r!==undefined?r:e})}function lt(e){return e===undefined&&(e=G),e.id==="(string)"||
e.id==="(number)"?String(e.value):e.id}function ct(e){return e===undefined&&(e=G
),e.line+W}function ht(e){return e===undefined&&(e=G),e.from+W}function pt(e,t,n
,r,i,s,o){var u={name:"JSLintError",column:n,line:t,code:e};return r!==undefined&&
(u.a=r),i!==undefined&&(u.b=i),s!==undefined&&(u.c=s),o!==undefined&&(u.d=o),u.message=
P(f[e]||e,u),ft.push(u),typeof Y.maxerr=="number"&&ft.length===Y.maxerr?dt("too_many"
,t,n):u}function dt(e,t,n,r,i,s,o){throw pt(e,t,n,r,i,s,o)}function vt(e,t,n,r,i
,s){t===undefined&&(t=G);if(t.warning===undefined)return t.warning=pt(e,t.line,t
.from,n||lt(t),r,i,s),t.warning}function mt(e,t,n,r,i,s){throw t===undefined&&(t=
G),delete t.warning,vt(e,t,n,r,i,s)}function gt(e){function M(){var e;return s=0
,a+=1,O=K[a],O!==undefined&&(e=O.search(w),e>=0&&(Y.white||pt("use_spaces",a,e+1
),O=O.replace(w," ")),e=O.search(h),e>=0&&pt("unsafe",a,s+e,"U+"+O.charCodeAt(e)
.toString(16)),Y.maxlen&&Y.maxlen<O.length?pt("too_long",a,O.length):!Y.white&&O
.slice(-1)===" "&&pt("unexpected_trailing_space",a,O.length-1)),O}function _(){A=
A.slice(0,-1)}function P(e){return e!==undefined&&i!==e?dt(i===""?"expected_a":"expected_a_b"
,a,s-1,e,i):(O?(i=O.charAt(0),O=O.slice(1),A+=i):(i="",A+=" "),s+=1,i)}function H
(){return A?(i=A.slice(-1),O=i+O,s-=1,_()):i="",i}function B(e,t){var n=O.match(
e);return n?(i=n[1],s+=i.length,O=n[2],A+=i):(i="",t||pt("expected_digits_after_a"
,a,s,A)),i.length}function j(e){switch(P("\\")){case"\\":case"/":case"b":case"f"
:case"n":case"r":case"t":break;case"u":if(P("u")==="{"){J&&pt("unexpected_a",a,s-1
,i),B(N)>5&&pt("too_many_digits",a,s-1),Y.es6||pt("es6",a,s,"u{"),P()!=="}"&&dt("expected_a_before_b"
,a,s,"}",i),P();return}H(),B(N,!0)<4&&pt("expected_four_digits",a,s-1);break;case""
:return dt("unclosed_string",a,s);default:(!e||e.indexOf(i)<0)&&pt("unexpected_a_before_b"
,a,s-2,"\\",i)}P()}function R(e,t,n){var r={from:u,id:e,identifier:!!n,line:a,nr
:f,thru:s};return st[f]=r,f+=1,e!=="(comment)"&&e!==";"&&(q=!1),t!==undefined&&(
r.value=t),l.line===a&&l.thru===u&&(e==="(comment)"||e==="(regexp)"||e==="/")&&(
l.id==="(comment)"||l.id==="(regexp)")&&vt("expected_space_a_b",r,lt(l),lt(r)),l
.id==="."&&e==="(number)"&&vt("expected_a_before_b",l,"0","."),p.id==="."&&r.identifier&&
(r.dot=!0),l=r,l.id!=="(comment)"&&(p=l),r}function U(e,i){var s=i.match(S);if(s
){var o,u=s[1],a=s[2];switch(e.directive){case"jslint":o=r[u];switch(typeof o){case"boolean"
:case"object":switch(a){case"true":case"":case undefined:Y[u]=!0,Array.isArray(o
)&&n(F,o,!1);break;case"false":Y[u]=!1;break;default:vt("bad_option_a",e,u+":"+a
)}break;case"number":isFinite(+a)?Y[u]=+a:vt("bad_option_a",e,u+":"+a);break;default:
vt("bad_option_a",e,u)}break;case"property":ot===undefined&&(ot=t()),ot[u]=!0;break;
case"global":a&&vt("bad_option_a",e,u+":"+a),F[u]=!1,Q=e}return U(e,s[3])}if(i)return mt
("bad_directive_a",e,i)}function z(e){var t=R("(comment)",e);Array.isArray(e)&&(
e=e.join(" ")),!Y.devel&&b.test(e)&&vt("todo_comment",t);var n=e.match(E);return n&&
(q?(t.directive=n[1],U(t,n[2])):pt("misplaced_directive_a",a,u,n[1]),I.push(t)),
t}function W(){function o(){switch(i){case"?":case"*":case"+":P();break;case"{":
B(T,!0)===0&&pt("expected_a",a,s,"0"),P()===","&&(B(T,!0),P()),P("}");break;default:
return}i==="?"&&P("?")}function f(){switch(i){case"\\":return j("BbDdSsWw-[]^"),!0
;case"[":case"]":case"/":case"^":case"-":case"":return!1;case"`":return et&&pt("unexpected_a"
,a,s,"`"),P(),!0;case" ":return pt("expected_a_before_b",a,s,"\\"," "),P(),!0;default:
return P(),!0}}function l(){if(f()){if(i==="-"){P("-");if(!f())return dt("unexpected_a"
,a,s-1,"-")}return l()}}function c(){P("["),i==="^"&&P("^"),function e(){l();if(
i!=="]"&&i!=="")return pt("expected_a_before_b",a,s,"\\",i),P(),e()}(),P("]")}function h
(){function t(){P("(");if(i==="?"){P("?");switch(i){case":":case"=":case"!":P();
break;default:P(":")}}else i===":"&&pt("expected_a_before_b",a,s,"?",":");h(),P(")"
)}function n(){switch(i){case"[":return c(),!0;case"\\":return j("BbDdSsWw^${}[]():=!.-|*+?"
),!0;case"(":return t(),!0;case"/":case"|":case"]":case")":case"}":case"{":case"?"
:case"+":case"*":case"":return!1;case"`":et&&pt("unexpected_a",a,s-1,"`");break;
case" ":pt("expected_a_b",a,s-1,"\\s"," ");break;case"$":O.charAt(0)!=="/"&&(e=!0
);break;case"^":A!=="^"&&(e=!0)}return P(),!0}function r(e){if(n())return o(),r(!0
);e||pt("expected_regexp_factor_a",a,s,i)}r();if(i==="|")return P("|"),h()}var e=!1
,n,r;A="",P(),i==="="&&pt("expected_a_before_b",a,s,"\\","="),h(),_(),r=A,P("/")
;var p={g:!0,i:!0,m:!0,u:6,y:6},d=t();return function v(){if(D(i)){switch(p[i]){
case!0:break;case 6:Y.es6||pt("es6",a,s,i);break;default:pt("unexpected_a",a,s,i
)}return p[i]=!1,d[i]=!0,P(),v()}}(),H(),i==="/"||i==="*"?dt("unexpected_a",a,u,
i):(n=R("(regexp)",i),n.flag=d,n.value=r,e&&!d.m&&pt("missing_m",a,s),n)}function X
(e){var t;return A="",P(),function n(){switch(i){case e:return _(),t=R("(string)"
,A),t.quote=e,t;case"\\":j(e);break;case"":return dt("unclosed_string",a,s);case"`"
:et&&pt("unexpected_a",a,s,"`"),P("`");break;default:P()}return n()}()}function V
(){i==="."&&(B(T),P());if(i==="E"||i==="e")P(),i!=="+"&&i!=="-"&&H(),B(T),P()}function G
(){if(A==="0")switch(P()){case".":V();break;case"b":B(k),P();break;case"o":B(C),
P();break;case"x":B(N),P()}else P(),V();return i>="0"&&i<="9"||i>="a"&&i<="z"||i>="A"&&
i<="Z"?dt("unexpected_a_after_b",a,s-1,A.slice(-1),A.slice(0,-1)):(H(),R("(number)"
,A))}function Z(){var e,t=0,n=0,r,i,o;if(!O)return O=M(),u=0,O===undefined?et?dt
("unclosed_mega",v,d):R("(end)"):Z();u=s,i=O.match(x);if(!i)return dt("unexpected_char_a"
,a,s,O.charAt(0));A=i[1],s+=A.length,O=i[5];if(i[2])return Z();if(i[3])return R(
A,undefined,!0);if(i[4])return G(A);switch(A){case'"':return X(A);case"'":return Y
.single||pt("use_double",a,s),X(A);case"`":if(et)return dt("expected_a_b",a,s,"}"
,"`");return A="",d=u,v=a,et=!0,R("`"),u+=1,function f(){var e=O.search(L);if(e<0
)return A+=O+"\n",M()===undefined?dt("unclosed_mega",v,d):f();A+=O.slice(0,e),s+=
e,O=O.slice(e),O.charAt(0)==="\\"&&dt("escape_mega",a,e),R("(string)",A).quote="`"
,A="";if(O.charAt(0)==="$")return s+=2,R("${"),O=O.slice(2),function t(){var e=Z
().id;if(e==="{")return dt("expected_a_b",a,s,"}","{");if(e!=="}")return t()}(),
f()}(),O=O.slice(1),s+=1,et=!1,R("`");case"//":return A=O,O="",o=z(A),et&&vt("unexpected_comment"
,o,"`"),o;case"/*":return e=[],O.charAt(0)==="/"&&pt("unexpected_a",a,s+t,"/"),function l
(){if(O>""){t=O.search(m);if(t>=0)return;n=O.search(g),n>=0&&pt("nested_comment"
,a,s+n)}return e.push(O),O=M(),O===undefined?dt("unclosed_comment",a,s):l()}(),A=
O.slice(0,t),n=A.search(y),n>=0&&pt("nested_comment",a,s+n),e.push(A),s+=t+2,O=O
.slice(t+2),z(e);case"/":if(p.identifier){if(!p.dot)switch(p.id){case"return":return W
();case"(begin)":case"case":case"delete":case"in":case"instanceof":case"new":case"typeof"
:case"void":case"yield":return o=W(),mt("unexpected_a",o)}}else{r=p.id.charAt(p.
id.length-1);if("(,=:?[".indexOf(r)>=0)return W();if("!&|{};~+-*%/^<>".indexOf(r
)>=0)return o=W(),vt("wrap_regexp",o),o}O.charAt(0)==="/"&&(s+=1,O=O.slice(1),A="/="
,pt("unexpected_a",a,s,"/="))}return R(A)}K=Array.isArray(e)?e:e.split(c),st=[];
var i,s=0,o,u,a=-1,f=0,l=$,p=$,d,v,A,O;o=Z(),J=o.id==="{"||o.id==="[";for(;;)if(
Z().id==="(end)")break}function yt(e){var t=e.id;if(t==="(string)"){t=e.value;if(!
p.test(t))return t}else if(t==="`"){if(e.value.length===1){t=e.value[0].value;if(!
p.test(t))return t}}else if(!e.identifier)return mt("expected_identifier_a",e);return typeof
Z[t]=="number"?Z[t]+=1:(ot!==undefined?ot[t]!==!0&&vt("unregistered_property_a",
e):e.identifier&&v.test(t)&&vt("bad_property_a",e),Z[t]=1),t}function bt(){var e=
st[it];return it+=1,e.id==="(comment)"?(J&&vt("unexpected_a",e),bt()):e}function wt
(){var e=it,t=bt(!0);return it=e,t}function Et(e,t){rt.identifier&&rt.id!=="function"?
H=rt.id:rt.id==="(string)"&&p.test(rt.value)&&(H=rt.value);if(e!==undefined&&G.id!==
e)return t===undefined?mt("expected_a_b",G,e,lt()):mt("expected_a_b_from_c_d",G,
e,lt(t),ct(t),lt(G));rt=G,G=bt(),G.id==="(end)"&&(it-=1)}function St(){function n
(){var e=G,n=t(),r=[];return e.expression=r,Et("{"),G.id!=="}"&&function i(){var e
,t;G.quote!=='"'&&vt("unexpected_a",G,G.quote),e=G,Et("(string)"),n[rt.value]!==
undefined?vt("duplicate_a",rt):rt.value==="__proto__"?vt("bad_property_a",rt):n[
rt.value]=rt,Et(":"),t=St(),t.label=e,r.push(t);if(G.id===",")return Et(","),i()
}(),Et("}",e),e}function r(){var e=G,t=[];return e.expression=t,Et("["),G.id!=="]"&&
function n(){t.push(St());if(G.id===",")return Et(","),n()}(),Et("]",e),e}var e;
switch(G.id){case"{":return n();case"[":return r();case"true":case"false":case"null"
:return Et(),rt;case"(number)":return M.test(G.value)||vt("unexpected_a"),Et(),rt
;case"(string)":return G.quote!=='"'&&vt("unexpected_a",G,G.quote),Et(),rt;case"-"
:return e=G,e.arity="unary",Et("-"),Et("(number)"),e.expression=rt,e;default:mt("unexpected_a"
)}}function xt(e,t,n){var r=e.id;if(nt[r]!==undefined&&r!=="ignore")vt("reserved_a"
,e);else{var i=X.context[r];i?vt("redefinition_a_b",e,e.id,i.line+W):(tt.forEach
(function(e){var t=e.context[r];t!==undefined&&(i=t)}),i&&(r==="ignore"?i.role==="variable"&&
vt("unexpected_a",e):(t!=="exception"||i.role!=="exception")&&t!=="parameter"&&vt
("redefinition_a_b",e,e.id,i.line+W)),X.context[r]=e,e.dead=!0,e.function=X,e.init=!1
,e.role=t,e.used=0,e.writable=!n)}}function Tt(e,t){var n,r;t||Et(),r=nt[rt.id];
if(r!==undefined&&r.nud!==undefined)n=r.nud();else{if(!rt.identifier)return mt("unexpected_a"
,rt);n=rt,n.arity="variable"}return function i(){r=nt[G.id];if(r!==undefined&&r.
led!==undefined&&e<r.lbp)return Et(),n=r.led(n),i()}(),n}function Nt(){var e=G,t
;e.free=!0,Et("("),t=Tt(0),Et(")"),t.wrapped===!0&&vt("unexpected_a",e);switch(t
.id){case"?":case"~":case"&":case"|":case"^":case"<<":case">>":case">>>":case"+"
:case"-":case"*":case"/":case"%":case"typeof":case"(number)":case"(string)":vt("unexpected_a"
,t)}return t}function Ct(e){return e.id==="(regexp)"||e.id==="{"||e.id==="=>"||e
.id==="function"||e.id==="["&&e.arity==="unary"}function kt(e,t){if(e===t)return!0
;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(
e,n){return kt(e,t[n])});if(Array.isArray(t))return!1;if(e.id==="(number)"&&t.id==="(number)"
)return e.value===t.value;var n,r;e.id==="(string)"?n=e.value:e.id==="`"&&e.constant&&
(n=e.value[0]),t.id==="(string)"?r=t.value:t.id==="`"&&t.constant&&(r=t.value[0]
);if(typeof n=="string")return n===r;if(Ct(e)||Ct(t))return!1;if(e.arity===t.arity&&
e.id===t.id){if(e.id===".")return kt(e.expression,t.expression)&&kt(e.name,t.name
);switch(e.arity){case"unary":return kt(e.expression,t.expression);case"binary":
return e.id!=="("&&kt(e.expression[0],t.expression[0])&&kt(e.expression[1],t.expression
[1]);case"ternary":return kt(e.expression[0],t.expression[0])&&kt(e.expression[1
],t.expression[1])&&kt(e.expression[2],t.expression[2]);case"function":case"regexp"
:return!1;default:return!0}}return!1}function Lt(){G.id===";"?Et(";"):pt("expected_a_b"
,rt.line,rt.thru,";",lt(G)),H="anonymous"}function At(){var e,t,n,r;Et();if(rt.identifier&&
G.id===":"){t=rt,t.id==="ignore"&&vt("unexpected_a",t),Et(":");switch(G.id){case"do"
:case"for":case"switch":case"while":return xt(t,"label",!0),t.init=!0,t.dead=!1,
n=At(),n.label=t,n.statement=!0,n;default:Et(),vt("unexpected_label_a",t)}}return e=
rt,e.statement=!0,r=nt[e.id],r!==undefined&&r.fud!==undefined?(r.disrupt=!1,r.statement=!0
,n=r.fud()):(n=Tt(0,!0),n.wrapped&&n.id!=="("&&vt("unexpected_a",e),Lt()),t!==undefined&&
(t.dead=!0),n}function Ot(){var e=[];return function t(n){var r;switch(G.id){case"}"
:case"case":case"default":case"else":case"(end)":break;default:return r=At(),e.push
(r),n&&vt("unreachable_a",r),t(r.disrupt)}}(!1),e}function Mt(e){X===$&&vt("unexpected_at_top_level_a"
,e)}function _t(e){B!==$&&vt("misplaced_a",e)}function Dt(e){var t,n;return e!=="naked"&&
Et("{"),n=rt,n.arity="statement",n.body=e==="body",e==="body"&&tt.length===1&&G.
value==="use strict"&&(n.strict=G,G.statement=!0,Et("(string)"),Et(";")),t=Ot(),
n.block=t,t.length===0?(!Y.devel&&e!=="ignore"&&vt("empty_block",n),n.disrupt=!1
):n.disrupt=t[t.length-1].disrupt,Et("}"),n}function Pt(e){return e.id==="."||e.
arity==="variable"||e.id==="["&&e.arity==="binary"?!0:(vt("bad_assignment_a",e),!1
)}function Ht(e,t){var n=e.id;return!e.identifier&&(e.arity!=="binary"||n!=="."&&
n!=="("&&n!=="[")?(vt("unexpected_a",t),!1):!0}function Bt(e,n){var r=nt[e];return r===
undefined&&(r=t(),r.id=e,r.lbp=n||0,nt[e]=r),r}function jt(e){var t=Bt(e,20);return t
.led=function(t){var n=rt,r;n.arity="assignment",r=Tt(19),e==="="&&t.arity==="variable"?
(n.names=t,n.expression=r):n.expression=[t,r];switch(r.arity){case"assignment":case"pre"
:case"post":vt("unexpected_a",r)}return!Y.es6||t.arity!=="unary"||t.id!=="["&&t.
id!=="{"?Pt(t):vt("expected_a_before_b",t,"const",t.id),n},t}function Ft(e,t,n){
var r=Bt(e);return r.constant=!0,r.nud=typeof n=="function"?n:function(){return rt
.constant=!0,n!==undefined&&(rt.value=n),rt},r.type=t,r.value=n,r}function It(e,
t,n){var r=Bt(e,t);return r.led=function(e){var r=rt;return r.arity="binary",n!==
undefined?n(e):(r.expression=[e,Tt(t)],r)},r}function qt(e){var t=Bt(e,150);return t
.led=function(e){return rt.expression=e,rt.arity="post",Pt(rt.expression),rt},t}
function Rt(e){var t=Bt(e);return t.nud=function(){var e=rt;return e.arity="pre"
,e.expression=Tt(150),Pt(e.expression),e},t}function Ut(e,t){var n=Bt(e);return n
.nud=function(){var e=rt;return e.arity="unary",typeof t=="function"?t():(e.expression=
Tt(150),e)},n}function zt(e,t){var n=Bt(e);return n.fud=function(){return rt.arity="statement"
,t()},n}function Wt(e,t){var n=Bt(e,30);return n.led=function(e){var n=rt,r=Tt(20
);return Et(t),rt.arity="ternary",n.arity="ternary",n.expression=[e,r,Tt(10)],n}
,n}function Xt(){var e=rt;return Y.es6||vt("es6",e),e.value=[],e.expression=[],G
.id!=="`"&&function t(){Et("(string)"),e.value.push(rt);if(G.id==="${")return Et
("${"),e.expression.push(Tt(0)),Et("}"),t()}(),Et("`"),e}function Vt(){var e=!1,
t=[],n=["("];return G.id!==")"&&G.id!=="(end)"&&function r(){var i=!1,s;if(G.id==="{"
){e=!0,Y.es6||vt("es6"),s=G,s.names=[],Et("{"),n.push("{"),function o(){var e=G;
if(!e.identifier)return mt("expected_identifier_a");yt(e),Et(),n.push(e.id);if(G
.id===":"){Et(":"),Et(),rt.label=e,e=rt;if(!e.identifier)return mt("expected_identifier_a"
)}s.names.push(e);if(G.id===",")return Et(","),n.push(", "),o()}(),t.push(s),Et("}"
),n.push("}");if(G.id===",")return Et(","),n.push(", "),r()}else if(G.id==="["){
e=!0,Y.es6||vt("es6"),s=G,s.names=[],Et("["),n.push("[]"),function u(){var e=G;if(!
e.identifier)return mt("expected_identifier_a");Et(),s.names.push(e);if(G.id===","
)return Et(","),u()}(),t.push(s),Et("]");if(G.id===",")return Et(","),n.push(", "
),r()}else{G.id==="..."&&(e=!0,Y.es6||vt("es6"),i=!0,n.push("..."),Et("..."));if(!
G.identifier)return mt("expected_identifier_a");s=G,t.push(s),Et(),n.push(s.id);
if(i)s.ellipsis=!0;else{G.id==="="&&(e=!0,Y.es6||mt("unexpected_statement_a"),Et
("="),s.expression=Tt(0));if(G.id===",")return Et(","),n.push(", "),r()}}}(),Et(")"
),n.push(")"),[t,n.join(""),e]}function $t(e){var n;if(e===undefined){e=rt;if(e.
arity==="statement"){if(!G.identifier)return mt("expected_identifier_a",G);n=G,xt
(n,"variable",!0),e.name=n,n.init=!0,n.calls=t(),Et()}else n===undefined&&(G.identifier?
(n=G,e.name=n,Et()):e.name=H)}else n=e.name;e.level=X.level+1,et&&vt("unexpected_a"
,e),X.loop>0&&vt("function_in_loop",e),e.context=t(),e.finally=0,e.loop=0,e.switch=0
,e.try=0,tt.push(X),V.push(e),X=e,e.arity!=="statement"&&typeof n=="object"&&(xt
(n,"function",!0),n.dead=!1,n.init=!0,n.used=1),Et("("),rt.free=!1,rt.arity="function"
;var r=Vt();return X.parameters=r[0],X.signature=r[1],X.complex=r[2],X.parameters
.forEach(function i(e){e.identifier?xt(e,"parameter",!1):e.names.forEach(i)}),e.
block=Dt("body"),e.arity==="statement"&&G.line===rt.line?mt("unexpected_a",G):((
G.id==="."||G.id==="[")&&vt("unexpected_a"),X=tt.pop(),e)}function Jt(e){G.id===";"&&
mt("wrap_assignment",rt),Et("=>");var n=rt;return n.arity="binary",n.name="=>",n
.level=X.level+1,V.push(n),X.loop>0&&vt("function_in_loop",n),n.context=t(),n.finally=0
,n.loop=0,n.switch=0,n.try=0,tt.push(X),X=n,n.parameters=e[0],n.signature=e[1],n
.complex=!0,n.parameters.forEach(function(e){xt(e,"parameter",!0)}),Y.es6||vt("es6"
,n),G.id==="{"?(vt("expected_a_b",n,"function","=>"),n.block=Dt("body")):n.expression=
Tt(0),X=tt.pop(),n}function Kt(){var e=rt,t=e.id==="const";return e.names=[],t?Y
.es6||vt("es6",e):at===undefined?(at=e.id,!Y.es6&&at!=="var"&&vt("es6",e)):e.id!==
at&&vt("expected_a_b",e,at,e.id),X.switch>0&&vt("var_switch",e),X.loop>0&&e.id==="var"&&
vt("var_loop",e),function n(){if(G.id==="{"&&e.id!=="var"){var r=G;r.names=[],Et
("{"),function o(){if(!G.identifier)return mt("expected_identifier_a",G);var e=G
;yt(e),Et();if(G.id===":"){Et(":");if(!G.identifier)return mt("expected_identifier_a"
,G);G.label=e,r.names.push(G),xt(G,"variable",t),Et()}else r.names.push(e),xt(e,"variable"
,t);if(G.id===",")return Et(","),o()}(),Et("}"),Et("="),r.expression=Tt(0),e.names
.push(r)}else if(G.id==="["&&e.id!=="var"){var i=G;i.names=[],Et("["),function u
(){var t;G.id==="..."&&(t=!0,Et("..."));if(!G.identifier)return mt("expected_identifier_a"
,G);var n=G;Et(),i.names.push(n),xt(n,"variable",e.id==="const");if(t)n.ellipsis=!0
;else if(G.id===",")return Et(","),u()}(),Et("]"),Et("="),i.expression=Tt(0),e.names
.push(i)}else{if(!G.identifier)return mt("expected_identifier_a",G);var s=G;Et()
,s.id==="ignore"&&vt("unexpected_a",s),xt(s,"variable",t);if(G.id==="="||t)Et("="
),s.expression=Tt(0),s.init=!0;e.names.push(s)}if(G.id===",")return Y.multivar||
vt("expected_a_b",G,";",","),Et(","),n()}(),e.open=e.names.length>1&&e.line!==e.
names[1].line,Lt(),e}function Qt(e){return function(n,r,i){var s=e[n],o;typeof r!="string"&&
(i=r,r="(all)"),s===undefined&&(s=t(),e[n]=s),o=s[r],o===undefined&&(o=[],s[r]=o
),o.push(i)}}function Gt(e){return function(t){var n=e[t.arity],r;n!==undefined&&
(r=n[t.id],r!==undefined&&r.forEach(function(e){return e(t)}),r=n["(all)"],r!==undefined&&
r.forEach(function(e){return e(t)}))}}function sn(e){if(e)if(Array.isArray(e))e.
forEach(sn);else{nn(e),sn(e.expression),e.id==="function"&&on(e.block);switch(e.
arity){case"post":case"pre":vt("unexpected_a",e);break;case"statement":case"assignment"
:vt("unexpected_statement_a",e)}rn(e)}}function on(e){if(e)if(Array.isArray(e))e
.forEach(on);else{nn(e),sn(e.expression);switch(e.arity){case"statement":case"assignment"
:break;case"binary":e.id!=="("&&vt("unexpected_expression_a",e);break;default:vt
(e.id==="(string)"&&e.value==="use strict"?"unexpected_a":"unexpected_expression_a"
,e)}on(e.block),on(e.else),rn(e)}}function un(e){if(e.arity==="variable"){var t=
X.context[e.id];if(t===undefined){tt.forEach(function(n){var r=n.context[e.id];r!==
undefined&&r.role!=="label"&&(t=r)});if(t===undefined){if(F[e.id]===undefined){vt
("undeclared_a",e);return}t={dead:!1,"function":$,id:e.id,init:!0,role:"variable"
,used:0,writable:!1},$.context[e.id]=t}t.closure=!0,X.context[e.id]=t}else t.role==="label"&&
vt("label_a",e);return t.dead&&vt("out_of_scope_a",e),t}}function an(e){e.init=!0
,e.dead=!1,B.live.push(e)}function fn(e){e.arity==="statement"&&B.body!==!0&&vt("unexpected_a"
,e),e.level===1&&(Q===!0||$.strict!==undefined||e.complex?e.id!=="=>"&&e.block.strict!==
undefined&&vt("unexpected_a",e.block.strict):e.block.strict===undefined&&vt("use_strict"
,e)),tt.push(X),j.push(B),X=e,B=e,e.live=[],typeof e.name=="object"&&(e.name.dead=!1
,e.name.init=!0);switch(e.extra){case"get":e.parameters.length!==0&&vt("bad_get"
,e);break;case"set":e.parameters.length!==1&&vt("bad_set",e)}e.parameters.forEach
(function(e){sn(e.expression),e.id==="{"||e.id==="["?e.names.forEach(an):(e.dead=!1
,e.init=!0)})}function ln(e){!Y.bitwise&&s[e.id]===!0&&vt("unexpected_a",e),e.id!=="("&&
e.id!=="&&"&&e.id!=="||"&&e.id!=="="&&Array.isArray(e.expression)&&e.expression.
length===2&&(u[e.expression[0].id]===!0||u[e.expression[1].id]===!0)&&vt("unexpected_a"
,e)}function cn(){B.live.forEach(function(e){e.dead=!0}),delete B.live,B=j.pop()
}function hn(e){e.expression!==undefined&&(sn(e.expression),e.id==="{"||e.id==="["?
e.names.forEach(an):e.init=!0),e.dead=!1,B.live.push(e)}function pn(e){e.names.forEach
(hn)}function dn(e){var t=un(e);if(t!==undefined&&t.writable){t.init=!0;return}vt
("bad_assignment_a",e)}function vn(e){return delete X.finally,delete X.loop,delete
X.switch,delete X.try,X=tt.pop(),e.wrapped&&vt("unexpected_parens",e),cn()}function mn
(e){Object.keys(e.context).forEach(function(t){if(t!=="ignore"){var n=e.context[
t];n.function===e&&(n.used!==0||n.role==="function"&&n.function.arity==="unary"?
n.init||vt("uninitialized_a",n):vt("unused_a",n))}})}function gn(){(Q===!0||Y.node
)&&mn($),V.forEach(mn)}function yn(){function c(e){vt("expected_a_at_b_c",l,lt(l
),W+e,ht(l))}function h(e){var t=r+e;if(l.from!==t)return c(t)}function p(){n.id!=="(global)"&&
n.nr+1===l.nr&&(n.line!==l.line||n.thru!==l.from)&&vt("unexpected_space_a_b",l,lt
(n),lt(l))}function d(){if(n.line===l.line)n.thru!==l.from&&s===0&&vt("unexpected_space_a_b"
,l,lt(n),lt(l));else if(u){var e=t?r:r+8;l.from<e&&c(e)}else l.from!==r+8&&c(r+8
)}function v(){(n.line!==l.line||n.thru+1!==l.from)&&vt("expected_space_a_b",l,lt
(n),lt(l))}function m(){n.line===l.line?n.thru+1!==l.from&&s===0&&vt("expected_space_a_b"
,l,lt(n),lt(l)):t?l.from<r&&c(r):l.from!==r+8&&c(r+8)}function g(){var e=a.length
;e>0&&(r-=e*4),a=""}var e="(end)",t=!1,n=$,r=0,s=0,u=!0,a="",f,l;tt=[],st.forEach
(function(y){l=y;if(l.id==="(comment)"||l.id==="(end)")s+=1;else{var b=o[n.id];if(typeof
b=="string")b!==l.id?(tt.push({closer:e,free:t,margin:r,open:u,qmark:a}),a="",e=
b,n.line!==l.line?(t=e===")"&&n.free,u=!0,r+=4,l.role==="label"?l.from!==0&&c(0)
:l.switch?(g(),h(-4)):h(0)):((l.statement||l.role==="label")&&vt("expected_line_break_a_b"
,l,lt(n),lt(l)),t=!1,u=!1,p())):n.line===l.line?d():h(0);else if(l.id===e){var w=
tt.pop();r=w.margin,u&&l.id!==";"?h(0):p(),e=w.closer,t=w.free,u=w.open,a=w.qmark
}else l.switch?(g(),h(-4)):l.role==="label"?l.from!==0&&c(0):n.id===","?(g(),!u||
(t||e==="]")&&n.line===l.line?m():h(0)):l.arity==="ternary"?(l.id==="?"?(r+=4,a+="?"
):(f=a.match(A),a=f[1]+":",r-=4*f[2].length),h(0)):l.arity==="binary"&&l.id==="("&&
t?d():n.id==="."||n.id==="..."||l.id===","||l.id===";"||l.id===":"||l.arity==="binary"&&
(l.id==="("||l.id==="[")||l.arity==="function"&&n.id!=="function"?p():l.id==="."?
n.line===l.line?d():(O.test(a)||(a+=".",r+=4),h(0)):n.id===";"?(g(),u?h(0):m()):
n.arity==="ternary"||n.id==="case"||n.id==="catch"||n.id==="else"||n.id==="finally"||
n.id==="while"||l.id==="catch"||l.id==="else"||l.id==="finally"||l.id==="while"&&!
l.statement||n.id===")"&&l.id==="{"?v():l.statement===!0?u?h(0):m():n.id==="var"||
n.id==="const"||n.id==="let"?(tt.push({closer:e,free:t,margin:r,open:u,qmark:a})
,e=";",t=!1,u=n.open,a="",u?(r+=4,h(0)):v()):i[n.id]===!0||i[l.id]===!0||n.arity==="binary"&&
(n.id==="+"||n.id==="-")||l.arity==="binary"&&(l.id==="+"||l.id==="-")||n.id==="function"||
n.id===":"||(n.identifier||n.id==="(string)"||n.id==="(number)")&&(l.identifier||
l.id==="(string)"||l.id==="(number)")||n.arity==="statement"&&l.id!==";"?m():n.arity==="unary"&&
n.id!=="`"&&p();s=0,delete n.calls,delete n.dead,delete n.free,delete n.init,delete
n.open,delete n.used,n=l}})}var r={bitwise:!0,browser:["Audio","clearInterval","clearTimeout"
,"document","event","FormData","history","Image","localStorage","location","name"
,"navigator","Option","screen","sessionStorage","setInterval","setTimeout","Storage"
,"XMLHttpRequest"],couch:["emit","getRow","isArray","log","provides","registerType"
,"require","send","start","sum","toJSON"],devel:["alert","confirm","console","prompt"
],es6:["ArrayBuffer","DataView","Float32Array","Float64Array","Generator","GeneratorFunction"
,"Int8Array","Int16Array","Int32Array","Intl","Map","Promise","Proxy","Reflect","Set"
,"Symbol","System","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"
,"WeakSet"],eval:!0,"for":!0,fudge:!0,maxerr:1e4,maxlen:1e4,multivar:!0,node:["Buffer"
,"clearImmediate","clearInterval","clearTimeout","console","exports","global","module"
,"process","querystring","require","setImmediate","setInterval","setTimeout","__dirname"
,"__filename"],single:!0,"this":!0,white:!0},i={"!=":!0,"!==":!0,"%":!0,"%=":!0,"&"
:!0,"&=":!0,"&&":!0,"*":!0,"*=":!0,"+=":!0,"-=":!0,"/":!0,"/=":!0,"<":!0,"<=":!0
,"<<":!0,"<<=":!0,"=":!0,"==":!0,"===":!0,"=>":!0,">":!0,">=":!0,">>":!0,">>=":!0
,">>>":!0,">>>=":!0,"^":!0,"^=":!0,"|":!0,"|=":!0,"||":!0},s={"~":!0,"^":!0,"^="
:!0,"&":!0,"&=":!0,"|":!0,"|=":!0,"<<":!0,"<<=":!0,">>":!0,">>=":!0,">>>":!0,">>>="
:!0},o={"(":")","[":"]","{":"}","${":"}"},u={"!=":!0,"!==":!0,"==":!0,"===":!0,"<"
:!0,"<=":!0,">":!0,">=":!0},a=["Array","Boolean","Date","decodeURI","decodeURIComponent"
,"encodeURI","encodeURIComponent","Error","EvalError","isFinite","JSON","Math","Number"
,"Object","parseInt","parseFloat","RangeError","ReferenceError","RegExp","String"
,"SyntaxError","TypeError","URIError"],f={and:"The '&&' subexpression should be wrapped in parens."
,bad_assignment_a:"Bad assignment to '{a}'.",bad_directive_a:"Bad directive '{a}'."
,bad_get:"A get function takes no parameters.",bad_module_name_a:"Bad module name '{a}'."
,bad_option_a:"Bad option '{a}'.",bad_property_a:"Bad property name '{a}'.",bad_set
:"A set function takes one parameter.",duplicate_a:"Duplicate '{a}'.",empty_block
:"Empty block.",es6:"Unexpected ES6 feature '{a}'.",escape_mega:"Unexpected escapement in mega literal."
,expected_a:"Expected '{a}'.",expected_a_at_b_c:"Expected '{a}' at column {b}, not column {c}."
,expected_a_b:"Expected '{a}' and instead saw '{b}'.",expected_a_b_from_c_d:"Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'."
,expected_a_before_b:"Expected '{a}' before '{b}'.",expected_digits_after_a:"Expected digits after '{a}'."
,expected_four_digits:"Expected four digits after '\\u'.",expected_identifier_a:"Expected an identifier and instead saw '{a}'."
,expected_line_break_a_b:"Expected a line break between '{a}' and '{b}'.",expected_regexp_factor_a
:"Expected a regexp factor and instead saw '{a}'.",expected_space_a_b:"Expected one space between '{a}' and '{b}'."
,expected_statements_a:"Expected statements before '{a}'.",expected_string_a:"Expected a string and instead saw '{a}'."
,expected_type_string_a:"Expected a type string and instead saw '{a}'.",function_in_loop
:"Don't make functions within a loop.",infix_in:"Unexpected 'in'. Compare with undefined, or use the hasOwnProperty method instead."
,isNaN:"Use the isNaN function to compare with NaN.",label_a:"'{a}' is a statement label."
,misplaced_a:"Place '{a}' at the outermost level.",misplaced_directive_a:"Place the '/*{a}*/' directive before the first statement."
,missing_browser:"/*global*/ requires the Assume a browser option.",missing_m:"Expected 'm' flag on a multiline regular expression."
,naked_block:"Naked block.",nested_comment:"Nested comment.",not_label_a:"'{a}' is not a label."
,number_isNaN:"Use Number.isNaN function to compare with NaN.",out_of_scope_a:"'{a}' is out of scope."
,redefinition_a_b:"Redefinition of '{a}' from line {b}.",reserved_a:"Reserved name '{a}'."
,subscript_a:"['{a}'] is better written in dot notation.",todo_comment:"Unexpected TODO comment."
,too_long:"Line too long.",too_many:"Too many warnings.",too_many_digits:"Too many digits."
,unclosed_comment:"Unclosed comment.",unclosed_mega:"Unclosed mega literal.",unclosed_string
:"Unclosed string.",undeclared_a:"Undeclared '{a}'.",unexpected_a:"Unexpected '{a}'."
,unexpected_a_after_b:"Unexpected '{a}' after '{b}'.",unexpected_a_before_b:"Unexpected '{a}' before '{b}'."
,unexpected_at_top_level_a:"Expected '{a}' to be in a function.",unexpected_char_a
:"Unexpected character '{a}'.",unexpected_comment:"Unexpected comment.",unexpected_directive_a
:"When using modules, don't use directive '/*{a}'.",unexpected_expression_a:"Unexpected expression '{a}' in statement position."
,unexpected_label_a:"Unexpected label '{a}'.",unexpected_parens:"Don't wrap function literals in parens."
,unexpected_space_a_b:"Unexpected space between '{a}' and '{b}'.",unexpected_statement_a
:"Unexpected statement '{a}' in expression position.",unexpected_trailing_space:"Unexpected trailing space."
,unexpected_typeof_a:"Unexpected 'typeof'. Use '===' to compare directly with {a}."
,uninitialized_a:"Uninitialized '{a}'.",unreachable_a:"Unreachable '{a}'.",unregistered_property_a
:"Unregistered property name '{a}'.",unsafe:"Unsafe character '{a}'.",unused_a:"Unused '{a}'."
,use_double:"Use double quotes, not single quotes.",use_spaces:"Use spaces, not tabs."
,use_strict:'This function needs a "use strict" pragma.',var_loop:"Don't declare variables in a loop."
,var_switch:"Don't declare variables in a switch.",weird_condition_a:"Weird condition '{a}'."
,weird_expression_a:"Weird expression '{a}'.",weird_loop:"Weird loop.",weird_relation_a
:"Weird relation '{a}'.",wrap_assignment:"Don't wrap assignment statements in parens."
,wrap_condition:"Wrap the condition in parens.",wrap_immediate:"Wrap an immediate function invocation in parentheses to assist the reader in understanding that the expression is the result of a function, and not the function itself."
,wrap_parameter:"Wrap the parameter in parens.",wrap_regexp:"Wrap this regexp in parens to avoid confusion."
,wrap_unary:"Wrap the unary expression in parens."},l=/\{([^{}]*)\}/g,c=/\n|\r\n?/
,h=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/
,p=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,d=/^[a-zA-Z0-9_$:.@\-\/]+$/,v=/Sync\$/
,m=/\*\//,g=/\/\*/,y=/\/\*|\/$/,b=/\b(?:todo|TO\s?DO|HACK)\b/,w=/\t/g,E=/^(jslint|property|global)\s+(.*)$/
,S=/^([a-zA-Z$_][a-zA-Z0-9$_]*)\s*(?::\s*(true|false|[0-9]+)\s*)?(?:,\s*)?(.*)$/
,x=/^((\s+)|([a-zA-Z_$][a-zA-Z0-9_$]*)|[(){}\[\]?,:;'"~`]|=(?:==?|>)?|\.+|\/[=*\/]?|\*[\/=]?|\+(?:=|\++)?|-(?:=|-+)?|[\^%]=?|&[&=]?|\|[|=]?|>{1,3}=?|<<?=?|!={0,2}|(0|[1-9][0-9]*))(.*)$/
,T=/^([0-9]+)(.*)$/,N=/^([0-9a-fA-F]+)(.*)$/,C=/^([0-7]+)(.*)$/,k=/^([01]+)(.*)$/
,L=/[`\\]|\$\{/,A=/^(.*)\?([:.]*)$/,O=/\.$/,M=/^-?\d+(?:\.\d*)?(?:e[\-+]?\d+)?$/i
,_=/^[A-Z]/,H="anonymous",B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,
ot,ut,at,ft;nt=t(),Bt("}"),Bt(")"),Bt("]"),Bt(","),Bt(";"),Bt(":"),Bt("*/"),Bt("await"
),Bt("case"),Bt("catch"),Bt("class"),Bt("default"),Bt("else"),Bt("enum"),Bt("finally"
),Bt("implements"),Bt("interface"),Bt("package"),Bt("private"),Bt("protected"),Bt
("public"),Bt("static"),Bt("super"),Bt("void"),Bt("yield"),Ft("(number)","number"
),Ft("(regexp)","regexp"),Ft("(string)","string"),Ft("arguments","object",function(
){return Y.es6&&vt("unexpected_a",rt),rt}),Ft("eval","function",function(){return Y
.eval?G.id!=="("&&vt("expected_a_before_b",G,"(",lt()):vt("unexpected_a",rt),rt}
),Ft("false","boolean",!1),Ft("Function","function",function(){return Y.eval?G.id!=="("&&
vt("expected_a_before_b",G,"(",lt()):vt("unexpected_a",rt),rt}),Ft("ignore","undefined"
,function(){return vt("unexpected_a",rt),rt}),Ft("Infinity","number",Infinity),Ft
("isNaN","function",function(){return Y.es6&&vt("expected_a_b",rt,"Number.isNaN"
,"isNaN"),rt}),Ft("NaN","number",NaN),Ft("null","null",null),Ft("this","object",
function(){return Y.this||vt("unexpected_a",rt),rt}),Ft("true","boolean",!0),Ft("undefined"
,"undefined"),jt("="),jt("+="),jt("-="),jt("*="),jt("/="),jt("%="),jt("&="),jt("|="
),jt("^="),jt("<<="),jt(">>="),jt(">>>="),It("||",40),It("&&",50),It("|",70),It("^"
,80),It("&",90),It("==",100),It("===",100),It("!=",100),It("!==",100),It("<",110
),It(">",110),It("<=",110),It(">=",110),It("in",110),It("instanceof",110),It("<<"
,120),It(">>",120),It(">>>",120),It("+",130),It("-",130),It("*",140),It("/",140)
,It("%",140),It("(",160,function(e){var t=rt,n;return e.id!=="function"&&Ht(e,t)
,X.arity==="statement"&&e.identifier&&(X.name.calls[e.id]=e),t.expression=[e],G.
id!==")"&&function r(){var e;G.id==="..."&&(Y.es6||vt("es6"),e=!0,Et("...")),n=Tt
(10),e&&(n.ellipsis=!0),t.expression.push(n);if(G.id===",")return Et(","),r()}()
,Et(")",t),t.expression.length===2?(t.free=!0,n.wrapped===!0&&vt("unexpected_a",
t),n.id==="("&&(n.wrapped=!0)):t.free=!1,t}),It(".",170,function(e){var t=rt,n=G
;return(e.id!=="(string)"||n.id!=="indexOf")&&(e.id!=="["||n.id!=="concat"&&n.id!=="forEach"
)&&(e.id!=="+"||n.id!=="slice")&&(e.id!=="(regexp)"||n.id!=="exec"&&n.id!=="test"
)&&Ht(e,t),n.identifier||mt("expected_identifier_a"),Et(),yt(n),t.name=n,t.expression=
e,t}),It("[",170,function(e){var t=rt,n=Tt(0);if(n.id==="(string)"||n.id==="`"){
var r=yt(n);p.test(r)&&vt("subscript_a",n,r)}return Ht(e,t),t.expression=[e,n],Et
("]"),t}),It("=>",170,function(e){return mt("wrap_parameter",e)}),It("`",160,function(
e){var t=Xt();return Ht(e,t),t.expression=[e].concat(t.expression),t}),qt("++"),
qt("--"),Rt("++"),Rt("--"),Ut("+"),Ut("-"),Ut("~"),Ut("!"),Ut("!!"),Ut("[",function(
){var e=rt;return e.expression=[],G.id!=="]"&&function t(){var n,r=!1;G.id==="..."&&
(r=!0,Y.es6||vt("es6"),Et("...")),n=Tt(10),r&&(n.ellipsis=!0),e.expression.push(
n);if(G.id===",")return Et(","),t()}(),Et("]"),e}),Ut("/=",function(){mt("expected_a_b"
,rt,"/\\=","/=")}),Ut("=>",function(){return mt("expected_a_before_b",rt,"()","=>"
)}),Ut("new",function(){var e=rt,t=Tt(160);return G.id!=="("&&vt("expected_a_before_b"
,G,"()",lt(G)),e.expression=t,e}),Ut("typeof"),Ut("void",function(){var e=rt;return vt
("unexpected_a",e),e.expression=Tt(0),e}),Ut("function",$t),Ut("(",function(){var e=
rt,t,n=wt().id;if(G.id===")"||G.id==="..."||G.identifier&&(n===","||n==="="))return e
.free=!1,Jt(Vt());e.free=!0,t=Tt(0),t.wrapped===!0&&vt("unexpected_a",e),t.wrapped=!0
,Et(")",e);if(G.id==="=>")return t.arity!=="variable"?t.id==="{"||t.id==="["?(vt
("expected_a_before_b",e,"function","("),mt("expected_a_b",G,"{","=>")):mt("expected_identifier_a"
,t):(e.expression=[t],Jt([e.expression,"("+t.id+")"]));return t}),Ut("`",Xt),Ut("{"
,function(){var e=rt,n=t();return e.expression=[],G.id!=="}"&&function r(){var t
,i,s=G,o;Et(),s.id!=="get"&&s.id!=="set"||!G.identifier?(i=yt(s),typeof n[i]=="boolean"&&
vt("duplicate_a",s),n[i]=!0):(t=s.id+" "+G.id,s=G,Et(),i=yt(s),(n[t]===!0||n[i]===!0
)&&vt("duplicate_a",s),n[i]=!1,n[t]=!0);if(s.identifier){switch(G.id){case"}":case","
:Y.es6||vt("es6"),typeof t=="string"&&Et("("),o=Tt(Infinity,!0);break;case"(":!Y
.es6&&typeof t!="string"&&vt("es6"),o=$t({arity:"unary",from:s.from,id:"function"
,line:s.line,name:typeof t=="string"?t:i,thru:s.from});break;default:typeof t=="string"&&
Et("("),Et(":"),o=Tt(0)}o.label=s,typeof t=="string"&&(o.extra=t),e.expression.push
(o)}else Et(":"),o=Tt(0),o.label=s,e.expression.push(o);if(G.id===",")return Et(","
),r()}(),Et("}"),e}),zt(";",function(){return vt("unexpected_a",rt),rt}),zt("{",
function(){return vt("naked_block",rt),Dt("naked")}),zt("break",function(){var e=
rt,t;return(X.loop<1&&X.switch<1||X.finally>0)&&vt("unexpected_a",e),e.disrupt=!0
,G.identifier&&rt.line===G.line&&(t=X.context[G.id],t===undefined||t.role!=="label"||
t.dead?vt(t!==undefined&&t.dead?"out_of_scope_a":"not_label_a"):t.used+=1,e.label=
G,Et()),Et(";"),e}),zt("const",Kt),zt("continue",function(){var e=rt;return(X.loop<1||
X.finally>0)&&vt("unexpected_a",e),Mt(e),e.disrupt=!0,vt("unexpected_a",e),Et(";"
),e}),zt("debugger",function(){var e=rt;return Y.devel||vt("unexpected_a",e),Lt(
),e}),zt("delete",function(){var e=rt,t=Tt(0);return(t.id!=="."&&t.id!=="["||t.arity!=="binary"
)&&mt("expected_a_b",t,".",lt(t)),e.expression=t,Lt(),e}),zt("do",function(){var e=
rt;return Mt(e),X.loop+=1,e.block=Dt(),Et("while"),e.expression=Nt(),Lt(),e.block
.disrupt===!0&&vt("weird_loop",e),X.loop-=1,e}),zt("export",function(){function i
(){G.identifier||mt("expected_identifier_a"),t=G.id,n=$.context[t],n===undefined?
vt("unexpected_a"):(n.used+=1,U[t]!==undefined&&vt("duplicate_a"),U[t]=n),Et(),e
.expression.push(r)}var e=rt,t,n,r;Y.es6||vt("es6",e),e.expression=[];if(G.id==="default"
)U.default!==undefined&&vt("duplicate_a"),Et("default"),r=Tt(),r.id!=="function"&&
Lt(),U.default=r,e.expression.push(r);else switch(G.id){case"function":r=At(),n=
r.name,t=n.id,n.used+=1,U[t]!==undefined&&vt("duplicate_a",n),U[t]=r,e.expression
.push(r),r.statement=!1,r.arity="unary";break;case"var":case"let":case"const":vt
("unexpeted_a");break;case"{":Et("{"),function s(){i();if(G.id===",")return Et(","
),s()}(),Et("}"),Lt();break;default:i(),Lt()}return Q=!0,e}),zt("for",function()
{var e,t=rt;return Y.for||vt("unexpected_a",t),Mt(t),X.loop+=1,Et("("),rt.free=!0
,G.id===";"?mt("expected_a_b",t,"while (","for (;"):G.id==="var"||G.id==="let"||
G.id==="const"?mt("unexpected_a"):(e=Tt(0),e.id==="in"?(e.expression[0].arity!=="variable"&&
vt("bad_assignment_a",e.expression[0]),t.name=e.expression[0],t.expression=e.expression
[1],vt("expected_a_b",t,"Object.keys","for in")):(t.initial=e,Et(";"),t.expression=
Tt(0),Et(";"),t.inc=Tt(0),t.inc.id==="++"&&vt("expected_a_b",t.inc,"+= 1","++"))
,Et(")"),t.block=Dt(),t.block.disrupt===!0&&vt("weird_loop",t),X.loop-=1,t)}),zt
("function",$t),zt("if",function(){var e,t=rt;return t.expression=Nt(),t.block=Dt
(),G.id==="else"&&(Et("else"),e=rt,t.else=G.id==="if"?At():Dt(),t.block.disrupt===!0&&
(t.else.disrupt===!0?t.disrupt=!0:vt("unexpected_a",e))),t}),zt("import",function(
){var e=rt,t;Y.es6?typeof Q=="object"&&vt("unexpected_directive_a",Q,Q.directive
):vt("es6",e),Q=!0;if(G.identifier)t=G,Et(),t.id==="ignore"&&vt("unexpected_a",t
),xt(t,"variable",!0),e.name=t;else{var n=[];Et("{");if(G.id!=="}")for(;;){G.identifier||
mt("expected_identifier_a"),t=G,Et(),t.id==="ignore"&&vt("unexpected_a",t),xt(t,"variable"
,!0),n.push(t);if(G.id!==",")break;Et(",")}Et("}"),e.name=n}return Et("from"),Et
("(string)"),e.import=rt,d.test(rt.value)||vt("bad_module_name_a",rt),z.push(rt.
value),Lt(),e}),zt("let",Kt),zt("return",function(){var e=rt;return Mt(e),X.finally>0&&
vt("unexpected_a",e),e.disrupt=!0,G.id!==";"&&e.line===G.line&&(e.expression=Tt(10
)),Et(";"),e}),zt("switch",function(){var e=[],t,n,r=[],i=!0,s=rt;Mt(s),X.finally>0&&
vt("unexpected_a",s),X.switch+=1,Et("("),rt.free=!0,s.expression=Tt(0),s.block=r
,Et(")"),Et("{"),function a(){var s=G;s.arity="statement",s.expression=[],function o
(){Et("case"),rt.switch=!0;var t=Tt(0);e.some(function(e){return kt(e,t)})&&vt("unexpected_a"
,t),e.push(t),s.expression.push(t),Et(":");if(G.id==="case")return o()}(),n=Ot()
;if(n.length<1){vt("expected_statements_a");return}s.block=n,r.push(s),t=n[n.length-1
],t.disrupt?t.id==="break"&&t.label===undefined&&(i=!1):vt("expected_a_before_b"
,G,"break;",lt(G));if(G.id==="case")return a()}(),e=undefined;if(G.id==="default"
){var o=G;Et("default"),rt.switch=!0,Et(":"),s.else=Ot();if(s.else.length<1)vt("unexpected_a"
,o),i=!1;else{var u=s.else[s.else.length-1];u.id==="break"&&u.label===undefined&&
(vt("unexpected_a",u),u.disrupt=!1),i=i&&u.disrupt}}else i=!1;return Et("}",s),X
.switch-=1,s.disrupt=i,s}),zt("throw",function(){var e=rt;return e.disrupt=!0,e.
expression=Tt(10),Lt(),e}),zt("try",function(){var e,t,n=rt;X.try>0&&vt("unexpected_a"
,n),X.try+=1,n.block=Dt(),t=n.block.disrupt;if(G.id==="catch"){var r="ignore";e=
G,n.catch=e,Et("catch"),Et("(");if(!G.identifier)return mt("expected_identifier_a"
,G);G.id!=="ignore"&&(r=undefined,e.name=G,xt(G,"exception",!0)),Et(),Et(")"),e.
block=Dt(r),e.block.disrupt!==!0&&(t=!1)}else vt("expected_a_before_b",G,"catch"
,lt(G));return G.id==="finally"&&(X.finally+=1,Et("finally"),n.else=Dt(),t=n.else.
disrupt,X.finally-=1),n.disrupt=t,X.try-=1,n}),zt("var",Kt),zt("while",function(
){var e=rt;return Mt(e),X.loop+=1,e.expression=Nt(),e.block=Dt(),e.block.disrupt===!0&&
vt("weird_loop",e),X.loop-=1,e}),zt("with",function(){mt("unexpected_a",rt)}),Wt
("?",":");var Yt=t(),Zt=t(),en=Qt(Zt),tn=Qt(Yt),nn=Gt(Zt),rn=Gt(Yt);return en("assignment"
,ln),en("binary",ln),en("binary",function(e){if(u[e.id]===!0){var t=e.expression
[0],n=e.expression[1];if(t.id==="NaN"||n.id==="NaN")Y.es6?vt("number_isNaN",e):vt
("isNaN",e);else if(t.id==="typeof")if(n.id!=="(string)")n.id!=="typeof"&&vt("expected_string_a"
,n);else{var r=n.value;r==="symbol"?Y.es6||vt("es6",n,r):r==="null"||r==="undefined"?
vt("unexpected_typeof_a",n,r):r!=="boolean"&&r!=="function"&&r!=="number"&&r!=="object"&&
r!=="string"&&vt("expected_type_string_a",n,r)}}}),en("binary","==",function(e){
vt("expected_a_b",e,"===","==")}),en("binary","!=",function(e){vt("expected_a_b"
,e,"!==","!=")}),en("binary","=>",fn),en("binary","||",function(e){e.expression.
forEach(function(e){e.id==="&&"&&!e.wrapped&&vt("and",e)})}),en("binary","(",function(
e){var t=e.expression[0];if(t.identifier&&X.context[t.id]===undefined&&typeof X.
name=="object"){var n=X.name.function;if(n){var r=n.context[t.id];r!==undefined&&
r.dead&&r.function===n&&r.calls!==undefined&&r.calls[X.name.id]!==undefined&&(r.
dead=!1)}}}),en("binary","in",function(e){vt("infix_in",e)}),en("binary","instanceof"
,function(e){vt("unexpected_a",e)}),en("binary",".",function(e){e.expression.new&&
(e.new=!0)}),en("statement","{",function(e){j.push(B),B=e,e.live=[]}),en("statement"
,"for",function(e){if(e.name!==undefined){var t=un(e.name);t!==undefined&&(t.init=!0
,t.writable||vt("bad_assignment_a",e.name))}on(e.initial)}),en("statement","function"
,fn),en("unary","~",ln),en("unary","function",fn),en("variable",function(e){var t=
un(e);t!==undefined&&(e.variable=t,t.used+=1)}),tn("assignment",function(e){var t=
e.expression[0];if(e.id==="=")e.names!==undefined?Array.isArray(e.names)?e.names
.forEach(dn):dn(e.names):t.id==="."&&e.expression[1].id==="undefined"&&vt("expected_a_b"
,t.expression,"delete","undefined");else{t.arity==="variable"&&(!t.variable||t.variable
.writable!==!0)&&vt("bad_assignment_a",t);var n=nt[e.expression[1].id];n!==undefined&&
(n.id==="function"||n.id==="=>"||n.constant&&n.id!=="(number)"&&(n.id!=="(string)"||
e.id!=="+="))&&vt("unexpected_a",e.expression[1])}}),tn("binary",function(e){var t
;u[e.id]&&(Ct(e.expression[0])||Ct(e.expression[1])||kt(e.expression[0],e.expression
[1])||e.expression[0].constant===!0&&e.expression[1].constant===!0)&&vt("weird_relation_a"
,e);switch(e.id){case"+":case"-":t=e.expression[1],t.id===e.id&&t.arity==="unary"&&!
t.wrapped&&vt("wrap_unary",t);break;case"=>":case"(":break;case".":e.expression.
id==="RegExp"&&vt("weird_expression_a",e);break;default:e.expression[0].constant===!0&&
e.expression[1].constant===!0&&(e.constant=!0)}}),tn("binary","&&",function(e){(
Ct(e.expression[0])||kt(e.expression[0],e.expression[1])||e.expression[0].constant===!0||
e.expression[1].constant===!0)&&vt("weird_condition_a",e)}),tn("binary","||",function(
e){(Ct(e.expression[0])||kt(e.expression[0],e.expression[1])||e.expression[0].constant===!0
)&&vt("weird_condition_a",e)}),tn("binary","=>",vn),tn("binary","(",function(e){
var t=e.expression[0],n;t.id==="new"&&(n=t,t=t.expression);if(t.id==="function")
e.wrapped||vt("wrap_immediate",e);else if(t.identifier)n!==undefined?t.id.charAt
(0)>"Z"||t.id==="Boolean"||t.id==="Number"||t.id==="String"||t.id==="Symbol"&&Y.
es6?vt("unexpected_a",n):t.id==="Function"?Y.eval||vt("unexpected_a",t,"new Function"
):t.id==="Array"?vt("expected_a_b",t,"[]","new Array"):t.id==="Object"&&vt("expected_a_b"
,t,"Object.create(null)","new Object"):t.id.charAt(0)>="A"&&t.id.charAt(0)<="Z"&&
t.id!=="Boolean"&&t.id!=="Number"&&t.id!=="String"&&t.id!=="Symbol"&&vt("expected_a_before_b"
,t,"new",lt(t));else if(t.id==="."){var r=n!==undefined;t.expression.id==="Date"&&
t.name.id==="UTC"&&(r=!r),_.test(t.name.id)!==r&&(n!==undefined?vt("unexpected_a"
,n):vt("expected_a_before_b",t.expression,"new",t.name.id));if(t.name.id==="getTime"
){var i=t.expression;if(i.id==="("){var s=i.expression;if(s.length===1){var o=s[0
];o.id==="new"&&o.expression.id==="Date"&&vt("expected_a_b",o,"Date.now()","new Date().getTime()"
)}}}}}),tn("binary","[",function(e){e.expression[0].id==="RegExp"&&vt("weird_expression_a"
,e),Ct(e.expression[1])&&vt("weird_expression_a",e.expression[1])}),tn("statement"
,"{",cn),tn("statement","const",pn),tn("statement","export",_t),tn("statement","for"
,function(e){on(e.inc)}),tn("statement","function",vn),tn("statement","import",function(
e){var t=e.name;return Array.isArray(t)?t.forEach(function(e){e.dead=!1,e.init=!0
,B.live.push(e)}):(t.dead=!1,t.init=!0,B.live.push(t)),_t(e)}),tn("statement","let"
,pn),tn("statement","try",function(e){if(e.catch!==undefined){var t=e.catch.name
;if(t!==undefined){var n=X.context[t.id];n.dead=!1,n.init=!0}on(e.catch.block)}}
),tn("statement","var",pn),tn("ternary",function(e){Ct(e.expression[0])||e.expression
[0].constant===!0||kt(e.expression[1],e.expression[2])?vt("unexpected_a",e):kt(e
.expression[0],e.expression[1])?vt("expected_a_b",e,"||","?"):kt(e.expression[0]
,e.expression[2])?vt("expected_a_b",e,"&&","?"):e.expression[1].id==="true"&&e.expression
[2].id==="false"?vt("expected_a_b",e,"!!","?"):e.expression[1].id==="false"&&e.expression
[2].id==="true"?vt("expected_a_b",e,"!","?"):e.expression[0].wrapped!==!0&&(e.expression
[0].id==="||"||e.expression[0].id==="&&")&&vt("wrap_condition",e.expression[0])}
),tn("unary",function(e){switch(e.id){case"[":case"{":case"function":case"new":break;
case"`":e.expression.every(function(e){return e.constant})&&(e.constant=!0);break;
default:e.expression.constant===!0&&(e.constant=!0)}}),tn("unary","function",vn)
,function(e,i,s){try{ft=[],Y=i||t(),H="anonymous",j=[],F=t(),q=!0,I=[],R=!0,U=t(
),z=[],W=Y.fudge?1:0,V=[],$={id:"(global)",body:!0,context:t(),from:0,level:0,line
:0,live:[],loop:0,"switch":0,thru:0},B=$,X=$,J=!1,et=!1,Q=!1,G=$,Z=t(),tt=[],ot=
undefined,rt=$,it=0,at=undefined,n(F,a,!1),s!==undefined&&n(F,s,!1),Object.keys(
Y).forEach(function(e){if(Y[e]===!0){var t=r[e];Array.isArray(t)&&n(F,t,!1)}}),gt
(e),Et(),J?(ut=St(),Et("(end)")):(Y.browser?G.id===";"&&Et(";"):G.value==="use strict"&&
($.strict=G,Et("(string)"),Et(";")),ut=Ot(),Et("(end)"),X=$,on(ut),Q&&$.strict!==
undefined&&vt("unexpected_a",$.strict),gn(),Y.white||yn()),Y.browser||I.forEach(
function(e){e.directive==="global"&&vt("missing_browser",e)}),R=!1}catch(o){o.name!=="JSLintError"&&
ft.push(o)}return{directives:I,edition:"2016-10-24",exports:U,froms:z,functions:
V,global:$,id:"(JSLint)",json:J,lines:K,module:Q===!0,ok:ft.length===0&&!R,option
:Y,property:Z,stop:R,tokens:st,tree:ut,warnings:ft.sort(function(e,t){return e.line-
t.line||e.column-t.column})}}}()
local.CSSLint = CSSLint; local.JSLINT = JSLINT, local.jslintEs6 = jslint; }());
/* jslint-ignore-end */



    // run shared js-env code - function
    (function () {
        local.csslintUtility2 = function (script) {
        /*
         * this function will csslint the script with utiity2-specific rules
         */
            var current1, current2, ii, jj, message, previous1, previous2;
            // ignore comments
            script = script.replace((/^ *?\/\*[\S\s]*?\*\/ *?$/gm), function (match0) {
                if (match0 === '/* validateLineSortedReset */') {
                    return match0;
                }
                // preserve lineno
                return match0.replace((/^.*?$/gm), '');
            });
            ii = 0;
            current1 = '';
            current2 = '';
            previous1 = '';
            previous2 = '';
            script.replace((/^.*?$/gm), function (line) {
                current1 = line;
                ii += 1;
                jj = 0;
                message = '';
                if (!current1) {
                    return;
                }
                // validate whitespace-before-comma
                if ((/ ,/).test(current1)) {
                    jj = jj || ((/ ,/).exec(current1).index + 2);
                    message = message || 'whitespace-before-comma';
                }
                // validate double-whitespace
                if ((/\S {2}/).test(current1)) {
                    jj = jj || ((/\S {2}/).exec(current1).index + 2);
                    message = message || 'double-whitespace';
                }
                // ignore indent
                if (!message && current1[0] === ' ') {
                    return;
                }
                // validate multi-line-statement
                if ((/[,;\{\}]./).test(current1)) {
                    jj = jj || ((/[,;\{\}]./).exec(current1).index + 1);
                    message = message || 'multi-line-statement';
                }
                // validateLineSortedReset
                if (current1 === '/* validateLineSortedReset */') {
                    current1 = '';
                    current2 = '';
                    previous1 = '';
                    previous2 = '';
                    return;
                }
                // validate previous1 < current1
                current1 = current1
                    .replace((/,$/gm), '   ,')
                    .replace((/( \{$|:)/gm), '  $1')
                    .replace((/(^[\w*@]| \w)/gm), ' $1');
                if (!(previous1 < current1)) {
                    jj = jj || 1;
                    message = message ||
                        ('lines not sorted\n' + previous1 + '\n' + current1).trim();
                }
                previous1 = current1;
                // validate previous2 < current2
                current2 += current1 + '\n';
                if (current1 === '}') {
                    current2 = current2.slice(0, -3);
                    if (!(previous2 < current2)) {
                        jj = jj || 1;
                        message = message ||
                            ('lines not sorted\n' + previous2 + '\n' + current2).trim();
                    }
                    previous1 = '';
                    previous2 = current2;
                    current2 = '';
                }
                if (!message) {
                    return;
                }
                local.errorList.push({
                    col: jj,
                    line: ii,
                    message: message,
                    value: line
                });
            });
        };

        local.jslintAndPrint = function (script, file) {
        /*
         * this function will jslint / csslint the script and print any errors to stderr
         */
            var ii, jj, lintType, message, scriptParsed;
            // cleanup errors
            local.errorList = [];
            local.errorText = '';
            // do nothing for empty script
            if (!(script && script.length)) {
                return script;
            }
            scriptParsed = script;
            if ((/^\/\* jslint-utility2 \*\/$|^# jslint-utility2$/m).test(scriptParsed)) {
                ii = 0;
                scriptParsed.replace((/^.*?$/gm), function (line) {
                    ii += 1;
                    jj = 0;
                    message = '';
                    // validate 4-space indent
                    if (!(/^ +(?:\*|\/\/!!)/).test(line) &&
                            ((/^ */).exec(line)[0].length % 4 !== 0)) {
                        jj = jj || 1;
                        message = message || 'non 4-space indent';
                    }
                    // validate trailing-whitespace
                    if ((/ $| \\n\\$/).test(line)) {
                        jj = jj || line.length;
                        message = message || 'trailing whitespace';
                    }
                    // validate tab
                    if (line.indexOf('\t') >= 0) {
                        jj = jj || (line.indexOf('\t') + 1);
                        message = message || 'tab detected';
                    }
                    if (message) {
                        local.errorList.push({
                            col: jj,
                            line: ii,
                            message: message,
                            value: JSON.stringify(line)
                        });
                    }
                });
            }
            // parse script
            scriptParsed = script
                // ignore shebang
                .replace((/^#!.*/), '')
                // ignore comment
                .replace((/^ *?(?:#!! |\/\/!! |\* https?:\/\/|\/\/ https?:\/\/).*?$/gm), '')
                // ignore text-block
                .replace(
/* jslint-ignore-begin */
(/^ *?\/\* jslint-ignore-begin \*\/$[\S\s]+?^ *?\/\* jslint-ignore-end \*\/$/gm),
/* jslint-ignore-end */
                    function (match0) {
                        return match0.replace((/^.*?$/gm), '');
                    }
                )
                // ignore next-line
                .replace(
/* jslint-ignore-next-line */
(/^ *?\/\* jslint-ignore-next-line \*\/\n.*/gm),
                    function (match0) {
                        return match0.replace((/^.*?$/gm), '');
                    }
                );
            switch (file.replace((/^.*\./), '.')) {
            // csslint script
            case '.css':
                lintType = 'csslint';
                local.CSSLint.errors = local.CSSLint.verify(scriptParsed).messages;
                local.CSSLint.errors.forEach(function (error) {
                    local.errorList.push(error && {
                        col: error.col,
                        line: error.line,
                        message: error.type + ' - ' + error.rule.id + ' - ' + error.message +
                            '\n    ' + error.rule.desc,
                        value: error.evidence
                    });
                });
                break;
            // shlint script
            case '.sh':
                lintType = 'shlint';
                break;
            // jslint script
            default:
                // jslint es6-script
                if ((/^\/\*jslint\b[\s\w,:]*?\bes6: true\b/m)
                        .test(scriptParsed.slice(0, 0x1000))) {
                    local.jslintEs6.errors = local.jslintEs6(scriptParsed).warnings;
                    local.jslintEs6.errors.forEach(function (error) {
                        local.errorList.push(error && {
                            col: error.column + 1,
                            line: error.line + 1,
                            message: error.message,
                            value: error.a
                        });
                    });
                    break;
                }
                // jslint es5 script
                local.JSLINT(scriptParsed);
                local.JSLINT.errors.forEach(function (error) {
                    local.errorList.push(error && {
                        col: error.character,
                        line: error.line,
                        message: error.reason,
                        value: error.evidence
                    });
                });
            }
            // jslint the script with utiity2-specific rules
            local.errorList = local.errorList.filter(function (error) {
                return error && error.message;
            });
            if (!local.errorList.length &&
                    (/^\/\* jslint-utility2 \*\/$|^# jslint-utility2$/m).test(script)) {
                switch (file.replace((/^.*\./), '.')) {
                case '.css':
                    local.csslintUtility2(script);
                    break;
                case '.sh':
                    local.shlintUtility2(script);
                    break;
                default:
                    local.jslintUtility2(script);
                }
            }
            // if error occurred, then print colorized error messages
            local.errorList = local.errorList.filter(function (error) {
                return error && error.message;
            });
            if (!local.errorList.length) {
                return script;
            }
            local.errorText = '\u001b[1m' + (lintType || 'jslint') + ' ' +  file + '\u001b[22m\n';
            local.errorList.forEach(function (error, ii) {
                local.errorText += (' #' + String(ii + 1) + ' ').slice(-4) +
                    '\u001b[33m' + error.message +
                    '\u001b[39m\n    ' + String(error.value).trim() +
                    '\u001b[90m \/\/ line ' + (error.line) +
                    ', col ' + (error.col) + '\u001b[39m\n';
            });
            local.errorText = local.errorText.trim();
            // print error to stderr
            console.error(local.errorText);
            return script;
        };

        local.jslintUtility2 = function (script) {
        /*
         * this function will jslint the script with utiity2-specific rules
         */
            var ii, current, previous, tmp;
            ii = 0;
            previous = '';
            script.replace((/^.*?$/gm), function (line) {
                current = line.trim();
                ii += 1;
                // validate tag.classList sorted
                tmp = (/class=\\?"([^"]+?)\\?"/g).exec(current);
                tmp = JSON.stringify(
                    (tmp && tmp[1].match(/\w\S*?\{\{[^}]*?\}\}|\w\S*|\{\{[^}]*?\}\}/g)) || []
                );
                if (JSON.stringify(JSON.parse(tmp).sort()) !== tmp) {
                    local.errorList.push({
                        col: 0,
                        line: ii,
                        message: 'tag.classList not sorted - ' + tmp,
                        value: line
                    });
                }
                // validate line-sorted
                if (line === '/* validateLineSortedReset */' ||
                        (/^ {4}\/\/ run .*?\bjs\\?-env code\b|^\/\/ init lib|\\n\\$/m).test(line)) {
                    previous = '';
                    return;
                }
                if (!(/^(?:| {4}| {8})local\.\S*? =(?: |$)/m).test(line) ||
                        (/^local\.(?:modeJs|global|local|tmp)\b/).test(current)) {
                    return;
                }
                // validate previous < current
                if (!(previous < current)) {
                    local.errorList.push({
                        col: 0,
                        line: ii,
                        message: 'lines not sorted\n' + previous + '\n' + current,
                        value: line
                    });
                }
                previous = current;
            });
        };

        local.shlintUtility2 = function (script) {
        /*
         * this function will shlint the script with utiity2-specific rules
         */
            var ii, previous;
            ii = 0;
            previous = '';
            script.replace((/^.*?$/gm), function (line) {
                ii += 1;
                if (!(/^sh\w+? \(\) \{/).test(line)) {
                    return;
                }
                // validate previous < line
                if (!(previous < line)) {
                    local.errorList.push({
                        col: 0,
                        line: ii,
                        message: 'lines not sorted\n' + previous + '\n' + line,
                        value: line
                    });
                }
                previous = line;
            });
        };
    }());
    switch (local.modeJs) {



    // run node js-env code - init-after
    /* istanbul ignore next */
    case 'node':
        // init cli
        if (module !== require.main || local.global.utility2_rollup) {
            break;
        }
        local.cliDict = {};
        local.cliDict._default = function () {
        /*
         * file1 file2 ...
         * jslint file1 file2 ... and print result to stdout
         */
            // jslint files
            process.argv.slice(2).forEach(function (arg) {
                if (arg[0] !== '-') {
                    local.jslintAndPrint(
                        local.fs.readFileSync(local.path.resolve(arg), 'utf8'),
                        arg
                    );
                }
            });
            // if error occurred, then exit with non-zero code
            process.exit(!!local.errorList.length);
        };
        local.cliRun();
        break;
    }
}());
/* script-end /assets.utility2.lib.jslint.js */



/* script-begin /assets.utility2.lib.marked.js */
/* jslint-utility2 */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;



    // run shared js-env code - init-before
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || local;
    }());



/* jslint-ignore-begin */
(function () { var exports, module; exports = module = {};
// init lib marked
// 2017-01-19T23:03:37Z
// https://github.com/chjj/marked/blob/v0.3.7/lib/marked.js
// utility2-uglifyjs https://raw.githubusercontent.com/chjj/marked/v0.3.7/lib/marked.js
(function(){function t(t){this.tokens=[],this.tokens.links={},this.options=t||c.
defaults,this.rules=e.normal,this.options.gfm&&(this.options.tables?this.rules=e
.tables:this.rules=e.gfm)}function r(e,t){this.options=t||c.defaults,this.links=
e,this.rules=n.normal,this.renderer=this.options.renderer||new i,this.renderer.options=
this.options;if(!this.links)throw new Error("Tokens array requires a `links` property."
);this.options.gfm?this.options.breaks?this.rules=n.breaks:this.rules=n.gfm:this
.options.pedantic&&(this.rules=n.pedantic)}function i(e){this.options=e||{}}function s
(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=
this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=
this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace
(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}
function u(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(
e,t){return t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?
String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring
(1)):""})}function a(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=
i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):new RegExp(e,t)
}}function f(){}function l(e){var t=1,n,r;for(;t<arguments.length;t++){n=arguments
[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}function c
(e,n,r){if(r||typeof n=="function"){r||(r=n,n=null),n=l({},c.defaults,n||{});var i=
n.highlight,u,a,f=0;try{u=t.lex(e,n)}catch(h){return r(h)}a=u.length;var p=function(
e){if(e)return n.highlight=i,r(e);var t;try{t=s.parse(u,n)}catch(o){e=o}return n
.highlight=i,e?r(e):r(null,t)};if(!i||i.length<3)return p();delete n.highlight;if(!
a)return p();for(;f<u.length;f++)(function(e){return e.type!=="code"?--a||p():i(
e.text,e.lang,function(t,n){if(t)return p(t);if(n==null||n===e.text)return--a||p
();e.text=n,e.escaped=!0,--a||p()})})(u[f]);return}try{return n&&(n=l({},c.defaults
,n)),s.parse(t.lex(e,n),n)}catch(h){h.message+="\nPlease report this to https://github.com/chjj/marked."
;if((n||c.defaults).silent)return"<p>An error occured:</p><pre>"+o(h.message+"",!0
)+"</pre>";throw h}}var e={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:f,hr:/^( *[-*_]){3,} *(?:\n+|$)/
,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:f,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/
,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/
,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/
,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:f
,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text
:/^[^\n]+/};e.bullet=/(?:[*+-]|\d+\.)/,e.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/
,e.item=a(e.item,"gm")(/bull/g,e.bullet)(),e.list=a(e.list)(/bull/g,e.bullet)("hr"
,"\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+e.def.source+")")(),e.
blockquote=a(e.blockquote)("def",e.def)(),e._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b"
,e.html=a(e.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing"
,/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,e._tag)(),e.paragraph=a(e.paragraph
)("hr",e.hr)("heading",e.heading)("lheading",e.lheading)("blockquote",e.blockquote
)("tag","<"+e._tag)("def",e.def)(),e.normal=l({},e),e.gfm=l({},e.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/
,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),e.gfm.paragraph=
a(e.paragraph)("(?!","(?!"+e.gfm.fences.source.replace("\\1","\\2")+"|"+e.list.source
.replace("\\1","\\3")+"|")(),e.tables=l({},e.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/
,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=e,t
.lex=function(e,n){var r=new t(n);return r.lex(e)},t.prototype.lex=function(e){return e=
e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g
,"\n"),this.token(e,!0)},t.prototype.token=function(t,n,r){var t=t.replace(/^ +$/gm
,""),i,s,o,u,a,f,l,c,h;while(t){if(o=this.rules.newline.exec(t))t=t.substring(o[0
].length),o[0].length>1&&this.tokens.push({type:"space"});if(o=this.rules.code.exec
(t)){t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type
:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});continue}if(o=this.rules
.fences.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o
[2],text:o[3]||""});continue}if(o=this.rules.heading.exec(t)){t=t.substring(o[0]
.length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});continue}
if(n&&(o=this.rules.nptable.exec(t))){t=t.substring(o[0].length),f={type:"table"
,header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g
,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")};for(c=0;c<f.align
.length;c++)/^ *-+: *$/.test(f.align[c])?f.align[c]="right":/^ *:-+: *$/.test(f.
align[c])?f.align[c]="center":/^ *:-+ *$/.test(f.align[c])?f.align[c]="left":f.align
[c]=null;for(c=0;c<f.cells.length;c++)f.cells[c]=f.cells[c].split(/ *\| */);this
.tokens.push(f);continue}if(o=this.rules.lheading.exec(t)){t=t.substring(o[0].length
),this.tokens.push({type:"heading",depth:o[2]==="="?1:2,text:o[1]});continue}if(
o=this.rules.hr.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"hr"}
);continue}if(o=this.rules.blockquote.exec(t)){t=t.substring(o[0].length),this.tokens
.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,n,!0
),this.tokens.push({type:"blockquote_end"});continue}if(o=this.rules.list.exec(t
)){t=t.substring(o[0].length),u=o[2],this.tokens.push({type:"list_start",ordered
:u.length>1}),o=o[0].match(this.rules.item),i=!1,h=o.length,c=0;for(;c<h;c++)f=o
[c],l=f.length,f=f.replace(/^ *([*+-]|\d+\.) +/,""),~f.indexOf("\n ")&&(l-=f.length
,f=this.options.pedantic?f.replace(/^ {1,4}/gm,""):f.replace(new RegExp("^ {1,"+
l+"}","gm"),"")),this.options.smartLists&&c!==h-1&&(a=e.bullet.exec(o[c+1])[0],u!==
a&&!(u.length>1&&a.length>1)&&(t=o.slice(c+1).join("\n")+t,c=h-1)),s=i||/\n\n(?!\s*$)/
.test(f),c!==h-1&&(i=f.charAt(f.length-1)==="\n",s||(s=i)),this.tokens.push({type
:s?"loose_item_start":"list_item_start"}),this.token(f,!1,r),this.tokens.push({type
:"list_item_end"});this.tokens.push({type:"list_end"});continue}if(o=this.rules.
html.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph"
:"html",pre:!this.options.sanitizer&&(o[1]==="pre"||o[1]==="script"||o[1]==="style"
),text:o[0]});continue}if(!r&&n&&(o=this.rules.def.exec(t))){t=t.substring(o[0].
length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};continue}if(
n&&(o=this.rules.table.exec(t))){t=t.substring(o[0].length),f={type:"table",header
:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g
,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(c=0
;c<f.align.length;c++)/^ *-+: *$/.test(f.align[c])?f.align[c]="right":/^ *:-+: *$/
.test(f.align[c])?f.align[c]="center":/^ *:-+ *$/.test(f.align[c])?f.align[c]="left"
:f.align[c]=null;for(c=0;c<f.cells.length;c++)f.cells[c]=f.cells[c].replace(/^ *\| *| *\| *$/g
,"").split(/ *\| */);this.tokens.push(f);continue}if(n&&(o=this.rules.paragraph.
exec(t))){t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:o[1
].charAt(o[1].length-1)==="\n"?o[1].slice(0,-1):o[1]});continue}if(o=this.rules.
text.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]
});continue}if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}return this
.tokens};var n={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/
,url:f,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/
,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/
,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/
,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:f,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/
};n._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,n._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/
,n.link=a(n.link)("inside",n._inside)("href",n._href)(),n.reflink=a(n.reflink)("inside"
,n._inside)(),n.normal=l({},n),n.pedantic=l({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/
,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),n.gfm=l({},n.normal
,{escape:a(n.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del
:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(n.text)("]|","~]|")("|","|https?://|")()}),n.breaks=
l({},n.gfm,{br:a(n.br)("{2,}","*")(),text:a(n.gfm.text)("{2,}","*")()}),r.rules=
n,r.output=function(e,t,n){var i=new r(t,n);return i.output(e)},r.prototype.output=
function(e){var t="",n,r,i,s;while(e){if(s=this.rules.escape.exec(e)){e=e.substring
(s[0].length),t+=s[1];continue}if(s=this.rules.autolink.exec(e)){e=e.substring(s
[0].length),s[2]==="@"?(r=s[1].charAt(6)===":"?this.mangle(s[1].substring(7)):this
.mangle(s[1]),i=this.mangle("mailto:")+r):(r=o(s[1]),i=r),t+=this.renderer.link(
i,null,r);continue}if(!this.inLink&&(s=this.rules.url.exec(e))){e=e.substring(s[0
].length),r=o(s[1]),i=r,t+=this.renderer.link(i,null,r);continue}if(s=this.rules
.tag.exec(e)){!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i
.test(s[0])&&(this.inLink=!1),e=e.substring(s[0].length),t+=this.options.sanitize?
this.options.sanitizer?this.options.sanitizer(s[0]):o(s[0]):s[0];continue}if(s=this
.rules.link.exec(e)){e=e.substring(s[0].length),this.inLink=!0,t+=this.outputLink
(s,{href:s[2],title:s[3]}),this.inLink=!1;continue}if((s=this.rules.reflink.exec
(e))||(s=this.rules.nolink.exec(e))){e=e.substring(s[0].length),n=(s[2]||s[1]).replace
(/\s+/g," "),n=this.links[n.toLowerCase()];if(!n||!n.href){t+=s[0].charAt(0),e=s
[0].substring(1)+e;continue}this.inLink=!0,t+=this.outputLink(s,n),this.inLink=!1
;continue}if(s=this.rules.strong.exec(e)){e=e.substring(s[0].length),t+=this.renderer
.strong(this.output(s[2]||s[1]));continue}if(s=this.rules.em.exec(e)){e=e.substring
(s[0].length),t+=this.renderer.em(this.output(s[2]||s[1]));continue}if(s=this.rules
.code.exec(e)){e=e.substring(s[0].length),t+=this.renderer.codespan(o(s[2],!0));
continue}if(s=this.rules.br.exec(e)){e=e.substring(s[0].length),t+=this.renderer
.br();continue}if(s=this.rules.del.exec(e)){e=e.substring(s[0].length),t+=this.renderer
.del(this.output(s[1]));continue}if(s=this.rules.text.exec(e)){e=e.substring(s[0
].length),t+=this.renderer.text(o(this.smartypants(s[0])));continue}if(e)throw new
Error("Infinite loop on byte: "+e.charCodeAt(0))}return t},r.prototype.outputLink=
function(e,t){var n=o(t.href),r=t.title?o(t.title):null;return e[0].charAt(0)!=="!"?
this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,o(e[1]))},r.prototype
.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"\u2014"
).replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g
,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d"
).replace(/\.{3}/g,"\u2026"):e},r.prototype.mangle=function(e){if(!this.options.
mangle)return e;var t="",n=e.length,r=0,i;for(;r<n;r++)i=e.charCodeAt(r),Math.random
()>.5&&(i="x"+i.toString(16)),t+="&#"+i+";";return t},i.prototype.code=function(
e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);r!=null&&r!==
e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+
(n?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:o(e,!0))+"\n</code></pre>"}
,i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},
i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,n){return"<h"+
t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+
e+"</h"+t+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"
},i.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"
},i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},i.prototype.paragraph=
function(e){return"<p>"+e+"</p>\n"},i.prototype.table=function(e,t){return"<table>\n<thead>\n"+
e+"</thead>\n"+"<tbody>\n"+t+"</tbody>\n"+"</table>\n"},i.prototype.tablerow=function(
e){return"<tr>\n"+e+"</tr>\n"},i.prototype.tablecell=function(e,t){var n=t.header?"th"
:"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+
n+">\n"},i.prototype.strong=function(e){return"<strong>"+e+"</strong>"},i.prototype
.em=function(e){return"<em>"+e+"</em>"},i.prototype.codespan=function(e){return"<code>"+
e+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"}
,i.prototype.del=function(e){return"<del>"+e+"</del>"},i.prototype.link=function(
e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(u(e)).replace(/[^\w:]/g
,"").toLowerCase()}catch(i){return""}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:"
)===0||r.indexOf("data:")===0)return""}var s='<a href="'+e+'"';return t&&(s+=' title="'+
t+'"'),s+=">"+n+"</a>",s},i.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+
n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r},i.prototype
.text=function(e){return e},s.parse=function(e,t,n){var r=new s(t,n);return r.parse
(e)},s.prototype.parse=function(e){this.inline=new r(e.links,this.options,this.renderer
),this.tokens=e.reverse();var t="";while(this.next())t+=this.tok();return t},s.prototype
.next=function(){return this.token=this.tokens.pop()},s.prototype.peek=function(
){return this.tokens[this.tokens.length-1]||0},s.prototype.parseText=function(){
var e=this.token.text;while(this.peek().type==="text")e+="\n"+this.next().text;return this
.inline.output(e)},s.prototype.tok=function(){switch(this.token.type){case"space"
:return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.
heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code"
:return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table"
:var e="",t="",n,r,i,s,o;i="";for(n=0;n<this.token.header.length;n++)s={header:!0
,align:this.token.align[n]},i+=this.renderer.tablecell(this.inline.output(this.token
.header[n]),{header:!0,align:this.token.align[n]});e+=this.renderer.tablerow(i);
for(n=0;n<this.token.cells.length;n++){r=this.token.cells[n],i="";for(o=0;o<r.length
;o++)i+=this.renderer.tablecell(this.inline.output(r[o]),{header:!1,align:this.token
.align[o]});t+=this.renderer.tablerow(i)}return this.renderer.table(e,t);case"blockquote_start"
:var t="";while(this.next().type!=="blockquote_end")t+=this.tok();return this.renderer
.blockquote(t);case"list_start":var t="",u=this.token.ordered;while(this.next().
type!=="list_end")t+=this.tok();return this.renderer.list(t,u);case"list_item_start"
:var t="";while(this.next().type!=="list_item_end")t+=this.token.type==="text"?this
.parseText():this.tok();return this.renderer.listitem(t);case"loose_item_start":
var t="";while(this.next().type!=="list_item_end")t+=this.tok();return this.renderer
.listitem(t);case"html":var a=!this.token.pre&&!this.options.pedantic?this.inline
.output(this.token.text):this.token.text;return this.renderer.html(a);case"paragraph"
:return this.renderer.paragraph(this.inline.output(this.token.text));case"text":
return this.renderer.paragraph(this.parseText())}},f.exec=f,c.options=c.setOptions=
function(e){return l(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic
:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,
langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1},c.Parser=
s,c.parser=s.parse,c.Renderer=i,c.Lexer=t,c.lexer=t.lex,c.InlineLexer=r,c.inlineLexer=
r.output,c.parse=c,typeof module!="undefined"&&typeof exports=="object"?module.exports=
c:typeof define=="function"&&define.amd?define(function(){return c}):this.marked=
c}).call(function(){return this||(typeof window!="undefined"?window:global)}())
local.marked = module.exports; }());
/* jslint-ignore-end */
    if (local.modeJs === 'browser') {
        local.global.utility2_marked = local.marked;
    } else {
        module.exports = local.marked;
    }
}());
/* script-end /assets.utility2.lib.marked.js */



/* script-begin /assets.utility2.lib.sjcl.js */
/* jslint-utility2 */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;



    // run shared js-env code - init-before
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || local;



/* jslint-ignore-begin */
// init lib sjcl
// 2016-09-10T10:34:50Z
// https://github.com/bitwiseshiftleft/sjcl/blob/1.0.6/sjcl.js
// utility2-uglifyjs https://raw.githubusercontent.com/bitwiseshiftleft/sjcl/1.0.6/sjcl.js
(function () { var module;
"use strict";function t(e,t,n){if(4!==t.length)throw new sjcl.exception.invalid("invalid aes block size"
);var r=e.b[n],i=t[0]^r[0],s=t[n?3:1]^r[1],o=t[2]^r[2];t=t[n?1:3]^r[3];var u,a,f
,l=r.length/4-2,c,h=4,p=[0,0,0,0];u=e.s[n],e=u[0];var d=u[1],v=u[2],m=u[3],g=u[4
];for(c=0;c<l;c++)u=e[i>>>24]^d[s>>16&255]^v[o>>8&255]^m[t&255]^r[h],a=e[s>>>24]^
d[o>>16&255]^v[t>>8&255]^m[i&255]^r[h+1],f=e[o>>>24]^d[t>>16&255]^v[i>>8&255]^m[
s&255]^r[h+2],t=e[t>>>24]^d[i>>16&255]^v[s>>8&255]^m[o&255]^r[h+3],h+=4,i=u,s=a,
o=f;for(c=0;4>c;c++)p[n?3&-c:c]=g[i>>>24]<<24^g[s>>16&255]<<16^g[o>>8&255]<<8^g[
t&255]^r[h++],u=i,i=s,s=o,o=t,t=u;return p}function u(e,t){var n,r,i,s=e.F,o=e.b
,u=s[0],a=s[1],f=s[2],l=s[3],c=s[4],h=s[5],p=s[6],d=s[7];for(n=0;64>n;n++)16>n?r=
t[n]:(r=t[n+1&15],i=t[n+14&15],r=t[n&15]=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(i>>>17^
i>>>19^i>>>10^i<<15^i<<13)+t[n&15]+t[n+9&15]|0),r=r+d+(c>>>6^c>>>11^c>>>25^c<<26^
c<<21^c<<7)+(p^c&(h^p))+o[n],d=p,p=h,h=c,c=l+r|0,l=f,f=a,a=u,u=r+(a&f^l&(a^f))+(
a>>>2^a>>>13^a>>>22^a<<30^a<<19^a<<10)|0;s[0]=s[0]+u|0,s[1]=s[1]+a|0,s[2]=s[2]+f|0
,s[3]=s[3]+l|0,s[4]=s[4]+c|0,s[5]=s[5]+h|0,s[6]=s[6]+p|0,s[7]=s[7]+d|0}function A
(e,t){var n,r=sjcl.random.K[e],i=[];for(n in r)r.hasOwnProperty(n)&&i.push(r[n])
;for(n=0;n<i.length;n++)i[n](t)}function C(e,t){"undefined"!=typeof window&&window
.performance&&"function"==typeof window.performance.now?e.addEntropy(window.performance
.now(),t,"loadtime"):e.addEntropy((new Date).valueOf(),t,"loadtime")}function y(
e){e.b=z(e).concat(z(e)),e.L=new sjcl.cipher.aes(e.b)}function z(e){for(var t=0;4>
t&&(e.h[t]=e.h[t]+1|0,!e.h[t]);t++);return e.L.encrypt(e.h)}function B(e,t){return function(
){t.apply(e,arguments)}}var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:
{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+
this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+
this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+
this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+
this.message},this.message=e}}};sjcl.cipher.aes=function(e){this.s[0][0][0]||this
.O();var t,n,r,i,s=this.s[0][4],o=this.s[1];t=e.length;var u=1;if(4!==t&&6!==t&&8!==
t)throw new sjcl.exception.invalid("invalid aes key size");this.b=[r=e.slice(0),
i=[]];for(e=t;e<4*t+28;e++){n=r[e-1];if(0===e%t||8===t&&4===e%t)n=s[n>>>24]<<24^
s[n>>16&255]<<16^s[n>>8&255]<<8^s[n&255],0===e%t&&(n=n<<8^n>>>24^u<<24,u=u<<1^283*
(u>>7));r[e]=r[e-t]^n}for(t=0;e;t++,e--)n=r[t&3?e:e-4],i[t]=4>=e||4>t?n:o[0][s[n>>>24
]]^o[1][s[n>>16&255]]^o[2][s[n>>8&255]]^o[3][s[n&255]]},sjcl.cipher.aes.prototype=
{encrypt:function(e){return t(this,e,0)},decrypt:function(e){return t(this,e,1)}
,s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var e=this.s[0],t=this.s[1],
n=e[4],r=t[4],i,s,o,u=[],a=[],f,l,c,h;for(i=0;256>i;i++)a[(u[i]=i<<1^283*(i>>7))^
i]=i;for(s=o=0;!n[s];s^=f||1,o=a[o]||1)for(c=o^o<<1^o<<2^o<<3^o<<4,c=c>>8^c&255^99
,n[s]=c,r[c]=s,l=u[i=u[f=u[s]]],h=16843009*l^65537*i^257*f^16843008*s,l=257*u[c]^16843008*
c,i=0;4>i;i++)e[i][s]=l=l<<24^l>>>8,t[i][c]=h=h<<24^h>>>8;for(i=0;5>i;i++)e[i]=e
[i].slice(0),t[i]=t[i].slice(0)}},sjcl.bitArray={bitSlice:function(e,t,n){return e=
sjcl.bitArray.$(e.slice(t/32),32-(t&31)).slice(1),void 0===n?e:sjcl.bitArray.clamp
(e,n-t)},extract:function(e,t,n){var r=Math.floor(-t-n&31);return((t+n-1^t)&-32?
e[t/32|0]<<32-r^e[t/32+1|0]>>>r:e[t/32|0]>>>r)&(1<<n)-1},concat:function(e,t){if(0===
e.length||0===t.length)return e.concat(t);var n=e[e.length-1],r=sjcl.bitArray.getPartial
(n);return 32===r?e.concat(t):sjcl.bitArray.$(t,r,n|0,e.slice(0,e.length-1))},bitLength
:function(e){var t=e.length;return 0===t?0:32*(t-1)+sjcl.bitArray.getPartial(e[t-1
])},clamp:function(e,t){if(32*e.length<t)return e;e=e.slice(0,Math.ceil(t/32));var n=
e.length;return t&=31,0<n&&t&&(e[n-1]=sjcl.bitArray.partial(t,e[n-1]&2147483648>>
t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?t|0:t<<32-e)+1099511627776*
e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(
e,t){if(sjcl.bitArray.bitLength(e)!==sjcl.bitArray.bitLength(t))return!1;var n=0
,r;for(r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},$:function(e,t,n,r){var i;i=0
;for(void 0===r&&(r=[]);32<=t;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(
i=0;i<e.length;i++)r.push(n|e[i]>>>t),n=e[i]<<32-t;return i=e.length?e[e.length-1
]:0,e=sjcl.bitArray.getPartial(i),r.push(sjcl.bitArray.partial(t+e&31,32<t+e?n:r
.pop(),1)),r},i:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM
:function(e){var t,n;for(t=0;t<e.length;++t)n=e[t],e[t]=n>>>24|n>>>8&65280|(n&65280
)<<8|n<<24;return e}},sjcl.codec.utf8String={fromBits:function(e){var t="",n=sjcl
.bitArray.bitLength(e),r,i;for(r=0;r<n/8;r++)0===(r&3)&&(i=e[r/4]),t+=String.fromCharCode
(i>>>24),i<<=8;return decodeURIComponent(escape(t))},toBits:function(e){e=unescape
(encodeURIComponent(e));var t=[],n,r=0;for(n=0;n<e.length;n++)r=r<<8|e.charCodeAt
(n),3===(n&3)&&(t.push(r),r=0);return n&3&&t.push(sjcl.bitArray.partial(8*(n&3),
r)),t}},sjcl.codec.hex={fromBits:function(e){var t="",n;for(n=0;n<e.length;n++)t+=
((e[n]|0)+0xf00000000000).toString(16).substr(4);return t.substr(0,sjcl.bitArray
.bitLength(e)/4)},toBits:function(e){var t,n=[],r;e=e.replace(/\s|0x/g,""),r=e.length
,e+="00000000";for(t=0;t<e.length;t+=8)n.push(parseInt(e.substr(t,8),16)^0);return sjcl
.bitArray.clamp(n,4*r)}},sjcl.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"
,X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(
e,t,n){var r=sjcl.codec.base32.BASE,i=sjcl.codec.base32.REMAINING,s="",o=0,u=sjcl
.codec.base32.B,a=0,f=sjcl.bitArray.bitLength(e);n&&(u=sjcl.codec.base32.X);for(
n=0;s.length*r<f;)s+=u.charAt((a^e[n]>>>o)>>>i),o<r?(a=e[n]<<r-o,o+=i,n++):(a<<=
r,o-=r);for(;s.length&7&&!t;)s+="=";return s},toBits:function(e,t){e=e.replace(/\s|=/g
,"").toUpperCase();var n=sjcl.codec.base32.BITS,r=sjcl.codec.base32.BASE,i=sjcl.
codec.base32.REMAINING,s=[],o,u=0,a=sjcl.codec.base32.B,f=0,l,c="base32";t&&(a=sjcl
.codec.base32.X,c="base32hex");for(o=0;o<e.length;o++){l=a.indexOf(e.charAt(o));
if(0>l){if(!t)try{return sjcl.codec.base32hex.toBits(e)}catch(h){}throw new sjcl
.exception.invalid("this isn't "+c+"!")}u>i?(u-=i,s.push(f^l>>>u),f=l<<n-u):(u+=
r,f^=l<<n-u)}return u&56&&s.push(sjcl.bitArray.partial(u&56,f,1)),s}},sjcl.codec
.base32hex={fromBits:function(e,t){return sjcl.codec.base32.fromBits(e,t,1)},toBits
:function(e){return sjcl.codec.base32.toBits(e,1)}},sjcl.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
,fromBits:function(e,t,n){var r="",i=0,s=sjcl.codec.base64.B,o=0,u=sjcl.bitArray
.bitLength(e);n&&(s=s.substr(0,62)+"-_");for(n=0;6*r.length<u;)r+=s.charAt((o^e[
n]>>>i)>>>26),6>i?(o=e[n]<<6-i,i+=26,n++):(o<<=6,i-=6);for(;r.length&3&&!t;)r+="="
;return r},toBits:function(e,t){e=e.replace(/\s|=/g,"");var n=[],r,i=0,s=sjcl.codec
.base64.B,o=0,u;t&&(s=s.substr(0,62)+"-_");for(r=0;r<e.length;r++){u=s.indexOf(e
.charAt(r));if(0>u)throw new sjcl.exception.invalid("this isn't base64!");26<i?(
i-=26,n.push(o^u>>>i),o=u<<32-i):(i+=6,o^=u<<32-i)}return i&56&&n.push(sjcl.bitArray
.partial(i&56,o,1)),n}},sjcl.codec.base64url={fromBits:function(e){return sjcl.codec
.base64.fromBits(e,1,1)},toBits:function(e){return sjcl.codec.base64.toBits(e,1)
}},sjcl.hash.sha256=function(e){this.b[0]||this.O(),e?(this.F=e.F.slice(0),this.
A=e.A.slice(0),this.l=e.l):this.reset()},sjcl.hash.sha256.hash=function(e){return(new
sjcl.hash.sha256).update(e).finalize()},sjcl.hash.sha256.prototype={blockSize:512
,reset:function(){return this.F=this.Y.slice(0),this.A=[],this.l=0,this},update:
function(e){"string"==typeof e&&(e=sjcl.codec.utf8String.toBits(e));var t,n=this
.A=sjcl.bitArray.concat(this.A,e);t=this.l,e=this.l=t+sjcl.bitArray.bitLength(e)
;if(9007199254740991<e)throw new sjcl.exception.invalid("Cannot hash more than 2^53 - 1 bits"
);if("undefined"!=typeof Uint32Array){var r=new Uint32Array(n),i=0;for(t=512+t-(512+
t&511);t<=e;t+=512)u(this,r.subarray(16*i,16*(i+1))),i+=1;n.splice(0,16*i)}else for(
t=512+t-(512+t&511);t<=e;t+=512)u(this,n.splice(0,16));return this},finalize:function(
){var e,t=this.A,n=this.F,t=sjcl.bitArray.concat(t,[sjcl.bitArray.partial(1,1)])
;for(e=t.length+2;e&15;e++)t.push(0);t.push(Math.floor(this.l/4294967296));for(t
.push(this.l|0);t.length;)u(this,t.splice(0,16));return this.reset(),n},Y:[],b:[
],O:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var t=0,n=2
,r,i;64>t;n++){i=!0;for(r=2;r*r<=n;r++)if(0===n%r){i=!1;break}i&&(8>t&&(this.Y[t
]=e(Math.pow(n,.5))),this.b[t]=e(Math.pow(n,1/3)),t++)}}},sjcl.mode.ccm={name:"ccm"
,G:[],listenProgress:function(e){sjcl.mode.ccm.G.push(e)},unListenProgress:function(
e){e=sjcl.mode.ccm.G.indexOf(e),-1<e&&sjcl.mode.ccm.G.splice(e,1)},fa:function(e
){var t=sjcl.mode.ccm.G.slice(),n;for(n=0;n<t.length;n+=1)t[n](e)},encrypt:function(
e,t,n,r,i){var s,o=t.slice(0),u=sjcl.bitArray,a=u.bitLength(n)/8,f=u.bitLength(o
)/8;i=i||64,r=r||[];if(7>a)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes"
);for(s=2;4>s&&f>>>8*s;s++);return s<15-a&&(s=15-a),n=u.clamp(n,8*(15-s)),t=sjcl
.mode.ccm.V(e,t,n,r,i,s),o=sjcl.mode.ccm.C(e,o,n,t,i,s),u.concat(o.data,o.tag)},
decrypt:function(e,t,n,r,i){i=i||64,r=r||[];var s=sjcl.bitArray,o=s.bitLength(n)/8
,u=s.bitLength(t),a=s.clamp(t,u-i),f=s.bitSlice(t,u-i),u=(u-i)/8;if(7>o)throw new
sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(t=2;4>t&&u>>>8*t;
t++);t<15-o&&(t=15-o),n=s.clamp(n,8*(15-t)),a=sjcl.mode.ccm.C(e,a,n,f,i,t),e=sjcl
.mode.ccm.V(e,a.data,n,r,i,t);if(!s.equal(a.tag,e))throw new sjcl.exception.corrupt
("ccm: tag doesn't match");return a.data},na:function(e,t,n,r,i,s){var o=[],u=sjcl
.bitArray,a=u.i;r=[u.partial(8,(t.length?64:0)|r-2<<2|s-1)],r=u.concat(r,n),r[3]|=
i,r=e.encrypt(r);if(t.length)for(n=u.bitLength(t)/8,65279>=n?o=[u.partial(16,n)]
:4294967295>=n&&(o=u.concat([u.partial(16,65534)],[n])),o=u.concat(o,t),t=0;t<o.
length;t+=4)r=e.encrypt(a(r,o.slice(t,t+4).concat([0,0,0])));return r},V:function(
e,t,n,r,i,s){var o=sjcl.bitArray,u=o.i;i/=8;if(i%2||4>i||16<i)throw new sjcl.exception
.invalid("ccm: invalid tag length");if(4294967295<r.length||4294967295<t.length)
throw new sjcl.exception.bug("ccm: can't deal with 4GiB or more data");n=sjcl.mode
.ccm.na(e,r,n,i,o.bitLength(t)/8,s);for(r=0;r<t.length;r+=4)n=e.encrypt(u(n,t.slice
(r,r+4).concat([0,0,0])));return o.clamp(n,8*i)},C:function(e,t,n,r,i,s){var o,u=
sjcl.bitArray;o=u.i;var a=t.length,f=u.bitLength(t),l=a/50,c=l;n=u.concat([u.partial
(8,s-1)],n).concat([0,0,0]).slice(0,4),r=u.bitSlice(o(r,e.encrypt(n)),0,i);if(!a
)return{tag:r,data:[]};for(o=0;o<a;o+=4)o>l&&(sjcl.mode.ccm.fa(o/a),l+=c),n[3]++
,i=e.encrypt(n),t[o]^=i[0],t[o+1]^=i[1],t[o+2]^=i[2],t[o+3]^=i[3];return{tag:r,data
:u.clamp(t,f)}}},sjcl.mode.ocb2={name:"ocb2",encrypt:function(e,t,n,r,i,s){if(128!==
sjcl.bitArray.bitLength(n))throw new sjcl.exception.invalid("ocb iv must be 128 bits"
);var o,u=sjcl.mode.ocb2.S,a=sjcl.bitArray,f=a.i,l=[0,0,0,0];n=u(e.encrypt(n));var c
,h=[];r=r||[],i=i||64;for(o=0;o+4<t.length;o+=4)c=t.slice(o,o+4),l=f(l,c),h=h.concat
(f(n,e.encrypt(f(n,c)))),n=u(n);return c=t.slice(o),t=a.bitLength(c),o=e.encrypt
(f(n,[0,0,0,t])),c=a.clamp(f(c.concat([0,0,0]),o),t),l=f(l,f(c.concat([0,0,0]),o
)),l=e.encrypt(f(l,f(n,u(n)))),r.length&&(l=f(l,s?r:sjcl.mode.ocb2.pmac(e,r))),h
.concat(a.concat(c,a.clamp(l,i)))},decrypt:function(e,t,n,r,i,s){if(128!==sjcl.bitArray
.bitLength(n))throw new sjcl.exception.invalid("ocb iv must be 128 bits");i=i||64
;var o=sjcl.mode.ocb2.S,u=sjcl.bitArray,a=u.i,f=[0,0,0,0],l=o(e.encrypt(n)),c,h,
p=sjcl.bitArray.bitLength(t)-i,d=[];r=r||[];for(n=0;n+4<p/32;n+=4)c=a(l,e.decrypt
(a(l,t.slice(n,n+4)))),f=a(f,c),d=d.concat(c),l=o(l);h=p-32*n,c=e.encrypt(a(l,[0
,0,0,h])),c=a(c,u.clamp(t.slice(n),h).concat([0,0,0])),f=a(f,c),f=e.encrypt(a(f,
a(l,o(l)))),r.length&&(f=a(f,s?r:sjcl.mode.ocb2.pmac(e,r)));if(!u.equal(u.clamp(
f,i),u.bitSlice(t,p)))throw new sjcl.exception.corrupt("ocb: tag doesn't match")
;return d.concat(u.clamp(c,h))},pmac:function(e,t){var n,r=sjcl.mode.ocb2.S,i=sjcl
.bitArray,s=i.i,o=[0,0,0,0],u=e.encrypt([0,0,0,0]),u=s(u,r(r(u)));for(n=0;n+4<t.
length;n+=4)u=r(u),o=s(o,e.encrypt(s(u,t.slice(n,n+4))));return n=t.slice(n),128>
i.bitLength(n)&&(u=s(u,r(u)),n=i.concat(n,[-2147483648,0,0,0])),o=s(o,n),e.encrypt
(s(r(s(u,r(u))),o))},S:function(e){return[e[0]<<1^e[1]>>>31,e[1]<<1^e[2]>>>31,e[2
]<<1^e[3]>>>31,e[3]<<1^135*(e[0]>>>31)]}},sjcl.mode.gcm={name:"gcm",encrypt:function(
e,t,n,r,i){var s=t.slice(0);return t=sjcl.bitArray,r=r||[],e=sjcl.mode.gcm.C(!0,
e,s,r,n,i||128),t.concat(e.data,e.tag)},decrypt:function(e,t,n,r,i){var s=t.slice
(0),o=sjcl.bitArray,u=o.bitLength(s);i=i||128,r=r||[],i<=u?(t=o.bitSlice(s,u-i),
s=o.bitSlice(s,0,u-i)):(t=s,s=[]),e=sjcl.mode.gcm.C(!1,e,s,r,n,i);if(!o.equal(e.
tag,t))throw new sjcl.exception.corrupt("gcm: tag doesn't match");return e.data}
,ka:function(e,t){var n,r,i,s,o,u=sjcl.bitArray.i;i=[0,0,0,0],s=t.slice(0);for(n=0
;128>n;n++){(r=0!==(e[Math.floor(n/32)]&1<<31-n%32))&&(i=u(i,s)),o=0!==(s[3]&1);
for(r=3;0<r;r--)s[r]=s[r]>>>1|(s[r-1]&1)<<31;s[0]>>>=1,o&&(s[0]^=-520093696)}return i
},j:function(e,t,n){var r,i=n.length;t=t.slice(0);for(r=0;r<i;r+=4)t[0]^=4294967295&
n[r],t[1]^=4294967295&n[r+1],t[2]^=4294967295&n[r+2],t[3]^=4294967295&n[r+3],t=sjcl
.mode.gcm.ka(t,e);return t},C:function(e,t,n,r,i,s){var o,u,a,f,l,c,h,p,d=sjcl.bitArray
;c=n.length,h=d.bitLength(n),p=d.bitLength(r),u=d.bitLength(i),o=t.encrypt([0,0,0
,0]),96===u?(i=i.slice(0),i=d.concat(i,[1])):(i=sjcl.mode.gcm.j(o,[0,0,0,0],i),i=
sjcl.mode.gcm.j(o,i,[0,0,Math.floor(u/4294967296),u&4294967295])),u=sjcl.mode.gcm
.j(o,[0,0,0,0],r),l=i.slice(0),r=u.slice(0),e||(r=sjcl.mode.gcm.j(o,u,n));for(f=0
;f<c;f+=4)l[3]++,a=t.encrypt(l),n[f]^=a[0],n[f+1]^=a[1],n[f+2]^=a[2],n[f+3]^=a[3
];return n=d.clamp(n,h),e&&(r=sjcl.mode.gcm.j(o,u,n)),e=[Math.floor(p/4294967296
),p&4294967295,Math.floor(h/4294967296),h&4294967295],r=sjcl.mode.gcm.j(o,r,e),a=
t.encrypt(i),r[0]^=a[0],r[1]^=a[1],r[2]^=a[2],r[3]^=a[3],{tag:d.bitSlice(r,0,s),
data:n}}},sjcl.misc.hmac=function(e,t){this.W=t=t||sjcl.hash.sha256;var n=[[],[]
],r,i=t.prototype.blockSize/32;this.w=[new t,new t],e.length>i&&(e=t.hash(e));for(
r=0;r<i;r++)n[0][r]=e[r]^909522486,n[1][r]=e[r]^1549556828;this.w[0].update(n[0]
),this.w[1].update(n[1]),this.R=new t(this.w[0])},sjcl.misc.hmac.prototype.encrypt=
sjcl.misc.hmac.prototype.mac=function(e){if(this.aa)throw new sjcl.exception.invalid
("encrypt on already updated hmac called!");return this.update(e),this.digest(e)
},sjcl.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]),this.aa=!1
},sjcl.misc.hmac.prototype.update=function(e){this.aa=!0,this.R.update(e)},sjcl.
misc.hmac.prototype.digest=function(){var e=this.R.finalize(),e=(new this.W(this
.w[1])).update(e).finalize();return this.reset(),e},sjcl.misc.pbkdf2=function(e,
t,n,r,i){n=n||1e4;if(0>r||0>n)throw new sjcl.exception.invalid("invalid params to pbkdf2"
);"string"==typeof e&&(e=sjcl.codec.utf8String.toBits(e)),"string"==typeof t&&(t=
sjcl.codec.utf8String.toBits(t)),i=i||sjcl.misc.hmac,e=new i(e);var s,o,u,a,f=[]
,l=sjcl.bitArray;for(a=1;32*f.length<(r||1);a++){i=s=e.encrypt(l.concat(t,[a]));
for(o=1;o<n;o++)for(s=e.encrypt(s),u=0;u<s.length;u++)i[u]^=s[u];f=f.concat(i)}return r&&
(f=l.clamp(f,r)),f},sjcl.prng=function(e){this.c=[new sjcl.hash.sha256],this.m=[0
],this.P=0,this.H={},this.N=0,this.U={},this.Z=this.f=this.o=this.ha=0,this.b=[0
,0,0,0,0,0,0,0],this.h=[0,0,0,0],this.L=void 0,this.M=e,this.D=!1,this.K={progress
:{},seeded:{}},this.u=this.ga=0,this.I=1,this.J=2,this.ca=65536,this.T=[0,48,64,96
,128,192,256,384,512,768,1024],this.da=3e4,this.ba=80},sjcl.prng.prototype={randomWords
:function(e,t){var n=[],r;r=this.isReady(t);var i;if(r===this.u)throw new sjcl.exception
.notReady("generator isn't seeded");if(r&this.J){r=!(r&this.I),i=[];var s=0,o;this
.Z=i[0]=(new Date).valueOf()+this.da;for(o=0;16>o;o++)i.push(4294967296*Math.random
()|0);for(o=0;o<this.c.length&&(i=i.concat(this.c[o].finalize()),s+=this.m[o],this
.m[o]=0,r||!(this.P&1<<o));o++);this.P>=1<<this.c.length&&(this.c.push(new sjcl.
hash.sha256),this.m.push(0)),this.f-=s,s>this.o&&(this.o=s),this.P++,this.b=sjcl
.hash.sha256.hash(this.b.concat(i)),this.L=new sjcl.cipher.aes(this.b);for(r=0;4>
r&&(this.h[r]=this.h[r]+1|0,!this.h[r]);r++);}for(r=0;r<e;r+=4)0===(r+1)%this.ca&&
y(this),i=z(this),n.push(i[0],i[1],i[2],i[3]);return y(this),n.slice(0,e)},setDefaultParanoia
:function(e,t){if(0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==
t)throw new sjcl.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing"
);this.M=e},addEntropy:function(e,t,n){n=n||"user";var r,i,s=(new Date).valueOf(
),o=this.H[n],u=this.isReady(),a=0;r=this.U[n],void 0===r&&(r=this.U[n]=this.ha++
),void 0===o&&(o=this.H[n]=0),this.H[n]=(this.H[n]+1)%this.c.length;switch(typeof
e){case"number":void 0===t&&(t=1),this.c[o].update([r,this.N++,1,t,s,1,e|0]);break;
case"object":n=Object.prototype.toString.call(e);if("[object Uint32Array]"===n){
i=[];for(n=0;n<e.length;n++)i.push(e[n]);e=i}else for("[object Array]"!==n&&(a=1
),n=0;n<e.length&&!a;n++)"number"!=typeof e[n]&&(a=1);if(!a){if(void 0===t)for(n=
t=0;n<e.length;n++)for(i=e[n];0<i;)t++,i>>>=1;this.c[o].update([r,this.N++,2,t,s
,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this.c[o].update
([r,this.N++,3,t,s,e.length]),this.c[o].update(e);break;default:a=1}if(a)throw new
sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string"
);this.m[o]+=t,this.f+=t,u===this.u&&(this.isReady()!==this.u&&A("seeded",Math.max
(this.o,this.f)),A("progress",this.getProgress()))},isReady:function(e){return e=
this.T[void 0!==e?e:this.M],this.o&&this.o>=e?this.m[0]>this.ba&&(new Date).valueOf
()>this.Z?this.J|this.I:this.I:this.f>=e?this.J|this.u:this.u},getProgress:function(
e){return e=this.T[e?e:this.M],this.o>=e?1:this.f>e?1:this.f/e},startCollectors:
function(){if(!this.D){this.a={loadTimeCollector:B(this,this.ma),mouseCollector:
B(this,this.oa),keyboardCollector:B(this,this.la),accelerometerCollector:B(this,
this.ea),touchCollector:B(this,this.qa)};if(window.addEventListener)window.addEventListener
("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.
mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1
),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window
.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent
)throw new sjcl.exception.bug("can't attach event");document.attachEvent("onload"
,this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector
),document.attachEvent("keypress",this.a.keyboardCollector)}this.D=!0}},stopCollectors
:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load"
,this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector
,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener
("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove"
,this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload"
,this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector
),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener
:function(e,t){this.K[e][this.ga++]=t},removeEventListener:function(e,t){var n,r
,i=this.K[e],s=[];for(r in i)i.hasOwnProperty(r)&&i[r]===t&&s.push(r);for(n=0;n<
s.length;n++)r=s[n],delete i[r]},la:function(){C(this,1)},oa:function(e){var t,n
;try{t=e.x||e.clientX||e.offsetX||0,n=e.y||e.clientY||e.offsetY||0}catch(r){n=t=0
}0!=t&&0!=n&&this.addEntropy([t,n],2,"mouse"),C(this,0)},qa:function(e){e=e.touches
[0]||e.changedTouches[0],this.addEntropy([e.pageX||e.clientX,e.pageY||e.clientY]
,1,"touch"),C(this,0)},ma:function(){C(this,2)},ea:function(e){e=e.accelerationIncludingGravity
.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z;if(window
.orientation){var t=window.orientation;"number"==typeof t&&this.addEntropy(t,1,"accelerometer"
)}e&&this.addEntropy(e,2,"accelerometer"),C(this,0)}},sjcl.random=new sjcl.prng(6
);e:try{var D,E,F,G;if(G="undefined"!=typeof module&&module.exports){var H;try{H=
require("crypto")}catch(a){H=null}G=E=H}if(G&&E.randomBytes)D=E.randomBytes(128)
,D=new Uint32Array((new Uint8Array(D)).buffer),sjcl.random.addEntropy(D,1024,"crypto['randomBytes']"
);else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){F=new Uint32Array
(32);if(window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues
(F);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto
.getRandomValues(F)}sjcl.random.addEntropy(F,1024,"crypto['getRandomValues']")}}
catch(a){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"
),console.log(a))}sjcl.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata
:"",cipher:"aes"},ja:function(e,t,n,r){n=n||{},r=r||{};var i=sjcl.json,s=i.g({iv
:sjcl.random.randomWords(4,0)},i.defaults),o;i.g(s,n),n=s.adata,"string"==typeof
s.salt&&(s.salt=sjcl.codec.base64.toBits(s.salt)),"string"==typeof s.iv&&(s.iv=sjcl
.codec.base64.toBits(s.iv));if(!sjcl.mode[s.mode]||!sjcl.cipher[s.cipher]||"string"==typeof
e&&100>=s.iter||64!==s.ts&&96!==s.ts&&128!==s.ts||128!==s.ks&&192!==s.ks&&256!==
s.ks||2>s.iv.length||4<s.iv.length)throw new sjcl.exception.invalid("json encrypt: invalid parameters"
);return"string"==typeof e?(o=sjcl.misc.cachedPbkdf2(e,s),e=o.key.slice(0,s.ks/32
),s.salt=o.salt):sjcl.ecc&&e instanceof sjcl.ecc.elGamal.publicKey&&(o=e.kem(),s
.kemtag=o.tag,e=o.key.slice(0,s.ks/32)),"string"==typeof t&&(t=sjcl.codec.utf8String
.toBits(t)),"string"==typeof n&&(s.adata=n=sjcl.codec.utf8String.toBits(n)),o=new
sjcl.cipher[s.cipher](e),i.g(r,s),r.key=e,s.ct="ccm"===s.mode&&sjcl.arrayBuffer&&
sjcl.arrayBuffer.ccm&&t instanceof ArrayBuffer?sjcl.arrayBuffer.ccm.encrypt(o,t,
s.iv,n,s.ts):sjcl.mode[s.mode].encrypt(o,t,s.iv,n,s.ts),s},encrypt:function(e,t,
n,r){var i=sjcl.json,s=i.ja.apply(i,arguments);return i.encode(s)},ia:function(e
,t,n,r){n=n||{},r=r||{};var i=sjcl.json;t=i.g(i.g(i.g({},i.defaults),t),n,!0);var s
,o;s=t.adata,"string"==typeof t.salt&&(t.salt=sjcl.codec.base64.toBits(t.salt)),"string"==typeof
t.iv&&(t.iv=sjcl.codec.base64.toBits(t.iv));if(!sjcl.mode[t.mode]||!sjcl.cipher[
t.cipher]||"string"==typeof e&&100>=t.iter||64!==t.ts&&96!==t.ts&&128!==t.ts||128!==
t.ks&&192!==t.ks&&256!==t.ks||!t.iv||2>t.iv.length||4<t.iv.length)throw new sjcl
.exception.invalid("json decrypt: invalid parameters");return"string"==typeof e?
(o=sjcl.misc.cachedPbkdf2(e,t),e=o.key.slice(0,t.ks/32),t.salt=o.salt):sjcl.ecc&&
e instanceof sjcl.ecc.elGamal.secretKey&&(e=e.unkem(sjcl.codec.base64.toBits(t.kemtag
)).slice(0,t.ks/32)),"string"==typeof s&&(s=sjcl.codec.utf8String.toBits(s)),o=new
sjcl.cipher[t.cipher](e),s="ccm"===t.mode&&sjcl.arrayBuffer&&sjcl.arrayBuffer.ccm&&
t.ct instanceof ArrayBuffer?sjcl.arrayBuffer.ccm.decrypt(o,t.ct,t.iv,t.tag,s,t.ts
):sjcl.mode[t.mode].decrypt(o,t.ct,t.iv,s,t.ts),i.g(r,t),r.key=e,1===n.raw?s:sjcl
.codec.utf8String.fromBits(s)},decrypt:function(e,t,n,r){var i=sjcl.json;return i
.ia(e,i.decode(t),n,r)},encode:function(e){var t,n="{",r="";for(t in e)if(e.hasOwnProperty
(t)){if(!t.match(/^[a-z0-9]+$/i))throw new sjcl.exception.invalid("json encode: invalid property name"
);n+=r+'"'+t+'":',r=",";switch(typeof e[t]){case"number":case"boolean":n+=e[t];break;
case"string":n+='"'+escape(e[t])+'"';break;case"object":n+='"'+sjcl.codec.base64
.fromBits(e[t],0)+'"';break;default:throw new sjcl.exception.bug("json encode: unsupported type"
)}}return n+"}"},decode:function(e){e=e.replace(/\s/g,"");if(!e.match(/^\{.*\}$/
))throw new sjcl.exception.invalid("json decode: this isn't json!");e=e.replace(/^\{|\}$/g
,"").split(/,/);var t={},n,r;for(n=0;n<e.length;n++){if(!(r=e[n].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i
)))throw new sjcl.exception.invalid("json decode: this isn't json!");null!=r[3]?
t[r[2]]=parseInt(r[3],10):null!=r[4]?t[r[2]]=r[2].match(/^(ct|adata|salt|iv)$/)?
sjcl.codec.base64.toBits(r[4]):unescape(r[4]):null!=r[5]&&(t[r[2]]="true"===r[5]
)}return t},g:function(e,t,n){void 0===e&&(e={});if(void 0===t)return e;for(var r in
t)if(t.hasOwnProperty(r)){if(n&&void 0!==e[r]&&e[r]!==t[r])throw new sjcl.exception
.invalid("required parameter overridden");e[r]=t[r]}return e},sa:function(e,t){var n=
{},r;for(r in e)e.hasOwnProperty(r)&&e[r]!==t[r]&&(n[r]=e[r]);return n},ra:function(
e,t){var n={},r;for(r=0;r<t.length;r++)void 0!==e[t[r]]&&(n[t[r]]=e[t[r]]);return n
}},sjcl.encrypt=sjcl.json.encrypt,sjcl.decrypt=sjcl.json.decrypt,sjcl.misc.pa={}
,sjcl.misc.cachedPbkdf2=function(e,t){var n=sjcl.misc.pa,r;return t=t||{},r=t.iter||1e3
,n=n[e]=n[e]||{},r=n[r]=n[r]||{firstSalt:t.salt&&t.salt.length?t.salt.slice(0):sjcl
.random.randomWords(2,0)},n=void 0===t.salt?r.firstSalt:t.salt,r[n]=r[n]||sjcl.misc
.pbkdf2(e,n,t.iter),{key:r[n].slice(0),salt:n.slice(0)}},"undefined"!=typeof module&&
module.exports&&(module.exports=sjcl),"function"==typeof define&&define([],function(
){return sjcl})
local.sjcl = sjcl; }());



// init lib sjcl.hash.sha1
// 2016-06-09T23:25:22Z
// https://github.com/bitwiseshiftleft/sjcl/blob/1.0.6/core/sha1.js
// utility2-uglifyjs https://raw.githubusercontent.com/bitwiseshiftleft/sjcl/1.0.6/core/sha1.js
(function () { var sjcl; sjcl = local.sjcl;
sjcl.hash.sha1=function(e){e?(this._h=e._h.slice(0),this._buffer=e._buffer.slice
(0),this._length=e._length):this.reset()},sjcl.hash.sha1.hash=function(e){return(new
sjcl.hash.sha1).update(e).finalize()},sjcl.hash.sha1.prototype={blockSize:512,reset
:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this
},update:function(e){typeof e=="string"&&(e=sjcl.codec.utf8String.toBits(e));var t
,n=this._buffer=sjcl.bitArray.concat(this._buffer,e),r=this._length,i=this._length=
r+sjcl.bitArray.bitLength(e);if(i>9007199254740991)throw new sjcl.exception.invalid
("Cannot hash more than 2^53 - 1 bits");if(typeof Uint32Array!="undefined"){var s=new
Uint32Array(n),o=0;for(t=this.blockSize+r-(this.blockSize+r&this.blockSize-1);t<=
i;t+=this.blockSize)this._block(s.subarray(16*o,16*(o+1))),o+=1;n.splice(0,16*o)
}else for(t=this.blockSize+r-(this.blockSize+r&this.blockSize-1);t<=i;t+=this.blockSize
)this._block(n.splice(0,16));return this},finalize:function(){var e,t=this._buffer
,n=this._h;t=sjcl.bitArray.concat(t,[sjcl.bitArray.partial(1,1)]);for(e=t.length+2
;e&15;e++)t.push(0);t.push(Math.floor(this._length/4294967296)),t.push(this._length|0
);while(t.length)this._block(t.splice(0,16));return this.reset(),n},_init:[1732584193
,4023233417,2562383102,271733878,3285377520],_key:[1518500249,1859775393,2400959708
,3395469782],_f:function(e,t,n,r){if(e<=19)return t&n|~t&r;if(e<=39)return t^n^r
;if(e<=59)return t&n|t&r|n&r;if(e<=79)return t^n^r},_S:function(e,t){return t<<e|
t>>>32-e},_block:function(e){var t,n,r,i,s,o,u,a=this._h,f;if(typeof Uint32Array!="undefined"
){f=Array(80);for(var l=0;l<16;l++)f[l]=e[l]}else f=e;r=a[0],i=a[1],s=a[2],o=a[3
],u=a[4];for(t=0;t<=79;t++)t>=16&&(f[t]=this._S(1,f[t-3]^f[t-8]^f[t-14]^f[t-16])
),n=this._S(5,r)+this._f(t,i,s,o)+u+f[t]+this._key[Math.floor(t/20)]|0,u=o,o=s,s=
this._S(30,i),i=r,r=n;a[0]=a[0]+r|0,a[1]=a[1]+i|0,a[2]=a[2]+s|0,a[3]=a[3]+o|0,a[4
]=a[4]+u|0}}
}());



// init lib sjcl.misc.scrypt
// 2016-05-31T18:10:00Z
// https://github.com/bitwiseshiftleft/sjcl/blob/1.0.6/core/scrypt.js
// utility2-uglifyjs https://raw.githubusercontent.com/bitwiseshiftleft/sjcl/1.0.6/core/scrypt.js
(function () { var sjcl; sjcl = local.sjcl;
sjcl.misc.scrypt=function(e,t,n,r,i,s,o){var u=Math.pow(2,32)-1,a=sjcl.misc.scrypt
;n=n||16384,r=r||8,i=i||1;if(r*i>=Math.pow(2,30))throw sjcl.exception.invalid("The parameters r, p must satisfy r * p < 2^30"
);if(n<2||n&n-1!=0)throw sjcl.exception.invalid("The parameter N must be a power of 2."
);if(n>u/128/r)throw sjcl.exception.invalid("N too big.");if(r>u/128/i)throw sjcl
.exception.invalid("r too big.");var f=sjcl.misc.pbkdf2(e,t,1,i*128*r*8,o),l=f.length/
i;a.reverse(f);for(var c=0;c<i;c++){var h=f.slice(c*l,(c+1)*l);a.blockcopy(a.ROMix
(h,n),0,f,c*l)}return a.reverse(f),sjcl.misc.pbkdf2(e,f,1,s,o)},sjcl.misc.scrypt
.salsa20Core=function(e,t){var n=function(e,t){return e<<t|e>>>32-t},r=e.slice(0
);for(var i=t;i>0;i-=2)r[4]^=n(r[0]+r[12],7),r[8]^=n(r[4]+r[0],9),r[12]^=n(r[8]+
r[4],13),r[0]^=n(r[12]+r[8],18),r[9]^=n(r[5]+r[1],7),r[13]^=n(r[9]+r[5],9),r[1]^=
n(r[13]+r[9],13),r[5]^=n(r[1]+r[13],18),r[14]^=n(r[10]+r[6],7),r[2]^=n(r[14]+r[10
],9),r[6]^=n(r[2]+r[14],13),r[10]^=n(r[6]+r[2],18),r[3]^=n(r[15]+r[11],7),r[7]^=
n(r[3]+r[15],9),r[11]^=n(r[7]+r[3],13),r[15]^=n(r[11]+r[7],18),r[1]^=n(r[0]+r[3]
,7),r[2]^=n(r[1]+r[0],9),r[3]^=n(r[2]+r[1],13),r[0]^=n(r[3]+r[2],18),r[6]^=n(r[5
]+r[4],7),r[7]^=n(r[6]+r[5],9),r[4]^=n(r[7]+r[6],13),r[5]^=n(r[4]+r[7],18),r[11]^=
n(r[10]+r[9],7),r[8]^=n(r[11]+r[10],9),r[9]^=n(r[8]+r[11],13),r[10]^=n(r[9]+r[8]
,18),r[12]^=n(r[15]+r[14],7),r[13]^=n(r[12]+r[15],9),r[14]^=n(r[13]+r[12],13),r[15
]^=n(r[14]+r[13],18);for(i=0;i<16;i++)e[i]=r[i]+e[i]},sjcl.misc.scrypt.blockMix=
function(e){var t=e.slice(-16),n=[],r=e.length/16,i=sjcl.misc.scrypt;for(var s=0
;s<r;s++)i.blockxor(e,16*s,t,0,16),i.salsa20Core(t,8),(s&1)==0?i.blockcopy(t,0,n
,8*s):i.blockcopy(t,0,n,8*(s^1+r));return n},sjcl.misc.scrypt.ROMix=function(e,t
){var n=e.slice(0),r=[],i=sjcl.misc.scrypt;for(var s=0;s<t;s++)r.push(n.slice(0)
),n=i.blockMix(n);for(s=0;s<t;s++){var o=n[n.length-16]&t-1;i.blockxor(r[o],0,n,0
),n=i.blockMix(n)}return n},sjcl.misc.scrypt.reverse=function(e){for(var t in e)
{var n=e[t]&255;n=n<<8|e[t]>>>8&255,n=n<<8|e[t]>>>16&255,n=n<<8|e[t]>>>24&255,e[
t]=n}},sjcl.misc.scrypt.blockcopy=function(e,t,n,r,i){var s;i=i||e.length-t;for(
s=0;s<i;s++)n[r+s]=e[t+s]|0},sjcl.misc.scrypt.blockxor=function(e,t,n,r,i){var s
;i=i||e.length-t;for(s=0;s<i;s++)n[r+s]=n[r+s]^e[t+s]|0}
}());
/* jslint-ignore-end */
        // init exports
        if (local.modeJs === 'browser') {
            local.global.utility2_sjcl = local.sjcl;
        } else {
            module.exports = local.sjcl;
            module.exports.__dirname = __dirname;
        }
    }());
}());
/* script-end /assets.utility2.lib.sjcl.js */



/* script-begin /assets.utility2.lib.uglifyjs.js */
///usr/bin/env node
/* istanbul instrument in package uglifyjs */
/* jslint-utility2 */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;



    // run shared js-env code - init-before
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || local;
        /* istanbul ignore next */
        if (!local) {
            local = local.global.utility2_rollup ||
                local.global.utility2_rollup_old ||
                require('./assets.utility2.rollup.js');
            local.fs = null;
        }
        // init exports
        if (local.modeJs === 'browser') {
            local.global.utility2_uglifyjs = local;
        } else {
            // require builtins
            // local.assert = require('assert');
            local.buffer = require('buffer');
            local.child_process = require('child_process');
            local.cluster = require('cluster');
            local.console = require('console');
            local.constants = require('constants');
            local.crypto = require('crypto');
            local.dgram = require('dgram');
            local.dns = require('dns');
            local.domain = require('domain');
            local.events = require('events');
            local.fs = require('fs');
            local.http = require('http');
            local.https = require('https');
            local.module = require('module');
            local.net = require('net');
            local.os = require('os');
            local.path = require('path');
            local.process = require('process');
            local.punycode = require('punycode');
            local.querystring = require('querystring');
            local.readline = require('readline');
            local.repl = require('repl');
            local.stream = require('stream');
            local.string_decoder = require('string_decoder');
            local.timers = require('timers');
            local.tls = require('tls');
            local.tty = require('tty');
            local.url = require('url');
            local.util = require('util');
            local.v8 = require('v8');
            local.vm = require('vm');
            local.zlib = require('zlib');
/* validateLineSortedReset */
            module.exports = local;
            module.exports.__dirname = __dirname;
        }
        // init lib
        local.local = local.uglifyjs = local;
    }());



    // run shared js-env code - function-before
    (function () {
        local.cliRun = function (fnc) {
        /*
         * this function will run the cli
         */
            var nop;
            nop = function () {
            /*
             * this function will do nothing
             */
                return;
            };
            local.cliDict._eval = local.cliDict._eval || function () {
            /*
             * code
             * eval code
             */
                local.global.local = local;
                require('vm').runInThisContext(process.argv[3]);
            };
            local.cliDict['--eval'] = local.cliDict['--eval'] || local.cliDict._eval;
            local.cliDict['-e'] = local.cliDict['-e'] || local.cliDict._eval;
            local.cliDict._help = local.cliDict._help || function () {
            /*
             * [none]
             * print help
             */
                var element, result, lengthList, sortDict;
                console.log(require(__dirname + '/package.json').name + ' v' +
                    require(__dirname + '/package.json').version);
                sortDict = {};
                result = [['[command]', '[args]', '[description]', -1]];
                lengthList = [result[0][0].length, result[0][1].length];
                Object.keys(local.cliDict).sort().forEach(function (key, ii) {
                    if (key[0] === '_' && key !== '_default') {
                        return;
                    }
                    sortDict[local.cliDict[key].toString()] =
                        sortDict[local.cliDict[key].toString()] || (ii + 1);
                    element = (/\n +\*(.*)\n +\*(.*)/).exec(local.cliDict[key].toString());
                    // coverage-hack - ignore else-statement
                    nop(local.global.__coverage__ && (function () {
                        element = element || ['', '', ''];
                    }()));
                    element = [
                        key.replace('_default', '[none]') + ' ',
                        element[1].trim() + ' ',
                        element[2].trim(),
                        (sortDict[local.cliDict[key].toString()] << 8) + ii
                    ];
                    result.push(element);
                    lengthList.forEach(function (length, jj) {
                        lengthList[jj] = Math.max(element[jj].length, length);
                    });
                });
                result.sort(function (aa, bb) {
                    return aa[3] < bb[3]
                        ? -1
                        : 1;
                });
                console.log('usage:   ' + __filename + ' [command] [args]');
                console.log('example: ' + __filename + ' --eval    ' +
                    '"console.log(\'hello world\')"\n');
                result.forEach(function (element, ii) {
                    lengthList.forEach(function (length, jj) {
                        while (element[jj].length < length) {
                            element[jj] += '-';
                        }
                    });
                    element = element.slice(0, 3).join('---- ');
                    if (!ii) {
                        element = element.replace((/-/g), ' ');
                    }
                    console.log(element);
                });
            };
            local.cliDict['--help'] = local.cliDict['--help'] || local.cliDict._help;
            local.cliDict['-h'] = local.cliDict['-h'] || local.cliDict._help;
            local.cliDict._default = local.cliDict._default || local.cliDict._help;
            local.cliDict.help = local.cliDict.help || local.cliDict._help;
            local.cliDict._interactive = local.cliDict._interactive || function () {
            /*
             * [none]
             * start interactive-mode
             */
                local.global.local = local;
                local.replStart();
            };
            if (local.replStart) {
                local.cliDict['--interactive'] = local.cliDict['--interactive'] ||
                    local.cliDict._interactive;
                local.cliDict['-i'] = local.cliDict['-i'] || local.cliDict._interactive;
            }
            local.cliDict._version = local.cliDict._version || function () {
            /*
             * [none]
             * print version
             */
                console.log(require(__dirname + '/package.json').version);
            };
            local.cliDict['--version'] = local.cliDict['--version'] || local.cliDict._version;
            local.cliDict['-v'] = local.cliDict['-v'] || local.cliDict._version;
            // run fnc()
            fnc = fnc || function () {
                if (local.cliDict[process.argv[2]]) {
                    local.cliDict[process.argv[2]]();
                    return;
                }
                local.cliDict._default();
            };
            fnc();
        };
    }());



    /* istanbul ignore next */
    // run shared js-env code - function
    (function () {
        var exports, require;
        // init exports
        exports = local;
        require = function () {
            return exports;
        };
        // jslint-hack
        require();



/* jslint-ignore-begin */
// init lib parse-js
// https://github.com/mishoo/UglifyJS/blob/v1.3.5/lib/parse-js.js
// utility2-uglifyjs https://raw.githubusercontent.com/mishoo/UglifyJS/v1.3.5/lib/parse-js.js
function is_letter(e){return UNICODE.letter.test(e)}function is_digit(e){return e=
e.charCodeAt(0),e>=48&&e<=57}function is_unicode_digit(e){return UNICODE.digit.test
(e)}function is_alphanumeric_char(e){return is_digit(e)||is_letter(e)}function is_unicode_combining_mark
(e){return UNICODE.combining_mark.test(e)}function is_unicode_connector_punctuation
(e){return UNICODE.connector_punctuation.test(e)}function is_identifier_start(e)
{return e=="$"||e=="_"||is_letter(e)}function is_identifier_char(e){return is_identifier_start
(e)||is_unicode_combining_mark(e)||is_unicode_digit(e)||is_unicode_connector_punctuation
(e)||e=="\u200c"||e=="\u200d"}function parse_js_number(e){if(RE_HEX_NUMBER.test(
e))return parseInt(e.substr(2),16);if(RE_OCT_NUMBER.test(e))return parseInt(e.substr
(1),8);if(RE_DEC_NUMBER.test(e))return parseFloat(e)}function JS_Parse_Error(e,t
,n,r){this.message=e,this.line=t+1,this.col=n+1,this.pos=r+1,this.stack=(new Error
).stack}function js_error(e,t,n,r){throw new JS_Parse_Error(e,t,n,r)}function is_token
(e,t,n){return e.type==t&&(n==null||e.value==n)}function tokenizer(e){function n
(){return t.text.charAt(t.pos)}function r(e,n){var r=t.text.charAt(t.pos++);if(e&&!
r)throw EX_EOF;return r=="\n"?(t.newline_before=t.newline_before||!n,++t.line,t.
col=0):++t.col,r}function i(){return!t.peek()}function s(e,n){var r=t.text.indexOf
(e,t.pos);if(n&&r==-1)throw EX_EOF;return r}function o(){t.tokline=t.line,t.tokcol=
t.col,t.tokpos=t.pos}function u(e,n,r){t.regex_allowed=e=="operator"&&!HOP(UNARY_POSTFIX
,n)||e=="keyword"&&HOP(KEYWORDS_BEFORE_EXPRESSION,n)||e=="punc"&&HOP(PUNC_BEFORE_EXPRESSION
,n);var i={type:e,value:n,line:t.tokline,col:t.tokcol,pos:t.tokpos,endpos:t.pos,
nlb:t.newline_before};if(!r){i.comments_before=t.comments_before,t.comments_before=
[];for(var s=0,o=i.comments_before.length;s<o;s++)i.nlb=i.nlb||i.comments_before
[s].nlb}return t.newline_before=!1,i}function a(){while(HOP(WHITESPACE_CHARS,n()
))r()}function f(e){var t="",i=n(),s=0;while(i&&e(i,s++))t+=r(),i=n();return t}function l
(e){js_error(e,t.tokline,t.tokcol,t.tokpos)}function c(e){var t=!1,n=!1,r=!1,i=e=="."
,s=f(function(s,o){return s=="x"||s=="X"?r?!1:r=!0:!!r||s!="E"&&s!="e"?s=="-"?n||
o==0&&!e?!0:!1:s=="+"?n:(n=!1,s=="."?!i&&!r&&!t?i=!0:!1:is_alphanumeric_char(s))
:t?!1:t=n=!0});e&&(s=e+s);var o=parse_js_number(s);if(!isNaN(o))return u("num",o
);l("Invalid syntax: "+s)}function h(e){var t=r(!0,e);switch(t){case"n":return"\n"
;case"r":return"\r";case"t":return"\t";case"b":return"\b";case"v":return"";case"f"
:return"\f";case"0":return"\0";case"x":return String.fromCharCode(p(2));case"u":
return String.fromCharCode(p(4));case"\n":return"";default:return t}}function p(
e){var t=0;for(;e>0;--e){var n=parseInt(r(!0),16);isNaN(n)&&l("Invalid hex-character pattern in string"
),t=t<<4|n}return t}function d(){return x("Unterminated string constant",function(
){var e=r(),t="";for(;;){var n=r(!0);if(n=="\\"){var i=0,s=null;n=f(function(e){
if(e>="0"&&e<="7"){if(!s)return s=e,++i;if(s<="3"&&i<=2)return++i;if(s>="4"&&i<=1
)return++i}return!1}),i>0?n=String.fromCharCode(parseInt(n,8)):n=h(!0)}else{if(n==
e)break;if(n=="\n")throw EX_EOF}t+=n}return u("string",t)})}function v(){r();var e=
s("\n"),n;return e==-1?(n=t.text.substr(t.pos),t.pos=t.text.length):(n=t.text.substring
(t.pos,e),t.pos=e),u("comment1",n,!0)}function m(){return r(),x("Unterminated multiline comment"
,function(){var e=s("*/",!0),n=t.text.substring(t.pos,e);return t.pos=e+2,t.line+=
n.split("\n").length-1,t.newline_before=t.newline_before||n.indexOf("\n")>=0,/^@cc_on/i
.test(n)&&(warn("WARNING: at line "+t.line),warn('*** Found "conditional comment": '+
n),warn("*** UglifyJS DISCARDS ALL COMMENTS.  This means your code might no longer work properly in Internet Explorer."
)),u("comment2",n,!0)})}function g(){var e=!1,t="",i,s=!1,o;while((i=n())!=null)
if(!e)if(i=="\\")s=e=!0,r();else{if(!is_identifier_char(i))break;t+=r()}else i!="u"&&
l("Expecting UnicodeEscapeSequence -- uXXXX"),i=h(),is_identifier_char(i)||l("Unicode char: "+
i.charCodeAt(0)+" is not valid in identifier"),t+=i,e=!1;return HOP(KEYWORDS,t)&&
s&&(o=t.charCodeAt(0).toString(16).toUpperCase(),t="\\u"+"0000".substr(o.length)+
o+t.slice(1)),t}function y(e){return x("Unterminated regular expression",function(
){var t=!1,n,i=!1;while(n=r(!0))if(t)e+="\\"+n,t=!1;else if(n=="[")i=!0,e+=n;else if(
n=="]"&&i)i=!1,e+=n;else{if(n=="/"&&!i)break;n=="\\"?t=!0:e+=n}var s=g();return u
("regexp",[e,s])})}function b(e){function t(e){if(!n())return e;var i=e+n();return HOP
(OPERATORS,i)?(r(),t(i)):e}return u("operator",t(e||r()))}function w(){r();var e=
t.regex_allowed;switch(n()){case"/":return t.comments_before.push(v()),t.regex_allowed=
e,T();case"*":return t.comments_before.push(m()),t.regex_allowed=e,T()}return t.
regex_allowed?y(""):b("/")}function E(){return r(),is_digit(n())?c("."):u("punc"
,".")}function S(){var e=g();return HOP(KEYWORDS,e)?HOP(OPERATORS,e)?u("operator"
,e):HOP(KEYWORDS_ATOM,e)?u("atom",e):u("keyword",e):u("name",e)}function x(e,t){
try{return t()}catch(n){if(n!==EX_EOF)throw n;l(e)}}function T(e){if(e!=null)return y
(e);a(),o();var t=n();if(!t)return u("eof");if(is_digit(t))return c();if(t=='"'||
t=="'")return d();if(HOP(PUNC_CHARS,t))return u("punc",r());if(t==".")return E()
;if(t=="/")return w();if(HOP(OPERATOR_CHARS,t))return b();if(t=="\\"||is_identifier_start
(t))return S();l("Unexpected character '"+t+"'")}var t={text:e.replace(/\r\n?|[\n\u2028\u2029]/g
,"\n").replace(/^\uFEFF/,""),pos:0,tokpos:0,line:0,tokline:0,col:0,tokcol:0,newline_before
:!1,regex_allowed:!1,comments_before:[]};return T.context=function(e){return e&&
(t=e),t},T}function NodeWithToken(e,t,n){this.name=e,this.start=t,this.end=n}function parse
(e,t,n){function i(e,t){return is_token(r.token,e,t)}function s(){return r.peeked||
(r.peeked=r.input())}function o(){return r.prev=r.token,r.peeked?(r.token=r.peeked
,r.peeked=null):r.token=r.input(),r.in_directives=r.in_directives&&(r.token.type=="string"||
i("punc",";")),r.token}function u(){return r.prev}function a(e,t,n,i){var s=r.input
.context();js_error(e,t!=null?t:s.tokline,n!=null?n:s.tokcol,i!=null?i:s.tokpos)
}function f(e,t){a(t,e.line,e.col)}function l(e){e==null&&(e=r.token),f(e,"Unexpected token: "+
e.type+" ("+e.value+")")}function c(e,t){if(i(e,t))return o();f(r.token,"Unexpected token "+
r.token.type+", expected "+e)}function h(e){return c("punc",e)}function p(){return!
t&&(r.token.nlb||i("eof")||i("punc","}"))}function d(){i("punc",";")?o():p()||l(
)}function v(){return slice(arguments)}function m(){h("(");var e=K();return h(")"
),e}function g(e,t,n){return e instanceof NodeWithToken?e:new NodeWithToken(e,t,
n)}function y(e){return n?function(){var t=r.token,n=e.apply(this,arguments);return n
[0]=g(n[0],t,u()),n}:e}function w(e){r.labels.push(e);var n=r.token,i=b();return t&&!
HOP(STATEMENTS_WITH_LABELS,i[0])&&l(n),r.labels.pop(),v("label",e,i)}function E(
){return v("stat",prog1(K,d))}function S(e){var t;return p()||(t=i("name")?r.token
.value:null),t!=null?(o(),member(t,r.labels)||a("Label "+t+" without matching loop or statement"
)):r.in_loop==0&&a(e+" not inside a loop or switch"),d(),v(e,t)}function x(){h("("
);var e=null;if(!i("punc",";")){e=i("keyword","var")?(o(),_(!0)):K(!0,!0);if(i("operator"
,"in"))return e[0]=="var"&&e[1].length>1&&a("Only one variable declaration allowed in for..in loop"
),N(e)}return T(e)}function T(e){h(";");var t=i("punc",";")?null:K();h(";");var n=
i("punc",")")?null:K();return h(")"),v("for",e,t,n,Q(b))}function N(e){var t=e[0
]=="var"?v("name",e[1][0]):e;o();var n=K();return h(")"),v("for-in",e,t,n,Q(b))}
function k(){var e=m(),t=b(),n;return i("keyword","else")&&(o(),n=b()),v("if",e,
t,n)}function L(){h("{");var e=[];while(!i("punc","}"))i("eof")&&l(),e.push(b())
;return o(),e}function O(){var e=L(),t,n;if(i("keyword","catch")){o(),h("("),i("name"
)||a("Name expected");var s=r.token.value;o(),h(")"),t=[s,L()]}return i("keyword"
,"finally")&&(o(),n=L()),!t&&!n&&a("Missing catch/finally blocks"),v("try",e,t,n
)}function M(e){var t=[];for(;;){i("name")||l();var n=r.token.value;o(),i("operator"
,"=")?(o(),t.push([n,K(!1,e)])):t.push([n]);if(!i("punc",","))break;o()}return t
}function _(e){return v("var",M(e))}function D(){return v("const",M())}function P
(){var e=H(!1),t;return i("punc","(")?(o(),t=B(")")):t=[],R(v("new",e,t),!0)}function B
(e,t,n){var r=!0,s=[];while(!i("punc",e)){r?r=!1:h(",");if(t&&i("punc",e))break;
i("punc",",")&&n?s.push(["atom","undefined"]):s.push(K(!1))}return o(),s}function j
(){return v("array",B("]",!t,!0))}function F(){var e=!0,n=[];while(!i("punc","}"
)){e?e=!1:h(",");if(!t&&i("punc","}"))break;var s=r.token.type,u=I();s!="name"||
u!="get"&&u!="set"||!!i("punc",":")?(h(":"),n.push([u,K(!1)])):n.push([q(),C(!1)
,u])}return o(),v("object",n)}function I(){switch(r.token.type){case"num":case"string"
:return prog1(r.token.value,o)}return q()}function q(){switch(r.token.type){case"name"
:case"operator":case"keyword":case"atom":return prog1(r.token.value,o);default:l
()}}function R(e,t){return i("punc",".")?(o(),R(v("dot",e,q()),t)):i("punc","[")?
(o(),R(v("sub",e,prog1(K,curry(h,"]"))),t)):t&&i("punc","(")?(o(),R(v("call",e,B
(")")),!0)):e}function U(e){if(i("operator")&&HOP(UNARY_PREFIX,r.token.value))return z
("unary-prefix",prog1(r.token.value,o),U(e));var t=H(e);while(i("operator")&&HOP
(UNARY_POSTFIX,r.token.value)&&!r.token.nlb)t=z("unary-postfix",r.token.value,t)
,o();return t}function z(e,t,n){return(t=="++"||t=="--")&&!$(n)&&a("Invalid use of "+
t+" operator"),v(e,t,n)}function W(e,t,n){var s=i("operator")?r.token.value:null
;s&&s=="in"&&n&&(s=null);var u=s!=null?PRECEDENCE[s]:null;if(u!=null&&u>t){o();var a=
W(U(!0),u,n);return W(v("binary",s,e,a),t,n)}return e}function X(e){return W(U(!0
),0,e)}function V(e){var t=X(e);if(i("operator","?")){o();var n=K(!1);return h(":"
),v("conditional",t,n,K(!1,e))}return t}function $(e){if(!t)return!0;switch(e[0]+""
){case"dot":case"sub":case"new":case"call":return!0;case"name":return e[1]!="this"
}}function J(e){var t=V(e),n=r.token.value;if(i("operator")&&HOP(ASSIGNMENT,n)){
if($(t))return o(),v("assign",ASSIGNMENT[n],t,J(e));a("Invalid assignment")}return t
}function Q(e){try{return++r.in_loop,e()}finally{--r.in_loop}}var r={input:typeof
e=="string"?tokenizer(e,!0):e,token:null,prev:null,peeked:null,in_function:0,in_directives
:!0,in_loop:0,labels:[]};r.token=o();var b=y(function(){if(i("operator","/")||i("operator"
,"/="))r.peeked=null,r.token=r.input(r.token.value.substr(1));switch(r.token.type
){case"string":var e=r.in_directives,t=E();if(e&&t[1][0]=="string"&&!i("punc",","
))return v("directive",t[1][1]);return t;case"num":case"regexp":case"operator":case"atom"
:return E();case"name":return is_token(s(),"punc",":")?w(prog1(r.token.value,o,o
)):E();case"punc":switch(r.token.value){case"{":return v("block",L());case"[":case"("
:return E();case";":return o(),v("block");default:l()};case"keyword":switch(prog1
(r.token.value,o)){case"break":return S("break");case"continue":return S("continue"
);case"debugger":return d(),v("debugger");case"do":return function(e){return c("keyword"
,"while"),v("do",prog1(m,d),e)}(Q(b));case"for":return x();case"function":return C
(!0);case"if":return k();case"return":return r.in_function==0&&a("'return' outside of function"
),v("return",i("punc",";")?(o(),null):p()?null:prog1(K,d));case"switch":return v
("switch",m(),A());case"throw":return r.token.nlb&&a("Illegal newline after 'throw'"
),v("throw",prog1(K,d));case"try":return O();case"var":return prog1(_,d);case"const"
:return prog1(D,d);case"while":return v("while",m(),Q(b));case"with":return v("with"
,m(),b());default:l()}}}),C=function(e){var t=i("name")?prog1(r.token.value,o):null
;return e&&!t&&l(),h("("),v(e?"defun":"function",t,function(e,t){while(!i("punc"
,")"))e?e=!1:h(","),i("name")||l(),t.push(r.token.value),o();return o(),t}(!0,[]
),function(){++r.in_function;var e=r.in_loop;r.in_directives=!0,r.in_loop=0;var t=
L();return--r.in_function,r.in_loop=e,t}())},A=curry(Q,function(){h("{");var e=[
],t=null;while(!i("punc","}"))i("eof")&&l(),i("keyword","case")?(o(),t=[],e.push
([K(),t]),h(":")):i("keyword","default")?(o(),h(":"),t=[],e.push([null,t])):(t||
l(),t.push(b()));return o(),e}),H=y(function(e){if(i("operator","new"))return o(
),P();if(i("punc")){switch(r.token.value){case"(":return o(),R(prog1(K,curry(h,")"
)),e);case"[":return o(),R(j(),e);case"{":return o(),R(F(),e)}l()}if(i("keyword"
,"function"))return o(),R(C(!1),e);if(HOP(ATOMIC_START_TOKEN,r.token.type)){var t=
r.token.type=="regexp"?v("regexp",r.token.value[0],r.token.value[1]):v(r.token.type
,r.token.value);return R(prog1(t,o),e)}l()}),K=y(function(e,t){arguments.length==0&&
(e=!0);var n=J(t);return e&&i("punc",",")?(o(),v("seq",n,K(!0,t))):n});return v("toplevel"
,function(e){while(!i("eof"))e.push(b());return e}([]))}function curry(e){var t=
slice(arguments,1);return function(){return e.apply(this,t.concat(slice(arguments
)))}}function prog1(e){e instanceof Function&&(e=e());for(var t=1,n=arguments.length
;--n>0;++t)arguments[t]();return e}function array_to_hash(e){var t={};for(var n=0
;n<e.length;++n)t[e[n]]=!0;return t}function slice(e,t){return Array.prototype.slice
.call(e,t||0)}function characters(e){return e.split("")}function member(e,t){for(
var n=t.length;--n>=0;)if(t[n]==e)return!0;return!1}function HOP(e,t){return Object
.prototype.hasOwnProperty.call(e,t)}var KEYWORDS=array_to_hash(["break","case","catch"
,"const","continue","debugger","default","delete","do","else","finally","for","function"
,"if","in","instanceof","new","return","switch","throw","try","typeof","var","void"
,"while","with"]),RESERVED_WORDS=array_to_hash(["abstract","boolean","byte","char"
,"class","double","enum","export","extends","final","float","goto","implements","import"
,"int","interface","long","native","package","private","protected","public","short"
,"static","super","synchronized","throws","transient","volatile"]),KEYWORDS_BEFORE_EXPRESSION=
array_to_hash(["return","new","delete","throw","else","case"]),KEYWORDS_ATOM=array_to_hash
(["false","null","true","undefined"]),OPERATOR_CHARS=array_to_hash(characters("+-*&%=<>!?|~^"
)),RE_HEX_NUMBER=/^0x[0-9a-f]+$/i,RE_OCT_NUMBER=/^0[0-7]+$/,RE_DEC_NUMBER=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i
,OPERATORS=array_to_hash(["in","instanceof","typeof","new","void","delete","++","--"
,"+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","==="
,"!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&"
,"||"]),WHITESPACE_CHARS=array_to_hash(characters(" \u00a0\n\r\t\f\u200b\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\ufeff"
)),PUNC_BEFORE_EXPRESSION=array_to_hash(characters("[{(,.;:")),PUNC_CHARS=array_to_hash
(characters("[]{}(),;:")),REGEXP_MODIFIERS=array_to_hash(characters("gmsiy")),UNICODE=
{letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F0\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"
),combining_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u08FE\\u0900-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C01-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C82\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D02\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1DC0-\\u1DE6\\u1DFC-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"
),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]"
),digit:new RegExp("[\\u0030-\\u0039\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]"
)};JS_Parse_Error.prototype.toString=function(){return this.message+" (line: "+this
.line+", col: "+this.col+", pos: "+this.pos+")"+"\n\n"+this.stack};var EX_EOF={}
,UNARY_PREFIX=array_to_hash(["typeof","void","delete","--","++","!","~","-","+"]
),UNARY_POSTFIX=array_to_hash(["--","++"]),ASSIGNMENT=function(e,t,n){while(n<e.
length)t[e[n]]=e[n].substr(0,e[n].length-1),n++;return t}(["+=","-=","/=","*=","%="
,">>=","<<=",">>>=","|=","^=","&="],{"=":!0},0),PRECEDENCE=function(e,t){for(var n=0
,r=1;n<e.length;++n,++r){var i=e[n];for(var s=0;s<i.length;++s)t[i[s]]=r}return t
}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in"
,"instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),STATEMENTS_WITH_LABELS=
array_to_hash(["for","do","while","switch"]),ATOMIC_START_TOKEN=array_to_hash(["atom"
,"num","string","regexp","name"]);NodeWithToken.prototype.toString=function(){return this
.name};var warn=function(){};exports.tokenizer=tokenizer,exports.parse=parse,exports
.slice=slice,exports.curry=curry,exports.member=member,exports.array_to_hash=array_to_hash
,exports.PRECEDENCE=PRECEDENCE,exports.KEYWORDS_ATOM=KEYWORDS_ATOM,exports.RESERVED_WORDS=
RESERVED_WORDS,exports.KEYWORDS=KEYWORDS,exports.ATOMIC_START_TOKEN=ATOMIC_START_TOKEN
,exports.OPERATORS=OPERATORS,exports.is_alphanumeric_char=is_alphanumeric_char,exports
.is_identifier_start=is_identifier_start,exports.is_identifier_char=is_identifier_char
,exports.set_logger=function(e){warn=e}



// init lib process
// https://github.com/mishoo/UglifyJS/blob/v1.3.5/lib/process.js
// utility2-uglifyjs https://raw.githubusercontent.com/mishoo/UglifyJS/v1.3.5/lib/process.js
function ast_walker(){function e(e){return[this[0],MAP(e,function(e){var t=[e[0]
];return e.length>1&&(t[1]=s(e[1])),t})]}function t(e){var t=[this[0]];return e!=
null&&t.push(MAP(e,s)),t}function s(e){if(e==null)return null;try{i.push(e);var t=
e[0],s=r[t];if(s){var o=s.apply(e,e.slice(1));if(o!=null)return o}return s=n[t],
s.apply(e,e.slice(1))}finally{i.pop()}}function o(e){if(e==null)return null;try{
return i.push(e),n[e[0]].apply(e,e.slice(1))}finally{i.pop()}}function u(e,t){var n=
{},i;for(i in e)HOP(e,i)&&(n[i]=r[i],r[i]=e[i]);var s=t();for(i in n)HOP(n,i)&&(
n[i]?r[i]=n[i]:delete r[i]);return s}var n={string:function(e){return[this[0],e]
},num:function(e){return[this[0],e]},name:function(e){return[this[0],e]},toplevel
:function(e){return[this[0],MAP(e,s)]},block:t,splice:t,"var":e,"const":e,"try":
function(e,t,n){return[this[0],MAP(e,s),t!=null?[t[0],MAP(t[1],s)]:null,n!=null?
MAP(n,s):null]},"throw":function(e){return[this[0],s(e)]},"new":function(e,t){return[
this[0],s(e),MAP(t,s)]},"switch":function(e,t){return[this[0],s(e),MAP(t,function(
e){return[e[0]?s(e[0]):null,MAP(e[1],s)]})]},"break":function(e){return[this[0],
e]},"continue":function(e){return[this[0],e]},conditional:function(e,t,n){return[
this[0],s(e),s(t),s(n)]},assign:function(e,t,n){return[this[0],e,s(t),s(n)]},dot
:function(e){return[this[0],s(e)].concat(slice(arguments,1))},call:function(e,t)
{return[this[0],s(e),MAP(t,s)]},"function":function(e,t,n){return[this[0],e,t.slice
(),MAP(n,s)]},"debugger":function(){return[this[0]]},defun:function(e,t,n){return[
this[0],e,t.slice(),MAP(n,s)]},"if":function(e,t,n){return[this[0],s(e),s(t),s(n
)]},"for":function(e,t,n,r){return[this[0],s(e),s(t),s(n),s(r)]},"for-in":function(
e,t,n,r){return[this[0],s(e),s(t),s(n),s(r)]},"while":function(e,t){return[this[0
],s(e),s(t)]},"do":function(e,t){return[this[0],s(e),s(t)]},"return":function(e)
{return[this[0],s(e)]},binary:function(e,t,n){return[this[0],e,s(t),s(n)]},"unary-prefix"
:function(e,t){return[this[0],e,s(t)]},"unary-postfix":function(e,t){return[this
[0],e,s(t)]},sub:function(e,t){return[this[0],s(e),s(t)]},object:function(e){return[
this[0],MAP(e,function(e){return e.length==2?[e[0],s(e[1])]:[e[0],s(e[1]),e[2]]}
)]},regexp:function(e,t){return[this[0],e,t]},array:function(e){return[this[0],MAP
(e,s)]},stat:function(e){return[this[0],s(e)]},seq:function(){return[this[0]].concat
(MAP(slice(arguments),s))},label:function(e,t){return[this[0],e,s(t)]},"with":function(
e,t){return[this[0],s(e),s(t)]},atom:function(e){return[this[0],e]},directive:function(
e){return[this[0],e]}},r={},i=[];return{walk:s,dive:o,with_walkers:u,parent:function(
){return i[i.length-2]},stack:function(){return i}}}function Scope(e){this.names=
{},this.mangled={},this.rev_mangled={},this.cname=-1,this.refs={},this.uses_with=!1
,this.uses_eval=!1,this.directives=[],this.parent=e,this.children=[],e?(this.level=
e.level+1,e.children.push(this)):this.level=0}function base54_digits(){return typeof
DIGITS_OVERRIDE_FOR_TESTING!="undefined"?DIGITS_OVERRIDE_FOR_TESTING:"etnrisouaflchpdvmgybwESxTNCkLAOM_DPHBjFIqRUzWXV$JKQGYZ0516372984"
}function ast_add_scope(e){function s(e){t=new Scope(t),t.labels=new Scope;var n=
t.body=e();return n.scope=t,t=t.parent,n}function o(e,n){return t.define(e,n)}function u
(e){t.refs[e]=!0}function a(e,t,n){var i=this[0]=="defun";return[this[0],i?o(e,"defun"
):e,t,s(function(){return i||o(e,"lambda"),MAP(t,function(e){o(e,"arg")}),MAP(n,
r)})]}function f(e){return function(t){MAP(t,function(t){o(t[0],e),t[1]&&u(t[0])
})}}function l(e){e&&(t.labels.refs[e]=!0)}var t=null,n=ast_walker(),r=n.walk,i=
[];return s(function(){function c(e,t){for(t=e.children.length;--t>=0;)c(e.children
[t]);for(t in e.refs)if(HOP(e.refs,t))for(var n=e.has(t),r=e;r;r=r.parent){r.refs
[t]=n;if(r===n)break}}var s=n.with_walkers({"function":a,defun:a,label:function(
e,n){t.labels.define(e)},"break":l,"continue":l,"with":function(e,n){for(var r=t
;r;r=r.parent)r.uses_with=!0},"var":f("var"),"const":f("const"),"try":function(e
,t,n){if(t!=null)return[this[0],MAP(e,r),[o(t[0],"catch"),MAP(t[1],r)],n!=null?MAP
(n,r):null]},name:function(e){e=="eval"&&i.push(t),u(e)}},function(){return r(e)
});return MAP(i,function(e){if(!e.has("eval"))while(e)e.uses_eval=!0,e=e.parent}
),c(t),s})}function ast_mangle(e,t){function s(e,n){return t.mangle?!t.toplevel&&!
i.parent?e:t.except&&member(e,t.except)?e:t.no_functions&&HOP(i.names,e)&&(i.names
[e]=="defun"||i.names[e]=="lambda")?e:i.get_mangled(e,n):e}function o(e){if(t.defines
)return!i.has(e)&&HOP(t.defines,e)?t.defines[e]:null}function u(e,n,o){if(!t.no_functions&&
t.mangle){var u=this[0]=="defun",f;e&&(u?e=s(e):o.scope.references(e)?(f={},!i.uses_eval&&!
i.uses_with?e=f[e]=i.next_mangled():f[e]=e):e=null)}return o=a(o.scope,function(
){return n=MAP(n,function(e){return s(e)}),MAP(o,r)},f),[this[0],e,n,o]}function a
(e,t,n){var r=i;i=e;if(n)for(var o in n)HOP(n,o)&&e.set_mangle(o,n[o]);for(var o in
e.names)HOP(e.names,o)&&s(o,!0);var u=t();return u.scope=e,i=r,u}function f(e){return[
this[0],MAP(e,function(e){return[s(e[0]),r(e[1])]})]}function l(e){if(e)return[this
[0],i.labels.get_mangled(e)]}var n=ast_walker(),r=n.walk,i;return t=defaults(t,{
mangle:!0,toplevel:!1,defines:null,except:null,no_functions:!1}),n.with_walkers(
{"function":u,defun:function(){var e=u.apply(this,arguments);switch(n.parent()[0
]){case"toplevel":case"function":case"defun":return MAP.at_top(e)}return e},label
:function(e,t){return i.labels.refs[e]?[this[0],i.labels.get_mangled(e,!0),r(t)]
:r(t)},"break":l,"continue":l,"var":f,"const":f,name:function(e){return o(e)||[this
[0],s(e)]},"try":function(e,t,n){return[this[0],MAP(e,r),t!=null?[s(t[0]),MAP(t[1
],r)]:null,n!=null?MAP(n,r):null]},toplevel:function(e){var t=this;return a(t.scope
,function(){return[t[0],MAP(e,r)]})},directive:function(){return MAP.at_top(this
)}},function(){return r(ast_add_scope(e))})}function best_of(e,t){return gen_code
(e).length>gen_code(t[0]=="stat"?t[1]:t).length?t:e}function last_stat(e){return e
[0]=="block"&&e[1]&&e[1].length>0?e[1][e[1].length-1]:e}function aborts(e){if(e)
switch(last_stat(e)[0]){case"return":case"break":case"continue":case"throw":return!0
}}function boolean_expr(e){return e[0]=="unary-prefix"&&member(e[1],["!","delete"
])||e[0]=="binary"&&member(e[1],["in","instanceof","==","!=","===","!==","<","<="
,">=",">"])||e[0]=="binary"&&member(e[1],["&&","||"])&&boolean_expr(e[2])&&boolean_expr
(e[3])||e[0]=="conditional"&&boolean_expr(e[2])&&boolean_expr(e[3])||e[0]=="assign"&&
e[1]===!0&&boolean_expr(e[3])||e[0]=="seq"&&boolean_expr(e[e.length-1])}function empty
(e){return!e||e[0]=="block"&&(!e[1]||e[1].length==0)}function is_string(e){return e
[0]=="string"||e[0]=="unary-prefix"&&e[1]=="typeof"||e[0]=="binary"&&e[1]=="+"&&
(is_string(e[2])||is_string(e[3]))}function warn_unreachable(e){empty(e)||warn("Dropping unreachable code: "+
gen_code(e,!0))}function prepare_ifs(e){function r(e){e=MAP(e,n);for(var t=0;t<e
.length;++t){var i=e[t];if(i[0]!="if")continue;if(i[3])continue;var s=i[2];if(!aborts
(s))continue;var o=n(i[1]),u=r(e.slice(t+1)),a=u.length==1?u[0]:["block",u];return e
.slice(0,t).concat([[i[0],o,s,a]])}return e}function i(e,t,n){return n=r(n),[this
[0],e,t,n]}function s(e){return[this[0],e!=null?r(e):null]}var t=ast_walker(),n=
t.walk;return t.with_walkers({defun:i,"function":i,block:s,splice:s,toplevel:function(
e){return[this[0],r(e)]},"try":function(e,t,n){return[this[0],r(e),t!=null?[t[0]
,r(t[1])]:null,n!=null?r(n):null]}},function(){return n(e)})}function for_side_effects
(e,t){function o(){throw i}function u(){throw s}function a(){return t.call(this,
this,n,o,u)}function f(e){if(e=="++"||e=="--")return a.apply(this,arguments)}function l
(e){if(e=="&&"||e=="||")return a.apply(this,arguments)}var n=ast_walker(),r=n.walk
,i={},s={};return n.with_walkers({"try":a,"throw":a,"return":a,"new":a,"switch":
a,"break":a,"continue":a,assign:a,call:a,"if":a,"for":a,"for-in":a,"while":a,"do"
:a,"return":a,"unary-prefix":f,"unary-postfix":f,conditional:a,binary:l,defun:a}
,function(){for(;;)try{r(e);break}catch(t){if(t===i)break;if(t===s)continue;throw t
}})}function ast_lift_variables(e){function i(e,t){var i=r;r=t,e=MAP(e,n);var s=
{},o=MAP(t.names,function(e,n){return e!="var"?MAP.skip:t.references(n)?(s[n]=!0
,[n]):MAP.skip});return o.length>0&&(for_side_effects(["block",e],function(e,t,n
,r){if(e[0]=="assign"&&e[1]===!0&&e[2][0]=="name"&&HOP(s,e[2][1])){for(var i=o.length
;--i>=0;)if(o[i][0]==e[2][1]){o[i][1]&&n(),o[i][1]=e[3],o.push(o.splice(i,1)[0])
;break}var u=t.parent();if(u[0]=="seq"){var a=u[2];a.unshift(0,u.length),u.splice
.apply(u,a)}else u[0]=="stat"?u.splice(0,u.length,"block"):n();r()}n()}),e.unshift
(["var",o])),r=i,e}function s(e){var n=null;for(var r=e.length;--r>=0;){var i=e[
r];if(!i[1])continue;i=["assign",!0,["name",i[0]],i[1]],n==null?n=i:n=["seq",i,n
]}return n==null&&t.parent()[0]!="for"?t.parent()[0]=="for-in"?["name",e[0][0]]:
MAP.skip:["stat",n]}function o(e){return[this[0],i(e,this.scope)]}var t=ast_walker
(),n=t.walk,r;return t.with_walkers({"function":function(e,t,n){for(var r=t.length
;--r>=0&&!n.scope.references(t[r]);)t.pop();return n.scope.references(e)||(e=null
),[this[0],e,t,i(n,n.scope)]},defun:function(e,t,n){if(!r.references(e))return MAP
.skip;for(var s=t.length;--s>=0&&!n.scope.references(t[s]);)t.pop();return[this[0
],e,t,i(n,n.scope)]},"var":s,toplevel:o},function(){return n(ast_add_scope(e))})
}function ast_squeeze(e,t){return e=squeeze_1(e,t),e=squeeze_2(e,t),e}function squeeze_1
(e,t){function s(e){var n=["unary-prefix","!",e];switch(e[0]){case"unary-prefix"
:return e[1]=="!"&&boolean_expr(e[2])?e[2]:n;case"seq":return e=slice(e),e[e.length-1
]=s(e[e.length-1]),e;case"conditional":return best_of(n,["conditional",e[1],s(e[2
]),s(e[3])]);case"binary":var r=e[1],i=e[2],o=e[3];if(!t.keep_comps)switch(r){case"<="
:return["binary",">",i,o];case"<":return["binary",">=",i,o];case">=":return["binary"
,"<",i,o];case">":return["binary","<=",i,o]}switch(r){case"==":return["binary","!="
,i,o];case"!=":return["binary","==",i,o];case"===":return["binary","!==",i,o];case"!=="
:return["binary","===",i,o];case"&&":return best_of(n,["binary","||",s(i),s(o)])
;case"||":return best_of(n,["binary","&&",s(i),s(o)])}}return n}function o(e,t,n
){var r=function(){return e[0]=="unary-prefix"&&e[1]=="!"?n?["conditional",e[2],
n,t]:["binary","||",e[2],t]:n?best_of(["conditional",e,t,n],["conditional",s(e),
n,t]):["binary","&&",e,t]};return when_constant(e,function(e,r){return warn_unreachable
(r?n:t),r?t:n},r)}function u(e){return e!=null&&e[0]=="block"&&e[1]&&(e[1].length==1?
e=e[1][0]:e[1].length==0&&(e=["block"])),e}function a(e,t,n){return[this[0],e,t,
f(n,"lambda")]}function f(e,n){return e=MAP(e,r),e=e.reduce(function(e,t){return t
[0]=="block"?t[1]&&e.push.apply(e,t[1]):e.push(t),e},[]),e=function(t,n){return e
.forEach(function(e){n&&(e[0]=="var"&&n[0]=="var"||e[0]=="const"&&n[0]=="const")?
n[1]=n[1].concat(e[1]):(t.push(e),n=e)}),t}([]),t.dead_code&&(e=function(n,r){return e
.forEach(function(e){r?e[0]=="function"||e[0]=="defun"?n.push(e):e[0]=="var"||e[0
]=="const"?(t.no_warnings||warn("Variables declared in unreachable code"),e[1]=MAP
(e[1],function(e){return e[1]&&!t.no_warnings&&warn_unreachable(["assign",!0,["name"
,e[0]],e[1]]),[e[0]]}),n.push(e)):t.no_warnings||warn_unreachable(e):(n.push(e),
member(e[0],["return","throw","break","continue"])&&(r=!0))}),n}([])),t.make_seqs&&
(e=function(t,n){return e.forEach(function(e){n&&n[0]=="stat"&&e[0]=="stat"?n[1]=
["seq",n[1],e[1]]:(t.push(e),n=e)}),t.length>=2&&t[t.length-2][0]=="stat"&&(t[t.
length-1][0]=="return"||t[t.length-1][0]=="throw")&&t[t.length-1][1]&&t.splice(t
.length-2,2,[t[t.length-1][0],["seq",t[t.length-2][1],t[t.length-1][1]]]),t}([])
),e}function l(e,t,n){return when_constant(e,function(e,i){return i?(t=r(t),warn_unreachable
(n),t||["block"]):(n=r(n),warn_unreachable(t),n||["block"])},function(){return h
(e,t,n)})}function c(e,t,n){var i=[["if",s(e),n]];return t[0]=="block"?t[1]&&(i=
i.concat(t[1])):i.push(t),r(["block",i])}function h(e,t,n){e=r(e),t=r(t),n=r(n);
if(empty(n)&&empty(t))return["stat",e];empty(t)?(e=s(e),t=n,n=null):empty(n)?n=null
:function(){var r=gen_code(e),i=s(e),o=gen_code(i);if(o.length<r.length){var u=t
;t=n,n=u,e=i}}();var i=["if",e,t,n];return t[0]=="if"&&empty(t[3])&&empty(n)?i=best_of
(i,r(["if",["binary","&&",e,t[1]],t[2]])):t[0]=="stat"?n?n[0]=="stat"?i=best_of(
i,["stat",o(e,t[1],n[1])]):aborts(n)&&(i=c(e,t,n)):i=best_of(i,["stat",o(e,t[1])
]):n&&t[0]==n[0]&&(t[0]=="return"||t[0]=="throw")&&t[1]&&n[1]?i=best_of(i,[t[0],
o(e,t[1],n[1])]):n&&aborts(t)?(i=[["if",e,t]],n[0]=="block"?n[1]&&(i=i.concat(n[1
])):i.push(n),i=r(["block",i])):t&&aborts(n)&&(i=c(e,t,n)),i}function p(e,t){return when_constant
(e,function(e,n){return n?["for",null,null,null,r(t)]:(warn_unreachable(t),["block"
])})}t=defaults(t,{make_seqs:!0,dead_code:!0,no_warnings:!1,keep_comps:!0,unsafe
:!1});var n=ast_walker(),r=n.walk,i;return n.with_walkers({sub:function(e,t){if(
t[0]=="string"){var n=t[1];if(is_identifier(n))return["dot",r(e),n];if(/^[1-9][0-9]*$/
.test(n)||n==="0")return["sub",r(e),["num",parseInt(n,10)]]}},"if":l,toplevel:function(
e){return["toplevel",f(e)]},"switch":function(e,t){var n=t.length-1;return["switch"
,r(e),MAP(t,function(e,t){var i=f(e[1]);if(t==n&&i.length>0){var s=i[i.length-1]
;s[0]=="break"&&!s[1]&&i.pop()}return[e[0]?r(e[0]):null,i]})]},"function":a,defun
:a,block:function(e){if(e)return u(["block",f(e)])},binary:function(e,t,n){return when_constant
(["binary",e,r(t),r(n)],function(t){return best_of(r(t),this)},function(){return function(
){if(e!="=="&&e!="!=")return;var i=r(t),s=r(n);return i&&i[0]=="unary-prefix"&&i
[1]=="!"&&i[2][0]=="num"?t=["num",+!i[2][1]]:s&&s[0]=="unary-prefix"&&s[1]=="!"&&
s[2][0]=="num"&&(n=["num",+!s[2][1]]),["binary",e,t,n]}()||this})},conditional:function(
e,t,n){return o(r(e),r(t),r(n))},"try":function(e,t,n){return["try",f(e),t!=null?
[t[0],f(t[1])]:null,n!=null?f(n):null]},"unary-prefix":function(e,t){t=r(t);var n=
["unary-prefix",e,t];return e=="!"&&(n=best_of(n,s(t))),when_constant(n,function(
e,t){return r(e)},function(){return n})},name:function(e){switch(e){case"true":return["unary-prefix"
,"!",["num",0]];case"false":return["unary-prefix","!",["num",1]]}},"while":p,assign
:function(e,t,n){t=r(t),n=r(n);var i=["+","-","/","*","%",">>","<<",">>>","|","^"
,"&"];return e===!0&&t[0]==="name"&&n[0]==="binary"&&~i.indexOf(n[1])&&n[2][0]==="name"&&
n[2][1]===t[1]?[this[0],n[1],t,n[3]]:[this[0],e,t,n]},call:function(e,n){return e=
r(e),t.unsafe&&e[0]=="dot"&&e[1][0]=="string"&&e[2]=="toString"?e[1]:[this[0],e,
MAP(n,r)]},num:function(e){return isFinite(e)?[this[0],e]:["binary","/",e===1/0?
["num",1]:e===-1/0?["unary-prefix","-",["num",1]]:["num",0],["num",0]]}},function(
){return r(prepare_ifs(r(prepare_ifs(e))))})}function squeeze_2(e,t){function s(
e,t){var n=i,r;return i=e,r=t(),i=n,r}function o(e,t,n){return[this[0],e,t,s(n.scope
,curry(MAP,n,r))]}var n=ast_walker(),r=n.walk,i;return n.with_walkers({directive
:function(e){if(i.active_directive(e))return["block"];i.directives.push(e)},toplevel
:function(e){return[this[0],s(this.scope,curry(MAP,e,r))]},"function":o,defun:o}
,function(){return r(ast_add_scope(e))})}function make_string(e,t){var n=0,r=0;return e=
e.replace(/[\\\b\f\n\r\t\x22\x27\u2028\u2029\0]/g,function(e){switch(e){case"\\"
:return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r"
:return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case'"':return++
n,'"';case"'":return++r,"'";case"\0":return"\\0"}return e}),t&&(e=to_ascii(e)),n>
r?"'"+e.replace(/\x27/g,"\\'")+"'":'"'+e.replace(/\x22/g,'\\"')+'"'}function to_ascii
(e){return e.replace(/[\u0080-\uffff]/g,function(e){var t=e.charCodeAt(0).toString
(16);while(t.length<4)t="0"+t;return"\\u"+t})}function gen_code(e,t){function o(
e){var n=make_string(e,t.ascii_only);return t.inline_script&&(n=n.replace(/<\x2fscript([>\/\t\n\f\r ])/gi
,"<\\/script$1")),n}function u(e){return e=e.toString(),t.ascii_only&&(e=to_ascii
(e)),e}function a(e){return e==null&&(e=""),n&&(e=repeat_string(" ",t.indent_start+
r*t.indent_level)+e),e}function f(e,t){t==null&&(t=1),r+=t;try{return e.apply(null
,slice(arguments,1))}finally{r-=t}}function l(e){return e=e.toString(),e.charAt(
e.length-1)}function c(e){return e.toString().charAt(0)}function h(e){if(n)return e
.join(" ");var t=[];for(var r=0;r<e.length;++r){var i=e[r+1];t.push(e[r]),i&&(is_identifier_char
(l(e[r]))&&(is_identifier_char(c(i))||c(i)=="\\")||/[\+\-]$/.test(e[r].toString(
))&&/^[\+\-]/.test(i.toString())||l(e[r])=="/"&&c(i)=="/")&&t.push(" ")}return t
.join("")}function p(e){return e.join(","+s)}function d(e){var t=b(e);for(var n=1
;n<arguments.length;++n){var r=arguments[n];if(r instanceof Function&&r(e)||e[0]==
r)return"("+t+")"}return t}function v(e){if(e.length==1)return e[0];if(e.length==2
){var t=e[1];return e=e[0],e.length<=t.length?e:t}return v([e[0],v(e.slice(1))])
}function m(e){if(e[0]=="function"||e[0]=="object"){var t=slice(y.stack()),n=t.pop
(),r=t.pop();while(r){if(r[0]=="stat")return!0;if((r[0]!="seq"&&r[0]!="call"&&r[0
]!="dot"&&r[0]!="sub"&&r[0]!="conditional"||r[1]!==n)&&(r[0]!="binary"&&r[0]!="assign"&&
r[0]!="unary-postfix"||r[2]!==n))return!1;n=r,r=t.pop()}}return!HOP(DOT_CALL_NO_PARENS
,e[0])}function g(e){var t=e.toString(10),n=[t.replace(/^0\./,".").replace("e+","e"
)],r;return Math.floor(e)===e?(e>=0?n.push("0x"+e.toString(16).toLowerCase(),"0"+
e.toString(8)):n.push("-0x"+(-e).toString(16).toLowerCase(),"-0"+(-e).toString(8
)),(r=/^(.*?)(0+)$/.exec(e))&&n.push(r[1]+"e"+r[2].length)):(r=/^0?\.(0+)(.*)$/.
exec(e))&&n.push(r[2]+"e-"+(r[1].length+r[2].length),t.substr(t.indexOf("."))),v
(n)}function w(e){if(e==null)return";";if(e[0]=="do")return N([e]);var t=e;for(;
;){var n=t[0];if(n=="if"){if(!t[3])return b(["block",[e]]);t=t[3]}else if(n=="while"||
n=="do")t=t[2];else{if(n!="for"&&n!="for-in")break;t=t[4]}}return b(e)}function E
(e,t,n,r,i){var s=r||"function";return e&&(s+=" "+u(e)),s+="("+p(MAP(t,u))+")",s=
h([s,N(n)]),!i&&m(this)?"("+s+")":s}function S(e){switch(e[0]){case"with":case"while"
:return empty(e[2])||S(e[2]);case"for":case"for-in":return empty(e[4])||S(e[4]);
case"if":if(empty(e[2])&&!e[3])return!0;if(e[3])return empty(e[3])?!0:S(e[3]);return S
(e[2]);case"directive":return!0}}function x(e,t){for(var r=[],i=e.length-1,s=0;s<=
i;++s){var o=e[s],u=b(o);u!=";"&&(!n&&s==i&&!S(o)&&(u=u.replace(/;+\s*$/,"")),r.
push(u))}return t?r:MAP(r,a)}function T(e){var t=e.length;return t==0?"{}":"{"+i+
MAP(e,function(e,r){var s=e[1].length>0,o=f(function(){return a(e[0]?h(["case",b
(e[0])+":"]):"default:")},.5)+(s?i+f(function(){return x(e[1]).join(i)}):"");return!
n&&s&&r<t-1&&(o+=";"),o}).join(i)+i+a("}")}function N(e){return e?e.length==0?"{}"
:"{"+i+f(function(){return x(e).join(i)})+i+a("}"):";"}function C(e){var t=e[0],
n=e[1];return n!=null&&(t=h([u(t),"=",d(n,"seq")])),t}t=defaults(t,{indent_start
:0,indent_level:4,quote_keys:!1,space_colon:!1,beautify:!1,ascii_only:!1,inline_script
:!1});var n=!!t.beautify,r=0,i=n?"\n":"",s=n?" ":"",y=ast_walker(),b=y.walk;return y
.with_walkers({string:o,num:g,name:u,"debugger":function(){return"debugger;"},toplevel
:function(e){return x(e).join(i+i)},splice:function(e){var t=y.parent();return HOP
(SPLICE_NEEDS_BRACKETS,t)?N.apply(this,arguments):MAP(x(e,!0),function(e,t){return t>0?
a(e):e}).join(i)},block:N,"var":function(e){return"var "+p(MAP(e,C))+";"},"const"
:function(e){return"const "+p(MAP(e,C))+";"},"try":function(e,t,n){var r=["try",
N(e)];return t&&r.push("catch","("+t[0]+")",N(t[1])),n&&r.push("finally",N(n)),h
(r)},"throw":function(e){return h(["throw",b(e)])+";"},"new":function(e,t){return t=
t.length>0?"("+p(MAP(t,function(e){return d(e,"seq")}))+")":"",h(["new",d(e,"seq"
,"binary","conditional","assign",function(e){var t=ast_walker(),n={};try{t.with_walkers
({call:function(){throw n},"function":function(){return this}},function(){t.walk
(e)})}catch(r){if(r===n)return!0;throw r}})+t])},"switch":function(e,t){return h
(["switch","("+b(e)+")",T(t)])},"break":function(e){var t="break";return e!=null&&
(t+=" "+u(e)),t+";"},"continue":function(e){var t="continue";return e!=null&&(t+=" "+
u(e)),t+";"},conditional:function(e,t,n){return h([d(e,"assign","seq","conditional"
),"?",d(t,"seq"),":",d(n,"seq")])},assign:function(e,t,n){return e&&e!==!0?e+="="
:e="=",h([b(t),e,d(n,"seq")])},dot:function(e){var t=b(e),n=1;e[0]=="num"?/[a-f.]/i
.test(t)||(t+="."):e[0]!="function"&&m(e)&&(t="("+t+")");while(n<arguments.length
)t+="."+u(arguments[n++]);return t},call:function(e,t){var n=b(e),r=e[0]=="function"&&
n.charAt(0)=="(";return!r&&m(e)&&(n="("+n+")"),n+"("+p(MAP(t,function(e){return d
(e,"seq")}))+")"},"function":E,defun:E,"if":function(e,t,n){var r=["if","("+b(e)+")"
,n?w(t):b(t)];return n&&r.push("else",b(n)),h(r)},"for":function(e,t,n,r){var i=
["for"];e=(e!=null?b(e):"").replace(/;*\s*$/,";"+s),t=(t!=null?b(t):"").replace(/;*\s*$/
,";"+s),n=(n!=null?b(n):"").replace(/;*\s*$/,"");var o=e+t+n;return o=="; ; "&&(
o=";;"),i.push("("+o+")",b(r)),h(i)},"for-in":function(e,t,n,r){return h(["for","("+
(e?b(e).replace(/;+$/,""):b(t)),"in",b(n)+")",b(r)])},"while":function(e,t){return h
(["while","("+b(e)+")",b(t)])},"do":function(e,t){return h(["do",b(t),"while","("+
b(e)+")"])+";"},"return":function(e){var t=["return"];return e!=null&&t.push(b(e
)),h(t)+";"},binary:function(e,r,i){var s=b(r),o=b(i);if(member(r[0],["assign","conditional"
,"seq"])||r[0]=="binary"&&PRECEDENCE[e]>PRECEDENCE[r[1]]||r[0]=="function"&&m(this
))s="("+s+")";return member(i[0],["assign","conditional","seq"])||i[0]=="binary"&&
PRECEDENCE[e]>=PRECEDENCE[i[1]]&&(i[1]!=e||!member(e,["&&","||","*"]))?o="("+o+")"
:!n&&t.inline_script&&(e=="<"||e=="<<")&&i[0]=="regexp"&&/^script/i.test(i[1])&&
(o=" "+o),h([s,e,o])},"unary-prefix":function(e,t){var n=b(t);return t[0]=="num"||
t[0]=="unary-prefix"&&!HOP(OPERATORS,e+t[1])||!m(t)||(n="("+n+")"),e+(jsp.is_alphanumeric_char
(e.charAt(0))?" ":"")+n},"unary-postfix":function(e,t){var n=b(t);return t[0]=="num"||
t[0]=="unary-postfix"&&!HOP(OPERATORS,e+t[1])||!m(t)||(n="("+n+")"),n+e},sub:function(
e,t){var n=b(e);return m(e)&&(n="("+n+")"),n+"["+b(t)+"]"},object:function(e){var r=
m(this);if(e.length==0)return r?"({})":"{}";var s="{"+i+f(function(){return MAP(
e,function(e){if(e.length==3)return a(E(e[0],e[1][2],e[1][3],e[2],!0));var r=e[0
],i=d(e[1],"seq");return t.quote_keys?r=o(r):(typeof r=="number"||!n&&+r+""==r)&&
parseFloat(r)>=0?r=g(+r):is_identifier(r)||(r=o(r)),a(h(n&&t.space_colon?[r,":",
i]:[r+":",i]))}).join(","+i)})+i+a("}");return r?"("+s+")":s},regexp:function(e,
n){return t.ascii_only&&(e=to_ascii(e)),"/"+e+"/"+n},array:function(e){return e.
length==0?"[]":h(["[",p(MAP(e,function(t,r){return!n&&t[0]=="atom"&&t[1]=="undefined"?
r===e.length-1?",":"":d(t,"seq")})),"]"])},stat:function(e){return e!=null?b(e).
replace(/;*\s*$/,";"):";"},seq:function(){return p(MAP(slice(arguments),b))},label
:function(e,t){return h([u(e),":",b(t)])},"with":function(e,t){return h(["with","("+
b(e)+")",b(t)])},atom:function(e){return u(e)},directive:function(e){return make_string
(e)+";"}},function(){return b(e)})}function split_lines(e,t){var n=[0];return jsp
.parse(function(){function o(e){return e.pos-i}function u(e){i=e.pos,n.push(i)}function a
(){var e=r.apply(this,arguments);e:{if(s&&s.type=="keyword")break e;if(o(e)>t)switch(
e.type){case"keyword":case"atom":case"name":case"punc":u(e);break e}}return s=e,
e}var r=jsp.tokenizer(e),i=0,s;return a.context=function(){return r.context.apply
(this,arguments)},a}()),n.map(function(t,r){return e.substring(t,n[r+1]||e.length
)}).join("\n")}function repeat_string(e,t){if(t<=0)return"";if(t==1)return e;var n=
repeat_string(e,t>>1);return n+=n,t&1&&(n+=e),n}function defaults(e,t){var n={};
e===!0&&(e={});for(var r in t)HOP(t,r)&&(n[r]=e&&HOP(e,r)?e[r]:t[r]);return n}function is_identifier
(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)&&e!="this"&&!HOP(jsp.KEYWORDS_ATOM,e)&&!
HOP(jsp.RESERVED_WORDS,e)&&!HOP(jsp.KEYWORDS,e)}function HOP(e,t){return Object.
prototype.hasOwnProperty.call(e,t)}var jsp=require("./parse-js"),curry=jsp.curry
,slice=jsp.slice,member=jsp.member,is_identifier_char=jsp.is_identifier_char,PRECEDENCE=
jsp.PRECEDENCE,OPERATORS=jsp.OPERATORS,base54=function(){var e=base54_digits();return function(
t){var n="",r=54;do n+=e.charAt(t%r),t=Math.floor(t/r),r=64;while(t>0);return n}
}();Scope.prototype={has:function(e){for(var t=this;t;t=t.parent)if(HOP(t.names,
e))return t},has_mangled:function(e){for(var t=this;t;t=t.parent)if(HOP(t.rev_mangled
,e))return t},toJSON:function(){return{names:this.names,uses_eval:this.uses_eval
,uses_with:this.uses_with}},next_mangled:function(){for(;;){var e=base54(++this.
cname),t;t=this.has_mangled(e);if(t&&this.refs[t.rev_mangled[e]]===t)continue;t=
this.has(e);if(t&&t!==this&&this.refs[e]===t&&!t.has_mangled(e))continue;if(HOP(
this.refs,e)&&this.refs[e]==null)continue;if(!is_identifier(e))continue;return e
}},set_mangle:function(e,t){return this.rev_mangled[t]=e,this.mangled[e]=t},get_mangled
:function(e,t){if(this.uses_eval||this.uses_with)return e;var n=this.has(e);return n?
HOP(n.mangled,e)?n.mangled[e]:t?n.set_mangle(e,n.next_mangled()):e:e},references
:function(e){return e&&!this.parent||this.uses_with||this.uses_eval||this.refs[e
]},define:function(e,t){if(e!=null){if(t=="var"||!HOP(this.names,e))this.names[e
]=t||"var";return e}},active_directive:function(e){return member(e,this.directives
)||this.parent&&this.parent.active_directive(e)}};var warn=function(){},when_constant=
function(){function t(n){switch(n[0]){case"string":case"num":return n[1];case"name"
:case"atom":switch(n[1]){case"true":return!0;case"false":return!1;case"null":return null
}break;case"unary-prefix":switch(n[1]){case"!":return!t(n[2]);case"typeof":return typeof
t(n[2]);case"~":return~t(n[2]);case"-":return-t(n[2]);case"+":return+t(n[2])}break;
case"binary":var r=n[2],i=n[3];switch(n[1]){case"&&":return t(r)&&t(i);case"||":
return t(r)||t(i);case"|":return t(r)|t(i);case"&":return t(r)&t(i);case"^":return t
(r)^t(i);case"+":return t(r)+t(i);case"*":return t(r)*t(i);case"/":return t(r)/t
(i);case"%":return t(r)%t(i);case"-":return t(r)-t(i);case"<<":return t(r)<<t(i)
;case">>":return t(r)>>t(i);case">>>":return t(r)>>>t(i);case"==":return t(r)==t
(i);case"===":return t(r)===t(i);case"!=":return t(r)!=t(i);case"!==":return t(r
)!==t(i);case"<":return t(r)<t(i);case"<=":return t(r)<=t(i);case">":return t(r)>
t(i);case">=":return t(r)>=t(i);case"in":return t(r)in t(i);case"instanceof":return t
(r)instanceof t(i)}}throw e}var e={};return function(n,r,i){try{var s=t(n),o;switch(typeof
s){case"string":o=["string",s];break;case"number":o=["num",s];break;case"boolean"
:o=["name",String(s)];break;default:if(s===null){o=["atom","null"];break}throw new
Error("Can't handle constant of type: "+typeof s)}return r.call(n,o,s)}catch(u){
if(u===e){if(n[0]!="binary"||n[1]!="==="&&n[1]!="!=="||!(is_string(n[2])&&is_string
(n[3])||boolean_expr(n[2])&&boolean_expr(n[3]))){if(i&&n[0]=="binary"&&(n[1]=="||"||
n[1]=="&&"))try{var a=t(n[2]);n=n[1]=="&&"&&(a?n[3]:a)||n[1]=="||"&&(a?a:n[3])||
n}catch(f){}}else n[1]=n[1].substr(0,2);return i?i.call(n,n):null}throw u}}}(),DOT_CALL_NO_PARENS=
jsp.array_to_hash(["name","array","object","string","dot","sub","call","regexp","defun"
]),SPLICE_NEEDS_BRACKETS=jsp.array_to_hash(["if","while","do","for","for-in","with"
]),MAP;(function(){function t(e){this.v=e}function n(e){this.v=e}MAP=function(r,
i,s){function f(){var f=i.call(s,r[a],a);f instanceof t?(f=f.v,f instanceof n?u.
push.apply(u,f.v):u.push(f)):f!=e&&(f instanceof n?o.push.apply(o,f.v):o.push(f)
)}var o=[],u=[],a;if(r instanceof Array)for(a=0;a<r.length;++a)f();else for(a in
r)HOP(r,a)&&f();return u.concat(o)},MAP.at_top=function(e){return new t(e)},MAP.
splice=function(e){return new n(e)};var e=MAP.skip={}})(),exports.ast_walker=ast_walker
,exports.ast_mangle=ast_mangle,exports.ast_squeeze=ast_squeeze,exports.ast_lift_variables=
ast_lift_variables,exports.gen_code=gen_code,exports.ast_add_scope=ast_add_scope
,exports.set_logger=function(e){warn=e},exports.make_string=make_string,exports.
split_lines=split_lines,exports.MAP=MAP,exports.ast_squeeze_more=require("./squeeze-more"
).ast_squeeze_more
/* jslint-ignore-end */



        local.uglify = function (code, file) {
        /*
         * this function will uglify the js-code
         */
            var tmp;
            // uglify css
            if ((file || '').slice(-4) === '.css') {
                return code
                    // remove comment /**/
                    .replace((/\/\*[\S\s]*?\*\//g), '')
                    // remove comment //
                    .replace((/\/\/.*/g), '')
                    // remove whitespace
                    .replace((/\t/g), ' ')
                    .replace((/ {2,}/g), ' ')
                    .replace((/ *?([\n,:;{}]) */g), '$1')
                    .replace((/\n\n+/g), '\n')
                    .trim();
            }
            // parse code and get the initial AST
            tmp = local.parse(code
                .trim()
                // comment shebang
                .replace((/^#!/), '//'));
            // get a new AST with mangled names
            tmp = local.ast_mangle(tmp);
            // get an AST with compression optimizations
            tmp = local.ast_squeeze(tmp);
            // compressed code here
            tmp = local.split_lines(local.gen_code(tmp, { ascii_only: true }), 79);
            // escape \r and \t
            tmp = tmp.replace((/\r/g), '\\r').replace((/\t/g), '\\t');
            return tmp;
        };
    }());
    switch (local.modeJs) {



    /* istanbul ignore next */
    // run node js-env code - init-after
    case 'node':
        // init cli
        if (module !== require.main || local.global.utility2_rollup) {
            break;
        }
        local.cliDict = {};
        local.cliDict._default = function () {
        /*
         * file
         * uglify file and print result to stdout
         */
            if ((/^(?:http|https):\/\//).test(process.argv[2])) {
                // uglify url
                (process.argv[2].indexOf('https') === 0
                    ? local.https
                    : local.http).request(local.url.parse(
                    process.argv[2]
                ), function (response) {
                    local.chunkList = [];
                    response
                        .on('data', function (chunk) {
                            local.chunkList.push(chunk);
                        })
                        .on('end', function () {
                            console.log(local.uglify(
                                Buffer.concat(local.chunkList).toString(),
                                local.url.parse(process.argv[2]).pathname
                            ));
                        });
                })
                    .end();
                return;
            }
            // uglify file
            console.log(local.uglify(local.fs.readFileSync(
                local.path.resolve(process.cwd(), process.argv[2]),
                'utf8'
            ), process.argv[2]));
        };
        local.cliRun();
        break;
    }
}());
/* script-end /assets.utility2.lib.uglifyjs.js */



/* script-begin /assets.utility2.js */
///usr/bin/env node
/* istanbul instrument in package utility2 */
/* jslint-utility2 */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;



    // run shared js-env code - init-before
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || local;
        /* istanbul ignore next */
        if (!local) {
            local = local.global.utility2_rollup ||
                local.global.utility2_rollup_old ||
                require('./assets.utility2.rollup.js');
            local.fs = null;
        }
        // init exports
        if (local.modeJs === 'browser') {
            local.global.utility2_utility2 = local;
        } else {
            // require builtins
            // local.assert = require('assert');
            local.buffer = require('buffer');
            local.child_process = require('child_process');
            local.cluster = require('cluster');
            local.console = require('console');
            local.constants = require('constants');
            local.crypto = require('crypto');
            local.dgram = require('dgram');
            local.dns = require('dns');
            local.domain = require('domain');
            local.events = require('events');
            local.fs = require('fs');
            local.http = require('http');
            local.https = require('https');
            local.module = require('module');
            local.net = require('net');
            local.os = require('os');
            local.path = require('path');
            local.process = require('process');
            local.punycode = require('punycode');
            local.querystring = require('querystring');
            local.readline = require('readline');
            local.repl = require('repl');
            local.stream = require('stream');
            local.string_decoder = require('string_decoder');
            local.timers = require('timers');
            local.tls = require('tls');
            local.tty = require('tty');
            local.url = require('url');
            local.util = require('util');
            local.v8 = require('v8');
            local.vm = require('vm');
            local.zlib = require('zlib');
/* validateLineSortedReset */
            module.exports = local;
            module.exports.__dirname = __dirname;
        }
        // init lib
        local.local = local.utility2 = local;
        // init lib utility2
        local.global.utility2 = local.global.utility2_utility2 = local.utility2 = local;
        // init nop
        local.nop = function () {
        /*
         * this function will do nothing
         */
            return;
        };

    }());



    // run shared js-env code - function-before
    (function () {
        // init global.debug_inline
        local.global['debug_inline'.replace('_i', 'I')] = local.global[
            'debug_inline'.replace('_i', 'I')
        ] || function (arg) {
        /*
         * this function will both print the arg to stderr and return it
         */
            // debug arguments
            local['_debug_inlineArguments'.replace('_i', 'I')] = arguments;
            local._consoleError = local._consoleError || console.error;
            local._consoleError('\n\n\ndebug_inline'.replace('_i', 'I'));
            local._consoleError.apply(console, arguments);
            local._consoleError();
            // return arg for inspection
            return arg;
        };
        // init lib
        [
            'apidoc',
            'db',
            'github_crud',
            'istanbul',
            'jslint',
            'marked',
            'sjcl',
            'uglifyjs'
        ].forEach(function (key) {
            try {
                local[key] = local.modeJs === 'browser'
                    ? local.global['utility2_' + key]
                    : require('./lib.' + key + '.js');
            } catch (ignore) {
            }
            local[key] = local[key] || {};
        });
        // coverage-hack - test normalize-function-before handling-behavior
        local.ajaxProgressCounter = function () {
            return;
        };
        local.ajaxProgressCounter();
        // init assets and templates
        local.assetsDict = local.assetsDict || {};



/* jslint-ignore-begin */
local.assetsDict['/assets.utility2.css'] = '\
<style>\n\
/* jslint-utility2 */\n\
/*csslint\n\
*/\n\
/* jslint-ignore-begin */\n\
*,\n\
*:after,\n\
*:before {\n\
    box-sizing: border-box;\n\
}\n\
/* jslint-ignore-end */\n\
@keyframes uiAnimateShake {\n\
    0%, 50% {\n\
        transform: translateX(10px);\n\
    }\n\
    25%, 75% {\n\
        transform: translateX(-10px);\n\
    }\n\
    100% {\n\
        transform: translateX(0);\n\
    }\n\
}\n\
@keyframes uiAnimateSpin {\n\
    0% {\n\
        transform: rotate(0deg);\n\
    }\n\
    100% {\n\
        transform: rotate(360deg);\n\
    }\n\
}\n\
a {\n\
    overflow-wrap: break-word;\n\
}\n\
body > div,\n\
body > pre,\n\
body > textarea,\n\
body > .button {\n\
    margin-bottom: 20px;\n\
}\n\
body > textarea {\n\
    height: 10rem;\n\
    width: 100%;\n\
}\n\
body > textarea[readonly] {\n\
    background: #ddd;\n\
}\n\
body > .button {\n\
    width: 20rem;\n\
}\n\
code,\n\
pre,\n\
textarea {\n\
    font-family: Consolas, Menlo, monospace;\n\
    font-size: small;\n\
}\n\
pre {\n\
    overflow-wrap: break-word;\n\
    white-space: pre-wrap;\n\
}\n\
textarea {\n\
    overflow: auto;\n\
    white-space: pre;\n\
}\n\
.button {\n\
    background-color: #fff;\n\
    border: 1px solid;\n\
    border-bottom-color: rgb(186, 186, 186);\n\
    border-left-color: rgb(209, 209, 209);\n\
    border-radius: 4px;\n\
    border-right-color: rgb(209, 209, 209);\n\
    border-top-color: rgb(216, 216, 216);\n\
    color: #00d;\n\
    cursor: pointer;\n\
    display: inline-block;\n\
    font-family: Arial, Helvetica, sans-serif;\n\
    font-size: 12px;\n\
    font-style: normal;\n\
    font-weight: normal;\n\
    margin: 0;\n\
    padding: 2px 7px 3px 7px;\n\
    text-align: center;\n\
    text-decoration: underline;\n\
}\n\
.colorError {\n\
    color: #d00;\n\
}\n\
.uiAnimateShake {\n\
    animation-duration: 500ms;\n\
    animation-name: uiAnimateShake;\n\
}\n\
.uiAnimateSlide {\n\
    overflow-y: hidden;\n\
    transition: max-height ease-in 250ms, min-height ease-in 250ms, padding-bottom ease-in 250ms, padding-top ease-in 250ms;\n\
}\n\
.utility2FooterDiv {\n\
    text-align: center;\n\
}\n\
.zeroPixel {\n\
    border: 0;\n\
    height: 0;\n\
    margin: 0;\n\
    padding: 0;\n\
    width: 0;\n\
}\n\
</style>\n\
'.replace((/<\/?style>\n/g), '');



/* validateLineSortedReset */
local.assetsDict['/assets.index.default.template.html'] =
local.assetsDict['/assets.index.template.html'] = '\
<!doctype html>\n\
<html lang="en">\n\
<head>\n\
<meta charset="UTF-8">\n\
<meta name="viewport" content="width=device-width, initial-scale=1">\n\
<!-- "assets.index.default.template.html" -->\n\
<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\n\
<style>\n\
' + local.assetsDict['/assets.utility2.css'] + '\
</style>\n\
</head>\n\
<body style="background: #eef; font-family: Arial, Helvetica, sans-serif; margin: 0 40px;">\n\
<div id="ajaxProgressDiv1" style="background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 500ms, width 1500ms; width: 0%; z-index: 1;"></div>\n\
<div class="uiAnimateSpin" style="animation: uiAnimateSpin 2s linear infinite; border: 5px solid #999; border-radius: 50%; border-top: 5px solid #7d7; display: none; height: 25px; vertical-align: middle; width: 25px;"></div>\n\
<code style="display: none;"></code><div class="button uiAnimateShake uiAnimateSlide utility2FooterDiv zeroPixel" style="display: none;"></div><pre style="display: none;"></pre><textarea readonly style="display: none;"></textarea>\n\
<script>\n\
/* jslint-utility2 */\n\
/*jslint\n\
    bitwise: true,\n\
    browser: true,\n\
    maxerr: 4,\n\
    maxlen: 100,\n\
    node: true,\n\
    nomen: true,\n\
    regexp: true,\n\
    stupid: true\n\
*/\n\
(function () {\n\
    "use strict";\n\
    var ajaxProgressDiv1,\n\
        ajaxProgressState,\n\
        ajaxProgressUpdate,\n\
        timerIntervalAjaxProgressUpdate;\n\
    ajaxProgressDiv1 = document.querySelector("#ajaxProgressDiv1");\n\
    setTimeout(function () {\n\
        ajaxProgressDiv1.style.width = "25%";\n\
    });\n\
    ajaxProgressState = 0;\n\
    ajaxProgressUpdate = (window.local &&\n\
        window.local.ajaxProgressUpdate) || function () {\n\
        ajaxProgressDiv1.style.width = "100%";\n\
        setTimeout(function () {\n\
            ajaxProgressDiv1.style.background = "transparent";\n\
            setTimeout(function () {\n\
                ajaxProgressDiv1.style.width = "0%";\n\
            }, 500);\n\
        }, 1500);\n\
    };\n\
    timerIntervalAjaxProgressUpdate = setInterval(function () {\n\
        ajaxProgressState += 1;\n\
        ajaxProgressDiv1.style.width = Math.max(\n\
            100 - 75 * Math.exp(-0.125 * ajaxProgressState),\n\
            Number(ajaxProgressDiv1.style.width.slice(0, -1)) || 0\n\
        ) + "%";\n\
    }, 1000);\n\
    window.addEventListener("load", function () {\n\
        clearInterval(timerIntervalAjaxProgressUpdate);\n\
        ajaxProgressUpdate();\n\
    });\n\
}());\n\
</script>\n\
<h1>\n\
<!-- utility2-comment\n\
    <a\n\
        {{#if env.npm_package_homepage}}\n\
        href="{{env.npm_package_homepage}}"\n\
        {{/if env.npm_package_homepage}}\n\
        target="_blank"\n\
    >\n\
utility2-comment -->\n\
        {{env.npm_package_name}} (v{{env.npm_package_version}})\n\
<!-- utility2-comment\n\
    </a>\n\
utility2-comment -->\n\
</h1>\n\
<h3>{{env.npm_package_description}}</h3>\n\
<!-- utility2-comment\n\
<a class="button" download href="assets.app.js">download standalone app</a><br>\n\
<button class="button onclick onreset" id="testRunButton1">run internal test</button><br>\n\
<div class="uiAnimateSlide" id="testReportDiv1" style="border-bottom: 0; border-top: 0; margin-bottom: 0; margin-top: 0; max-height: 0; padding-bottom: 0; padding-top: 0;"></div>\n\
utility2-comment -->\n\
\n\
\n\
\n\
<label>stderr and stdout</label>\n\
<textarea class="resettable" id="outputTextareaStdout1" readonly></textarea>\n\
<!-- utility2-comment\n\
{{#if isRollup}}\n\
<script src="assets.app.js"></script>\n\
{{#unless isRollup}}\n\
utility2-comment -->\n\
<script src="assets.utility2.rollup.js"></script>\n\
<script>window.utility2.onResetBefore.counter += 1;</script>\n\
<script src="jsonp.utility2.stateInit?callback=window.utility2.stateInit"></script>\n\
<script src="assets.{{env.npm_package_nameLib}}.js"></script>\n\
<script src="assets.example.js"></script>\n\
<script src="assets.test.js"></script>\n\
<script>window.utility2.onResetBefore();</script>\n\
<!-- utility2-comment\n\
{{/if isRollup}}\n\
utility2-comment -->\n\
<div class="utility2FooterDiv">\n\
    [ this app was created with\n\
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>\n\
    ]\n\
</div>\n\
</body>\n\
</html>\n\
';



// https://img.shields.io/badge/last_build-0000_00_00_00_00_00_UTC_--_master_--_aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa-0077ff.svg?style=flat
local.assetsDict['/assets.buildBadge.template.svg'] =
'<svg xmlns="http://www.w3.org/2000/svg" width="563" height="20"><linearGradient id="a" x2="0" y2="100%"><stop offset="0" stop-color="#bbb" stop-opacity=".1"/><stop offset="1" stop-opacity=".1"/></linearGradient><rect rx="0" width="563" height="20" fill="#555"/><rect rx="0" x="61" width="502" height="20" fill="#07f"/><path fill="#07f" d="M61 0h4v20h-4z"/><rect rx="0" width="563" height="20" fill="url(#a)"/><g fill="#fff" text-anchor="middle" font-family="DejaVu Sans,Verdana,Geneva,sans-serif" font-size="11"><text x="31.5" y="15" fill="#010101" fill-opacity=".3">last build</text><text x="31.5" y="14">last build</text><text x="311" y="15" fill="#010101" fill-opacity=".3">0000-00-00 00:00:00 UTC - master - aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</text><text x="311" y="14">0000-00-00 00:00:00 UTC - master - aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</text></g></svg>';



local.assetsDict['/assets.example.html'] = '';



local.assetsDict['/assets.example.template.js'] = '\
/*\n\
example.js\n\
\n\
this script will run a web-demo of jslint-lite\n\
\n\
instruction\n\
    1. save this script as example.js\n\
    2. run the shell command:\n\
        $ npm install jslint-lite && PORT=8081 node example.js\n\
    3. open a browser to http://127.0.0.1:8081 and play with the web-demo\n\
    4. edit this script to suit your needs\n\
*/\n\
\n\
\n\
\n\
/* istanbul instrument in package jslint */\n\
/* jslint-utility2 */\n\
/*jslint\n\
    bitwise: true,\n\
    browser: true,\n\
    maxerr: 4,\n\
    maxlen: 100,\n\
    node: true,\n\
    nomen: true,\n\
    regexp: true,\n\
    stupid: true\n\
*/\n\
(function () {\n\
    \'use strict\';\n\
    var local;\n\
\n\
\n\
\n\
    // run shared js\-env code - init-before\n\
    (function () {\n\
        // init local\n\
        local = {};\n\
        // init modeJs\n\
        local.modeJs = (function () {\n\
            try {\n\
                return typeof navigator.userAgent === \'string\' &&\n\
                    typeof document.querySelector(\'body\') === \'object\' &&\n\
                    typeof XMLHttpRequest.prototype.open === \'function\' &&\n\
                    \'browser\';\n\
            } catch (errorCaughtBrowser) {\n\
                return module.exports &&\n\
                    typeof process.versions.node === \'string\' &&\n\
                    typeof require(\'http\').createServer === \'function\' &&\n\
                    \'node\';\n\
            }\n\
        }());\n\
        // init global\n\
        local.global = local.modeJs === \'browser\'\n\
            ? window\n\
            : global;\n\
        // init utility2_rollup\n\
        local = local.global.utility2_rollup || (local.modeJs === \'browser\'\n\
            ? local.global.utility2_jslint\n\
            : require(\'jslint-lite\'));\n\
        // init exports\n\
        local.global.local = local;\n\
    }());\n\
    switch (local.modeJs) {\n\
\n\
\n\
\n\
    // run browser js\-env code - init-test\n\
    /* istanbul ignore next */\n\
    case \'browser\':\n\
        local.testRunBrowser = function (event) {\n\
            if (!event || (event &&\n\
                    event.currentTarget &&\n\
                    event.currentTarget.className &&\n\
                    event.currentTarget.className.includes &&\n\
                    event.currentTarget.className.includes(\'onreset\'))) {\n\
                // reset output\n\
                Array.from(\n\
                    document.querySelectorAll(\'body > .resettable\')\n\
                ).forEach(function (element) {\n\
                    switch (element.tagName) {\n\
                    case \'INPUT\':\n\
                    case \'TEXTAREA\':\n\
                        element.value = \'\';\n\
                        break;\n\
                    default:\n\
                        element.textContent = \'\';\n\
                    }\n\
                });\n\
            }\n\
            switch (event && event.currentTarget && event.currentTarget.id) {\n\
            case \'testRunButton1\':\n\
                // show tests\n\
                if (document.querySelector(\'#testReportDiv1\').style.maxHeight === \'0px\') {\n\
                    local.uiAnimateSlideDown(document.querySelector(\'#testReportDiv1\'));\n\
                    document.querySelector(\'#testRunButton1\').textContent = \'hide internal test\';\n\
                    local.modeTest = true;\n\
                    local.testRunDefault(local);\n\
                // hide tests\n\
                } else {\n\
                    local.uiAnimateSlideUp(document.querySelector(\'#testReportDiv1\'));\n\
                    document.querySelector(\'#testRunButton1\').textContent = \'run internal test\';\n\
                }\n\
                break;\n\
            // custom-case\n\
            default:\n\
                break;\n\
            }\n\
            if (document.querySelector(\'#inputTextareaEval1\') && (!event || (event &&\n\
                    event.currentTarget &&\n\
                    event.currentTarget.className &&\n\
                    event.currentTarget.className.includes &&\n\
                    event.currentTarget.className.includes(\'oneval\')))) {\n\
                // try to eval input-code\n\
                try {\n\
                    /*jslint evil: true*/\n\
                    eval(document.querySelector(\'#inputTextareaEval1\').value);\n\
                } catch (errorCaught) {\n\
                    console.error(errorCaught);\n\
                }\n\
            }\n\
        };\n\
        // log stderr and stdout to #outputTextareaStdout1\n\
        [\'error\', \'log\'].forEach(function (key) {\n\
            console[key + \'_original\'] = console[key];\n\
            console[key] = function () {\n\
                var element;\n\
                console[key + \'_original\'].apply(console, arguments);\n\
                element = document.querySelector(\'#outputTextareaStdout1\');\n\
                if (!element) {\n\
                    return;\n\
                }\n\
                // append text to #outputTextareaStdout1\n\
                element.value += Array.from(arguments).map(function (arg) {\n\
                    return typeof arg === \'string\'\n\
                        ? arg\n\
                        : JSON.stringify(arg, null, 4);\n\
                }).join(\' \') + \'\\n\';\n\
                // scroll textarea to bottom\n\
                element.scrollTop = element.scrollHeight;\n\
            };\n\
        });\n\
        // init event-handling\n\
        [\'change\', \'click\', \'keyup\'].forEach(function (event) {\n\
            Array.from(document.querySelectorAll(\'.on\' + event)).forEach(function (element) {\n\
                element.addEventListener(event, local.testRunBrowser);\n\
            });\n\
        });\n\
        // run tests\n\
        local.testRunBrowser();\n\
        break;\n\
\n\
\n\
\n\
    // run node js\-env code - init-test\n\
    /* istanbul ignore next */\n\
    case \'node\':\n\
        // init exports\n\
        module.exports = local;\n\
        // require builtins\n\
        // local.assert = require(\'assert\');\n\
        local.buffer = require(\'buffer\');\n\
        local.child_process = require(\'child_process\');\n\
        local.cluster = require(\'cluster\');\n\
        local.console = require(\'console\');\n\
        local.constants = require(\'constants\');\n\
        local.crypto = require(\'crypto\');\n\
        local.dgram = require(\'dgram\');\n\
        local.dns = require(\'dns\');\n\
        local.domain = require(\'domain\');\n\
        local.events = require(\'events\');\n\
        local.fs = require(\'fs\');\n\
        local.http = require(\'http\');\n\
        local.https = require(\'https\');\n\
        local.module = require(\'module\');\n\
        local.net = require(\'net\');\n\
        local.os = require(\'os\');\n\
        local.path = require(\'path\');\n\
        local.process = require(\'process\');\n\
        local.punycode = require(\'punycode\');\n\
        local.querystring = require(\'querystring\');\n\
        local.readline = require(\'readline\');\n\
        local.repl = require(\'repl\');\n\
        local.stream = require(\'stream\');\n\
        local.string_decoder = require(\'string_decoder\');\n\
        local.timers = require(\'timers\');\n\
        local.tls = require(\'tls\');\n\
        local.tty = require(\'tty\');\n\
        local.url = require(\'url\');\n\
        local.util = require(\'util\');\n\
        local.v8 = require(\'v8\');\n\
        local.vm = require(\'vm\');\n\
        local.zlib = require(\'zlib\');\n\
/* validateLineSortedReset */\n\
        // init assets\n\
        local.assetsDict = local.assetsDict || {};\n\
        /* jslint-ignore-begin */\n\
        local.assetsDict[\'/assets.index.template.html\'] = \'\\\n' +
local.assetsDict['/assets.index.template.html'].replace((/\n/g), '\\n\\\n') + '\';\n\
        /* jslint-ignore-end */\n\
        [\n\
            \'assets.index.css\',\n\
            \'assets.index.template.html\',\n\
            \'assets.swgg.swagger.json\',\n\
            \'assets.swgg.swagger.server.json\'\n\
        ].forEach(function (file) {\n\
            file = \'/\' + file;\n\
            local.assetsDict[file] = local.assetsDict[file] || \'\';\n\
            if (local.fs.existsSync(local.__dirname + file)) {\n\
                local.assetsDict[file] = local.fs.readFileSync(\n\
                    local.__dirname + file,\n\
                    \'utf8\'\n\
                );\n\
            }\n\
        });\n\
/* validateLineSortedReset */\n\
        // bug-workaround - long $npm_package_buildCustomOrg\n\
        /* jslint-ignore-begin */\n\
        local.assetsDict[\'/assets.jslint.js\'] = local.assetsDict[\'/assets.jslint.js\'] ||\n\
            local.fs.readFileSync(local.__dirname + \'/lib.jslint.js\', \'utf8\'\n\
        ).replace((/^#!/), \'//\');\n\
/* validateLineSortedReset */\n\
        local.assetsDict[\'/\'] =\n\
            local.assetsDict[\'/assets.example.html\'] =\n\
            local.assetsDict[\'/assets.index.template.html\']\n\
            .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {\n\
                switch (match1) {\n\
                case \'npm_package_description\':\n\
                    return \'the greatest app in the world!\';\n\
                case \'npm_package_name\':\n\
                    return \'my-app\';\n\
                case \'npm_package_nameLib\':\n\
                    return \'my_app\';\n\
                case \'npm_package_version\':\n\
                    return \'0.0.1\';\n\
                default:\n\
                    return match0;\n\
                }\n\
            });\n\
        // init cli\n\
        if (module !== require.main || local.global.utility2_rollup) {\n\
            break;\n\
        }\n\
        local.assetsDict[\'/assets.example.js\'] =\n\
            local.assetsDict[\'/assets.example.js\'] ||\n\
            local.fs.readFileSync(__filename, \'utf8\');\n\
        /* jslint-ignore-end */\n\
        local.assetsDict[\'/favicon.ico\'] = local.assetsDict[\'/favicon.ico\'] || \'\';\n\
        // if $npm_config_timeout_exit exists,\n\
        // then exit this process after $npm_config_timeout_exit ms\n\
        if (Number(process.env.npm_config_timeout_exit)) {\n\
            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));\n\
        }\n\
        // start server\n\
        if (local.global.utility2_serverHttp1) {\n\
            break;\n\
        }\n\
        process.env.PORT = process.env.PORT || \'8081\';\n\
        console.error(\'server starting on port \' + process.env.PORT);\n\
        local.http.createServer(function (request, response) {\n\
            request.urlParsed = local.url.parse(request.url);\n\
            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {\n\
                response.end(local.assetsDict[request.urlParsed.pathname]);\n\
                return;\n\
            }\n\
            response.statusCode = 404;\n\
            response.end();\n\
        }).listen(process.env.PORT);\n\
        break;\n\
    }\n\
}());\n\
';



local.assetsDict['/assets.lib.template.js'] = '\
/* istanbul instrument in package jslint */\n\
/* jslint-utility2 */\n\
/*jslint\n\
    bitwise: true,\n\
    browser: true,\n\
    maxerr: 4,\n\
    maxlen: 100,\n\
    node: true,\n\
    nomen: true,\n\
    regexp: true,\n\
    stupid: true\n\
*/\n\
(function () {\n\
    \'use strict\';\n\
    var local;\n\
\n\
\n\
\n\
    // run shared js\-env code - init-before\n\
    (function () {\n\
        // init local\n\
        local = {};\n\
        // init modeJs\n\
        local.modeJs = (function () {\n\
            try {\n\
                return typeof navigator.userAgent === \'string\' &&\n\
                    typeof document.querySelector(\'body\') === \'object\' &&\n\
                    typeof XMLHttpRequest.prototype.open === \'function\' &&\n\
                    \'browser\';\n\
            } catch (errorCaughtBrowser) {\n\
                return module.exports &&\n\
                    typeof process.versions.node === \'string\' &&\n\
                    typeof require(\'http\').createServer === \'function\' &&\n\
                    \'node\';\n\
            }\n\
        }());\n\
        // init global\n\
        local.global = local.modeJs === \'browser\'\n\
            ? window\n\
            : global;\n\
        // init utility2_rollup\n\
        local = local.global.utility2_rollup || local;\n\
        /* istanbul ignore next */\n\
        if (!local) {\n\
            local = local.global.utility2_rollup ||\n\
                local.global.utility2_rollup_old ||\n\
                require(\'./assets.utility2.rollup.js\');\n\
            local.fs = null;\n\
        }\n\
        // init exports\n\
        if (local.modeJs === \'browser\') {\n\
            local.global.utility2_jslint = local;\n\
        } else {\n\
            // require builtins\n\
            // local.assert = require(\'assert\');\n\
            local.buffer = require(\'buffer\');\n\
            local.child_process = require(\'child_process\');\n\
            local.cluster = require(\'cluster\');\n\
            local.console = require(\'console\');\n\
            local.constants = require(\'constants\');\n\
            local.crypto = require(\'crypto\');\n\
            local.dgram = require(\'dgram\');\n\
            local.dns = require(\'dns\');\n\
            local.domain = require(\'domain\');\n\
            local.events = require(\'events\');\n\
            local.fs = require(\'fs\');\n\
            local.http = require(\'http\');\n\
            local.https = require(\'https\');\n\
            local.module = require(\'module\');\n\
            local.net = require(\'net\');\n\
            local.os = require(\'os\');\n\
            local.path = require(\'path\');\n\
            local.process = require(\'process\');\n\
            local.punycode = require(\'punycode\');\n\
            local.querystring = require(\'querystring\');\n\
            local.readline = require(\'readline\');\n\
            local.repl = require(\'repl\');\n\
            local.stream = require(\'stream\');\n\
            local.string_decoder = require(\'string_decoder\');\n\
            local.timers = require(\'timers\');\n\
            local.tls = require(\'tls\');\n\
            local.tty = require(\'tty\');\n\
            local.url = require(\'url\');\n\
            local.util = require(\'util\');\n\
            local.v8 = require(\'v8\');\n\
            local.vm = require(\'vm\');\n\
            local.zlib = require(\'zlib\');\n\
/* validateLineSortedReset */\n\
            module.exports = local;\n\
            module.exports.__dirname = __dirname;\n\
        }\n\
        // init lib\n\
        local.local = local.jslint = local;\n\
    }());\n\
}());\n\
';



local.assetsDict['/assets.readme.template.md'] = '\
# jslint-lite\n\
the greatest app in the world!\n\
\n\
# live web demo\n\
- [https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/app](https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/app)\n\
\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployGithub.browser.%252Fnode-jslint-lite%252Fbuild%252Fapp.png)](https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/app)\n\
\n\
\n\
\n\
[![travis-ci.org build-status](https://api.travis-ci.org/kaizhu256/node-jslint-lite.svg)](https://travis-ci.org/kaizhu256/node-jslint-lite) [![coverage](https://kaizhu256.github.io/node-jslint-lite/build/coverage.badge.svg)](https://kaizhu256.github.io/node-jslint-lite/build/coverage.html/index.html)\n\
\n\
[![NPM](https://nodei.co/npm/jslint-lite.png?downloads=true)](https://www.npmjs.com/package/jslint-lite)\n\
\n\
[![build commit status](https://kaizhu256.github.io/node-jslint-lite/build/build.badge.svg)](https://travis-ci.org/kaizhu256/node-jslint-lite)\n\
\n\
| git-branch : | [master](https://github.com/kaizhu256/node-jslint-lite/tree/master) | [beta](https://github.com/kaizhu256/node-jslint-lite/tree/beta) | [alpha](https://github.com/kaizhu256/node-jslint-lite/tree/alpha)|\n\
|--:|:--|:--|:--|\n\
| test-server-github : | [![github.com test-server](https://kaizhu256.github.io/node-jslint-lite/GitHub-Mark-32px.png)](https://kaizhu256.github.io/node-jslint-lite/build..master..travis-ci.org/app) | [![github.com test-server](https://kaizhu256.github.io/node-jslint-lite/GitHub-Mark-32px.png)](https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/app) | [![github.com test-server](https://kaizhu256.github.io/node-jslint-lite/GitHub-Mark-32px.png)](https://kaizhu256.github.io/node-jslint-lite/build..alpha..travis-ci.org/app)|\n\
| test-server-heroku : | [![heroku.com test-server](https://kaizhu256.github.io/node-jslint-lite/heroku-logo.75x25.png)](https://h1-jslint-master.herokuapp.com) | [![heroku.com test-server](https://kaizhu256.github.io/node-jslint-lite/heroku-logo.75x25.png)](https://h1-jslint-beta.herokuapp.com) | [![heroku.com test-server](https://kaizhu256.github.io/node-jslint-lite/heroku-logo.75x25.png)](https://h1-jslint-alpha.herokuapp.com)|\n\
| test-report : | [![test-report](https://kaizhu256.github.io/node-jslint-lite/build..master..travis-ci.org/test-report.badge.svg)](https://kaizhu256.github.io/node-jslint-lite/build..master..travis-ci.org/test-report.html) | [![test-report](https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/test-report.badge.svg)](https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/test-report.html) | [![test-report](https://kaizhu256.github.io/node-jslint-lite/build..alpha..travis-ci.org/test-report.badge.svg)](https://kaizhu256.github.io/node-jslint-lite/build..alpha..travis-ci.org/test-report.html)|\n\
| coverage : | [![coverage](https://kaizhu256.github.io/node-jslint-lite/build..master..travis-ci.org/coverage.badge.svg)](https://kaizhu256.github.io/node-jslint-lite/build..master..travis-ci.org/coverage.html/index.html) | [![coverage](https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/coverage.badge.svg)](https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/coverage.html/index.html) | [![coverage](https://kaizhu256.github.io/node-jslint-lite/build..alpha..travis-ci.org/coverage.badge.svg)](https://kaizhu256.github.io/node-jslint-lite/build..alpha..travis-ci.org/coverage.html/index.html)|\n\
| build-artifacts : | [![build-artifacts](https://kaizhu256.github.io/node-jslint-lite/glyphicons_144_folder_open.png)](https://github.com/kaizhu256/node-jslint-lite/tree/gh-pages/build..master..travis-ci.org) | [![build-artifacts](https://kaizhu256.github.io/node-jslint-lite/glyphicons_144_folder_open.png)](https://github.com/kaizhu256/node-jslint-lite/tree/gh-pages/build..beta..travis-ci.org) | [![build-artifacts](https://kaizhu256.github.io/node-jslint-lite/glyphicons_144_folder_open.png)](https://github.com/kaizhu256/node-jslint-lite/tree/gh-pages/build..alpha..travis-ci.org)|\n\
\n\
[![npmPackageListing](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.npmPackageListing.svg)](https://github.com/kaizhu256/node-jslint-lite)\n\
\n\
![npmPackageDependencyTree](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.npmPackageDependencyTree.svg)\n\
\n\
\n\
\n\
# table of contents\n\
\n\
\n\
\n\
# cdn download\n\
- [https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/app/assets.jslint.js](https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/app/assets.jslint.js)\n\
\n\
\n\
\n\
# documentation\n\
#### cli help\n\
![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.npmPackageCliHelp.svg)\n\
\n\
#### api doc\n\
- [https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/apidoc.html](https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/apidoc.html)\n\
\n\
[![apidoc](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Fapidoc.html.png)](https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/apidoc.html)\n\
\n\
#### swagger doc\n\
- [https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/app/assets.swgg.html](https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/app/assets.swgg.html)\n\
\n\
[![swaggerdoc](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployGithub.browser.%252Fnode-jslint-lite%252Fbuild%252Fapp%252Fassets.swgg.html.png)](https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/app/assets.swgg.html)\n\
\n\
#### todo\n\
- none\n\
\n\
#### changelog for v0.0.1\n\
- npm publish v0.0.1\n\
- update build\n\
- none\n\
\n\
#### this package requires\n\
- darwin or linux os\n\
\n\
\n\
\n\
# quickstart standalone app\n\
#### to run this example, follow the instruction in the script below\n\
- [assets.app.js](https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/app/assets.app.js)\n\
```shell\n\
# example.sh\n\
\n\
# this shell script will download and run a web-demo of jslint-lite as a standalone app\n\
\n\
# 1. download standalone app\n\
curl -O https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/app/assets.app.js\n\
# 2. run standalone app\n\
PORT=8081 node ./assets.app.js\n\
# 3. open a browser to http://127.0.0.1:8081 and play with the web-demo\n\
# 4. edit file assets.app.js to suit your needs\n\
```\n\
\n\
#### output from browser\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.testExampleSh.browser.%252F.png)](https://kaizhu256.github.io/node-jslint-lite/build/app/assets.example.html)\n\
\n\
#### output from shell\n\
![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.testExampleSh.svg)\n\
\n\
\n\
\n\
# quickstart example.js\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.testExampleJs.browser.%252F.png)](https://kaizhu256.github.io/node-jslint-lite/build/app/assets.example.html)\n\
\n\
#### to run this example, follow the instruction in the script below\n\
- [example.js](https://kaizhu256.github.io/node-jslint-lite/build..beta..travis-ci.org/example.js)\n\
```javascript\n' + local.assetsDict['/assets.example.template.js'] + '```\n\
\n\
#### output from browser\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.testExampleJs.browser.%252F.png)](https://kaizhu256.github.io/node-jslint-lite/build/app/assets.example.html)\n\
\n\
#### output from shell\n\
![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.testExampleJs.svg)\n\
\n\
\n\
\n\
# extra screenshots\n\
1. [https://kaizhu256.github.io/node-jslint-lite/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Fapidoc.html.png](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Fapidoc.html.png)\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Fapidoc.html.png)](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Fapidoc.html.png)\n\
\n\
1. [https://kaizhu256.github.io/node-jslint-lite/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Fcoverage.lib.html.png](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Fcoverage.lib.html.png)\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Fcoverage.lib.html.png)](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Fcoverage.lib.html.png)\n\
\n\
1. [https://kaizhu256.github.io/node-jslint-lite/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Ftest-report.html.png](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Ftest-report.html.png)\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Ftest-report.html.png)](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Ftest-report.html.png)\n\
\n\
1. [https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployGithub.browser.%252Fnode-jslint-lite%252Fbuild%252Fapp%252Fassets.swgg.html.png](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployGithub.browser.%252Fnode-jslint-lite%252Fbuild%252Fapp%252Fassets.swgg.html.png)\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployGithub.browser.%252Fnode-jslint-lite%252Fbuild%252Fapp%252Fassets.swgg.html.png)](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployGithub.browser.%252Fnode-jslint-lite%252Fbuild%252Fapp%252Fassets.swgg.html.png)\n\
\n\
1. [https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployGithub.browser.%252Fnode-jslint-lite%252Fbuild%252Fapp.png](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployGithub.browser.%252Fnode-jslint-lite%252Fbuild%252Fapp.png)\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployGithub.browser.%252Fnode-jslint-lite%252Fbuild%252Fapp.png)](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployGithub.browser.%252Fnode-jslint-lite%252Fbuild%252Fapp.png)\n\
\n\
1. [https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployGithubTest.browser.%252Fnode-jslint-lite%252Fbuild%252Fapp.png](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployGithubTest.browser.%252Fnode-jslint-lite%252Fbuild%252Fapp.png)\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployGithubTest.browser.%252Fnode-jslint-lite%252Fbuild%252Fapp.png)](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployGithubTest.browser.%252Fnode-jslint-lite%252Fbuild%252Fapp.png)\n\
\n\
1. [https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployHeroku.browser.%252Fassets.swgg.html.png](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployHeroku.browser.%252Fassets.swgg.html.png)\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployHeroku.browser.%252Fassets.swgg.html.png)](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployHeroku.browser.%252Fassets.swgg.html.png)\n\
\n\
1. [https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployHeroku.browser.%252F.png](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployHeroku.browser.%252F.png)\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployHeroku.browser.%252F.png)](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployHeroku.browser.%252F.png)\n\
\n\
1. [https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployHerokuTest.browser.%252F.png](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployHerokuTest.browser.%252F.png)\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployHerokuTest.browser.%252F.png)](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.deployHerokuTest.browser.%252F.png)\n\
\n\
1. [https://kaizhu256.github.io/node-jslint-lite/build/screenshot.npmTest.browser.%252F.png](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.npmTest.browser.%252F.png)\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.npmTest.browser.%252F.png)](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.npmTest.browser.%252F.png)\n\
\n\
1. [https://kaizhu256.github.io/node-jslint-lite/build/screenshot.testExampleJs.browser.%252F.png](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.testExampleJs.browser.%252F.png)\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.testExampleJs.browser.%252F.png)](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.testExampleJs.browser.%252F.png)\n\
\n\
1. [https://kaizhu256.github.io/node-jslint-lite/build/screenshot.testExampleSh.browser.%252F.png](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.testExampleSh.browser.%252F.png)\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.testExampleSh.browser.%252F.png)](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.testExampleSh.browser.%252F.png)\n\
\n\
\n\
\n\
# package.json\n\
```json\n\
{\n\
    "author": "kai zhu <kaizhu256@gmail.com>",\n\
    "description": "the greatest app in the world!",\n\
    "devDependencies": {\n\
        "electron-lite": "kaizhu256/node-electron-lite#alpha",\n\
        "utility2": "kaizhu256/node-utility2#alpha"\n\
    },\n\
    "engines": {\n\
        "node": ">=4.0"\n\
    },\n\
    "homepage": "https://github.com/kaizhu256/node-jslint-lite",\n\
    "keywords": [],\n\
    "license": "MIT",\n\
    "main": "lib.jslint.js",\n\
    "name": "jslint-lite",\n\
    "nameAliasPublish": "",\n\
    "os": [\n\
        "darwin",\n\
        "linux"\n\
    ],\n\
    "repository": {\n\
        "type": "git",\n\
        "url": "https://github.com/kaizhu256/node-jslint-lite.git"\n\
    },\n\
    "scripts": {\n\
        "apidocRawCreate": "[ ! -f npm_scripts.sh ] || ./npm_scripts.sh shNpmScriptApidocRawCreate",\n\
        "apidocRawFetch": "[ ! -f npm_scripts.sh ] || ./npm_scripts.sh shNpmScriptApidocRawFetch",\n\
        "build-ci": "utility2 shReadmeTest build_ci.sh",\n\
        "env": "env",\n\
        "heroku-postbuild": "npm install kaizhu256/node-utility2#alpha --prefix . && utility2 shDeployHeroku",\n\
        "postinstall": "[ ! -f npm_scripts.sh ] || ./npm_scripts.sh shNpmScriptPostinstall",\n\
        "start": "PORT=${PORT:-8080} utility2 start test.js",\n\
        "test": "PORT=$(utility2 shServerPortRandom) utility2 test test.js"\n\
    },\n\
    "version": "0.0.1"\n\
}\n\
```\n\
\n\
\n\
\n\
# changelog of last 50 commits\n\
[![screenshot](https://kaizhu256.github.io/node-jslint-lite/build/screenshot.gitLog.svg)](https://github.com/kaizhu256/node-jslint-lite/commits)\n\
\n\
\n\
\n\
# internal build script\n\
- build_ci.sh\n\
```shell\n\
# build_ci.sh\n\
\n\
# this shell script will run the build for this package\n\
\n\
shBuildCiAfter () {(set -e\n\
    # shDeployCustom\n\
    shDeployGithub\n\
    # shDeployHeroku\n\
    shReadmeTest example.sh\n\
)}\n\
\n\
shBuildCiBefore () {(set -e\n\
    shNpmTestPublished\n\
    shReadmeTest example.js\n\
)}\n\
\n\
# run shBuildCi\n\
eval $(utility2 source)\n\
shBuildCi\n\
```\n\
\n\
\n\
\n\
# misc\n\
- this package was created with [utility2](https://github.com/kaizhu256/node-utility2)\n\
';



local.assetsDict['/assets.readmeCustomOrg.npmdoc.template.md'] = '\
# npmdoc-{{env.npm_package_name}}\n\
\n\
#### basic api documentation for \
{{#if env.npm_package_homepage}} \
[{{env.npm_package_name}} (v{{env.npm_package_version}})]({{env.npm_package_homepage}}) \
{{#unless env.npm_package_homepage}} \
{{env.npm_package_name}} (v{{env.npm_package_version}}) \
{{/if env.npm_package_homepage}} \
[![npm package](https://img.shields.io/npm/v/npmdoc-{{env.npm_package_name}}.svg?style=flat-square)](https://www.npmjs.org/package/npmdoc-{{env.npm_package_name}}) \
[![travis-ci.org build-status](https://api.travis-ci.org/npmdoc/node-npmdoc-{{env.npm_package_name}}.svg)](https://travis-ci.org/npmdoc/node-npmdoc-{{env.npm_package_name}})\n\
\n\
#### {{env.npm_package_description}}\n\
\n\
[![NPM](https://nodei.co/npm/{{env.npm_package_name}}.png?downloads=true&downloadRank=true&stars=true)](https://www.npmjs.com/package/{{env.npm_package_name}})\n\
\n\
- [https://npmdoc.github.io/node-npmdoc-{{env.npm_package_name}}/build/apidoc.html](https://npmdoc.github.io/node-npmdoc-{{env.npm_package_name}}/build/apidoc.html)\n\
\n\
[![apidoc](https://npmdoc.github.io/node-npmdoc-{{env.npm_package_name}}/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Fapidoc.html.png)](https://npmdoc.github.io/node-npmdoc-{{env.npm_package_name}}/build/apidoc.html)\n\
\n\
![npmPackageListing](https://npmdoc.github.io/node-npmdoc-{{env.npm_package_name}}/build/screenshot.npmPackageListing.svg)\n\
\n\
![npmPackageDependencyTree](https://npmdoc.github.io/node-npmdoc-{{env.npm_package_name}}/build/screenshot.npmPackageDependencyTree.svg)\n\
\n\
\n\
\n\
# package.json\n\
\n\
```json\n\
\n\
{{packageJson jsonStringify4 markdownSafe}}\n\
```\n\
\n\
\n\
\n\
# misc\n\
- this document was created with [utility2](https://github.com/kaizhu256/node-utility2)\n\
';



local.assetsDict['/assets.readmeCustomOrg.npmtest.template.md'] = '\
# npmtest-{{env.npm_package_name}}\n\
\n\
#### basic test coverage for \
{{#if env.npm_package_homepage}} \
[{{env.npm_package_name}} (v{{env.npm_package_version}})]({{env.npm_package_homepage}}) \
{{#unless env.npm_package_homepage}} \
{{env.npm_package_name}} (v{{env.npm_package_version}}) \
{{/if env.npm_package_homepage}} \
[![npm package](https://img.shields.io/npm/v/npmtest-{{env.npm_package_name}}.svg?style=flat-square)](https://www.npmjs.org/package/npmtest-{{env.npm_package_name}}) \
[![travis-ci.org build-status](https://api.travis-ci.org/npmtest/node-npmtest-{{env.npm_package_name}}.svg)](https://travis-ci.org/npmtest/node-npmtest-{{env.npm_package_name}})\n\
\n\
#### {{env.npm_package_description}}\n\
\n\
[![NPM](https://nodei.co/npm/{{env.npm_package_name}}.png?downloads=true&downloadRank=true&stars=true)](https://www.npmjs.com/package/{{env.npm_package_name}})\n\
\n\
| git-branch : | [alpha](https://github.com/npmtest/node-npmtest-{{env.npm_package_name}}/tree/alpha)|\n\
|--:|:--|\n\
| coverage : | [![coverage](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/coverage.badge.svg)](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/coverage.html/index.html)|\n\
| test-report : | [![test-report](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/test-report.badge.svg)](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/test-report.html)|\n\
| test-server-github : | [![github.com test-server](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/GitHub-Mark-32px.png)](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/app) || build-artifacts : | [![build-artifacts](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/glyphicons_144_folder_open.png)](https://github.com/npmtest/node-npmtest-{{env.npm_package_name}}/tree/gh-pages/build)|\n\
\n\
- [https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/coverage.html/index.html](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/coverage.html/index.html)\n\
\n\
[![coverage](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Fcoverage.lib.html.png)](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/coverage.html/index.html)\n\
\n\
- [https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/test-report.html](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/test-report.html)\n\
\n\
[![test-report](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Ftest-report.html.png)](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/test-report.html)\n\
\n\
- [https://npmdoc.github.io/node-npmdoc-{{env.npm_package_name}}/build/apidoc.html](https://npmdoc.github.io/node-npmdoc-{{env.npm_package_name}}/build/apidoc.html)\n\
\n\
[![apidoc](https://npmdoc.github.io/node-npmdoc-{{env.npm_package_name}}/build/screenshot.buildCi.browser.%252Ftmp%252Fbuild%252Fapidoc.html.png)](https://npmdoc.github.io/node-npmdoc-{{env.npm_package_name}}/build/apidoc.html)\n\
\n\
![npmPackageListing](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/screenshot.npmPackageListing.svg)\n\
\n\
![npmPackageDependencyTree](https://npmtest.github.io/node-npmtest-{{env.npm_package_name}}/build/screenshot.npmPackageDependencyTree.svg)\n\
\n\
\n\
\n\
# package.json\n\
\n\
```json\n\
\n\
{{packageJson jsonStringify4 markdownSafe}}\n\
```\n\
\n\
\n\
\n\
# misc\n\
- this document was created with [utility2](https://github.com/kaizhu256/node-utility2)\n\
';



local.assetsDict['/assets.readmeCustomOrg.swgg.template.md'] = '\
# swgg-github-misc\n\
this zero-dependency package will provide a (nodejs-compatible) swagger-client for github-misc\'s web-apis, with a working web-demo\n\
\n\
# live web demo\n\
- [https://kaizhu256.github.io/node-swgg-github-misc/build..beta..travis-ci.org/app](https://kaizhu256.github.io/node-swgg-github-misc/build..beta..travis-ci.org/app)\n\
\n\
[![screenshot](https://kaizhu256.github.io/node-swgg-github-misc/build/screenshot.deployGithub.browser.%252Fnode-swgg-github-misc%252Fbuild%252Fapp.png)](https://kaizhu256.github.io/node-swgg-github-misc/build..beta..travis-ci.org/app)\n\
\n\
\n\
\n\
# cdn download\n\
- [https://kaizhu256.github.io/node-swgg-github-misc/build..beta..travis-ci.org/app/assets.swgg.swagger.json](https://kaizhu256.github.io/node-swgg-github-misc/build..beta..travis-ci.org/app/assets.swgg.swagger.json)\n\
\n\
\n\
\n\
#### todo\n\
- none\n\
\n\
#### changelog for v0.0.1\n\
- npm publish v0.0.1\n\
- update build\n\
- none\n\
\n\
#### this package requires\n\
- darwin or linux os\n\
\n\
\n\
\n\
# quickstart example.js\n\
[![screenshot](https://kaizhu256.github.io/node-swgg-github-misc/build/screenshot.testExampleJs.browser.%252F.png)](https://kaizhu256.github.io/node-swgg-github-misc/build/app/assets.example.html)\n\
\n\
#### to run this example, follow the instruction in the script below\n\
- [example.js](https://kaizhu256.github.io/node-swgg-github-misc/build..beta..travis-ci.org/example.js)\n\
```javascript\n\
/*\n\
example.js\n\
\n\
this script will run a web-demo of swgg-github-misc\n\
\n\
instruction\n\
    1. save this script as example.js\n\
    2. run the shell command:\n\
        $ npm install swgg-github-misc && PORT=8081 node example.js\n\
    3. open a browser to http://127.0.0.1:8081 and play with the web-demo\n\
    4. edit this script to suit your needs\n\
*/\n\
\n\
\n\
\n\
/* istanbul instrument in package swgg_github_misc */\n\
/* jslint-utility2 */\n\
/*jslint\n\
    bitwise: true,\n\
    browser: true,\n\
    maxerr: 4,\n\
    maxlen: 100,\n\
    node: true,\n\
    nomen: true,\n\
    regexp: true,\n\
    stupid: true\n\
*/\n\
(function () {\n\
    \'use strict\';\n\
    var local;\n\
\n\
\n\
\n\
    // run shared js\-env code - init-before\n\
    (function () {\n\
        // init local\n\
        local = {};\n\
        // init modeJs\n\
        local.modeJs = (function () {\n\
            try {\n\
                return typeof navigator.userAgent === \'string\' &&\n\
                    typeof document.querySelector(\'body\') === \'object\' &&\n\
                    typeof XMLHttpRequest.prototype.open === \'function\' &&\n\
                    \'browser\';\n\
            } catch (errorCaughtBrowser) {\n\
                return module.exports &&\n\
                    typeof process.versions.node === \'string\' &&\n\
                    typeof require(\'http\').createServer === \'function\' &&\n\
                    \'node\';\n\
            }\n\
        }());\n\
        // init global\n\
        local.global = local.modeJs === \'browser\'\n\
            ? window\n\
            : global;\n\
        // init utility2_rollup\n\
        local = local.global.utility2_rollup || (local.modeJs === \'browser\'\n\
            ? local.global.utility2_swgg_github_misc\n\
            : require(\'swgg-github-misc\'));\n\
        // init exports\n\
        local.global.local = local;\n\
        // init assets\n\
        local.assetsDict[\'/assets.index.template.html\'] = local.assetsDict[\'/assets.swgg.html\'];\n\
    }());\n\
    switch (local.modeJs) {\n\
\n\
\n\
\n\
    // run browser js-env code - init-test\n\
    case \'browser\':\n\
        break;\n\
    }\n\
}());\n\
```\n\
\n\
#### output from browser\n\
[![screenshot](https://kaizhu256.github.io/node-swgg-github-misc/build/screenshot.testExampleJs.browser.%252F.png)](https://kaizhu256.github.io/node-swgg-github-misc/build/app/assets.example.html)\n\
\n\
#### output from shell\n\
![screenshot](https://kaizhu256.github.io/node-swgg-github-misc/build/screenshot.testExampleJs.svg)\n\
\n\
\n\
\n\
# package.json\n\
```json\n\
{\n\
    "githubRepoAlias": "swgg-io/node-swgg-github-misc",\n\
    "keywords": [\n\
        "github-misc",\n\
        "swagger-client"\n\
    ],\n\
    "name": "swgg-github-misc",\n\
    "swggAll": "github-all",\n\
    "swggTags0": "github-misc",\n\
    "version": "0.0.1"\n\
}\n\
```\n\
\n\
\n\
\n\
    shDeployGithub\n\
    shReadmeTest example.sh\n\
    shReadmeTest example.js\n\
';



local.assetsDict['/assets.test.template.js'] = '\
/* istanbul instrument in package jslint */\n\
/* jslint-utility2 */\n\
/*jslint\n\
    bitwise: true,\n\
    browser: true,\n\
    maxerr: 4,\n\
    maxlen: 100,\n\
    node: true,\n\
    nomen: true,\n\
    regexp: true,\n\
    stupid: true\n\
*/\n\
(function () {\n\
    \'use strict\';\n\
    var local;\n\
\n\
\n\
\n\
    // run shared js\-env code - init-before\n\
    (function () {\n\
        // init local\n\
        local = {};\n\
        // init modeJs\n\
        local.modeJs = (function () {\n\
            try {\n\
                return typeof navigator.userAgent === \'string\' &&\n\
                    typeof document.querySelector(\'body\') === \'object\' &&\n\
                    typeof XMLHttpRequest.prototype.open === \'function\' &&\n\
                    \'browser\';\n\
            } catch (errorCaughtBrowser) {\n\
                return module.exports &&\n\
                    typeof process.versions.node === \'string\' &&\n\
                    typeof require(\'http\').createServer === \'function\' &&\n\
                    \'node\';\n\
            }\n\
        }());\n\
        // init global\n\
        local.global = local.modeJs === \'browser\'\n\
            ? window\n\
            : global;\n\
        // re-init local\n\
        local = local.global.local = (local.global.utility2 ||\n\
            require(\'utility2\')).requireReadme();\n\
        // init test\n\
        local.testRunInit(local);\n\
    }());\n\
}());\n\
';



local.assetsDict['/assets.testReport.template.html'] = '\
<div class="testReportDiv">\n\
<style>\n\
' + local.assetsDict['/assets.utility2.css'] + '\
</style>\n\
<style>\n\
/* jslint-utility2 */\n\
/*csslint\n\
*/\n\
.testReportDiv {\n\
    font-family: Arial, Helvetica, sans-serif;\n\
}\n\
.testReportDiv img {\n\
    border: 1px solid black;\n\
    margin: 5px 0 5px 0;\n\
    max-height: 256px;\n\
    max-width: 512px;\n\
}\n\
.testReportDiv pre {\n\
    background: #fdd;\n\
    border-top: 1px solid black;\n\
    margin-bottom: 0;\n\
    padding: 10px;\n\
}\n\
.testReportDiv span {\n\
    display: inline-block;\n\
    width: 120px;\n\
}\n\
.testReportDiv table {\n\
    border-top: 1px solid black;\n\
    text-align: left;\n\
    width: 100%;\n\
}\n\
.testReportDiv table > tbody > tr:nth-child(odd) {\n\
    background: #bfb;\n\
}\n\
.testReportDiv .displayNone {\n\
    display: none;\n\
}\n\
.testReportDiv .footer {\n\
    text-align: center;\n\
}\n\
.testReportDiv .platform {\n\
    background: #fff;\n\
    border: 1px solid black;\n\
    margin-bottom: 20px;\n\
    padding: 0 10px 10px 10px;\n\
    text-align: left;\n\
}\n\
.testReportDiv .summary {\n\
    background: #bfb;\n\
}\n\
.testReportDiv .testFailed {\n\
    background: #f99;\n\
}\n\
.testReportDiv .testPending {\n\
    background: #99f;\n\
}\n\
</style>\n\
<h1>test-report for\n\
    <a\n\
        {{#if env.npm_package_homepage}}\n\
        href="{{env.npm_package_homepage}}"\n\
        {{/if env.npm_package_homepage}}\n\
    >\n\
        {{env.npm_package_name}} (v{{env.npm_package_version}})\n\
    </a>\n\
</h1>\n\
<div class="platform summary">\n\
<h2>summary</h2>\n\
<h4>\n\
    <span>version</span>-\n\
        {{env.npm_package_version}}<br>\n\
    <span>test date</span>- {{date}}<br>\n\
    <span>commit info</span>-\n\
        {{#if env.CI_COMMIT_INFO}}\n\
        {{env.CI_COMMIT_INFO}}<br>\n\
        {{#unless env.CI_COMMIT_INFO}}\n\
        undefined<br>\n\
        {{/if env.CI_COMMIT_INFO}}\n\
</h4>\n\
<table>\n\
<thead>\n\
    <tr>\n\
        <th>total time-elapsed</th>\n\
        <th>total tests failed</th>\n\
        <th>total tests passed</th>\n\
        <th>total tests pending</th>\n\
    </tr>\n\
</thead>\n\
<tbody><tr>\n\
    <td>{{timeElapsed}} ms</td>\n\
    <td class="{{testStatusClass}}">{{testsFailed}}</td>\n\
    <td>{{testsPassed}}</td>\n\
    <td>{{testsPending}}</td>\n\
</tr></tbody>\n\
</table>\n\
</div>\n\
{{#each testPlatformList}}\n\
<div class="platform">\n\
<h4>\n\
    {{testPlatformNumber}}. {{name}}<br>\n\
    {{#if screenshot}}\n\
    <a href="{{screenshot encodeURIComponent}}">\n\
        <img src="{{screenshot encodeURIComponent}}">\n\
    </a>\n\
    <br>\n\
    {{/if screenshot}}\n\
    <span>time-elapsed</span>- {{timeElapsed}} ms<br>\n\
    <span>tests failed</span>- {{testsFailed}}<br>\n\
    <span>tests passed</span>- {{testsPassed}}<br>\n\
    <span>tests pending</span>- {{testsPending}}<br>\n\
</h4>\n\
<table>\n\
<thead><tr>\n\
    <th>#</th>\n\
    <th>time-elapsed</th>\n\
    <th>status</th>\n\
    <th>test-case</th>\n\
</tr></thead>\n\
<tbody>\n\
{{#each testCaseList}}\n\
<tr>\n\
    <td>{{testCaseNumber}}</td>\n\
    <td>{{timeElapsed}} ms</td>\n\
    <td class="{{testReportTestStatusClass}}">{{status}}</td>\n\
    <td>{{name}}</td>\n\
</tr>\n\
{{/each testCaseList}}\n\
</tbody>\n\
</table>\n\
<pre class="{{preClass}}">\n\
{{#each errorStackList}}\n\
{{errorStack}}\n\
{{/each errorStackList}}\n\
</pre>\n\
</div>\n\
{{/each testPlatformList}}\n\
<div class="footer">\n\
    [ this document was created with\n\
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>\n\
    ]\n\
</div>\n\
</div>\n\
';



// https://img.shields.io/badge/tests_failed-999-dd0000.svg?style=flat
local.assetsDict['/assets.testReportBadge.template.svg'] =
'<svg xmlns="http://www.w3.org/2000/svg" width="103" height="20"><linearGradient id="a" x2="0" y2="100%"><stop offset="0" stop-color="#bbb" stop-opacity=".1"/><stop offset="1" stop-opacity=".1"/></linearGradient><rect rx="0" width="103" height="20" fill="#555"/><rect rx="0" x="72" width="31" height="20" fill="#d00"/><path fill="#d00" d="M72 0h4v20h-4z"/><rect rx="0" width="103" height="20" fill="url(#a)"/><g fill="#fff" text-anchor="middle" font-family="DejaVu Sans,Verdana,Geneva,sans-serif" font-size="11"><text x="37" y="15" fill="#010101" fill-opacity=".3">tests failed</text><text x="37" y="14">tests failed</text><text x="86.5" y="15" fill="#010101" fill-opacity=".3">999</text><text x="86.5" y="14">999</text></g></svg>';



local.assetsDict['/assets.utility2.rollup.begin.js'] = '\
/* utility2.rollup.js begin */\n\
/* istanbul ignore all */\n\
/*jslint\n\
    bitwise: true,\n\
    browser: true,\n\
    maxerr: 4,\n\
    maxlen: 100,\n\
    node: true,\n\
    nomen: true,\n\
    regexp: true,\n\
    stupid: true\n\
*/\n\
(function () {\n\
    "use strict";\n\
    var local;\n\
    local = {};\n\
    local.modeJs = (function () {\n\
        try {\n\
            return typeof navigator.userAgent === "string" &&\n\
                typeof document.querySelector("body") === "object" &&\n\
                typeof XMLHttpRequest.prototype.open === "function" &&\n\
                "browser";\n\
        } catch (errorCaughtBrowser) {\n\
            return module.exports &&\n\
                typeof process.versions.node === "string" &&\n\
                typeof require("http").createServer === "function" &&\n\
                "node";\n\
        }\n\
    }());\n\
    local.global = local.modeJs === "browser"\n\
        ? window\n\
        : global;\n\
    local.local = local.global.utility2_rollup = local.global.utility2_rollup_old || local;\n\
    local.global.utility2_rollup_old = null;\n\
}());\n\
';



local.assetsDict['/assets.utility2.rollup.content.js'] = '\
(function () {\n\
    "use strict";\n\
    var local;\n\
    local = (typeof window === "object" && window && window.utility2_rollup) ||\n\
        global.utility2_rollup;\n\
    local.local = local;\n\
/* jslint-ignore-begin */\n\
/* utility2.rollup.js content */\n\
/* jslint-ignore-end */\n\
}());\n\
';



local.assetsDict['/assets.utility2.rollup.end.js'] = '\
(function () {\n\
    "use strict";\n\
    var local;\n\
    local = {};\n\
    local.modeJs = (function () {\n\
        try {\n\
            return typeof navigator.userAgent === "string" &&\n\
                typeof document.querySelector("body") === "object" &&\n\
                typeof XMLHttpRequest.prototype.open === "function" &&\n\
                "browser";\n\
        } catch (errorCaughtBrowser) {\n\
            return module.exports &&\n\
                typeof process.versions.node === "string" &&\n\
                typeof require("http").createServer === "function" &&\n\
                "node";\n\
        }\n\
    }());\n\
    local.global = local.modeJs === "browser"\n\
        ? window\n\
        : global;\n\
    local.global.utility2_rollup_old = local.global.utility2_rollup;\n\
    local.global.utility2_rollup = null;\n\
}());\n\
/* utility2.rollup.js end */\n\
';



local.assetsDict['/favicon.ico'] = '';
/* jslint-ignore-end */
    }());



    // run shared js-env code - function
    (function () {
        // init lib Blob
        local.Blob = local.modeJs === 'browser'
            ? local.global.Blob
            : function (array, options) {
            /*
             * this function will create a node-compatible Blob instance
             */
                this.bff = local.bufferConcat(array);
                this.type = options && options.type;
            };

        // init lib FormData
        local.FormData = function () {
        /*
         * this function will create a serverLocal-compatible FormData instance
         * https://xhr.spec.whatwg.org/#dom-formdata
         * The FormData(form) constructor must run these steps:
         * 1. Let fd be a new FormData object.
         * 2. If form is given, set fd's entries to the result
         *    of constructing the form data set for form. (not implemented)
         * 3. Return fd.
         */
            this.entryList = [];
        };

        local.FormData.prototype.append = function (name, value, filename) {
        /*
         * https://xhr.spec.whatwg.org/#dom-formdata-append
         * The append(name, value, filename) method, when invoked, must run these steps:
         * 1. If the filename argument is given, set value to a new File object
         *    whose contents are value and name is filename.
         * 2. Append a new entry whose name is name, and value is value,
         *    to context object's list of entries.
         */
            if (filename) {
                // bug-workaround - chromium cannot assign name to Blob instance
                local.tryCatchOnError(function () {
                    value.name = filename;
                }, local.nop);
            }
            this.entryList.push({ name: name, value: value });
        };

        local.FormData.prototype.read = function (onError) {
        /*
         * https://tools.ietf.org/html/rfc7578
         * this function will read from formData as a buffer, e.g.
         * --Boundary\r\n
         * Content-Disposition: form-data; name="key"\r\n
         * \r\n
         * value\r\n
         * --Boundary\r\n
         * Content-Disposition: form-data; name="input1"; filename="file1.png"\r\n
         * Content-Type: image/jpeg\r\n
         * \r\n
         * <data1>\r\n
         * --Boundary\r\n
         * Content-Disposition: form-data; name="input2"; filename="file2.png"\r\n
         * Content-Type: image/jpeg\r\n
         * \r\n
         * <data2>\r\n
         * --Boundary--\r\n
         */
            var boundary, result;
            // handle null-case
            if (!this.entryList.length) {
                onError(null, local.bufferCreate());
                return;
            }
            // init boundary
            boundary = '--' + Date.now().toString(16) + Math.random().toString(16);
            // init result
            result = [];
            local.onParallelList({
                list: this.entryList
            }, function (options2, onParallel) {
                var value;
                value = options2.element.value;
                if (!(value instanceof local.Blob)) {
                    result[options2.ii] = [boundary +
                        '\r\nContent-Disposition: form-data; name="' + options2.element.name +
                        '"\r\n\r\n', value, '\r\n'];
                    onParallel.counter += 1;
                    onParallel();
                    return;
                }
                // read from blob in parallel
                onParallel.counter += 1;
                local.blobRead(value, 'binary', function (error, data) {
                    result[options2.ii] = !error && [boundary +
                        '\r\nContent-Disposition: form-data; name="' + options2.element.name +
                        '"' +
                        // read param filename
                        (value && value.name
                            ? '; filename="' + value.name + '"'
                            : '') +
                        '\r\n' +
                        // read param Content-Type
                        (value && value.type
                            ? 'Content-Type: ' + value.type + '\r\n'
                            : '') +
                        '\r\n', data, '\r\n'];
                    onParallel(error);
                });
            }, function (error) {
                // add closing boundary
                result.push([boundary + '--\r\n']);
                // concatenate result
                onError(
                    error,
                    // flatten result
                    !error && local.bufferConcat(Array.prototype.concat.apply([], result))
                );
            });
        };

        // init lib _http
        local._http = {};

        // init _http.IncomingMessage
        local._http.IncomingMessage = function (xhr) {
        /*
         * https://nodejs.org/api/all.html#all_http_incomingmessage
         * An IncomingMessage object is created by http.Server or http.ClientRequest
         * and passed as the first argument to the 'request' and 'response' event respectively
         */
            this.headers = {};
            this.httpVersion = '1.1';
            this.method = xhr.method;
            this.onEvent = document.createDocumentFragment();
            this.readable = true;
            this.url = xhr.url;
        };

        local._http.IncomingMessage.prototype.addListener = function (event, onEvent) {
        /*
         * https://nodejs.org/api/all.html#all_emitter_addlistener_event_listener
         * Adds a listener to the end of the listeners array for the specified event
         */
            this.onEvent.addEventListener(event, function (event) {
                onEvent(event.data);
            });
            if (this.readable && event === 'end') {
                this.readable = null;
                this.emit('data', this.data);
                this.emit('end');
            }
            return this;
        };

        local._http.IncomingMessage.prototype.emit = function (event, data) {
        /*
         * https://nodejs.org/api/all.html#all_emitter_emit_event_arg1_arg2
         * Calls each of the listeners in order with the supplied arguments
         */
            event = new local.global.Event(event);
            event.data = data;
            this.onEvent.dispatchEvent(event);
        };

        // https://nodejs.org/api/all.html#all_emitter_on_event_listener
        local._http.IncomingMessage.prototype.on =
            local._http.IncomingMessage.prototype.addListener;

        local._http.IncomingMessage.prototype.pipe = function (writable) {
        /*
         * https://nodejs.org/api/all.html#all_readable_pipe_destination_options
         * This method pulls all the data out of a readable stream, and writes it to the
         * supplied destination, automatically managing the flow so that the destination is not
         * overwhelmed by a fast readable stream
         */
            this.on('data', function (chunk) {
                writable.write(chunk);
            });
            this.on('end', function () {
                writable.end();
            });
            return writable;
        };

        local._http.STATUS_CODES = {
            100: 'Continue',
            101: 'Switching Protocols',
            102: 'Processing',
            200: 'OK',
            201: 'Created',
            202: 'Accepted',
            203: 'Non-Authoritative Information',
            204: 'No Content',
            205: 'Reset Content',
            206: 'Partial Content',
            207: 'Multi-Status',
            208: 'Already Reported',
            226: 'IM Used',
            300: 'Multiple Choices',
            301: 'Moved Permanently',
            302: 'Found',
            303: 'See Other',
            304: 'Not Modified',
            305: 'Use Proxy',
            307: 'Temporary Redirect',
            308: 'Permanent Redirect',
            400: 'Bad Request',
            401: 'Unauthorized',
            402: 'Payment Required',
            403: 'Forbidden',
            404: 'Not Found',
            405: 'Method Not Allowed',
            406: 'Not Acceptable',
            407: 'Proxy Authentication Required',
            408: 'Request Timeout',
            409: 'Conflict',
            410: 'Gone',
            411: 'Length Required',
            412: 'Precondition Failed',
            413: 'Payload Too Large',
            414: 'URI Too Long',
            415: 'Unsupported Media Type',
            416: 'Range Not Satisfiable',
            417: 'Expectation Failed',
            418: 'I\'m a teapot',
            421: 'Misdirected Request',
            422: 'Unprocessable Entity',
            423: 'Locked',
            424: 'Failed Dependency',
            425: 'Unordered Collection',
            426: 'Upgrade Required',
            428: 'Precondition Required',
            429: 'Too Many Requests',
            431: 'Request Header Fields Too Large',
            451: 'Unavailable For Legal Reasons',
            500: 'Internal Server Error',
            501: 'Not Implemented',
            502: 'Bad Gateway',
            503: 'Service Unavailable',
            504: 'Gateway Timeout',
            505: 'HTTP Version Not Supported',
            506: 'Variant Also Negotiates',
            507: 'Insufficient Storage',
            508: 'Loop Detected',
            509: 'Bandwidth Limit Exceeded',
            510: 'Not Extended',
            511: 'Network Authentication Required'
        };

        // init _http.ServerResponse
        local._http.ServerResponse = function (onResponse) {
        /*
         * https://nodejs.org/api/all.html#all_class_http_serverresponse
         * This object is created internally by a HTTP server--not by the user
         */
            this.chunkList = [];
            this.headers = {};
            this.onEvent = document.createDocumentFragment();
            this.onResponse = onResponse;
            this.statusCode = 200;
        };

        // https://nodejs.org/api/all.html#all_emitter_addlistener_event_listener
        local._http.ServerResponse.prototype.addListener =
            local._http.IncomingMessage.prototype.addListener;

        // https://nodejs.org/api/all.html#all_emitter_emit_event_arg1_arg2
        local._http.ServerResponse.prototype.emit =
            local._http.IncomingMessage.prototype.emit;

        local._http.ServerResponse.prototype.end = function (data) {
        /* https://nodejs.org/api/all.html#all_response_end_data_encoding_callback
         * This method signals to the server that all of the response headers
         * and body have been sent
         */
            // emit writable events
            this.chunkList.push(data || '');
            this.emit('finish');
            // emit readable events
            this.onResponse(this);
            this.emit('data', local.bufferConcat(this.chunkList));
            this.emit('end');
        };

        // https://nodejs.org/api/all.html#all_emitter_on_event_listener
        local._http.ServerResponse.prototype.on =
            local._http.IncomingMessage.prototype.addListener;

        // https://nodejs.org/api/all.html#all_response_setheader_name_value
        local._http.ServerResponse.prototype.setHeader = function (key, value) {
            this.headers[key.toLowerCase()] = value;
        };

        local._http.ServerResponse.prototype.write = function (data) {
        /*
         * https://nodejs.org/api/all.html#all_response_write_chunk_encoding_callback
         * This sends a chunk of the response body
         */
            this.chunkList.push(data);
        };

        // init _http.XMLHttpRequest
        local._http.XMLHttpRequest = function () {
        /*
         * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest#XMLHttpRequest()
         * The constructor initiates an XMLHttpRequest
         */
            var xhr;
            xhr = this;
            ['onError', 'onResponse'].forEach(function (key) {
                xhr[key] = xhr[key].bind(xhr);
            });
            xhr.headers = {};
            xhr.onLoadList = [];
            // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/readyState
            xhr.readyState = 0;
            // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/response
            xhr.response = null;
            // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseText
            xhr.responseText = '';
            // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseType
            xhr.responseType = '';
            // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/status
            xhr.status = xhr.statusCode = 0;
            // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/statusText
            xhr.statusText = '';
            // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/timeout
            xhr.timeout = local.timeoutDefault;
        };

        local._http.XMLHttpRequest.prototype.abort = function () {
        /*
         * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest#abort()
         * Aborts the request if it has already been sent
         */
            this.onError(new Error('abort'));
        };

        local._http.XMLHttpRequest.prototype.addEventListener = function (event, onError) {
        /*
         * this function will add event listeners to the xhr-connection
         */
            switch (event) {
            case 'abort':
            case 'error':
            case 'load':
                this.onLoadList.push(onError);
                break;
            }
        };

        local._http.XMLHttpRequest.prototype.getAllResponseHeaders = function () {
        /*
         * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest
         * #getAllResponseHeaders()
         * Returns all the response headers, separated by CRLF, as a string,
         * or null if no response has been received
         */
            var xhr;
            xhr = this;
            return Object.keys((xhr.responseStream &&
                xhr.responseStream.headers) || {}).map(function (key) {
                return key + ': ' + xhr.responseStream.headers[key] + '\r\n';
            }).join('') + '\r\n';
        };

        local._http.XMLHttpRequest.prototype.getResponseHeader = function (key) {
        /*
         * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest#getResponseHeader()
         * Returns the string containing the text of the specified header,
         * or null if either the response has not yet been received
         * or the header doesn't exist in the response
         */
            return (this.responseStream &&
                this.responseStream.headers &&
                this.responseStream.headers[key]) || null;
        };

        local._http.XMLHttpRequest.prototype.onError = function (error, data) {
        /*
         * this function will handle the error and data passed back to the xhr-connection
         */
            if (this.isDone) {
                return;
            }
            this.error = error;
            this.response = data;
            // init responseText
            if (!this.responseType || this.responseType === 'text') {
                this.responseText = local.bufferToString(data);
            }
            // update xhr
            this.readyState = 4;
            this.onreadystatechange();
            // handle data
            this.onLoadList.forEach(function (onError) {
                onError({ type: error
                    ? 'error'
                    : 'load' });
            });
        };

        local._http.XMLHttpRequest.prototype.onResponse = function (responseStream) {
        /*
         * this function will handle the responseStream from the xhr-connection
         */
            this.responseStream = responseStream;
            // update xhr
            this.status = this.statusCode = this.responseStream.statusCode;
            this.statusText = local.http.STATUS_CODES[this.responseStream.statusCode] || '';
            this.readyState = 1;
            this.onreadystatechange();
            this.readyState = 2;
            this.onreadystatechange();
            this.readyState = 3;
            this.onreadystatechange();
            if (this.responseType === 'stream') {
                this.onError(null, this.responseStream);
                return;
            }
            local.streamReadAll(this.responseStream, this.onError);
        };

        // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/onreadystatechange
        local._http.XMLHttpRequest.prototype.onreadystatechange = local.nop;

        local._http.XMLHttpRequest.prototype.open = function (method, url) {
        /*
         * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest#open()
         * Initializes a request
         */
            this.method = method;
            this.url = url;
            // parse url
            this.urlParsed = local.urlParse(String(this.url));
            this.hostname = this.urlParsed.hostname;
            this.path = this.urlParsed.pathname + this.urlParsed.search;
            this.port = this.urlParsed.port;
            // init requestStream
            this.requestStream = (this.urlParsed.protocol === 'https:'
                ? local.https
                : local.http).request(this, this.onResponse)
                // handle request-error
                .on('error', this.onError);
        };

        // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest#overrideMimeType()
        local._http.XMLHttpRequest.prototype.overrideMimeType = local.nop;

        local._http.XMLHttpRequest.prototype.send = function (data) {
        /*
         * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest#send()
         * Sends the request
         */
            var xhr;
            xhr = this;
            xhr.data = data;
            // asynchronously send data
            setTimeout(function () {
                xhr.requestStream.end(xhr.data);
            });
        };

        local._http.XMLHttpRequest.prototype.setRequestHeader = function (key, value) {
        /*
         * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest#setRequestHeader()
         * Sets the value of an HTTP request header
         */
            key = key.toLowerCase();
            this.headers[key] = value;
            this.requestStream.setHeader(key, value);
        };

        local._http.createServer = function () {
            /*
             * https://nodejs.org/api/all.html#all_http_createserver_requestlistener
             * Returns a new instance of http.Server
             */
            return { listen: function (port, onError) {
            /*
             * https://nodejs.org/api/all.html#all_server_listen_handle_callback
             * This will cause the server to accept connections on the specified handle,
             * but it is presumed that the file descriptor or handle has already been bound
             * to a port or domain socket
             */
                onError(null, port);
            } };
        };

        local._http.request = function (xhr, onResponse) {
            var self;
            self = {};
            self.end = function (data) {
                // do not run more than once
                if (self.ended) {
                    return;
                }
                self.ended = true;
                self.serverRequest.data = data;
                local.serverLocalRequestHandler(self.serverRequest, self.serverResponse);
            };
            self.on = function () {
                return self;
            };
            self.serverRequest = new local._http.IncomingMessage(xhr);
            self.serverResponse = new local._http.ServerResponse(onResponse);
            self.setHeader = function (key, value) {
                self.serverRequest.headers[key.toLowerCase()] = value;
            };
            return self;
        };

        local._testCase_buildApidoc_default = function (options, onError) {
        /*
         * this function will test buildApidoc's default handling-behavior
         */
            if (local.modeJs !== 'node') {
                onError(null, options);
                return;
            }
            local.buildApidoc(options, onError);
        };

        local._testCase_buildApp_default = function (options, onError) {
        /*
         * this function will test buildApp's default handling-behavior
         */
            if (local.modeJs !== 'node') {
                onError(null, options);
                return;
            }
            global.local.testCase_buildReadme_default(options, local.onErrorThrow);
            global.local.testCase_buildLib_default(options, local.onErrorThrow);
            global.local.testCase_buildTest_default(options, local.onErrorThrow);
            global.local.testCase_buildCustomOrg_default(options, local.onErrorThrow);
            local.buildApp(options, onError);
        };

        local._testCase_buildCustomOrg_default = function (options, onError) {
        /*
         * this function will test buildCustomOrg's default handling-behavior
         */
            if (local.modeJs !== 'node') {
                onError(null, options);
                return;
            }
            local.buildCustomOrg({}, onError);
        };

        local._testCase_buildLib_default = function (options, onError) {
        /*
         * this function will test buildLib's default handling-behavior
         */
            if (local.modeJs !== 'node') {
                onError(null, options);
                return;
            }
            local.buildLib({}, onError);
        };

        local._testCase_buildReadme_default = function (options, onError) {
        /*
         * this function will test buildReadme's default handling-behavior
         */
            if (local.modeJs !== 'node') {
                onError(null, options);
                return;
            }
            local.buildReadme({}, onError);
        };

        local._testCase_buildTest_default = function (options, onError) {
        /*
         * this function will test buildTest's default handling-behavior
         */
            if (local.modeJs !== 'node') {
                onError(null, options);
                return;
            }
            local.buildTest({}, onError);
        };

        local._testCase_webpage_default = function (options, onError) {
        /*
         * this function will test webpage's default handling-behavior
         */
            if (local.modeJs === 'browser') {
                local.domStyleValidate();
                onError(null, options);
                return;
            }
            local.browserTest({
                fileScreenshot: local.env.npm_config_dir_build +
                    '/screenshot.' + local.env.MODE_BUILD + '.browser.%2F.png',
                modeCoverageMerge: true,
                url: local.assetsDict['/']
                    .indexOf('<script src="assets.test.js"></script>') >= 0
                    ? local.serverLocalHost + '?modeTest=1'
                    : local.serverLocalHost + '/index.default.html?modeTest=1'
            }, onError);
        };

        local.ajax = function (options, onError) {
        /*
         * this function will send an ajax-request with error-handling and timeout
         * example usage:
            local.ajax({
                method: 'GET',
                url: '/index.html'
            }, function (error, xhr) {
                console.log(xhr.responseText);
                console.log(xhr.statusCode);
            });
         */
            var streamListCleanup, tmp, xhr;
            // init standalone handling-behavior
            local.nop = local.nop || function () {
            /*
             * this function will do nothing
             */
                return;
            };
            local.ajaxProgressCounter = local.ajaxProgressCounter || 0;
            local.ajaxProgressUpdate = local.ajaxProgressUpdate || local.nop;
            local.bufferToNodeBuffer = local.bufferToNodeBuffer || local.nop;
            local.bufferToString = local.bufferToString || local.nop;
            local.errorMessagePrepend = local.errorMessagePrepend || local.nop;
            local.onErrorWithStack = local.onErrorWithStack || function (arg) {
                return arg;
            };
            // init onError
            onError = local.onErrorWithStack(onError);
            // init streamListCleanup
            streamListCleanup = local.streamListCleanup || function (streamList) {
            /*
             * this function will end or destroy the streams in streamList
             */
                streamList.forEach(function (stream) {
                    // try to end the stream
                    try {
                        stream.end();
                    } catch (errorCaught) {
                        // if error, then try to destroy the stream
                        try {
                            stream.destroy();
                        } catch (ignore) {
                        }
                    }
                });
            };
            // init xhr
            xhr = local.modeJs === 'node' ||
                    (local.serverLocalUrlTest && local.serverLocalUrlTest(options.url))
                ? local._http && local._http.XMLHttpRequest && new local._http.XMLHttpRequest()
                : new window.XMLHttpRequest();
            if (!xhr) {
                xhr = require('url').parse(options.url);
                xhr.headers = options.headers;
                xhr.method = options.method;
                xhr.timeout = xhr.timeout || local.timeoutDefault || 30000;
                xhr = require(xhr.protocol.slice(0, -1)).request(xhr, function (response) {
                    var chunkList;
                    chunkList = [];
                    xhr.responseStream = response;
                    xhr.responseHeaders = xhr.responseStream.headers;
                    xhr.status = xhr.responseStream.statusCode;
                    xhr.responseStream
                        .on('data', function (chunk) {
                            chunkList.push(chunk);
                        })
                        .on('end', function () {
                            xhr.response = Buffer.concat(chunkList);
                            if (xhr.responseType === 'text' || !xhr.responseType) {
                                xhr.responseText = String(xhr.response);
                            }
                            xhr.readyState = 4;
                            xhr.onEvent({ type: 'load' });
                        })
                        .on('error', xhr.onEvent);
                });
                xhr.addEventListener = local.nop;
                xhr.open = local.nop;
                xhr.requestStream = xhr;
                xhr.responseText = '';
                xhr.send = xhr.end;
                xhr.setRequestHeader = local.nop;
                setTimeout(function () {
                    xhr.on('error', xhr.onEvent);
                });
            }
            // debug xhr
            local._debugXhr = xhr;
            // init options
            Object.keys(options).forEach(function (key) {
                if (options[key] !== undefined) {
                    xhr[key] = options[key];
                }
            });
            // init headers
            xhr.headers = {};
            Object.keys(options.headers || {}).forEach(function (key) {
                xhr.headers[key.toLowerCase()] = options.headers[key];
            });
            // init method
            xhr.method = xhr.method || 'GET';
            // init timeStart
            xhr.timeStart = Date.now();
            // init timeout
            xhr.timeout = xhr.timeout || local.timeoutDefault || 30000;
            // init timerTimeout
            xhr.timerTimeout = setTimeout(function () {
                xhr.error = xhr.error || new Error('onTimeout - timeout-error - ' +
                    xhr.timeout + ' ms - ' + 'ajax ' + xhr.method + ' ' + xhr.url);
                xhr.abort();
                // cleanup requestStream and responseStream
                streamListCleanup([xhr.requestStream, xhr.responseStream]);
            }, xhr.timeout | 0);
            // init event handling
            xhr.onEvent = function (event) {
                if (event instanceof Error) {
                    xhr.error = xhr.error || event;
                    xhr.onEvent({ type: 'error' });
                    return;
                }
                // init statusCode
                xhr.statusCode = xhr.status;
                switch (event.type) {
                case 'abort':
                case 'error':
                case 'load':
                    // do not run more than once
                    if (xhr.isDone) {
                        return;
                    }
                    xhr.isDone = true;
                    // debug ajaxResponse
                    if (xhr.modeDebug) {
                        console.error({
                            type: 'ajaxResponse',
                            time: new Date(xhr.timeStart).toISOString(),
                            method: xhr.method,
                            url: xhr.url,
                            statusCode: xhr.statusCode,
                            duration: Date.now() - xhr.timeStart,
                            // extra
                            headers: xhr.headers,
                            data: xhr.data && xhr.data.slice &&
                                local.bufferToString(xhr.data.slice(0, 256)),
                            responseText: (function () {
                                try {
                                    return xhr.responseText.slice(0, 256);
                                } catch (ignore) {
                                }
                            }())
                        });
                    }
                    // cleanup timerTimeout
                    clearTimeout(xhr.timerTimeout);
                    // cleanup requestStream and responseStream
                    setTimeout(function () {
                        streamListCleanup([xhr.requestStream, xhr.responseStream]);
                    });
                    // decrement ajaxProgressCounter
                    local.ajaxProgressCounter -= 1;
                    // handle abort or error event
                    if (!xhr.error &&
                            (event.type === 'abort' ||
                            event.type === 'error' ||
                            xhr.statusCode >= 400)) {
                        xhr.error = new Error('ajax - event ' + event.type);
                    }
                    // handle completed xhr request
                    if (xhr.readyState === 4) {
                        // handle string data
                        if (xhr.error) {
                            // debug statusCode
                            xhr.error.statusCode = xhr.statusCode;
                            // debug statusCode / method / url
                            tmp = local.modeJs + ' - ' + xhr.statusCode + ' ' + xhr.method +
                                ' ' + xhr.url + '\n';
                            // try to debug responseText
                            try {
                                tmp += '    ' + JSON.stringify(xhr.responseText.slice(0, 256) +
                                    '...') + '\n';
                            } catch (ignore) {
                            }
                            local.errorMessagePrepend(xhr.error, tmp);
                        }
                    }
                    onError(xhr.error, xhr);
                    break;
                }
                local.ajaxProgressUpdate();
            };
            // increment ajaxProgressCounter
            local.ajaxProgressCounter += 1;
            xhr.addEventListener('abort', xhr.onEvent);
            xhr.addEventListener('error', xhr.onEvent);
            xhr.addEventListener('load', xhr.onEvent);
            xhr.addEventListener('loadstart', local.ajaxProgressUpdate);
            xhr.addEventListener('progress', local.ajaxProgressUpdate);
            if (xhr.upload && xhr.upload.addEventListener) {
                xhr.upload.addEventListener('progress', local.ajaxProgressUpdate);
            }
            // open url through corsForwardProxyHost
            xhr.corsForwardProxyHost = xhr.corsForwardProxyHost || local.corsForwardProxyHost;
            xhr.location = xhr.location || local.global.location || {};
            tmp = (local.corsForwardProxyHostIfNeeded || local.nop)(xhr);
            if (tmp) {
                xhr.open(xhr.method, tmp);
                xhr.setRequestHeader('forward-proxy-headers', JSON.stringify(xhr.headers));
                xhr.setRequestHeader('forward-proxy-url', xhr.url);
            // open url
            } else {
                xhr.open(xhr.method, xhr.url);
            }
            Object.keys(xhr.headers).forEach(function (key) {
                xhr.setRequestHeader(key, xhr.headers[key]);
            });
            if (local.FormData && xhr.data instanceof local.FormData) {
                // handle formData
                xhr.data.read(function (error, data) {
                    if (error) {
                        xhr.onEvent(error);
                        return;
                    }
                    // send data
                    xhr.send(local.bufferToNodeBuffer(data));
                });
            } else {
                // send data
                xhr.send(local.bufferToNodeBuffer(xhr.data));
            }
            return xhr;
        };

        /* istanbul ignore next */
        local.ajaxCrawl = function (options, onError) {
        /*
         * this function will recursively web-crawl options.urlList to options.depth
         */
            options = local.objectSetDefault(options, {
                depth: 0,
                dict: {},
                dir: 'tmp/ajaxCrawl',
                filter: local.echo,
                list: [],
                onEach: function (options, onError) {
                    if (options.xhr.responseText.replace((/[\w\t <>]/g), '').length >
                            0.5 * options.xhr.responseText.length) {
                        console.error('ajaxCrawl - ' + (options.ii + 1) + '/' +
                            options.list.length + ' - skip ' + options.url);
                        onError(null, options);
                        return;
                    }
                    // coverage-hack - ignore else-statement
                    local.nop(!local.fs.existsSync(options.file) &&
                        local.fsWriteFileWithMkdirpSync(options.file, options.xhr.responseText));
                    console.error('ajaxCrawl - ' + (options.ii + 1) + '/' + options.list.length +
                        ' - save ' + options.url + ' -> ' + options.file);
                    onError(null, options);
                },
                rgx: (/href="(.*?)"/g),
                urlList: []
            });
            options.file = ((options.url || '').replace((/^https?:\/\//), options.dir + '/') +
                '/index.html').replace((/\/{2,}/g), '/');
            local.onNext(options, function (error, data) {
                switch (options.modeNext) {
                // onParallelList(options);
                case 1:
                    options.urlList.forEach(function (url) {
                        // recurse - push
                        local.ajaxCrawl(local.objectSetDefault({ modeNext: 1, url: url }, options));
                    });
                    local.onParallelList(options, function (options2, onParallel) {
                        onParallel.counter += 1;
                        options2.element.modeNext = 2;
                        // recurse - ajax
                        local.ajaxCrawl(
                            local.objectSetDefault(
                                local.objectSetOverride(options2.element, options2),
                                options
                            ),
                            onParallel
                        );
                    }, onError);
                    break;
                // options.list.push(options);
                case 2:
                    // normalize url
                    options.url = options.url.replace((/[?#].*?$/), '');
                    if (!(/^https?:\/\//).test(options.url)) {
                        if (options.url[0] !== '/') {
                            options.url = options.urlParsed0.pathname + '/' + options.url;
                        }
                        options.url = options.urlParsed0.protocol + '//' + options.urlParsed0.host +
                            '/' + options.url;
                    }
                    options.url = options.url.replace((/\/{2,}/g), '/').replace('/', '//');
                    // optimization - hasOwnProperty
                    if (!options.dict.hasOwnProperty(options.url.replace((/^https?:\/\//), '')) &&
                            (!options.urlParsed0 ||
                                local.urlParse(options).host === options.urlParsed0.host) &&
                            options.filter(options) &&
                            !local.fs.existsSync(options.file)) {
                        options.modeNext = 2;
                        options.dict[options.url.replace((/^https?:\/\//), '')] = true;
                        options.list.push(options);
                    }
                    break;
                // ajax(options);
                case 3:
                    local.ajax(options, function (error, xhr) {
                        local.onErrorDefault(error);
                        options.xhr = xhr;
                        options.onNext();
                    });
                    break;
                case 4:
                    options.onEach(options, options.onNext);
                    break;
                case 5:
                    if (!(options.depth > 0)) {
                        onError(error, options);
                        return;
                    }
                    options.xhr.responseText.replace(options.rgx, function (match0, match1) {
                        match0 = match1;
                        // recurse - push
                        local.ajaxCrawl(local.objectSetDefault({
                            depth: options.depth - 1,
                            modeNext: 1,
                            url: match0,
                            urlParsed0: options.urlParsed
                        }, options), local.nop);
                    });
                    options.onNext(error, options);
                    break;
                default:
                    options.xhr = options.xhr || data;
                    onError(error, options);
                }
            });
            options.modeNext = options.modeNext || 0;
            options.onNext();
        };

        local.ajaxProgressUpdate = function () {
        /*
         * this function will update ajaxProgress
         */
            var ajaxProgressDiv1;
            ajaxProgressDiv1 = local.modeJs === 'browser' &&
                document.querySelector('#ajaxProgressDiv1');
            if (!ajaxProgressDiv1) {
                return;
            }
            // init ajaxProgressDiv1StyleBackground
            local.ajaxProgressDiv1StyleBackground = local.ajaxProgressDiv1StyleBackground ||
                ajaxProgressDiv1.style.background;
            // show ajaxProgress
            ajaxProgressDiv1.style.background = local.ajaxProgressDiv1StyleBackground;
            // increment ajaxProgress
            if (local.ajaxProgressCounter > 0) {
                // this algorithm will indefinitely increment the ajaxProgressBar
                // with successively smaller increments without ever reaching 100%
                local.ajaxProgressState += 1;
                ajaxProgressDiv1.style.width = Math.max(
                    100 - 75 * Math.exp(-0.125 * local.ajaxProgressState),
                    Number(ajaxProgressDiv1.style.width.slice(0, -1)) || 0
                ) + '%';
            } else {
                // finish ajaxProgress
                ajaxProgressDiv1.style.width = '100%';
            }
            // cleanup timerTimeout
            clearTimeout(local.timerTimeoutAjaxProgressHide);
            // hide ajaxProgress
            local.timerTimeoutAjaxProgressHide = setTimeout(function () {
                ajaxProgressDiv1.style.background = 'transparent';
                local.ajaxProgressCounter = 0;
                local.ajaxProgressState = 0;
                // reset ajaxProgress
                setTimeout(function () {
                    if (!local.ajaxProgressState) {
                        ajaxProgressDiv1.style.width = '0%';
                    }
                }, 500);
            }, local.ajaxProgressCounter > 0
                ? local.timeoutDefault
                : 1500);
        };

        local.assert = function (passed, message, onError) {
        /*
         * this function will throw the error message if passed is falsey
         */
            var error;
            if (passed) {
                return;
            }
            error = message && message.message
                // if message is an error-object, then leave it as is
                ? message
                : new Error(typeof message === 'string'
                    // if message is a string, then leave it as is
                    ? message
                    // else JSON.stringify message
                    : JSON.stringify(message));
            // debug error
            local._debugAssertError = error;
            onError = onError || function (error) {
                throw error;
            };
            onError(error);
        };

        local.assertJsonEqual = function (aa, bb, message) {
        /*
         * this function will assert
         * jsonStringifyOrdered(aa) === JSON.stringify(bb)
         */
            aa = local.jsonStringifyOrdered(aa);
            bb = JSON.stringify(bb);
            local.assert(aa === bb, message || [aa, bb]);
        };

        local.assertJsonNotEqual = function (aa, bb) {
        /*
         * this function will assert
         * jsonStringifyOrdered(aa) !== JSON.stringify(bb)
         */
            aa = local.jsonStringifyOrdered(aa);
            bb = JSON.stringify(bb);
            local.assert(aa !== bb, [aa]);
        };

        local.base64FromBuffer = function (bff) {
        /*
         * https://developer.mozilla.org/en-US/Add-ons/Code_snippets/StringView#The_code
         * this function will convert the Uint8Array-bff to base64-encoded-text
         */
            var ii, mod3, text, uint24, uint6ToB64;
            bff = bff || [];
            text = '';
            uint24 = 0;
            uint6ToB64 = function (uint6) {
                return uint6 < 26
                    ? uint6 + 65
                    : uint6 < 52
                    ? uint6 + 71
                    : uint6 < 62
                    ? uint6 - 4
                    : uint6 === 62
                    ? 43
                    : 47;
            };
            for (ii = 0; ii < bff.length; ii += 1) {
                mod3 = ii % 3;
                uint24 |= bff[ii] << (16 >>> mod3 & 24);
                if (mod3 === 2 || bff.length - ii === 1) {
                    text += String.fromCharCode(
                        uint6ToB64(uint24 >>> 18 & 63),
                        uint6ToB64(uint24 >>> 12 & 63),
                        uint6ToB64(uint24 >>> 6 & 63),
                        uint6ToB64(uint24 & 63)
                    );
                    uint24 = 0;
                }
            }
            return text.replace(/A(?=A$|$)/g, '=');
        };

        local.base64FromHex = function (text) {
        /*
         * this function will convert the hex-text to base64-encoded-text
         */
            var bff, ii;
            bff = [];
            text = text || '';
            for (ii = 0; ii < text.length; ii += 2) {
                bff.push(parseInt(text[ii] + text[ii + 1], 16));
            }
            return local.base64FromBuffer(bff);
        };

        local.base64FromString = function (text) {
        /*
         * this function will convert the utf8-text to base64-encoded-text
         */
            return local.base64FromBuffer(local.bufferCreate(text));
        };

        /* jslint-ignore-begin */
        local.base64ToBuffer = function (text) {
        /*
         * https://gist.github.com/wang-bin/7332335
         * this function will convert the base64-encoded text to Uint8Array
         */
            text = text || '';
            var de = new Uint8Array(text.length); //3/4
            var u = 0, q = '', x = '', c;
            var map64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
            for (var r=0; c=text[x++]; ~c&&(u=q%4?u*64+c:c,q++%4)?de[r++]=(255&u>>(-2*q&6)):0)
                c = map64.indexOf(c);
            return de.subarray(0, r);
        };
        /* jslint-ignore-end */

        local.base64ToHex = function (text) {
        /*
         * this function will convert the base64-encoded-text to hex-text
         */
            var bff, ii;
            bff = local.base64ToBuffer(text);
            text = '';
            for (ii = 0; ii < bff.length; ii += 1) {
                text += (256 + bff[ii]).toString(16).slice(-2);
            }
            return text;
        };

        local.base64ToString = function (text) {
        /*
         * this function will convert the base64-encoded text to utf8-text
         */
            return local.bufferToString(local.base64ToBuffer(text));
        };

        local.blobRead = function (blob, encoding, onError) {
        /*
         * this function will read from the blob with the given encoding
         * possible encodings are:
         * - Uint8Array (default)
         * - dataURL
         * - text
         */
            var data, isDone, reader;
            if (local.modeJs === 'node') {
                switch (encoding) {
                // readAsDataURL
                case 'dataURL':
                    data = 'data:' + (blob.type || '') + ';base64,' +
                        local.base64FromBuffer(blob.bff);
                    break;
                // readAsText
                case 'text':
                    data = local.bufferToString(blob.bff);
                    break;
                // readAsArrayBuffer
                default:
                    data = local.bufferCreate(blob.bff);
                }
                onError(null, data);
                return;
            }
            reader = new local.global.FileReader();
            reader.onabort = reader.onerror = reader.onload = function (event) {
                if (isDone) {
                    return;
                }
                isDone = true;
                switch (event.type) {
                case 'abort':
                case 'error':
                    onError(new Error('blobRead - ' + event.type));
                    break;
                case 'load':
                    onError(null, reader.result instanceof local.global.ArrayBuffer
                        // convert ArrayBuffer to Uint8Array
                        ? local.bufferCreate(reader.result)
                        : reader.result);
                    break;
                }
            };
            switch (encoding) {
            // readAsDataURL
            case 'dataURL':
                reader.readAsDataURL(blob);
                break;
            // readAsText
            case 'text':
                reader.readAsText(blob);
                break;
            // readAsArrayBuffer
            default:
                reader.readAsArrayBuffer(blob);
            }
        };

        local.browserTest = function (options, onError) {
        /*
         * this function will spawn an electron process to test options.url
         */
            var isDone, modeNext, onNext, onParallel, timerTimeout;
            try {
                local.objectSetDefault(options, local.envSanitize(local.env));
                options.timeoutDefault = options.timeoutDefault || local.timeoutDefault;
            } catch (ignore) {
            }
            try {
                options.require = options.utility2_require || require;
                options.fs = options.require('fs');
            } catch (ignore) {
            }
            try {
                options.document = options.utility2_document || document;
            } catch (ignore) {
            }
            try {
                options.window = options.utility2_window || window;
            } catch (ignore) {
            }
            onNext = function (error, data) {
                modeNext = error instanceof Error
                    ? Infinity
                    : modeNext + 1;
                switch (modeNext) {
                // node - init
                case 1:
                    // init options
                    // init url
                    if (!(/^\w+:\/\//).test(options.url)) {
                        options.url = local.path.resolve(process.cwd(), options.url);
                    }
                    options.urlParsed = local.urlParse(options.url);
                    // init testName
                    options.testName = options.urlParsed.pathname;
                    if (options.testName.indexOf(process.cwd()) === 0) {
                        options.testName = options.testName.replace(process.cwd(), '');
                    }
                    options.testName = options.MODE_BUILD + '.browser.' +
                        encodeURIComponent(options.testName.replace(
                            '/build..' + options.CI_BRANCH + '..' + options.CI_HOST,
                            '/build'
                        ));
                    local.objectSetDefault(options, {
                        fileCoverage: options.npm_config_dir_tmp +
                            '/coverage.' + options.testName + '.json',
                        fileScreenshot: options.npm_config_dir_build +
                            '/screenshot.' + options.testName + '.png',
                        fileTestReport: options.npm_config_dir_tmp +
                            '/test-report.' + options.testName + '.json',
                        modeBrowserTest: 'test',
                        timeExit: Date.now() + options.timeoutDefault,
                        timeoutScreenshot: options.timeoutScreenshot || 15000
                    }, 1);
                    // init timerTimeout
                    timerTimeout = local.onTimeout(
                        onNext,
                        options.timeoutDefault,
                        options.testName
                    ).unref();
                    // init file fileElectronHtml
                    options.browserTestScript = local.browserTest
                        .toString()
                        .replace((/<\//g), '<\\/')
                        // coverage-hack - un-instrument function
                        .replace((/\b__cov_.*?\+\+/g), '0');
                    options.fileElectronHtml = options.npm_config_dir_tmp + '/electron.' +
                        Date.now().toString(16) + Math.random().toString(16) + '.html';
                    options.modeNext = 20;
                    local.fsWriteFileWithMkdirpSync(options.fileElectronHtml, '<style>body {' +
                            'border: 1px solid black;' +
                            'margin: 0;' +
                            'padding: 0;' +
                        '}</style>' +
                        '<webview id="webview1" preload="' + options.fileElectronHtml +
                        '.preload.js" src="' +
                        options.url.replace('{{timeExit}}', options.timeExit) +
                        '" style="' +
                            'border: none;' +
                            'height: 100%;' +
                            'margin: 0;' +
                            'padding: 0;' +
                            'width: 100%;' +
                        '"></webview>' +
                        '<script>window.local = {}; (' + options.browserTestScript +
                        '(' + JSON.stringify(options) + '))</script>');
                    console.error('\nbrowserTest - created electron entry-page ' +
                        options.fileElectronHtml + '\n');
                    // init file fileElectronHtml.preload.js
                    options.modeNext = 30;
                    local.fsWriteFileWithMkdirpSync(
                        options.fileElectronHtml + '.preload.js',
                        '(' + options.browserTestScript + '(' + JSON.stringify(options) +
                            '))'
                    );
                    // spawn an electron process to test a url
                    options.modeNext = 10;
                    options.npm_config_time_exit = options.timeExit;
                    local.childProcessSpawnWithTimeout('electron', [
                        __filename,
                        'utility2.browserTest',
                        options.url,
                        '--enable-logging'
                    ], { env: options, stdio: options.modeSilent
                        ? 'ignore'
                        : ['ignore', 1, 2], timeout: options.timeoutDefault })
                        .on('error', onNext)
                        .once('exit', onNext);
                    break;
                // node.electron - init
                case 11:
                    local.electron = options.require('electron');
                    // handle uncaughtexception
                    process.once('uncaughtException', onNext);
                    // wait for electron to init
                    local.electron.app.once('ready', function () {
                        onNext();
                    });
                    break;
                // node.electron - after ready
                case 12:
                    options.BrowserWindow = local.electron.BrowserWindow;
                    local.objectSetDefault(options, {
                        frame: false,
                        height: 768,
                        show: false,
                        width: 1024,
                        x: 0,
                        y: 0
                    });
                    // init browserWindow
                    options.browserWindow = new options.BrowserWindow(options);
                    onParallel = local.onParallel(onNext);
                    // onParallel - html
                    onParallel.counter += 1;
                    // onParallel - test
                    if (options.modeBrowserTest === 'test') {
                        onParallel.counter += 1;
                    }
                    options.browserWindow.on('page-title-updated', function (event, title) {
                        if (event && title.indexOf(options.fileElectronHtml) === 0) {
                            if (title.split(' ').slice(-1)[0] === 'opened') {
                                console.error('\nbrowserTest - opened ' + options.url + '\n');
                                return;
                            }
                            onParallel();
                        }
                    });
                    // load url in browserWindow
                    options.browserWindow.loadURL('file://' + options.fileElectronHtml);
                    break;
                // node.electron.browserWindow - init
                case 21:
                    options.webview1 = options.document.querySelector('#webview1');
                    options.webview1.addEventListener('did-get-response-details', function () {
                        options.document.title = options.fileElectronHtml + ' opened';
                    });
                    options.rgx = new RegExp('^' + options.fileElectronHtml + ' (\\w+) ');
                    options.webview1.addEventListener('console-message', function (event) {
                        try {
                            modeNext = 21;
                            onNext(null, event);
                        } catch (errorCaught) {
                            console.error(errorCaught);
                        }
                    });
                    break;
                // node.electron.browserWindow.webview - init
                case 31:
                    // init fileElectronHtml for testRun
                    if (options.modeBrowserTest === 'test') {
                        options.window.fileElectronHtml = options.fileElectronHtml;
                    }
                    setTimeout(onNext, options.timeoutScreenshot);
                    break;
                // node.electron.browserWindow.webview - print html
                case 32:
                    console.error(options.fileElectronHtml + ' html ' +
                        options.document.documentElement.outerHTML);
                    setTimeout(onNext, 1000);
                    break;
                // node.electron.browserWindow.webview - print default-test
                case 33:
                    if (options.modeBrowserTest !== 'test' || options.window.utility2_modeTestRun) {
                        return;
                    }
                    console.error(options.fileElectronHtml + ' global_test_results ' +
                        JSON.stringify({ global_test_results: {
                            coverage: options.window.__coverage__,
                            testReport: { testPlatformList: [{}] }
                        } }));
                    break;
                // node.electron.browserWindow - handle event console-message
                case 22:
                    data.message.replace(options.rgx, function (match0, match1) {
                        data.type2 = match1;
                        data.data = data.message.slice(match0.length);
                    });
                    switch (data.type2) {
                    case 'global_test_results':
                        if (options.modeBrowserTest !== 'test') {
                            return;
                        }
                        options.global_test_results = JSON.parse(data.data).global_test_results;
                        if (options.global_test_results.testReport) {
                            // merge screenshot into test-report
                            options.global_test_results.testReport.testPlatformList[0].screenshot =
                                options.fileScreenshot.replace((/.*\//), '');
                            // save browser test-report
                            options.fs.writeFileSync(
                                options.fileTestReport,
                                JSON.stringify(options.global_test_results.testReport)
                            );
                            // save browser coverage
                            if (options.global_test_results.coverage) {
                                options.fs.writeFileSync(
                                    options.fileCoverage,
                                    JSON.stringify(options.global_test_results.coverage)
                                );
                            }
                            setTimeout(function () {
                                options.document.title = options.fileElectronHtml +
                                    ' testReport written';
                            });
                        }
                        break;
                    case 'html':
                        options.fs.writeFile(options.fileScreenshot.replace((
                            /\.\w+$/
                        ), '.html'), data.data, function () {
                            options.document.title = options.fileElectronHtml + ' html written';
                        });
                        break;
                    default:
                        console.error(data.message);
                    }
                    break;
                // node.electron - screenshot
                case 13:
                    options.browserWindow.capturePage(options, onNext);
                    break;
                case 14:
                    options.fs.writeFile(options.fileScreenshot, error.toPng(), onNext);
                    break;
                case 15:
                    console.error('\nbrowserTest - created screenshot file ' +
                        options.fileScreenshot + '\n');
                    console.error('browserTest - created screenshot file ' +
                        options.fileScreenshot.replace((/\.\w+$/), '.html'));
                    local.exit();
                    break;
                // node - after electron
                case 2:
                    // cleanup fileElectronHtml
                    try {
                        options.fs.unlinkSync(options.fileElectronHtml);
                        options.fs.unlinkSync(options.fileElectronHtml + '.preload.js');
                    } catch (ignore) {
                    }
                    console.error('\nbrowserTest - exit-code ' + error + ' - ' + options.url +
                        '\n');
                    if (options.modeBrowserTest !== 'test') {
                        modeNext = Infinity;
                        onNext();
                        return;
                    }
                    // merge browser coverage
                    // try to JSON.parse the string
                    data = null;
                    try {
                        data = options.modeCoverageMerge && JSON.parse(
                            options.fs.readFileSync(options.fileCoverage, 'utf8')
                        );
                    } catch (ignore) {
                    }
                    local.istanbulCoverageMerge(local.global.__coverage__, data);
                    console.error('\nbrowserTest - merged coverage from file ' +
                        options.fileCoverage + '\n');
                    // try to merge browser test-report
                    // try to JSON.parse the string
                    data = null;
                    try {
                        data = !error && JSON.parse(
                            options.fs.readFileSync(options.fileTestReport, 'utf8')
                        );
                    } catch (ignore) {
                    }
                    if (data && !options.modeTestIgnore) {
                        local.testReportMerge(local.testReport, data);
                        console.error('\nbrowserTest - merged test-report from file ' +
                            options.fileTestReport + '\n');
                    }
                    // create test-report.json
                    options.fs.writeFileSync(
                        options.npm_config_dir_build + '/test-report.json',
                        JSON.stringify(local.testReport)
                    );
                    onNext(data && data.testsFailed && new Error(data.testsFailed));
                    break;
                default:
                    if (isDone) {
                        return;
                    }
                    isDone = true;
                    // cleanup timerTimeout
                    clearTimeout(timerTimeout);
                    onError(error);
                }
            };
            modeNext = Number(options.modeNext || 0);
            onNext(null, options);
        };

        local.bufferConcat = function (bufferList) {
        /*
         * this function will emulate node's Buffer.concat for Uint8Array in the browser
         */
            var ii, jj, length, result;
            length = 0;
            bufferList = bufferList
                .filter(function (element) {
                    return element || element === 0;
                })
                .map(function (element) {
                    // convert number to string
                    if (typeof element === 'number') {
                        element = String(element);
                    }
                    // convert non-Uint8Array to Uint8Array
                    element = local.bufferCreateIfNotBuffer(element);
                    length += element.length;
                    return element;
                });
            result = local.bufferCreate(length);
            ii = 0;
            bufferList.forEach(function (element) {
                for (jj = 0; jj < element.length; ii += 1, jj += 1) {
                    result[ii] = element[jj];
                }
            });
            return result;
        };

        local.bufferCreate = function (text) {
        /*
         * this function will create a Uint8Array from the text,
         * with either 'utf8' (default) or 'base64' encoding
         */
// bug-workaround - TextEncoder.encode polyfill
/* istanbul ignore next */
/* jslint-ignore-begin */
// utility2-uglifyjs https://github.com/feross/buffer/blob/v4.9.1/index.js#L1670
function utf8ToBytes(e,t){t=t||Infinity;var n,r=e.length,i=null,s=[];for(var o=0
;o<r;++o){n=e.charCodeAt(o);if(n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s
.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}
i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|
n-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);i=null;if(n<128){if((t-=1)<0
)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,n&63|128)}else if(
n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,n&63|128)}else{if(!(n<1114112
))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128
,n>>6&63|128,n&63|128)}}return s}
/* jslint-ignore-end */
            if (typeof text === 'string') {
                if (local.modeJs === 'node') {
                    return new Buffer(text);
                }
                if (local.global.TextEncoder) {
                    return new local.global.TextEncoder('utf-8').encode(text);
                }
                /* jslint-ignore-next-line */
                return new local.global.Uint8Array(utf8ToBytes(text));
            }
            return new local.global.Uint8Array(text);
        };

        local.bufferCreateIfNotBuffer = function (text) {
        /*
         * this function will create a Uint8Array from the text with the given encoding,
         * if it is not already a Uint8Array
         */
            return text instanceof local.global.Uint8Array
                ? text
                : local.bufferCreate(text);
        };

        local.bufferIndexOfSubBuffer = function (bff, subBff, fromIndex) {
        /*
         * this function will search bff for the indexOf-like position of the subBff
         */
            var ii, jj, kk;
            for (ii = fromIndex || 0; ii < bff.length; ii += 1) {
                for (jj = 0, kk = ii; jj < subBff.length; jj += 1, kk += 1) {
                    if (subBff[jj] !== bff[kk]) {
                        break;
                    }
                }
                if (jj === subBff.length) {
                    return kk - jj;
                }
            }
            return subBff.length && -1;
        };

        local.bufferRandomBytes = function (length) {
        /*
         * this function will create create a Uint8Array with the given length,
         * filled with random bytes
         */
            var bff, ii;
            bff = new local.global.Uint8Array(length);
            for (ii = 0; ii < bff.length; ii += 1) {
                bff[ii] = Math.random() * 256;
            }
            return bff;
        };

        local.bufferToNodeBuffer = function (bff) {
        /*
         * this function will convert the Uint8Array instance to a node Buffer instance
         */
            if (local.modeJs === 'node' &&
                    bff instanceof local.global.Uint8Array && (!Buffer.isBuffer(bff))) {
                Object.setPrototypeOf(bff, Buffer.prototype);
            }
            return bff;
        };

        local.bufferToString = function (bff) {
        /*
         * this function will convert the Uint8Array bff to a utf8 string
         */
            bff = bff || '';
            if (typeof bff === 'string') {
                return bff;
            }
            bff = local.bufferCreateIfNotBuffer(bff);
            if (local.modeJs === 'node') {
                return new Buffer(bff).toString();
            }
            if (local.global.TextDecoder) {
                return new local.global.TextDecoder('utf-8').decode(bff);
            }
// bug-workaround - TextDecoder.decode polyfill
/* jslint-ignore-begin */
// http://stackoverflow.com/questions/17191945/conversion-between-utf-8-arraybuffer-and-string
function Utf8ArrayToStr(e){var t,n,r,i,s,o;t="",r=e.length,n=0;while(n<r){i=e[n++
];switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String
.fromCharCode(i);break;case 12:case 13:s=e[n++],t+=String.fromCharCode((i&31)<<6|
s&63);break;case 14:s=e[n++],o=e[n++],t+=String.fromCharCode((i&15)<<12|(s&63)<<6|
(o&63)<<0)}}return t}
return Utf8ArrayToStr(bff);
/* jslint-ignore-end */
        };

        local.buildApidoc = function (options, onError) {
        /*
         * this function will build the apidoc
         */
            // optimization - do not run if $npm_config_mode_coverage = all
            if (local.env.npm_config_mode_coverage === 'all') {
                onError();
                return;
            }
            options = local.objectSetDefault(options, {
                blacklistDict: local,
                require: local.requireInSandbox
            });
            if (local.env.npm_package_buildCustomOrg && !options.modeForce) {
                onError();
                return;
            }
            // create apidoc.html
            local.fsWriteFileWithMkdirpSync(
                local.env.npm_config_dir_build + '/apidoc.html',
                local.tryCatchReadFile('apidoc.html', 'utf8') || local.apidocCreate(options)
            );
            console.error('created apidoc file ' + local.env.npm_config_dir_build +
                '/apidoc.html\n');
            onError();
        };

        local.buildApp = function (options, onError) {
        /*
         * this function will build the app
         */
            options = local.objectSetDefault(options, { assetsList: [] });
            // build assets
            local.fsRmrSync(local.env.npm_config_dir_build + '/app');
            local.onParallelList({ list: options.assetsList.concat([{
                file: '/LICENSE',
                url: '/LICENSE'
            }, {
                file: '/assets.' + local.env.npm_package_nameLib + '.html',
                url: '/index.html'
            }, {
                file: '/assets.' + local.env.npm_package_nameLib + '.js',
                url: '/assets.' + local.env.npm_package_nameLib + '.js'
            }, {
                file: '/assets.app.js',
                url: '/assets.app.js'
            }, {
                file: '/assets.example.html',
                url: '/assets.example.html'
            }, {
                file: '/assets.example.js',
                url: '/assets.example.js'
            }, {
                file: '/assets.index.css',
                url: '/assets.index.css'
            }, {
                file: '/assets.swgg.html',
                url: '/assets.swgg.html'
            }, {
                file: '/assets.swgg.swagger.json',
                url: '/assets.swgg.swagger.json'
            }, {
                file: '/assets.swgg.swagger.petstore.json',
                url: '/assets.swgg.swagger.petstore.json'
            }, {
                file: '/assets.swgg.swagger.server.json',
                url: '/assets.swgg.swagger.server.json'
            }, {
                file: '/assets.test.js',
                url: '/assets.test.js'
            }, {
                file: '/assets.utility2.rollup.js',
                url: '/assets.utility2.rollup.js'
            }, {
                file: '/index.html',
                url: '/index.html'
            }, {
                file: '/jsonp.utility2.stateInit',
                url: '/jsonp.utility2.stateInit?callback=window.utility2.stateInit'
            }]) }, function (options2, onParallel) {
                options2 = options2.element;
                onParallel.counter += 1;
                local.ajax(options2, function (error, xhr) {
                    // validate no error occurred
                    local.assert(!error, error);
                    // jslint file
                    local.jslintAndPrintConditional(xhr.responseText, options2.file);
                    // validate no error occurred
                    local.assert(!local.jslint.errorText, local.jslint.errorText);
                    local.fsWriteFileWithMkdirpSync(
                        local.env.npm_config_dir_build + '/app' + options2.file,
                        new Buffer(xhr.response)
                    );
                    onParallel();
                });
            }, function (error) {
                // validate no error occurred
                local.assert(!error, error);
                // test standalone assets.app.js
                local.fs.writeFileSync('tmp/assets.app.js', local.assetsDict['/assets.app.js']);
                local.childProcessSpawnWithTimeout('node', ['assets.app.js'], {
                    cwd: 'tmp',
                    env: {
                        PATH: local.env.PATH,
                        PORT: (local.env.PORT ^ (Math.random() * 0x10000)) | 0x8000,
                        npm_config_timeout_exit: 5000
                    },
                    stdio: ['ignore', 1, 2]
                })
                    .once('error', onError)
                    .once('exit', function (exitCode) {
                        // validate exitCode
                        local.assert(!exitCode, exitCode);
                        onError();
                    });
            });
        };

        local.buildCustomOrg = function (options, onError) {
        /*
         * this function will build the customOrg
         */
            var isDone, onError2, onParallel;
            if (!local.env.npm_package_buildCustomOrg && !options.modeForce) {
                onError();
                return;
            }
            onError2 = function (error) {
                local.onErrorDefault(error);
                if (isDone) {
                    return;
                }
                isDone = true;
                // try to recover from error
                setTimeout(onError, error && local.timeoutDefault);
            };
            // try to recover from uncaughtException
            process.on('uncaughtException', onError2);
            onParallel = local.onParallel(onError2);
            onParallel.counter += 1;
            // build package.json
            options.packageJson = JSON.parse(local.fs.readFileSync('package.json', 'utf8'));
            onParallel.counter += 1;
            local.buildReadme({
                dataFrom: '\n# package.json\n```json\n' + JSON.stringify(options.packageJson) +
                    '\n```\n',
                modeForce: true
            }, onParallel);
            options.packageJson = JSON.parse(local.fs.readFileSync('package.json', 'utf8'));
            switch (local.env.GITHUB_ORG) {
            case 'npmdoc':
                local.objectSetOverride(options, { packageJson: {
                    keywords: ['documentation', local.env.npm_package_buildCustomOrg]
                } }, 2);
                // build apidoc.html
                onParallel.counter += 1;
                local.buildApidoc({
                    dir: local.env.npm_package_buildCustomOrg,
                    modeForce: true,
                    modulePathList: options.modulePathList
                }, onParallel);
                break;
            case 'npmtest':
                local.objectSetOverride(options, {
                    packageJson: {
                        keywords: ['coverage', 'test', local.env.npm_package_buildCustomOrg]
                    }
                }, 2);
                break;
            case 'scrapeitall':
                break;
            }
            // build README.md
            options.readme = local.apidocCreate({
                dir: local.env.npm_package_buildCustomOrg,
                modeNoApidoc: true,
                modulePathList: options.modulePathList,
                require: local.requireInSandbox,
                template: local.assetsDict['/assets.readmeCustomOrg.' + local.env.GITHUB_ORG +
                    '.template.md']
            });
            local.fs.writeFileSync('README.md', options.readme);
            console.error('created customOrg file ' + process.cwd() + '/README.md\n');
            // re-build package.json
            options.packageJson.description = options.readme.split('\n')[2].trim();
            local.fs.writeFileSync(
                'package.json',
                local.jsonStringifyOrdered(options.packageJson, null, 4) + '\n'
            );
            onParallel();
        };

        local.buildLib = function (options, onError) {
        /*
         * this function will build the lib
         */
            local.objectSetDefault(options, {
                customize: local.nop,
                dataFrom: local.tryCatchReadFile(
                    'lib.' + local.env.npm_package_nameLib + '.js',
                    'utf8'
                ),
                dataTo: local.templateRenderJslintLite(
                    local.assetsDict['/assets.lib.template.js'],
                    {}
                )
            });
            // search-and-replace - customize dataTo
            [
                // customize body before istanbul instrument in package
                (/[\S\s]*?^\/\* istanbul instrument in package /m),
                // customize body after use strict
                (/\n {4}'use strict';\n[\S\s]*?\n\n\n\n/),
                // customize body after init lib
                (/\n {8}\/\/ init lib\n[\S\s]*?$/)
            ].forEach(function (rgx) {
                // handle large string-replace
                options.dataFrom.replace(rgx, function (match0) {
                    options.dataTo.replace(rgx, function (match1) {
                        options.dataTo = options.dataTo.split(match1);
                        options.dataTo[0] += match0;
                        options.dataTo[0] += options.dataTo.splice(1, 1)[0];
                        options.dataTo = options.dataTo.join(match1);
                    });
                });
            });
            // customize local
            if (local.fs.existsSync('./assets.utility2.rollup.js') &&
                    local.env.npm_package_nameLib !== 'swgg') {
                options.dataTo = options.dataTo.replace(
                    '        if (!local) {\n',
                    '        if (local) {\n'
                );
            }
            options.customize();
            // save lib.xxx.js
            local.fs.writeFileSync(
                'lib.' + local.env.npm_package_nameLib + '.js',
                options.dataTo
            );
            // normalize function-before
            [
                'lib.' + local.env.npm_package_nameLib + '.js',
                'lib.' + local.env.npm_package_nameLib + '.sh',
                'npm_scripts.sh'
            ].forEach(function (file) {
                options.dataFunctionBefore = local.tryCatchReadFile(
                    file,
                    'utf8'
                ).replace(file.slice(-3) === '.js'
                    ? new RegExp('\\n {4}\\/\\/ run shared js-env code - function-before\\n' +
                        '[\\S\\s]+?\\n {4}\\}\\(\\)\\);\\n')
                    : (/^[\S\s]*?$/), function (match0) {
                        return match0.replace((
                            /^ {8}local\.(\w+) = function \([\S\s]+?\n {8}\};$/gm
                        ), function (match0, match1) {
                            return typeof local[match1] === 'function'
                                ? '        local.' + match1 + ' = ' + local[match1].toString() + ';'
                                : match0;
                        });
                    });
                /* istanbul ignore next */
                if (options.dataFunctionBefore && !local.env.npm_config_mode_coverage) {
                    local.fs.writeFileSync(file, options.dataFunctionBefore);
                }
            });
            onError();
        };

        local.buildReadme = function (options, onError) {
        /*
         * this function will build the readme in jslint-lite style
         */
            if (local.env.npm_package_buildCustomOrg && !options.modeForce) {
                onError();
                return;
            }
            local.objectSetDefault(options, {
                customize: local.nop,
                dataFrom: local.tryCatchReadFile('README.md', 'utf8')
                    // reset toc
                    .replace(
                        /\n# table of contents$[\S\s]*?\n\n\n\n/m,
                        '\n# table of contents\n\n\n\n'
                    )
            });
            // init package.json
            options.rgx = (/\n# package.json\n```json\n([\S\s]*?)\n```\n/);
            options.dataFrom.replace(options.rgx, function (match0, match1) {
                // remove null-items from package.json
                options.packageJson = JSON.parse(match1.replace((/ {4}".*?": null,?$/gm), ''));
                options.packageJson.description = options.dataFrom.split('\n')[1];
                local.tryCatchOnError(function () {
                    local.objectSetDefault(options.packageJson, {
                        nameLib: JSON.parse(local.fs.readFileSync('./package.json')).nameLib
                    });
                }, local.nop);
                local.objectSetDefault(options.packageJson, {
                    nameLib: options.packageJson.name.replace((/\W/g), '_'),
                    nameOriginal: options.packageJson.name
                });
                local.objectSetDefault(
                    options.packageJson,
                    JSON.parse(local.templateRenderJslintLite(
                        options.rgx.exec(local.assetsDict['/assets.readme.template.md'])[1],
                        options
                    )),
                    2
                );
                // avoid npm-installing self
                delete options.packageJson.devDependencies[options.packageJson.name];
                // save package.json
                local.fs.writeFileSync(
                    'package.json',
                    local.jsonStringifyOrdered(options.packageJson, null, 4) + '\n'
                );
                // render dataTo
                options.dataTo = local.templateRenderJslintLite(
                    local.assetsDict['/assets.readme.template.md'],
                    options
                );
                options.dataTo = options.dataTo.replace(
                    options.rgx,
                    match0.replace(match1, local.jsonStringifyOrdered(options.packageJson, null, 4))
                );
            });
            // search-and-replace - customize dataTo
            [
                // customize name and description
                (/.*?\n.*?\n/),
                // customize cdn-download
                (/\n# cdn download\n[\S\s]*?\n\n\n\n/),
                // customize live web demo
                (/\n# live web demo\n[\S\s]*?\n\n\n\n/),
                // customize todo
                (/\n#### todo\n[\S\s]*?\n\n\n\n/),
                // customize quickstart-example-js
                new RegExp('\\n {8}local\\.global\\.local = local;\\n' +
                    '[^`]*?\\n {4}\\/\\/ run browser js\\-env code - init-test\\n'),
                new RegExp('\\n {8}local\\.testRunBrowser = function \\(event\\) \\{\\n' +
                    '[^`]*?^ {12}if \\(!event \\|\\| \\(event &&\\n', 'm'),
                (/\n {12}\/\/ custom-case\n[^`]*?\n {12}\}\n/),
                // customize quickstart-html-body
                (/\nutility2-comment -->(?:\\n\\\n){4}[^`]*?^<!-- utility2-comment\\n\\\n/m),
                // customize build script
                (/\n# internal build script\n[\S\s]*?^- build_ci\.sh\n/m),
                (/\nshBuildCiAfter \(\) \{\(set -e\n[^`]*?\n\)\}\n/),
                (/\nshBuildCiBefore \(\) \{\(set -e\n[^`]*?\n\)\}\n/)
            ].forEach(function (rgx) {
                // handle large string-replace
                options.dataFrom.replace(rgx, function (match0) {
                    options.dataTo.replace(rgx, function (match1) {
                        options.dataTo = options.dataTo.split(match1);
                        options.dataTo[0] += match0;
                        options.dataTo[0] += options.dataTo.splice(1, 1)[0];
                        options.dataTo = options.dataTo.join(match1);
                    });
                });
            });
            // customize private-repository
            if (local.env.npm_package_isPrivate) {
                options.dataTo = options.dataTo
                    .replace((
                        /\n\[!\[NPM\]\(https:\/\/nodei.co\/npm\/.*?\n/
                    ), '\n')
                    .replace(
                        '$ npm install ',
                        '$ git clone --single-branch -b beta ' +
                            local.env.npm_package_repository_url
                            .replace('git+https://github.com/', 'git@github.com:') +
                            ' node_modules/'
                    );
            }
            // customize version
            ['dataFrom', 'dataTo'].forEach(function (element) {
                options[element] = options[element].replace((
                    /^(#### changelog for v|- npm publish v)\d+?\.\d+?\.\d+?.*?$/gm
                ), '$1' + options.packageJson.version);
            });
            // customize swaggerdoc
            if (!local.assetsDict['/assets.swgg.swagger.json'] ||
                    (/\bswggUiContainer\b/).test(local.assetsDict['/index.html']) ||
                    local.env.npm_package_name === 'utility2') {
                options.dataTo = options.dataTo.replace((/\n#### swagger doc\n[\S\s]*?\n#### /),
                    '\n#### ');
            }
            // customize example.js
            if (local.assetsDict['/index.html']
                    .indexOf('<script src="assets.example.js"></script>') < 0) {
                options.dataTo = options.dataTo.replace(
                    (/\n {4}case 'browser':\n[\S\s]+?\n {8}break;\n/g),
                    "\n    case 'browser':\n        break;\n"
                );
            }
            // customize comment
            options.dataFrom.replace((
                /^( *?)(?:#!\! |#\/\/ |\/\/!\! |<!-- )(.*?)(?: -->)?$/gm
            ), function (match0, match1, match2) {
                options.dataTo = options.dataTo.replace(
                    '\n' + match1 + match2 + '\n',
                    '\n' + match0 + '\n'
                );
            });
            options.customize();
            // customize shDeployCustom
            if (options.dataFrom.indexOf('    shDeployCustom\n') >= 0) {
                [
                    // customize quickstart
                    (/\n#### changelog [\S\s]*\n# quickstart example.js\n/),
                    options.dataFrom.indexOf('"assets.index.default.template.html"') < 0 &&
                        (/\n# quickstart [\S\s]*?\n# extra screenshots\n/)
                ].forEach(function (rgx) {
                    options.dataFrom.replace(rgx, function (match0) {
                        options.dataTo = options.dataTo.replace(rgx, match0);
                    });
                });
                // customize screenshot
                options.dataTo = options.dataTo.replace(new RegExp('^1\\. .*?screenshot\\.' +
                    '(?:npmTest|testExampleJs|testExampleSh)' +
                    '.*?\\.png[\\S\\s]*?\\n\\n', 'gm'), '');
            }
            // customize shBuildCiAfter and shBuildCiBefore
            [
                ['shDeployGithub', (/.*?\/screenshot\.deployGithub.*?\n/g)],
                ['shDeployHeroku', (/.*?\/screenshot\.deployHeroku.*?\n/g)],
                ['shReadmeTest example.js', (/.*?\/screenshot\.testExampleJs.*?\n/g)],
                ['shReadmeTest example.sh', (/.*?\/screenshot\.testExampleSh.*?\n/g)]
            ].forEach(function (element) {
                if (options.dataFrom.indexOf('    ' + element[0] + '\n') >= 0) {
                    return;
                }
                // customize test-server
                options.dataTo = options.dataTo.replace(
                    new RegExp('\\n\\| test-server-' +
                        element[0].replace('shDeploy', '').toLowerCase() + ' : \\|.*?\\n'),
                    '\n'
                );
                // customize screenshot
                options.dataTo = options.dataTo.replace(element[1], '');
            });
            // customize assets.index.template.html
            if (local.assetsDict['/assets.index.template.html']
                    .indexOf('"assets.index.default.template.html"') < 0) {
                options.dataTo = options.dataTo.replace(
                    new RegExp('\\n {8}\\/\\* jslint-ignore-begin \\*\\/\\n' +
                        ' {8}local.assetsDict\\[\'\\/assets.index.template.html\'\\]' +
                        ' = \'\\\\\\n' +
                        '[\\S\\s]*?\\n {8}\\/\\* jslint-ignore-end \\*\\/\\n'),
                    '\n'
                );
            }
            // render dataTo - customizeAfter
            options.customizeAfter = true;
            options.dataTo = local.templateRenderJslintLite(options.dataTo, options);
            // customize toc
            options.toc = '\n# table of contents\n';
            options.dataTo.replace(/\n\n\n\n# (.*)/g, function (match0, match1) {
                match0 = match1;
                if (match0 === 'table of contents') {
                    return;
                }
                options.toc += '1. [' + match0 + '](#' + match0.toLowerCase()
                    .replace(/[^ \-0-9A-Z_a-z]/g, '').replace(/ /g, '-') + ')\n';
            });
            options.dataTo = options.dataTo.replace('\n# table of contents\n', options.toc);
            // normalize whitespace
            options.dataTo = options.dataTo
                .replace((/\n{5,}/g), '\n\n\n\n')
                .replace((/(\S)\n{3}(\S)/g), '$1\n\n$2');
            // save README.md
            local.fs.writeFileSync('README.md', options.dataTo);
            // customize assets.swgg.swagger.json
            if (local.fs.existsSync('assets.swgg.swagger.json')) {
                // normalize assets.swgg.swagger.json
                options.swaggerJson = local.swgg.normalizeSwaggerJson(JSON.parse(
                    // read assets.swgg.swagger.json
                    local.fs.readFileSync('assets.swgg.swagger.json', 'utf8')
                ));
                local.objectSetOverride(options.swaggerJson, { info: {
                    title: options.packageJson.name,
                    version: options.packageJson.version,
                    'x-swgg-description': options.packageJson.description,
                    'x-swgg-homepage': options.packageJson.homepage
                } }, 2);
                options.dataTo.replace((/\bhttps:\/\/.*?\/assets\.app\.js/), function (match0) {
                    options.swaggerJson['x-swgg-downloadStandaloneApp'] = match0;
                });
                // save assets.swgg.swagger.json
                local.fs.writeFileSync('assets.swgg.swagger.json', local.jsonStringifyOrdered(
                    options.swaggerJson,
                    null,
                    4
                ) + '\n');
            }
            onError();
        };

        local.buildTest = function (options, onError) {
        /*
         * this function will build the test
         */
            local.objectSetDefault(options, {
                customize: local.nop,
                dataFrom: local.tryCatchReadFile('test.js', 'utf8'),
                dataTo: local.templateRenderJslintLite(
                    local.assetsDict['/assets.test.template.js'],
                    {}
                )
            });
            // search-and-replace - customize dataTo
            [
                // customize shared js\-env code
                (/\n {4}\(function \(\) \{\n[\S\s]*?$/)
            ].forEach(function (rgx) {
                // handle large string-replace
                options.dataFrom.replace(rgx, function (match0) {
                    options.dataTo.replace(rgx, function (match1) {
                        options.dataTo = options.dataTo.split(match1);
                        options.dataTo[0] += match0;
                        options.dataTo[0] += options.dataTo.splice(1, 1)[0];
                        options.dataTo = options.dataTo.join(match1);
                    });
                });
            });
            // customize require('utility2')
            [
                './assets.utility2.rollup.js',
                './lib.utility2.js'
            ].forEach(function (file) {
                if (local.fs.existsSync(file)) {
                    options.dataTo = options.dataTo.replace(
                        "require('utility2')",
                        "require('" + file + "')"
                    );
                }
            });
            options.customize();
            // save test.js
            local.fs.writeFileSync('test.js', options.dataTo);
            onError();
        };

        local.childProcessSpawnWithTimeout = function () {
        /*
         * this function will run like child_process.spawn,
         * but with auto-timeout after timeout milliseconds
         * example usage:
            var child = local.childProcessSpawnWithTimeout(
                '/bin/sh',
                ['-c', 'echo hello world'],
                {
                    stdio: ['ignore', 1, 2],
                    // timeout in ms
                    timeout: 5000
                }
            );
            child.on('error', console.error);
            child.on('exit', function (exitCode) {
                console.error('exitCode ' + exitCode);
            });
         */
            var argList, child, child_process, timerTimeout;
            argList = arguments;
            child_process = require('child_process');
            // spawn child
            child = child_process.spawn.apply(child_process, argList)
                .on('exit', function () {
                    // cleanup timerTimeout
                    try {
                        process.kill(timerTimeout.pid);
                    } catch (ignore) {
                    }
                });
            // init timerTimeout
            timerTimeout = child_process.spawn('sleep ' +
                // convert timeout to integer seconds with 2 second delay
                ((0.001 * (Number(argList[2] && argList[2].timeout) ||
                Number(local.timeoutDefault)) + 2) | 0) +
                '; kill -9 ' + child.pid + ' 2>/dev/null', { shell: true, stdio: 'ignore' });
            return child;
        };

        local.cliRun = function (fnc) {
        /*
         * this function will run the cli
         */
            var nop;
            nop = function () {
            /*
             * this function will do nothing
             */
                return;
            };
            local.cliDict._eval = local.cliDict._eval || function () {
            /*
             * code
             * eval code
             */
                local.global.local = local;
                require('vm').runInThisContext(process.argv[3]);
            };
            local.cliDict['--eval'] = local.cliDict['--eval'] || local.cliDict._eval;
            local.cliDict['-e'] = local.cliDict['-e'] || local.cliDict._eval;
            local.cliDict._help = local.cliDict._help || function () {
            /*
             * [none]
             * print help
             */
                var element, result, lengthList, sortDict;
                console.log(require(__dirname + '/package.json').name + ' v' +
                    require(__dirname + '/package.json').version);
                sortDict = {};
                result = [['[command]', '[args]', '[description]', -1]];
                lengthList = [result[0][0].length, result[0][1].length];
                Object.keys(local.cliDict).sort().forEach(function (key, ii) {
                    if (key[0] === '_' && key !== '_default') {
                        return;
                    }
                    sortDict[local.cliDict[key].toString()] =
                        sortDict[local.cliDict[key].toString()] || (ii + 1);
                    element = (/\n +\*(.*)\n +\*(.*)/).exec(local.cliDict[key].toString());
                    // coverage-hack - ignore else-statement
                    nop(local.global.__coverage__ && (function () {
                        element = element || ['', '', ''];
                    }()));
                    element = [
                        key.replace('_default', '[none]') + ' ',
                        element[1].trim() + ' ',
                        element[2].trim(),
                        (sortDict[local.cliDict[key].toString()] << 8) + ii
                    ];
                    result.push(element);
                    lengthList.forEach(function (length, jj) {
                        lengthList[jj] = Math.max(element[jj].length, length);
                    });
                });
                result.sort(function (aa, bb) {
                    return aa[3] < bb[3]
                        ? -1
                        : 1;
                });
                console.log('usage:   ' + __filename + ' [command] [args]');
                console.log('example: ' + __filename + ' --eval    ' +
                    '"console.log(\'hello world\')"\n');
                result.forEach(function (element, ii) {
                    lengthList.forEach(function (length, jj) {
                        while (element[jj].length < length) {
                            element[jj] += '-';
                        }
                    });
                    element = element.slice(0, 3).join('---- ');
                    if (!ii) {
                        element = element.replace((/-/g), ' ');
                    }
                    console.log(element);
                });
            };
            local.cliDict['--help'] = local.cliDict['--help'] || local.cliDict._help;
            local.cliDict['-h'] = local.cliDict['-h'] || local.cliDict._help;
            local.cliDict._default = local.cliDict._default || local.cliDict._help;
            local.cliDict.help = local.cliDict.help || local.cliDict._help;
            local.cliDict._interactive = local.cliDict._interactive || function () {
            /*
             * [none]
             * start interactive-mode
             */
                local.global.local = local;
                local.replStart();
            };
            if (local.replStart) {
                local.cliDict['--interactive'] = local.cliDict['--interactive'] ||
                    local.cliDict._interactive;
                local.cliDict['-i'] = local.cliDict['-i'] || local.cliDict._interactive;
            }
            local.cliDict._version = local.cliDict._version || function () {
            /*
             * [none]
             * print version
             */
                console.log(require(__dirname + '/package.json').version);
            };
            local.cliDict['--version'] = local.cliDict['--version'] || local.cliDict._version;
            local.cliDict['-v'] = local.cliDict['-v'] || local.cliDict._version;
            // run fnc()
            fnc = fnc || function () {
                if (local.cliDict[process.argv[2]]) {
                    local.cliDict[process.argv[2]]();
                    return;
                }
                local.cliDict._default();
            };
            fnc();
        };

        local.cookieDict = function () {
        /*
         * this function will return a dict of all cookies
         */
            var result;
            result = {};
            document.cookie.replace((/(\w+)=([^;]*)/g), function (match0, match1, match2) {
                match0 = match1;
                result[match0] = match2;
            });
            return result;
        };

        local.cookieRemove = function (name) {
        /*
         * this function will remove the cookie with the given name
         */
            document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT';
        };

        local.cookieRemoveAll = function () {
        /*
         * this function will remove all cookies
         */
            document.cookie.replace((/(\w+)=/g), function (match0, match1) {
                match0 = match1;
                document.cookie = match0 + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT';
            });
        };

        local.cookieSet = function (name, value, expiresOffset) {
        /*
         * this function will set the cookie with the given name, value,
         * and expiresOffset (in ms)
         */
            var tmp;
            tmp = name + '=' + value + '; expires=' +
                new Date(Date.now() + expiresOffset).toUTCString();
            document.cookie = tmp;
            return tmp;
        };

        local.corsBackendHostInject = function (url, backendHost, rgxInject, location) {
        /*
         * this function will inject backendHost into the url, if location.host is a github site
         */
            location = location || (typeof window === 'object' && window && window.location);
            if (!(backendHost && location && (/\bgithub.io$/).test(location.host))) {
                return url;
            }
            // init github-branch
            location.pathname.replace(
                (/\/build\.\.(alpha|beta|master)\.\.travis-ci\.org\//),
                function (match0, match1) {
                    match0 = match1;
                    backendHost = backendHost.replace('-alpha.', '-' + match0 + '.');
                }
            );
            return url.replace(rgxInject || (/.*()/), backendHost + '$1');
        };

        local.corsForwardProxyHostIfNeeded = function (xhr) {
        /*
         * this function will return xhr.corsForwardProxyHost, if needed
         */
            return local.modeJs === 'browser' &&
                local.env.npm_package_nameLib &&
                (/^https?:\/\//).test(xhr.url) &&
                xhr.url.indexOf(xhr.location.protocol + '//' + xhr.location.host) !== 0 &&
                (/\.github\.io$/).test(xhr.location.host) &&
                xhr.corsForwardProxyHost !== 'disabled' &&
                (xhr.corsForwardProxyHost || 'https://h1-proxy1.herokuapp.com');
        };

        local.dbTableCustomOrgCreate = function (options, onError) {
        /*
         * this function will create a persistent dbTableCustomOrg
         */
            options = local.objectSetDefault(options, { customOrg: local.env.GITHUB_ORG });
            options = local.objectSetDefault(options, {
                name: 'CustomOrg.' + options.customOrg,
                sizeLimit: 1000,
                sortDefault: [{
                    fieldName: '_id'
                }, {
                    fieldName: 'buildStartedAt'
                }, {
                    fieldName: 'buildState'
                }, {
                    fieldName: 'active'
                }]
            });
            local.dbTableCustomOrg = local.db.dbTableCreateOne(options, onError);
            return local.dbTableCustomOrg;
        };

        local.dbTableCustomOrgCrudGetManyByQuery = function (options) {
        /*
         * this function will query dbTableCustomOrg
         */
            options = local.objectSetDefault(options, {
                customOrg: local.env.GITHUB_ORG,
                query: { buildStartedAt: { $not: { $gt: new Date(Date.now() - (
                    Number(options && options.olderThanLast) || 0
                )).toISOString() } } }
            }, 2);
            console.error('dbTableCustomOrgCrudGetManyByQuery - ' + JSON.stringify(options));
            return local.dbTableCustomOrgCreate().crudGetManyByQuery(options);
        };

        local.dbTableCustomOrgUpdate = function (options, onError) {
        /*
         * this function will update dbTableCustomOrg with active, public repos
         */
            var count, dbRowList, self;
            options = local.objectSetDefault(options, { customOrg: local.env.GITHUB_ORG });
            local.onNext(options, function (error, data) {
                switch (options.modeNext) {
                case 1:
                    self = local.dbTableCustomOrg = local.dbTableCustomOrgCreate(
                        options,
                        options.onNext
                    );
                    break;
                case 2:
                    self = local.dbTableCustomOrg = data;
                    data = {
                        headers: {
                            'Travis-API-Version': '3',
                            Authorization: 'token ' + local.env.TRAVIS_ACCESS_TOKEN
                        },
                        url: 'https://api.travis-ci.org/repos?limit=1'
                    };
                    console.error('fetching ' + data.url + ' ...');
                    local.ajax(data, options.onNext);
                    break;
                case 3:
                    count = JSON.parse(data.responseText)['@pagination'].count;
                    console.error('... fetched ' + data.url + ' with ' + count + ' repos');
                    dbRowList = [];
                    local.onParallelList({
                        list: [{
                            offset: 0,
                            sort_by: 'asc'
                        }, {
                            offset: 100,
                            sort_by: 'asc'
                        }, {
                            offset: 200,
                            sort_by: 'asc'
                        }, {
                            offset: 300,
                            sort_by: 'asc'
                        }, {
                            offset: 400,
                            sort_by: 'asc'
                        }, {
                            offset: Math.floor(Math.random() * count) - 100,
                            sort_by: 'asc'
                        }, {
                            offset: Math.floor(Math.random() * count) - 100,
                            sort_by: 'asc'
                        }, {
                            offset: 0,
                            sort_by: 'desc'
                        }, {
                            offset: count - 500,
                            sort_by: 'desc'
                        }, {
                            offset: count - 400,
                            sort_by: 'desc'
                        }, {
                            offset: count - 300,
                            sort_by: 'desc'
                        }, {
                            offset: count - 200,
                            sort_by: 'desc'
                        }, {
                            offset: count - 100,
                            sort_by: 'desc'
                        }]
                    }, function (options2, onParallel) {
                        onParallel.counter += 1;
                        options2 = {
                            headers: {
                                'Travis-API-Version': '3',
                                Authorization: 'token ' + local.env.TRAVIS_ACCESS_TOKEN
                            },
                            url: 'https://api.travis-ci.org/repos?' +
                                'include=repository.current_build&' +
                                'limit=100&' +
                                'offset=' + options2.element.offset + '&' +
                                'sort_by=current_build%3A' + options2.element.sort_by
                        };
                        console.error('fetching ' + options2.url + ' ...');
                        local.ajax(options2, function (error, data) {
                            // validate no error occurred
                            local.assert(!error, error);
                            dbRowList = dbRowList
                                .concat(JSON.parse(data.responseText).repositories);
                            console.error('... fetched ' + options2.url);
                            onParallel();
                        });
                    }, options.onNext);
                    break;
                case 4:
                    self.crudRemoveManyByQuery({});
                    self.crudSetManyById(dbRowList
                        .filter(function (dbRow) {
                            return dbRow.private === false && dbRow.slug.indexOf(
                                options.customOrg + '/node-' + options.customOrg + '-'
                            ) === 0;
                        })
                        .map(function (dbRow) {
                            data = dbRow.current_build || {};
                            return {
                                _id: dbRow.name.replace('node-' + options.customOrg + '-', ''),
                                active: dbRow.active,
                                buildDuration: data.duration,
                                buildFinishedAt: data.finished_at,
                                buildStartedAt: data.started_at,
                                buildState: data.state
                            };
                        }));
                    self.save(options.onNext);
                    break;
                default:
                    local.setTimeoutOnError(onError, 0, error, self);
                }
            });
            options.modeNext = 0;
            options.onNext();
            return self;
        };

        local.domElementRender = function (template, dict) {
        /*
         * this function will return a dom-fragment rendered from the givent template and dict
         */
            var tmp;
            tmp = document.createElement('template');
            tmp.innerHTML = local.templateRender(template, dict);
            return tmp.content;
        };

        local.domQuerySelectorAllTagNameAndPrint = function (selector) {
        /*
         * this function will print all tagName's that match the selector
         */
            var dict;
            dict = {};
            Array.from(document.querySelectorAll(selector)).forEach(function (element) {
                dict[element.tagName.toLowerCase()] = true;
            });
            console.log(Object.keys(dict).sort().join('\n'));
        };

        local.domStyleValidate = function () {
        /*
         * this function will validate the document's style
         */
            var tmp;
            tmp = [];
            Array.from(document.querySelectorAll('style')).map(function (element, ii) {
                element.innerHTML.replace((/^([^\n @].*?)[,\{:].*?$/gm), function (match0, match1) {
                    ii = document.querySelectorAll(match1).length;
                    if (!(ii > 1)) {
                        tmp.push(ii + ' ' + match0);
                    }
                });
            });
            tmp.sort().forEach(function (element, ii) {
                console.error('validateDocumentStyleUnmatched ' + ii + '. ' + element);
            });
        };

        local.echo = function (arg) {
        /*
         * this function will return the arg
         */
            return arg;
        };

        local.envKeyIsSensitive = function (key) {
        /*
         * this function will try to determine if the env-key is sensitive
         */
            return (/(?:\b|_)(?:crypt|decrypt|key|pass|private|secret|token)/)
                .test(key.toLowerCase()) ||
                (/Crypt|Decrypt|Key|Pass|Private|Secret|Token/).test(key);
        };

        local.envSanitize = function (env) {
        /*
         * this function will return a sanitized copy of the env object,
         * with sensitive env-vars removed
         */
            var result;
            result = {};
            Object.keys(env).forEach(function (key) {
                if (!local.envKeyIsSensitive(key) &&
                        typeof env[key] === 'string' &&
                        env[key].length <= 4096) {
                    result[key] = env[key];
                }
            });
            return result;
        };

        local.errorMessagePrepend = function (error, message) {
        /*
         * this function will prepend the message to error.message and error.stack
         */
            error.message = message + error.message;
            error.stack = message + error.stack;
            return error;
        };

        local.exit = function (exitCode) {
        /*
         * this function will exit the current process with the given exitCode
         */
            local.onErrorDefault(typeof exitCode !== 'number' && exitCode);
            exitCode = !exitCode || Number(exitCode) === 0
                ? 0
                : Number(exitCode) || 1;
            switch (local.modeJs) {
            case 'browser':
                console.error(local.global.fileElectronHtml + ' global_test_results ' +
                    JSON.stringify({ global_test_results: local.global.global_test_results }));
                break;
            case 'node':
                process.exit(exitCode);
                break;
            }
            // reset modeTest
            local.modeTest = null;
        };

        local.fsRmrSync = function (dir) {
        /*
         * this function will synchronously 'rm -fr' the dir
         */
            local.child_process.execFileSync(
                'rm',
                ['-fr', local.path.resolve(process.cwd(), dir)],
                { stdio: ['ignore', 1, 2] }
            );
        };

        local.fsWriteFileWithMkdirpSync = function (file, data) {
        /*
         * this function will synchronously 'mkdir -p' and write the data to file
         */
            // try to write to file
            try {
                require('fs').writeFileSync(file, data);
            } catch (errorCaught) {
                // mkdir -p
                require('child_process').spawnSync(
                    'mkdir',
                    ['-p', require('path').dirname(file)],
                    { stdio: ['ignore', 1, 2] }
                );
                // re-write to file
                require('fs').writeFileSync(file, data);
            }
        };

        local.isNullOrUndefined = function (arg) {
        /*
         * this function will test if the arg is null or undefined
         */
            return arg === null || arg === undefined;
        };

        local.jslintAndPrintConditional = function (script, file, mode) {
        /*
         * this function will jslint / csslint the script and print any errors to stderr
         * conditionally, depending on macros
         */
            // optimization - ignore uglified/rollup files
            if (!script || script.length >= 0x100000) {
                return script;
            }
            switch (file.replace((/^.*\./), '.')) {
            case '.css':
                if (script.indexOf('/*csslint') >= 0) {
                    local.jslintAndPrint(script, file);
                }
                break;
            case '.sh':
                local.jslintAndPrint(script, file);
                break;
            case '.js':
                if ((script.indexOf('/*jslint') >= 0 && !local.global.__coverage__) ||
                        mode === 'force') {
                    local.jslintAndPrint(script, file);
                }
                break;
            }
            // recurse - csslint <style>...</style>
            script.replace(
                (/^<style>(?:\\n\\)?\n([\S\s]+?)\n<\/style>(?:\\n\\)?$/gm),
                function (match0, match1, ii, text) {
                    match0 = match1;
                    local.jslintAndPrintConditional(
                        // preserve lineno
                        text.slice(0, ii).replace((/.+/g), '') + '\n' + match0
                            // filter \\n\\
                            .replace((/\\n\\$/gm), '')
                            // filter ' + ... + '\\
                            .replace((/^' \+ .*? \+ '\\$/gm), ''),
                        file + '.css'
                    );
                }
            );
            // recurse - jslint <script>...</script>
            script.replace((
                /^(?:\/\/ )?<script>(?:\\n\\)?\n([\S\s]+?)\n(?:\/\/ )?<\/script>(?:\\n\\)?$/gm
            ), function (match0, match1, ii, text) {
                match0 = match1;
                local.jslintAndPrintConditional(
                    // preserve lineno
                    text.slice(0, ii).replace((/.+/g), '') + '\n' + match0
                        // filter \\n\\
                        .replace((/\\n\\$/gm), '')
                        // filter ' + ... + '\\
                        .replace((/^' \+ .*? \+ '\\$/gm), ''),
                    file + '.js',
                    mode
                );
            });
            return script;
        };

        local.jsonCopy = function (jsonObj) {
        /*
         * this function will return a deep-copy of the jsonObj
         */
            return jsonObj === undefined
                ? undefined
                : JSON.parse(JSON.stringify(jsonObj));
        };

        local.jsonStringifyOrdered = function (jsonObj, replacer, space) {
        /*
         * this function will JSON.stringify the jsonObj,
         * with object-keys sorted and circular-references removed
         */
            var circularList, stringify, tmp;
            stringify = function (jsonObj) {
            /*
             * this function will recursively JSON.stringify the jsonObj,
             * with object-keys sorted and circular-references removed
             */
                // if jsonObj is not an object or function, then JSON.stringify as normal
                if (!(jsonObj &&
                        typeof jsonObj === 'object' &&
                        typeof jsonObj.toJSON !== 'function')) {
                    return JSON.stringify(jsonObj);
                }
                // ignore circular-reference
                if (circularList.indexOf(jsonObj) >= 0) {
                    return;
                }
                circularList.push(jsonObj);
                // if jsonObj is an array, then recurse its jsonObjs
                if (Array.isArray(jsonObj)) {
                    return '[' + jsonObj.map(function (jsonObj) {
                        // recurse
                        tmp = stringify(jsonObj);
                        return typeof tmp === 'string'
                            ? tmp
                            : 'null';
                    }).join(',') + ']';
                }
                // if jsonObj is not an array, then recurse its items with object-keys sorted
                return '{' + Object.keys(jsonObj)
                    // sort object-keys
                    .sort()
                    .map(function (key) {
                        // recurse
                        tmp = stringify(jsonObj[key]);
                        if (typeof tmp === 'string') {
                            return JSON.stringify(key) + ':' + tmp;
                        }
                    })
                    .filter(function (jsonObj) {
                        return typeof jsonObj === 'string';
                    })
                    .join(',') + '}';
            };
            circularList = [];
            // try to derefernce all properties in jsonObj
            (function () {
                try {
                    jsonObj = JSON.parse(JSON.stringify(jsonObj));
                } catch (ignore) {
                }
            }());
            return JSON.stringify(typeof jsonObj === 'object' && jsonObj
                // recurse
                ? JSON.parse(stringify(jsonObj))
                : jsonObj, replacer, space);
        };

        local.jwtA256GcmDecrypt = function (token, key) {
        /*
         * https://tools.ietf.org/html/rfc7516
         * this function will use json-web-encryption to
         * aes-256-gcm-decrypt the token with the given base64url-encoded key
         */
            return local.tryCatchOnError(function () {
                token = token
                    .replace((/-/g), '+')
                    .replace((/_/g), '/')
                    .split('.');
                token = local.sjcl.decrypt(local.sjcl.codec.base64url.toBits(
                    local.jwtAes256KeyInit(key)
                ), JSON.stringify({
                    adata: token[4],
                    ct: token[3],
                    iv: token[2],
                    ks: 256,
                    mode: 'gcm'
                }));
                return local.jwtHs256Decode(token, key);
            }, local.nop) || {};
        };

        local.jwtA256GcmEncrypt = function (data, key) {
        /*
         * https://tools.ietf.org/html/rfc7516
         * this function will use json-web-encryption to
         * aes-256-gcm-encrypt the data with the given base64url-encoded key
         */
            var adata;
            adata = local.jwtAes256KeyCreate();
            data = local.jwtHs256Encode(data, key);
            data = JSON.parse(local.sjcl.encrypt(
                local.sjcl.codec.base64url.toBits(local.jwtAes256KeyInit(key)),
                data,
                { adata: local.sjcl.codec.base64url.toBits(adata), ks: 256, mode: 'gcm' }
            ));
            return local.normalizeJwtBase64Url('eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4R0NNIn0..' +
                data.iv + '.' + data.ct + '.' + adata);
        };

        local.jwtAes256KeyCreate = function () {
        /*
         * this function will create a random, aes-256-base64url-jwt-key
         */
            return local.normalizeJwtBase64Url(
                local.base64FromBuffer(local.bufferRandomBytes(32))
            );
        };

        local.jwtAes256KeyInit = function (key) {
        /*
         * https://jwt.io/
         * this function will init the aes-256-base64url-jwt-key
         */
            // init npm_config_jwtAes256Key
            local.env.npm_config_jwtAes256Key = local.env.npm_config_jwtAes256Key ||
                'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA';
            return key || local.env.npm_config_jwtAes256Key;
        };

        local.jwtHs256Decode = function (token, key) {
        /*
         * https://jwt.io/
         * this function will decode the json-web-token with the given base64-encode key
         */
            var timeNow;
            timeNow = Date.now() / 1000;
            // try to decode the token
            return local.tryCatchOnError(function () {
                token = token.split('.');
                // validate header
                local.assert(token[0] === 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9', token);
                // validate signature
                local.assert(local.sjcl.codec.base64url.fromBits(
                    new local.sjcl.misc.hmac(local.sjcl.codec.base64url.toBits(
                        local.jwtAes256KeyInit(key)
                    )).encrypt(token[0] + '.' + token[1])
                ) === token[2]);
                // return decoded data
                token = JSON.parse(local.base64ToString(token[1]));
                // https://tools.ietf.org/html/rfc7519#section-4.1
                // validate jwt-registered-headers
                local.assert(!token.exp || token.exp >= timeNow);
                local.assert(!token.nbf || token.nbf <= timeNow);
                return token;
            }, local.nop) || {};
        };

        local.jwtHs256Encode = function (data, key) {
        /*
         * https://jwt.io/
         * this function will encode the data into a json-web-token
         * with the given base64-encode key
         */
            data = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.' +
                local.normalizeJwtBase64Url(local.base64FromString(JSON.stringify(data)));
            return data + '.' + local.sjcl.codec.base64url.fromBits(
                new local.sjcl.misc.hmac(local.sjcl.codec.base64url.toBits(
                    local.jwtAes256KeyInit(key)
                )).encrypt(data)
            );
        };

        local.listGetElementRandom = function (list) {
        /*
         * this function will return a random element from the list
         */
            return list[Math.floor(list.length * Math.random())];
        };

        local.listShuffle = function (list) {
        /*
         * https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle
         * this function will inplace shuffle the list, via fisher-yates algorithm
         */
            var ii, random, swap;
            for (ii = list.length - 1; ii > 0; ii -= 1) {
                // coerce to finite integer
                random = (Math.random() * (ii + 1)) | 0;
                swap = list[ii];
                list[ii] = list[random];
                list[random] = swap;
            }
            return list;
        };

        local.localStorageSetItemOrClear = function (key, value) {
        /*
         * this function will try to set the key/value pair to localStorage,
         * or else call localStorage.clear()
         */
            try {
                localStorage.setItem(key, value);
            } catch (errorCaught) {
                localStorage.clear();
            }
        };

        local.middlewareAssetsCached = function (request, response, nextMiddleware) {
        /*
         * this function will run the middleware that will serve cached-assets
         */
            var options;
            options = {};
            local.onNext(options, function (error, data) {
                options.result = options.result || local.assetsDict[request.urlParsed.pathname];
                if (options.result === undefined) {
                    nextMiddleware(error);
                    return;
                }
                switch (options.modeNext) {
                case 1:
                    // skip gzip
                    if (response.headersSent ||
                            !(/\bgzip\b/).test(request.headers['accept-encoding'])) {
                        options.modeNext += 1;
                        options.onNext();
                        return;
                    }
                    // gzip and cache result
                    local.taskCreateCached({
                        cacheDict: 'middlewareAssetsCachedGzip',
                        key: request.urlParsed.pathname
                    }, function (onError) {
                        local.zlib.gzip(options.result, function (error, data) {
                            onError(error, !error && data.toString('base64'));
                        });
                    }, options.onNext);
                    break;
                case 2:
                    // set gzip header
                    options.result = local.base64ToBuffer(data);
                    response.setHeader('Content-Encoding', 'gzip');
                    response.setHeader('Content-Length', options.result.length);
                    options.onNext();
                    break;
                case 3:
                    local.middlewareCacheControlLastModified(request, response, options.onNext);
                    break;
                case 4:
                    response.end(options.result);
                    break;
                }
            });
            options.modeNext = 0;
            options.onNext();
        };

        local.middlewareBodyRead = function (request, response, nextMiddleware) {
        /*
         * this function will run the middleware that will
         * read and save the request-body to request.bodyRaw
         */
            // jslint-hack
            local.nop(response);
            // if request is already read, then goto nextMiddleware
            if (!request.readable) {
                nextMiddleware();
                return;
            }
            local.streamReadAll(request, function (error, data) {
                request.bodyRaw = request.bodyRaw || data;
                nextMiddleware(error);
            });
        };

        local.middlewareCacheControlLastModified = function (request, response, nextMiddleware) {
        /*
         * this function will run the middleware that will update the response-header Last-Modified
         */
            // do not cache if headers already sent or url has '?' search indicator
            if (response.headersSent || request.url.indexOf('?') >= 0) {
                nextMiddleware();
                return;
            }
            // init serverResponseHeaderLastModified
            local.serverResponseHeaderLastModified = local.serverResponseHeaderLastModified ||
                // resolve to 1000 ms
                new Date(new Date(Math.floor(Date.now() / 1000) * 1000).toGMTString());
            // respond with 304 If-Modified-Since serverResponseHeaderLastModified
            if (new Date(request.headers['if-modified-since']) >=
                    local.serverResponseHeaderLastModified) {
                response.statusCode = 304;
                response.end();
                return;
            }
            response.setHeader('Cache-Control', 'no-cache');
            response.setHeader(
                'Last-Modified',
                local.serverResponseHeaderLastModified.toGMTString()
            );
            nextMiddleware();
        };

        local.middlewareError = function (error, request, response) {
        /*
         * this function will run the middleware that will handle errors
         */
            // if error occurred, then respond with '500 Internal Server Error',
            // else respond with '404 Not Found'
            local.serverRespondDefault(request, response, error
                ? (error.statusCode >= 400 && error.statusCode < 600
                    ? error.statusCode
                    : 500)
                : 404, error);
        };

        local.middlewareFileServer = function (request, response, nextMiddleware) {
        /*
         * this function will run the middleware that will serve files
         */
            if (request.method !== 'GET' || local.modeJs === 'browser') {
                nextMiddleware();
                return;
            }
            request.urlFile = (process.cwd() + request.urlParsed.pathname
                // security - disable parent directory lookup
                .replace((/.*\/\.\.\//g), '/'))
                // replace trailing '/' with '/index.html'
                .replace((/\/$/), '/index.html');
            // serve file from cache
            local.taskCreateCached({
                cacheDict: 'middlewareFileServer',
                key: request.urlFile
            // run background-task to re-cache file
            }, function (onError) {
                local.fs.readFile(request.urlFile, function (error, data) {
                    onError(error, data && local.base64FromBuffer(data));
                });
            }, function (error, data) {
                // default to nextMiddleware
                if (error) {
                    nextMiddleware();
                    return;
                }
                // init response-header content-type
                request.urlParsed.contentType = local.contentTypeDict[
                    ((/\.[^\.]*?$/).exec(request.urlParsed.pathname) || {})[0]
                ];
                local.serverRespondHeadSet(request, response, null, {
                    'Content-Type': request.urlParsed.contentType
                });
                // serve file from cache
                response.end(local.base64ToBuffer(data));
            });
        };

        local.middlewareForwardProxy = function (request, response, nextMiddleware) {
        /*
         * this function will run the middleware that will forward-proxy the request
         * to its destination-host
         */
            var onError, options, timerTimeout;
            // handle preflight-cors
            if (request.method === 'OPTIONS' && (/forward-proxy-url/)
                    .test(request.headers['access-control-request-headers'])) {
                local.serverRespondCors(request, response);
                response.end();
                return;
            }
            if (!request.headers['forward-proxy-url']) {
                nextMiddleware();
                return;
            }
            local.serverRespondCors(request, response);
            // init onError
            onError = function (error) {
                clearTimeout(timerTimeout);
                if (options.isDone) {
                    return;
                }
                options.isDone = true;
                // debug middlewareForwardProxy
                local.serverLog({
                    type: 'middlewareForwardProxy',
                    time: new Date(options.timeStart).toISOString(),
                    method: options.method,
                    url: options.url,
                    statusCode: local.normalizeValue('number', response.statusCode),
                    duration: Date.now() - options.timeStart,
                    // extra
                    headers: options.headers
                });
                if (!error) {
                    return;
                }
                // cleanup client
                local.streamListCleanup([options.clientRequest, options.clientResponse]);
                nextMiddleware(error);
            };
            // init options
            options = local.urlParse(request.headers['forward-proxy-url']);
            options.method = request.method;
            options.url = request.headers['forward-proxy-url'];
            // init timerTimeout
            timerTimeout = local.onTimeout(
                onError,
                local.timeoutDefault,
                'forward-proxy ' + options.method + ' ' + options.url
            );
            // parse headers
            options.headers = {};
            local.tryCatchOnError(function () {
                options.headers = JSON.parse(request.headers['forward-proxy-headers']);
            }, local.nop);
            // debug options
            local._debugForwardProxy = options;
            options.clientRequest = (options.protocol === 'https:'
                ? local.https
                : local.http).request(options, function (clientResponse) {
                options.clientResponse = clientResponse.on('error', onError);
                response.statusCode = options.clientResponse.statusCode;
                // pipe clientResponse to serverResponse
                options.clientResponse.pipe(response);
            }).on('error', onError);
            options.timeStart = Date.now();
            // init event-handling
            request.on('error', onError);
            response.on('finish', onError).on('error', onError);
            // pipe serverRequest to clientRequest
            request.pipe(options.clientRequest);
        };

        local.middlewareInit = function (request, response, nextMiddleware) {
        /*
         * this function will run the middleware that will init the request and response
         */
            // debug server-request
            local._debugServerRequest = request;
            // debug server-response
            local._debugServerResponse = response;
            // init timerTimeout
            local.serverRespondTimeoutDefault(request, response, local.timeoutDefault);
            // init request.urlParsed
            request.urlParsed = local.urlParse(request.url);
            // init response-header content-type
            request.urlParsed.contentType = local.contentTypeDict[
                ((/\.[^\.]*?$/).exec(request.urlParsed.pathname) || {})[0]
            ];
            local.serverRespondHeadSet(request, response, null, {
                'Content-Type': request.urlParsed.contentType
            });
            // set main-page content-type to text/html
            if (request.urlParsed.pathname === '/') {
                local.serverRespondHeadSet(request, response, null, {
                    'Content-Type': 'text/html; charset=UTF-8'
                });
            }
            // init response.end and response.write to accept Uint8Array instance
            ['end', 'write'].forEach(function (key) {
                response['_' + key] = response['_' + key] || response[key];
                response[key] = function () {
                    var args;
                    args = Array.from(arguments);
                    args[0] = local.bufferToNodeBuffer(args[0]);
                    response['_' + key].apply(response, args);
                };
            });
            // default to nextMiddleware
            nextMiddleware();
        };

        local.middlewareJsonpStateInit = function (request, response, nextMiddleware) {
        /*
         * this function will run the middleware that will
         * serve the browser-state wrapped in the given jsonp-callback
         */
            var state;
            if (!(request.stateInit || (request.urlParsed &&
                    request.urlParsed.pathname === '/jsonp.utility2.stateInit'))) {
                nextMiddleware();
                return;
            }
            state = { utility2: {
                assetsDict: {
                    '/assets.index.css': local.assetsDict['/assets.index.css'],
                    '/assets.index.template.html':
                        local.assetsDict['/assets.index.template.html'],
                    '/assets.swgg.swagger.json': local.assetsDict['/assets.swgg.swagger.json']
                },
                env: {
                    NODE_ENV: local.env.NODE_ENV,
                    npm_config_mode_backend: local.env.npm_config_mode_backend,
                    npm_package_description: local.env.npm_package_description,
                    npm_package_homepage: local.env.npm_package_homepage,
                    npm_package_name: local.env.npm_package_name,
                    npm_package_nameLib: local.env.npm_package_nameLib,
                    npm_package_version: local.env.npm_package_version
                }
            } };
            if (request.stateInit) {
                return state;
            }
            response.end(request.urlParsed.query.callback + '(' + JSON.stringify(state) + ');');
        };

        local.moduleDirname = function (module, modulePathList) {
        /*
         * this function will search modulePathList for the module's __dirname
         */
            var result;
            // search process.cwd()
            if (!module || module === '.' || module.indexOf('/') >= 0) {
                return require('path').resolve(process.cwd(), module || '');
            }
            // search modulePathList
            ['node_modules']
                .concat(modulePathList)
                .concat(require('module').globalPaths)
                .concat([process.env.HOME + '/node_modules', '/usr/local/lib/node_modules'])
                .some(function (modulePath) {
                    try {
                        result = require('path').resolve(process.cwd(), modulePath + '/' + module);
                        result = require('fs').statSync(result).isDirectory() && result;
                        return result;
                    } catch (errorCaught) {
                        result = null;
                    }
                    return result;
                });
            return result || '';
        };

        local.normalizeChunk = function (chunk) {
        /*
         * this function will normalize the chunk
         */
            return chunk || '';
        };

        local.normalizeJwt = function (data) {
        /*
         * https://tools.ietf.org/html/rfc7519#section-4.1
         * this function will normalize the jwt-data with registered-headers
         */
            var timeNow;
            timeNow = Date.now() / 1000;
            return local.objectSetDefault(data, {
                exp: timeNow + 5 * 60,
                iat: timeNow,
                jti: Math.random().toString(16).slice(2),
                nbf: timeNow
            });
        };

        local.normalizeJwtBase64Url = function (text) {
        /*
         * this function will normlize the text to base64url format
         */
            return text
                .replace((/\=/g), '')
                .replace((/\+/g), '-')
                .replace((/\//g), '_');
        };

        local.normalizeValue = function (type, value, valueDefault) {
        /*
         * this function will normalize the value by type
         */
            switch (type) {
            case 'list':
                return Array.isArray(value)
                    ? value
                    : valueDefault || [];
            case 'number':
                return Number(value) || valueDefault || 0;
            case 'string':
                return typeof value === 'string'
                    ? value
                    : valueDefault || '';
            }
        };

        local.numberToRomanNumerals = function (num) {
        /*
         * this function will convert num to a roman-numeral
         * https://stackoverflow.com/questions/9083037/convert-a-number-into-a-roman-numeral-in-javascript
         */
            var digits, ii, key, roman;
            digits = String(+num).split('');
            key = [
                '', 'C', 'CC', 'CCC', 'CD', 'D', 'DC', 'DCC', 'DCCC', 'CM',
                '', 'X', 'XX', 'XXX', 'XL', 'L', 'LX', 'LXX', 'LXXX', 'XC',
                '', 'I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX'
            ];
            roman = '';
            ii = 3;
            while (ii) {
                ii -= 1;
                roman = (key[+digits.pop() + (ii * 10)] || '') + roman;
            }
            return new Array(+digits.join('') + 1).join('M') + roman;
        };

        local.objectGetElementFirst = function (arg) {
        /*
         * this function will get the first element of the arg
         */
            var item;
            item = {};
            item.key = Object.keys(arg)[0];
            item.value = arg[item.key];
            return item;
        };

        local.objectKeysTypeof = function (arg) {
        /*
         * this function will return a list of the arg's keys, sorted by item-type
         */
            return Object.keys(arg).map(function (key) {
                return typeof arg[key] + ' ' + key;
            }).sort().join('\n');
        };

        local.objectLiteralize = function (arg) {
        /*
         * this function will traverse arg, and replace every encounter of the magical key '$[]'
         * with its object literal [key, value]
         */
            local.objectTraverse(arg, function (element) {
                if (typeof element === 'object' && element && !Array.isArray(element)) {
                    Object.keys(element).forEach(function (key) {
                        if (key.indexOf('$[]') === 0) {
                            element[element[key][0]] = element[key][1];
                            delete element[key];
                        }
                    });
                }
            });
            return arg;
        };

        local.objectSetDefault = function (arg, defaults, depth) {
        /*
         * this function will recursively set defaults for undefined-items in the arg
         */
            arg = arg || {};
            defaults = defaults || {};
            Object.keys(defaults).forEach(function (key) {
                var arg2, defaults2;
                arg2 = arg[key];
                // handle misbehaving getter
                try {
                    defaults2 = defaults[key];
                } catch (ignore) {
                }
                if (defaults2 === undefined) {
                    return;
                }
                // init arg[key] to default value defaults[key]
                switch (arg2) {
                case '':
                case null:
                case undefined:
                    arg[key] = defaults2;
                    return;
                }
                // if arg2 and defaults2 are both non-null and non-array objects,
                // then recurse with arg2 and defaults2
                if (depth > 1 &&
                        // arg2 is a non-null and non-array object
                        typeof arg2 === 'object' && arg2 && !Array.isArray(arg2) &&
                        // defaults2 is a non-null and non-array object
                        typeof defaults2 === 'object' && defaults2 && !Array.isArray(defaults2)) {
                    // recurse
                    local.objectSetDefault(arg2, defaults2, depth - 1);
                }
            });
            return arg;
        };

        local.objectSetOverride = function (arg, overrides, depth, env) {
        /*
         * this function will recursively set overrides for items in the arg
         */
            arg = arg || {};
            env = env || (typeof process === 'object' && process.env) || {};
            overrides = overrides || {};
            Object.keys(overrides).forEach(function (key) {
                var arg2, overrides2;
                arg2 = arg[key];
                overrides2 = overrides[key];
                if (overrides2 === undefined) {
                    return;
                }
                // if both arg2 and overrides2 are non-null and non-array objects,
                // then recurse with arg2 and overrides2
                if (depth > 1 &&
                        // arg2 is a non-null and non-array object
                        typeof arg2 === 'object' && arg2 && !Array.isArray(arg2) &&
                        // overrides2 is a non-null and non-array object
                        typeof overrides2 === 'object' && overrides2 &&
                        !Array.isArray(overrides2)) {
                    local.objectSetOverride(arg2, overrides2, depth - 1, env);
                    return;
                }
                // else set arg[key] with overrides[key]
                arg[key] = arg === env
                    // if arg is env, then overrides falsey value with empty string
                    ? overrides2 || ''
                    : overrides2;
            });
            return arg;
        };

        local.objectTraverse = function (arg, onSelf, circularList) {
        /*
         * this function will recursively traverse the arg,
         * and run onSelf with the arg's properties
         */
            onSelf(arg);
            circularList = circularList || [];
            if (arg && typeof arg === 'object' && circularList.indexOf(arg) < 0) {
                circularList.push(arg);
                Object.keys(arg).forEach(function (key) {
                    // recurse with arg[key]
                    local.objectTraverse(arg[key], onSelf, circularList);
                });
            }
            return arg;
        };

        local.onErrorDefault = function (error) {
        /*
         * this function will if error exists, then print error.stack to stderr
         */
            if (error && !local.global.__coverage__) {
                console.error(error);
            }
        };

        local.onErrorThrow = function (error) {
        /*
         * this function will assert no error occurred
         */
            if (error) {
                throw error;
            }
        };

        local.onErrorWithStack = function (onError) {
        /*
         * this function will create a new callback that will call onError,
         * and append the current stack to any error
         */
            var stack;
            stack = new Error().stack.replace((/(.*?)\n.*?$/m), '$1');
            return function (error, data, meta) {
                if (error &&
                        error !== local.errorDefault &&
                        String(error.stack).indexOf(stack.split('\n')[2]) < 0) {
                    // append the current stack to error.stack
                    error.stack += '\n' + stack;
                }
                onError(error, data, meta);
            };
        };

        local.onFileModifiedRestart = function (file) {
        /*
         * this function will watch the file, and if modified, then restart the process
         */
            if (local.env.npm_config_mode_auto_restart &&
                    local.fs.existsSync(file) &&
                    local.fs.statSync(file).isFile()) {
                local.fs.watchFile(file, {
                    interval: 1000,
                    persistent: false
                }, function (stat2, stat1) {
                    if (stat2.mtime > stat1.mtime) {
                        console.error('file modified - ' + file);
                        local.exit(77);
                    }
                });
            }
        };

        local.onNext = function (options, onError) {
        /*
         * this function will wrap onError inside the recursive function options.onNext,
         * and append the current stack to any error
         */
            options.onNext = local.onErrorWithStack(function (error, data, meta) {
                try {
                    options.modeNext = error && !options.modeErrorIgnore
                        ? Infinity
                        : options.modeNext + 1;
                    onError(error, data, meta);
                } catch (errorCaught) {
                    // throw errorCaught to break infinite recursion-loop
                    if (options.errorCaught) {
                        throw options.errorCaught;
                    }
                    options.errorCaught = errorCaught;
                    options.onNext(errorCaught, data, meta);
                }
            });
            return options;
        };

        local.onParallel = function (onError, onEach, onRetry) {
        /*
         * this function will create a function that will
         * 1. run async tasks in parallel
         * 2. if counter === 0 or error occurred, then call onError with error
         */
            var onParallel;
            onError = local.onErrorWithStack(onError);
            onEach = onEach || local.nop;
            onRetry = onRetry || local.nop;
            onParallel = function (error, data) {
                if (onRetry(error, data)) {
                    return;
                }
                // decrement counter
                onParallel.counter -= 1;
                // validate counter
                local.assert(
                    onParallel.counter >= 0 || error || onParallel.error,
                    'invalid onParallel.counter = ' + onParallel.counter
                );
                // ensure onError is run only once
                if (onParallel.counter < 0) {
                    return;
                }
                // handle error
                if (error) {
                    onParallel.error = error;
                    // ensure counter <= 0
                    onParallel.counter = -Math.abs(onParallel.counter);
                }
                // call onError when isDone
                if (onParallel.counter <= 0) {
                    onError(error, data);
                    return;
                }
                onEach();
            };
            // init counter
            onParallel.counter = 0;
            // return callback
            return onParallel;
        };

        local.onParallelList = function (options, onEach, onError) {
        /*
         * this function will
         * 1. async-run onEach in parallel,
         *    with the given options.rateLimit and options.retryLimit
         * 2. call onError when onParallel.ii + 1 === options.list.length
         */
            var isListEnd, onEach2, onParallel;
            options.list = options.list || [];
            onEach2 = function () {
                while (true) {
                    if (!(onParallel.ii + 1 < options.list.length)) {
                        isListEnd = true;
                        return;
                    }
                    if (!(onParallel.counter < options.rateLimit + 1)) {
                        return;
                    }
                    onParallel.ii += 1;
                    onEach({
                        element: options.list[onParallel.ii],
                        ii: onParallel.ii,
                        list: options.list,
                        retry: 0
                    }, onParallel);
                }
            };
            onParallel = local.onParallel(onError, onEach2, function (error, data) {
                if (error && data && data.retry < options.retryLimit) {
                    local.onErrorDefault(error);
                    data.retry += 1;
                    setTimeout(function () {
                        onParallel.counter -= 1;
                        onEach(data, onParallel);
                    }, 1000);
                    return true;
                }
                // restart if options.list has grown
                if (isListEnd && (onParallel.ii + 1 < options.list.length)) {
                    isListEnd = null;
                    onEach2();
                }
            });
            onParallel.ii = -1;
            options.rateLimit = Number(options.rateLimit) || 6;
            options.rateLimit = Math.max(options.rateLimit, 1);
            options.retryLimit = Number(options.retryLimit) || 2;
            onParallel.counter += 1;
            onEach2();
            onParallel();
        };

        local.onReadyAfter = function (onError) {
        /*
         * this function will call onError when onReadyBefore.counter === 0
         */
            local.onReadyBefore.counter += 1;
            local.taskCreate({ key: 'utility2.onReadyAfter' }, null, onError);
            local.onResetAfter(local.onReadyBefore);
            return onError;
        };

        local.onReadyBefore = local.onParallel(function (error) {
        /*
         * this function will keep track of onReadyBefore.counter
         */
            local.taskCreate({
                key: 'utility2.onReadyAfter'
            }, function (onError) {
                onError(error);
            }, function (error) {
                // validate no error occurred
                local.assert(!error, error);
            });
        });

        local.onResetAfter = function (onError) {
        /*
         * this function will call onError when onResetBefore.counter === 0
         */
            local.onResetBefore.counter += 1;
            // visual notification - onResetAfter
            local.ajaxProgressUpdate();
            local.taskCreate({ key: 'utility2.onResetAfter' }, null, onError);
            setTimeout(local.onResetBefore);
            return onError;
        };

        local.onResetBefore = local.onParallel(function (error) {
        /*
         * this function will keep track of onResetBefore.counter
         */
            local.taskCreate({
                key: 'utility2.onResetAfter'
            }, function (onError) {
                onError(error);
            }, function (error) {
                // validate no error occurred
                local.assert(!error, error);
            });
        });

        local.onTimeout = function (onError, timeout, message) {
        /*
         * this function will create a timeout-error-handler,
         * that will append the current stack to any error encountered
         */
            onError = local.onErrorWithStack(onError);
            // create timerTimeout
            return setTimeout(function () {
                onError(new Error('onTimeout - timeout-error - ' +
                    timeout + ' ms - ' + (typeof message === 'function'
                    ? message()
                    : message)));
            // coerce to finite integer
            }, timeout | 0);
        };

        local.profile = function (fnc, onError) {
        /*
         * this function will profile the async fnc in milliseconds with the callback onError
         */
            var timeStart;
            timeStart = Date.now();
            // run async fnc
            fnc(function (error) {
                // call onError with difference in milliseconds between Date.now() and timeStart
                onError(error, Date.now() - timeStart);
            });
        };

        local.profileSync = function (fnc) {
        /*
         * this function will profile the sync fnc in milliseconds
         */
            var timeStart;
            timeStart = Date.now();
            // run sync fnc
            fnc();
            // return difference in milliseconds between Date.now() and timeStart
            return Date.now() - timeStart;
        };

        local.replStart = function () {
        /*
         * this function will start the repl-debugger
         */
            /*jslint evil: true*/
            var self;
            if (global.utility2_serverRepl1) {
                return;
            }
            // start replServer
            self = global.utility2_serverRepl1 = require('repl').start({ useGlobal: true });
            self.nop = function () {
            /*
             * this function will do nothing
             */
                return;
            };
            self.onError = function (error) {
            /*
             * this function will debug any repl-error
             */
                // debug error
                global.utility2_debugReplError = error;
                console.error(error);
            };
            // save repl eval function
            self.evalDefault = self.eval;
            // hook custom repl eval function
            self.eval = function (script, context, file, onError) {
                var match, onError2;
                match = (/^(\S+)(.*?)\n/).exec(script) || {};
                onError2 = function (error, data) {
                    // debug error
                    global.utility2_debugReplError = error || global.utility2_debugReplError;
                    onError(error, data);
                };
                switch (match[1]) {
                // syntax sugar to run async shell command
                case '$':
                    switch (match[2]) {
                    // syntax sugar to run git diff
                    case ' git diff':
                        match[2] = ' git diff --color | cat';
                        break;
                    // syntax sugar to run git log
                    case ' git log':
                        match[2] = ' git log -n 4 | cat';
                        break;
                    }
                    // run async shell command
                    require('child_process').spawn(match[2], {
                        shell: true,
                        stdio: ['ignore', 1, 2]
                    })
                        // on shell exit, print return prompt
                        .on('exit', function (exitCode) {
                            console.error('exit-code ' + exitCode);
                            self.evalDefault(
                                '\n',
                                context,
                                file,
                                onError2
                            );
                        });
                    script = '\n';
                    break;
                // syntax sugar to grep current dir
                case 'grep':
                    // run async shell command
                    require('child_process').spawn('find . -type f | grep -v ' +
/* jslint-ignore-begin */
'"\
/\\.\\|\\(\\b\\|_\\)\\(\\.\\d\\|\
archive\\|artifact\\|\
bower_component\\|build\\|\
coverage\\|\
doc\\|\
external\\|\
fixture\\|\
git_module\\|\
jquery\\|\
log\\|\
min\\|mock\\|\
node_module\\|\
rollup\\|\
swp\\|\
tmp\\|\
vendor\\)s\\{0,1\\}\\(\\b\\|_\\)\
" ' +
/* jslint-ignore-end */
                            '| tr "\\n" "\\000" | xargs -0 grep -in "' +
                            match[2].trim() + '"', { shell: true, stdio: ['ignore', 1, 2] })
                        // on shell exit, print return prompt
                        .on('exit', function (exitCode) {
                            console.error('exit-code ' + exitCode);
                            self.evalDefault(
                                '\n',
                                context,
                                file,
                                onError2
                            );
                        });
                    script = '\n';
                    break;
                // syntax sugar to list object's keys, sorted by item-type
                case 'keys':
                    script = 'console.error(Object.keys(' + match[2] +
                        ').map(function (key) {' +
                        'return typeof ' + match[2] + '[key] + " " + key + "\\n";' +
                        '}).sort().join("") + Object.keys(' + match[2] + ').length)\n';
                    break;
                // syntax sugar to print stringified arg
                case 'print':
                    script = 'console.error(String(' + match[2] + '))\n';
                    break;
                }
                // eval the script
                self.evalDefault(script, context, file, onError2);
            };
            self.socket = { end: self.nop, on: self.nop, write: self.nop };
            // init process.stdout
            process.stdout._writeDefault = process.stdout._writeDefault ||
                process.stdout._write;
            process.stdout._write = function (chunk, encoding, callback) {
                process.stdout._writeDefault(chunk, encoding, callback);
                // coverage-hack - ignore else-statement
                self.nop(self.socket.writable && (function () {
                    self.socket.write(chunk, encoding);
                }()));
            };
            // start tcp-server
            global.utility2_serverReplTcp1 = require('net').createServer(function (socket) {
                // init socket
                self.socket = socket;
                self.socket.on('data', self.write.bind(self));
                self.socket.on('error', self.onError);
                self.socket.setKeepAlive(true);
            });
            // coverage-hack - ignore else-statement
            self.nop(process.env.PORT_REPL && (function () {
                console.error('repl-server listening on tcp-port ' + process.env.PORT_REPL);
                global.utility2_serverReplTcp1.listen(process.env.PORT_REPL);
            }()));
        };

        local.requireInSandbox = function (file) {
        /*
         * this function will require the file in a sandbox-lite env
         */
            var exports, mockDict, mockList, tmp;
            mockList = [
                [ local.global, {
                    setImmediate: local.nop,
                    setInterval: local.nop,
                    setTimeout: local.nop
                }]
            ];
            [
                [local, 'child_process'],
                [local, 'cluster'],
                [local, 'http'],
                [local, 'https'],
                [local, 'net'],
                [local, 'repl'],
                [local.events, 'prototype'],
                [local.global, 'process'],
                [local.stream, 'prototype'],
                [process, 'stdin']
            ].forEach(function (element) {
                tmp = element[0][element[1]];
                mockDict = {};
                Object.keys(tmp).forEach(function (key) {
                    if (typeof tmp[key] === 'function' &&
                            !(/^(?:fs\.Read|fs\.read|process\.binding|process\.dlopen)/)
                            .test((element[1] + '.' + key))) {
                        mockDict[key] = function () {
                            return;
                        };
                        // coverage-hack
                        mockDict[key]();
                    }
                });
                mockList.push([ tmp, mockDict ]);
            });
            local.testMock(mockList, function (onError) {
                local.tryCatchOnError(function () {
                    exports = require(file);
                }, local.onErrorDefault);
                onError();
            }, local.onErrorThrow);
            return exports;
        };

        local.requireReadme = function () {
        /*
         * this function will require and export example.js embedded in README.md
         */
            var module, script, tmp;
            // init module.exports
            module = {};
            if (local.modeJs === 'browser') {
                module.exports = local.objectSetDefault(
                    local.global.utility2_rollup || local.global.local,
                    local
                );
                return module.exports;
            }
            // start repl-debugger
            local.replStart();
            // debug dir
            local.fs.readdirSync(process.cwd()).forEach(function (file) {
                file = process.cwd() + '/' + file;
                // if the file is modified, then restart the process
                local.onFileModifiedRestart(file);
                switch (local.path.basename(file)) {
                // swagger-validate assets.swgg.swagger.json
                case 'assets.swgg.swagger.json':
                    local.fs.readFile(file, 'utf8', function (error, data) {
                        local.tryCatchOnError(function () {
                            // validate no error occurred
                            local.assert(!error, error);
                            local.swgg.swaggerValidate(JSON.parse(data));
                        }, local.onErrorDefault);
                    });
                    break;
                }
                switch (local.path.extname(file)) {
                case '.css':
                case '.html':
                case '.js':
                case '.json':
                case '.sh':
                    if ((/\brollup\b/).test(file)) {
                        return;
                    }
                    // jslint file
                    local.fs.readFile(file, 'utf8', function (error, data) {
                        local.jslintAndPrintConditional(!error && data, file);
                    });
                    break;
                }
            });
            if (local.global.utility2_rollup || local.env.npm_config_mode_start) {
                // init assets
                local.assetsDict['/'] = local.assetsDict['/index.html'] =
                    local.assetsDict['/index.html'] || local.templateRender(
                        // uncomment utility2-comment
                        local.assetsDict['/assets.index.template.html'].replace(
                            (/<!-- utility2-comment\b([\S\s]+?)\butility2-comment -->/g),
                            '$1'
                        ),
                        { env: local.env, isRollup: true }
                    );
                local.assetsDict['/assets.example.js'] =
                    local.assetsDict['/assets.example.template.js'];
                local.assetsDict['/assets.app.js'] = local.fs.readFileSync(
                    __filename,
                    'utf8'
                ).replace((/^#!/), '//');
                // init exports
                local[local.env.npm_package_nameLib] = local;
                module.exports = local;
                return module.exports;
            }
            // init file $npm_package_main
            global.utility2_moduleExports = require(
                process.cwd() + '/' + local.env.npm_package_main
            );
            global.utility2_moduleExports.global = global;
            // read script from README.md
            script = local.templateRenderJslintLite(
                local.assetsDict['/assets.example.template.js'],
                {}
            );
            local.tryCatchOnError(function () {
                tmp = !local.env.npm_package_buildCustomOrg &&
                    (/```\w*?(\n[\W\s]*?example\.js[\n\"][\S\s]+?)\n```/).exec(
                        local.fs.readFileSync('README.md', 'utf8')
                    );
                script = tmp.input.slice(0, tmp.index).replace((/.+/g), '') + tmp[1];
            }, local.nop);
            script = script
                // alias require($npm_package_name) to utility2_moduleExports;
                .replace(
                    "require('" + local.env.npm_package_name + "')",
                    'global.utility2_moduleExports'
                )
                .replace(
                    "require('" + local.env.npm_package_nameOriginal + "')",
                    'global.utility2_moduleExports'
                );
            // init example.js
            tmp = process.cwd() + '/example.js';
            // jslint script
            local.jslintAndPrintConditional(script, tmp);
            // cover script
            script = local.istanbulInstrumentInPackage(script, tmp);
            // init module.exports
            module = require.cache[tmp] = new local.Module(tmp);
            // load script into module
            module._compile(script, tmp);
            // init exports
            module.exports.utility2 = local;
            module.exports[local.env.npm_package_nameLib] = global.utility2_moduleExports;
            // init assets
            tmp = process.cwd() + '/' + local.env.npm_package_main;
            local.assetsDict['/assets.' + local.env.npm_package_nameLib + '.js'] =
                local.fs.readFileSync(tmp, 'utf8').replace((/^#!/), '//');
            local.objectSetOverride(local.assetsDict, module.exports.assetsDict);
            local.assetsDict['/assets.' + local.env.npm_package_nameLib + '.js'] =
                local.istanbulInstrumentInPackage(
                    local.assetsDict['/assets.' + local.env.npm_package_nameLib + '.js'],
                    tmp
                );
            module.exports.assetsDict = local.assetsDict;
            local.assetsDict['/assets.example.js'] = script;
            local.assetsDict['/assets.test.js'] = local.istanbulInstrumentInPackage(
                local.fs.readFileSync('test.js', 'utf8'),
                process.cwd() + '/test.js'
            );
            // init assets index.html
            local.tryCatchOnError(function () {
                local.assetsDict['/assets.index.template.html'] = local.fs.readFileSync(
                    'assets.index.template.html',
                    'utf8'
                );
            }, local.nop);
            ['index', 'index.default'].forEach(function (element) {
                local.assetsDict['/' + element + '.html'] =
                    local.assetsDict['/' + element + '.html'] ||
                    local.templateRender(
                        // uncomment utility2-comment
                        local.assetsDict['/assets.' + element + '.template.html'].replace(
                            (/<!-- utility2-comment\b([\S\s]+?)\butility2-comment -->/g),
                            '$1'
                        ),
                        {
                            env: local.env,
                            isRollup: local.global.utility2_rollup ||
                                local.env.NODE_ENV === 'rollup' ||
                                local.env.NODE_ENV === 'production'
                        }
                    );
            });
            local.assetsDict['/'] = local.assetsDict['/index.html'];
            // init assets.app.js
            local.assetsDict['/assets.app.js'] = [
                'header',
                '/assets.utility2.rollup.js',
                '/assets.utility2.rollup.begin.js',
                'local.stateInit',
                '/assets.lib.js',
                '/assets.example.js',
                '/assets.test.js',
                '/assets.utility2.rollup.end.js'
            ].map(function (key) {
                switch (key) {
/* jslint-ignore-begin */
case 'header':
return '\
/* this rollup was created with utility2 (https://github.com/kaizhu256/node-utility2) */\n\
\n\
\n\
\n\
/*\n\
assets.app.js\n\
\n\
' + local.env.npm_package_description + '\n\
\n\
instruction\n\
    1. save this script as assets.app.js\n\
    2. run the shell command:\n\
        $ PORT=8081 node assets.app.js\n\
    3. open a browser to http://127.0.0.1:8081 and play with the web-demo\n\
    4. edit this script to suit your needs\n\
*/\n\
' + local.assetsDict['/assets.utility2.rollup.begin.js']
    .replace((/utility2_rollup/g), 'utility2_app');
/* jslint-ignore-end */
                case '/assets.lib.js':
                    // handle large string-replace
                    tmp = '/assets.' + local.env.npm_package_nameLib + '.js';
                    script = local.assetsDict['/assets.utility2.rollup.content.js']
                        .split('/* utility2.rollup.js content */');
                    script.splice(1, 0, 'local.assetsDict["' + tmp + '"] = ' +
                            JSON.stringify(local.assetsDict[tmp]).replace((/\\n/g), '\\n\\\n'));
                    script = script.join('');
                    script += '\n';
                    script += local.assetsDict[tmp];
                    break;
                case 'local.stateInit':
                    // handle large string-replace
                    script = local.assetsDict['/assets.utility2.rollup.content.js']
                        .split('/* utility2.rollup.js content */');
                    tmp = local.middlewareJsonpStateInit({ stateInit: true });
                    // add extra physical files to assetsDict
                    local.fs.readdirSync('.').forEach(function (file) {
                        file = '/' + file;
                        if (file.indexOf('/assets.') === 0 &&
                                local.fs.readFileSync('.' + file, 'utf8') ===
                                local.assetsDict[file]) {
                            tmp.utility2.assetsDict[file] = local.assetsDict[file];
                        }
                    });
                    script.splice(1, 0, key + '(' + JSON.stringify(tmp, null, 4) + ');');
                    script = script.join('');
                    break;
                default:
                    script = local.assetsDict[key];
                }
                return '/* script-begin ' + key + ' */\n' +
                    script.trim() +
                    '\n/* script-end ' + key + ' */\n';
            }).join('\n\n\n');
            local.objectSetDefault(module.exports, local);
            return module.exports;
        };

        local.serverLog = function (options) {
        /*
         * this function will log server operations
         */
            console.error('serverLog - ' + JSON.stringify(options));
        };

        local.serverRespondCors = function (request, response) {
        /*
         * this function will enable cors for the request
         * http://en.wikipedia.org/wiki/Cross-origin_resource_sharing
         */
            local.serverRespondHeadSet(request, response, null, local.jsonCopy({
                'access-control-allow-headers':
                    request.headers['access-control-request-headers'],
                'access-control-allow-methods':
                    request.headers['access-control-request-method'],
                'access-control-allow-origin': '*'
            }));
        };

        local.serverRespondDefault = function (request, response, statusCode, error) {
        /*
         * this function will respond with a default message,
         * or error.stack for the given statusCode
         */
            // init statusCode and contentType
            local.serverRespondHeadSet(
                request,
                response,
                statusCode,
                { 'Content-Type': 'text/plain; charset=utf-8' }
            );
            if (error) {
                // debug statusCode / method / url
                local.errorMessagePrepend(
                    error,
                    response.statusCode + ' ' + request.method + ' ' + request.url + '\n'
                );
                // print error.stack to stderr
                local.onErrorDefault(error);
                // end response with error.stack
                response.end(error.stack);
                return;
            }
            // end response with default statusCode message
            response.end(
                statusCode + ' ' + local.http.STATUS_CODES[statusCode]
            );
        };

        local.serverRespondEcho = function (request, response) {
        /*
         * this function will respond with debug info
         */
            response.write(request.method + ' ' + request.url +
                ' HTTP/' + request.httpVersion + '\r\n' +
                Object.keys(request.headers).map(function (key) {
                    return key + ': ' + request.headers[key] + '\r\n';
                }).join('') + '\r\n');
            request.pipe(response);
        };

        local.serverRespondHeadSet = function (request, response, statusCode, headers) {
        /*
         * this function will set the response object's statusCode / headers
         */
            // jslint-hack
            local.nop(request);
            if (response.headersSent) {
                return;
            }
            // init response.statusCode
            if (Number(statusCode)) {
                response.statusCode = Number(statusCode);
            }
            Object.keys(headers).forEach(function (key) {
                if (headers[key]) {
                    response.setHeader(key, headers[key]);
                }
            });
            return true;
        };

        local.serverRespondTimeoutDefault = function (request, response, timeout) {
        /*
         * this function will create a timeout-error-handler for the server-request
         */
            var onError;
            onError = function () {
                if (response.isDone) {
                    return;
                }
                response.isDone = true;
                // debug serverResponse
                local.serverLog({
                    type: 'serverResponse',
                    time: new Date(request.timeStart).toISOString(),
                    method: request.method,
                    url: request.url,
                    statusCode: local.normalizeValue('number', response.statusCode),
                    duration: Date.now() - request.timeStart,
                    // extra
                    requestContentLength: request.dataLength || 0,
                    responseContentLength: response.contentLength,
                    requestHeaderXForwardedFor: request.headers['x-forwarded-for'] || '',
                    requestHeaderOrigin: request.headers.origin || '',
                    requestHeaderReferer: request.headers.referer || '',
                    requestHeaderUserAgent: request.headers['user-agent']
                });
                // cleanup timerTimeout
                clearTimeout(request.timerTimeout);
            };
            request.timeStart = Date.now();
            request.onTimeout = request.onTimeout || function (error) {
                local.serverRespondDefault(request, response, 500, error);
                setTimeout(function () {
                    // cleanup request and response
                    local.streamListCleanup([request, response]);
                }, 1000);
            };
            request.timerTimeout = local.onTimeout(
                request.onTimeout,
                timeout || local.timeoutDefault,
                'server ' + request.method + ' ' + request.url
            );
            response.contentLength = 0;
            response.writeContentLength = response.writeContentLength || response.write;
            response.write = function (chunk, encoding, callback) {
                chunk = local.normalizeChunk(chunk);
                response.contentLength += chunk.length;
                response.writeContentLength(chunk, encoding, callback);
            };
            response.on('error', onError);
            response.on('finish', onError);
        };

        local.setTimeoutOnError = function (onError, timeout, error, data) {
        /*
         * this function will async-call onError
         */
            if (typeof onError === 'function') {
                setTimeout(function () {
                    onError(error, data);
                }, timeout);
            }
            return data;
        };

        local.sjclHashScryptCreate = function (password, options) {
        /*
         * https://github.com/wg/scrypt
         * this function will create a scrypt-hash of the password
         * with the given options (default = $s0$10801)
         * e.g. $s0$e0801$epIxT/h6HbbwHaehFnh/bw==$7H0vsXlY8UxxyW/BWx/9GuY7jEvGjT71GFd6O4SZND0=
         */
            // init options
            options = (options || '$s0$10801').split('$');
            // init salt
            if (!options[3]) {
                options[3] = local.sjcl.codec.base64.fromBits(
                    local.sjcl.random.randomWords(4, 0)
                );
            }
            // init hash
            options[4] = local.sjcl.codec.base64.fromBits(
                local.sjcl.misc.scrypt(
                    password || '',
                    local.sjcl.codec.base64.toBits(options[3]),
                    Math.pow(2, parseInt(options[2].slice(0, 1), 16)),
                    parseInt(options[2].slice(1, 2), 16),
                    parseInt(options[2].slice(3, 4), 16)
                )
            );
            return options.slice(0, 5).join('$');
        };

        local.sjclHashScryptValidate = function (password, hash) {
        /*
         * https://github.com/wg/scrypt
         * this function will validate the password against the scrypt-hash
         */
            return local.sjclHashScryptCreate(password, hash) === hash;
        };

        local.sjclHashSha1Create = function (data) {
        /*
         * this function will create a base64-encoded sha1 hash of the string data
         */
            return local.sjcl.codec.base64.fromBits(local.sjcl.hash.sha1.hash(data));
        };

        local.sjclHashSha256Create = function (data) {
        /*
         * this function will create a base64-encoded sha256 hash of the string data
         */
            return local.sjcl.codec.base64.fromBits(local.sjcl.hash.sha256.hash(data));
        };

        local.sjclHmacSha1Create = function (key, data) {
        /*
         * this function will create a base64-encoded sha1 hmac
         * from the string key and string data
         */
            return local.sjcl.codec.base64.fromBits(
                (new local.sjcl.misc.hmac(
                    local.sjcl.codec.utf8String.toBits(key),
                    local.sjcl.hash.sha1
                )).mac(local.sjcl.codec.utf8String.toBits(data))
            );
        };

        local.sjclHmacSha256Create = function (key, data) {
        /*
         * this function will create a base64-encoded sha256 hmac
         * from the string key and string data
         */
            return local.sjcl.codec.base64.fromBits(
                (new local.sjcl.misc.hmac(
                    local.sjcl.codec.utf8String.toBits(key),
                    local.sjcl.hash.sha256
                )).mac(local.sjcl.codec.utf8String.toBits(data))
            );
        };

        local.stateInit = function (options) {
        /*
         * this function will init the state-options
         */
            local.objectSetOverride(local, options, 10);
            // init swgg
            local.swgg.apiUpdate(local.swgg.swaggerJson);
        };

        local.streamListCleanup = function (streamList) {
        /*
         * this function will end or destroy the streams in streamList
         */
            streamList.forEach(function (stream) {
                // try to end the stream
                try {
                    stream.end();
                } catch (errorCaught) {
                    // if error, then try to destroy the stream
                    try {
                        stream.destroy();
                    } catch (ignore) {
                    }
                }
            });
        };

        local.streamReadAll = function (stream, onError) {
        /*
         * this function will concat data from the stream,
         * and pass it to onError when isDone reading
         */
            var chunkList;
            chunkList = [];
            stream.dataLength = 0;
            // read data from the stream
            stream
                // on data event, push the buffer chunk to chunkList
                .on('data', function (chunk) {
                    chunk = local.normalizeChunk(chunk);
                    chunkList.push(chunk);
                    stream.dataLength += chunk.length;
                })
                // on end event, pass concatenated read buffer to onError
                .on('end', function () {
                    onError(null, local.modeJs === 'browser'
                        ? chunkList[0]
                        : local.bufferConcat(chunkList));
                })
                // on error event, pass error to onError
                .on('error', onError);
        };

        local.stringHtmlSafe = function (text) {
        /*
         * this function will make the text html-safe
         * https://stackoverflow.com/questions/7381974/which-characters-need-to-be-escaped-on-html
         */
            return text
                .replace((/"/g), '&quot;')
                .replace((/&/g), '&amp;')
                .replace((/'/g), '&apos;')
                .replace((/</g), '&lt;')
                .replace((/>/g), '&gt;')
                .replace((/&amp;(amp;|apos;|gt;|lt;|quot;)/ig), '&$1');
        };

        local.stringRegexpEscape = function (text) {
        /*
         * this function will make the text html-safe
         * https://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
         */
            return text.replace(/[\-\/\\\^$*+?.()|\[\]{}]/g, '\\$&');
        };

        local.stringTruncate = function (text, maxLength) {
        /*
         * this function will truncate the text to the given maxLength
         */
            return text.length > maxLength
                ? text.slice(0, maxLength - 3).trimRight() + '...'
                : text;
        };

        local.stringUniqueKey = function (text) {
        /*
         * this function will return a string-key that is unique in the given text
         */
            var key;
            // seed the key with the least frequent letters in the english-language
            // https://en.wikipedia.org/wiki/Letter_frequency
            key = 'zqxj';
            do {
                key += ((1 + Math.random()) * 0x10000000000000).toString(36).slice(1);
            } while (text.indexOf(key) >= 0);
            return key;
        };

        local.taskCreate = function (options, onTask, onError) {
        /*
         * this function will create the task onTask named options.key, if it does not exist,
         * and push onError to its onErrorList
         */
            var task;
            // init task
            task = local.taskOnTaskDict[options.key] = local.taskOnTaskDict[options.key] ||
                { onErrorList: [] };
            // push callback onError to the task
            if (onError) {
                onError = local.onErrorWithStack(onError);
                task.onErrorList.push(onError);
            }
            // if task exists, then return it
            if (!onTask || task.onTask) {
                return task;
            }
            task.onDone = function () {
                // if isDone, then do nothing
                if (task.isDone) {
                    return;
                }
                task.isDone = true;
                // cleanup timerTimeout
                clearTimeout(task.timerTimeout);
                // cleanup task
                delete local.taskOnTaskDict[options.key];
                // preserve error.message and error.stack
                task.result = JSON.stringify(Array.from(arguments)
                    .map(function (element) {
                        if (element && element.stack) {
                            element = local.objectSetDefault(local.jsonCopy(element), {
                                message: element.message,
                                name: element.name,
                                stack: element.stack
                            });
                        }
                        return element;
                    }));
                // pass result to callbacks in onErrorList
                task.onErrorList.forEach(function (onError) {
                    onError.apply(null, JSON.parse(task.result));
                });
            };
            // init timerTimeout
            task.timerTimeout = local.onTimeout(
                task.onDone,
                options.timeout || local.timeoutDefault,
                'taskCreate ' + options.key
            );
            task.onTask = onTask;
            // run onTask
            task.onTask(task.onDone);
            return task;
        };

        local.taskCreateCached = function (options, onTask, onError) {
        /*
         * this function will
         * 1. if cache-hit, then call onError with cacheValue
         * 2. run onTask in background to update cache
         * 3. save onTask's result to cache
         * 4. if cache-miss, then call onError with onTask's result
         */
            local.onNext(options, function (error, data) {
                switch (options.modeNext) {
                // 1. if cache-hit, then call onError with cacheValue
                case 1:
                    // read cacheValue from memory-cache
                    local.cacheDict[options.cacheDict] = local.cacheDict[options.cacheDict] ||
                        {};
                    options.cacheValue = local.cacheDict[options.cacheDict][options.key];
                    if (options.cacheValue) {
                        // call onError with cacheValue
                        options.modeCacheHit = true;
                        onError(null, JSON.parse(options.cacheValue));
                        if (!options.modeCacheUpdate) {
                            break;
                        }
                    }
                    // run background-task with lower priority for cache-hit
                    setTimeout(options.onNext, options.modeCacheHit && options.cacheTtl);
                    break;
                // 2. run onTask in background to update cache
                case 2:
                    local.taskCreate(options, onTask, options.onNext);
                    break;
                default:
                    // 3. save onTask's result to cache
                    // JSON.stringify data to prevent side-effects on cache
                    options.cacheValue = JSON.stringify(data);
                    if (!error && options.cacheValue) {
                        local.cacheDict[options.cacheDict][options.key] = options.cacheValue;
                    }
                    // 4. if cache-miss, then call onError with onTask's result
                    if (!options.modeCacheHit) {
                        onError(error, options.cacheValue && JSON.parse(options.cacheValue));
                    }
                    (options.onCacheWrite || local.nop)();
                    break;
                }
            });
            options.modeNext = 0;
            options.onNext();
        };

        local.templateRender = function (template, dict, options) {
        /*
         * this function will render the template with the given dict
         */
            var argList, getValue, match, renderPartial, rgx, tryCatch, skip, value;
            dict = dict || {};
            options = options || {};
            getValue = function (key) {
                argList = key.split(' ');
                value = dict;
                if (argList[0] === '#this/') {
                    return;
                }
                // iteratively lookup nested values in the dict
                argList[0].split('.').forEach(function (key) {
                    value = value && value[key];
                });
                return value;
            };
            renderPartial = function (match0, helper, key, partial) {
                switch (helper) {
                case 'each':
                case 'eachTrimRightComma':
                    value = getValue(key);
                    value = Array.isArray(value)
                        ? value.map(function (dict) {
                            // recurse with partial
                            return local.templateRender(partial, dict, options);
                        }).join('')
                        : '';
                    // remove trailing-comma from last element
                    if (helper === 'eachTrimRightComma') {
                        value = value.trimRight().replace((/,$/), '');
                    }
                    return value;
                case 'if':
                    partial = partial.split('{{#unless ' + key + '}}');
                    partial = getValue(key)
                        ? partial[0]
                        // handle 'unless' case
                        : partial.slice(1).join('{{#unless ' + key + '}}');
                    // recurse with partial
                    return local.templateRender(partial, dict, options);
                case 'unless':
                    return getValue(key)
                        ? ''
                        // recurse with partial
                        : local.templateRender(partial, dict, options);
                default:
                    // recurse with partial
                    return match0[0] + local.templateRender(match0.slice(1), dict, options);
                }
            };
            tryCatch = function (fnc, message) {
            /*
             * this function will prepend the message to errorCaught
             */
                try {
                    return fnc();
                } catch (errorCaught) {
                    errorCaught.message = message + errorCaught.message;
                    throw errorCaught;
                }
            };
            // render partials
            rgx = (/\{\{#(\w+) ([^}]+?)\}\}/g);
            template = template || '';
            for (match = rgx.exec(template); match; match = rgx.exec(template)) {
                rgx.lastIndex += 1 - match[0].length;
                template = template.replace(
                    new RegExp('\\{\\{#(' + match[1] + ') (' + match[2] +
                        ')\\}\\}([\\S\\s]*?)\\{\\{/' + match[1] + ' ' + match[2] +
                        '\\}\\}'),
                    renderPartial
                );
            }
            // search for keys in the template
            return template.replace((/\{\{[^}]+?\}\}/g), function (match0) {
                var markdownToHtml, notHtmlSafe;
                notHtmlSafe = options.notHtmlSafe;
                return tryCatch(function () {
                    getValue(match0.slice(2, -2));
                    if (value === undefined) {
                        return match0;
                    }
                    argList.slice(1).forEach(function (arg, ii, list) {
                        switch (arg) {
                        case 'alphanumeric':
                            value = value.replace((/\W/g), '_');
                            break;
                        case 'decodeURIComponent':
                            value = decodeURIComponent(value);
                            break;
                        case 'encodeURIComponent':
                            value = encodeURIComponent(value);
                            break;
                        case 'jsonStringify':
                            value = JSON.stringify(value);
                            break;
                        case 'jsonStringify4':
                            value = JSON.stringify(value, null, 4);
                            break;
                        case 'markdownSafe':
                            value = value.replace((/`/g), '\'');
                            break;
                        case 'markdownToHtml':
                            markdownToHtml = true;
                            break;
                        case 'notHtmlSafe':
                            notHtmlSafe = true;
                            break;
                        case 'truncate':
                            skip = ii + 1;
                            if (value.length > list[skip]) {
                                value = value.slice(0, list[skip] - 3).trimRight() + '...';
                            }
                            break;
                        // default to String.prototype[arg]()
                        default:
                            if (ii === skip) {
                                break;
                            }
                            value = value[arg]();
                            break;
                        }
                    });
                    value = String(value);
                    // default to htmlSafe
                    if (!notHtmlSafe) {
                        value = value
                            .replace((/"/g), '&quot;')
                            .replace((/&/g), '&amp;')
                            .replace((/'/g), '&apos;')
                            .replace((/</g), '&lt;')
                            .replace((/>/g), '&gt;')
                            .replace((/&amp;(amp;|apos;|gt;|lt;|quot;)/ig), '&$1');
                    }
                    if (markdownToHtml && typeof local.marked === 'function') {
                        value = local.marked(value)
                            .replace((/&amp;(amp;|apos;|gt;|lt;|quot;)/ig), '&$1');
                    }
                    return value;
                }, 'templateRender could not render expression ' + JSON.stringify(match0) + '\n');
            });
        };

        local.templateRenderJslintLite = function (template, options) {
        /*
         * this function will render the jslint-lite template with the given options.packageJson
         */
            options.packageJson = options.packageJson ||
                JSON.parse(local.fs.readFileSync('package.json', 'utf8'));
            local.objectSetDefault(options.packageJson, {
                nameLib: options.packageJson.name.replace((/\W/g), '_'),
                repository: { url: 'https://github.com/kaizhu256/node-' +
                    options.packageJson.name + '.git' }
            }, 2);
            options.githubRepo = options.packageJson.repository.url.split('/').slice(-2);
            options.githubRepo[1] = options.githubRepo[1].replace((/\.git$/), '');
            template = template.replace(
                (/https:\/\/kaizhu256\.github\.io\/node-jslint-lite/g),
                'https://' + options.githubRepo[0] + '.github.io/' + options.githubRepo[1]
            );
            template = template.replace(
                (/kaizhu256\/node-jslint-lite/g),
                options.githubRepo.join('/')
            );
            template = template.replace(
                (/kaizhu256%252Fnode-jslint-lite/g),
                options.githubRepo.join('%252F')
            );
            template = template.replace(
                (/node-jslint-lite/g),
                options.githubRepo[1]
            );
            template = template.replace((/^#!/), '//');
            template = template.replace((/jslint-lite/g), options.packageJson.name);
            template = template.replace(
                '/* istanbul instrument in package jslint */',
                '/* istanbul instrument in package ' + options.packageJson.nameLib + ' */'
            );
            template = template.replace(
                (/\bh1-jslint\b/g),
                options.packageJson.nameHeroku ||
                    ('h1-' + options.packageJson.nameLib.replace((/_/g), '-'))
            );
            template = template.replace(
                'assets.{{env.npm_package_nameLib}}',
                'assets.' + options.packageJson.nameLib
            );
            template = template.replace('my-app', options.packageJson.name);
            template = template.replace('my_app', options.packageJson.nameLib);
            if (options.customizeAfter) {
                return template;
            }
            template = template.replace(
                (/\b(assets\.|lib\.|local\.|utility2_)jslint\b/g),
                '$1' + options.packageJson.nameLib
            );
            return template;
        };

        local.testCase_nop_default = function (options, onError) {
        /*
         * this function will test nop's default handling-behavior
         */
            local.nop();
            onError(null, options);
        };

        local.testMock = function (mockList, onTestCase, onError) {
        /*
         * this function will mock the objects in mockList while running the onTestCase
         */
            var onError2;
            onError2 = function (error) {
                // restore mock[0] from mock[2]
                mockList.reverse().forEach(function (mock) {
                    Object.keys(mock[2]).forEach(function (key) {
                        mock[0][key] = mock[2][key];
                    });
                });
                onError(error);
            };
            // try to call onError with mock-objects
            local.tryCatchOnError(function () {
                // suppress console.error and console.log
                if (!(mockList[0] && mockList[0][0] === console)) {
                    mockList.unshift([console, {}]);
                }
                local.objectSetDefault(mockList[0][1], { error: local.nop, log: local.nop });
                // mock-objects
                mockList.forEach(function (mock) {
                    mock[2] = {};
                    // backup mock[0] into mock[2]
                    Object.keys(mock[1]).forEach(function (key) {
                        if (typeof process === 'object' &&
                                process.env === mock[0] &&
                                mock[0][key] === undefined) {
                            mock[0][key] = '';
                        }
                        mock[2][key] = mock[0][key];
                    });
                    // override mock[0] with mock[1]
                    Object.keys(mock[1]).forEach(function (key) {
                        mock[0][key] = mock[1][key];
                    });
                });
                // run onTestCase
                onTestCase(onError2);
            }, onError2);
        };

        local.testReportCreate = function (testReport) {
        /*
         * this function will create test-report artifacts
         */
            testReport = local.objectSetDefault(testReport, { testPlatformList: [] });
            // print test-report summary
            console.error('\n' + new Array(56).join('-') + '\n' + testReport.testPlatformList
                .filter(function (testPlatform) {
                    // if testPlatform has no tests, then filter it out
                    return testPlatform.testCaseList.length;
                })
                .map(function (testPlatform) {
                    return '| test-report - ' + testPlatform.name + '\n|' +
                        ('        ' + testPlatform.timeElapsed + ' ms     ')
                        .slice(-16) +
                        ('        ' + testPlatform.testsFailed + ' failed ')
                        .slice(-16) +
                        ('        ' + testPlatform.testsPassed + ' passed ')
                        .slice(-16) + '     |\n' + new Array(56).join('-');
                })
                .join('\n') + '\n');
            // create test-report.html
            local.fs.writeFileSync(
                local.env.npm_config_dir_build + '/test-report.html',
                local.testReportMerge(testReport, {})
            );
            // create build.badge.svg
            local.fs.writeFileSync(
                local.env.npm_config_dir_build + '/build.badge.svg',
                local.assetsDict['/assets.buildBadge.template.svg'].replace(
                    new RegExp('0000-00-00 00:00:00 UTC - master - ' +
                        'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa', 'g'),
                    new Date().toISOString().slice(0, 19).replace('T', ' ') +
                        ' - ' + local.env.CI_BRANCH + ' - ' + local.env.CI_COMMIT_ID
                )
            );
            // create test-report.badge.svg
            local.fs.writeFileSync(
                local.env.npm_config_dir_build + '/test-report.badge.svg',
                local.assetsDict['/assets.testReportBadge.template.svg']
                    // edit number of tests failed
                    .replace((/999/g), testReport.testsFailed)
                    // edit badge color
                    .replace(
                        (/d00/g),
                        // coverage-hack - cover both fail and pass cases
                        '0d00'.slice(!!testReport.testsFailed).slice(0, 3)
                    )
            );
            console.error('created test-report file ' + local.env.npm_config_dir_build +
                '/test-report.html\n');
            // if any test failed, then exit with non-zero exit-code
            console.error('\n' + local.env.MODE_BUILD +
                ' - ' + testReport.testsFailed + ' failed tests\n');
            // print failed testCase
            testReport.testPlatformList.forEach(function (testPlatform) {
                testPlatform.testCaseList.forEach(function (testCase) {
                    if (testCase.status !== 'passed') {
                        console.error(JSON.stringify(testCase, null, 4));
                    }
                });
            });
            return testReport;
        };

        local.testReportMerge = function (testReport1, testReport2) {
        /*
         * this function will
         * 1. merge testReport2 into testReport1
         * 2. return testReport1 in html-format
         */
            var errorStackList, testCaseNumber, testReport;
            // 1. merge testReport2 into testReport1
            [testReport1, testReport2].forEach(function (testReport, ii) {
                ii += 1;
                local.objectSetDefault(testReport, {
                    date: new Date().toISOString(),
                    errorStackList: [],
                    testPlatformList: [],
                    timeElapsed: 0
                }, 8);
                // security - handle malformed testReport
                local.assert(
                    typeof testReport === 'object' && testReport,
                    ii + ' invalid testReport ' + typeof testReport
                );
                // validate timeElapsed
                local.assert(
                    typeof testReport.timeElapsed === 'number',
                    ii + ' invalid testReport.timeElapsed ' + typeof testReport.timeElapsed
                );
                // security - handle malformed testReport.testPlatformList
                testReport.testPlatformList.forEach(function (testPlatform) {
                    local.objectSetDefault(testPlatform, {
                        name: 'undefined',
                        testCaseList: [],
                        timeElapsed: 0
                    }, 8);
                    local.assert(
                        typeof testPlatform.name === 'string',
                        ii + ' invalid testPlatform.name ' + typeof testPlatform.name
                    );
                    // insert $MODE_BUILD into testPlatform.name
                    if (local.env.MODE_BUILD) {
                        testPlatform.name = testPlatform.name.replace(
                            (/^(browser|node)\b/),
                            local.env.MODE_BUILD + ' - $1'
                        );
                    }
                    // validate timeElapsed
                    local.assert(
                        typeof testPlatform.timeElapsed === 'number',
                        ii + ' invalid testPlatform.timeElapsed ' +
                            typeof testPlatform.timeElapsed
                    );
                    // security - handle malformed testPlatform.testCaseList
                    testPlatform.testCaseList.forEach(function (testCase) {
                        local.objectSetDefault(testCase, {
                            errorStack: '',
                            name: 'undefined',
                            timeElapsed: 0
                        }, 8);
                        local.assert(
                            typeof testCase.errorStack === 'string',
                            ii + ' invalid testCase.errorStack ' + typeof testCase.errorStack
                        );
                        local.assert(
                            typeof testCase.name === 'string',
                            ii + ' invalid testCase.name ' + typeof testCase.name
                        );
                        // validate timeElapsed
                        local.assert(
                            typeof testCase.timeElapsed === 'number',
                            ii + ' invalid testCase.timeElapsed ' + typeof testCase.timeElapsed
                        );
                    });
                });
            });
            // merge testReport2.testPlatformList into testReport1.testPlatformList
            testReport2.testPlatformList.forEach(function (testPlatform2) {
                // add testPlatform2 to testReport1.testPlatformList
                testReport1.testPlatformList.push(testPlatform2);
            });
            // update testReport1.timeElapsed
            testReport1.timeElapsed += testReport2.timeElapsed;
            testReport = testReport1;
            testReport.testsFailed = 0;
            testReport.testsPassed = 0;
            testReport.testsPending = 0;
            testReport.testPlatformList.forEach(function (testPlatform) {
                testPlatform.testsFailed = 0;
                testPlatform.testsPassed = 0;
                testPlatform.testsPending = 0;
                testPlatform.testCaseList.forEach(function (testCase) {
                    switch (testCase.status) {
                    // update failed tests
                    case 'failed':
                        testPlatform.testsFailed += 1;
                        testReport.testsFailed += 1;
                        break;
                    // update passed tests
                    case 'passed':
                        testPlatform.testsPassed += 1;
                        testReport.testsPassed += 1;
                        break;
                    // update pending tests
                    default:
                        testPlatform.testsPending += 1;
                        testReport.testsPending += 1;
                    }
                });
                // update testPlatform.status
                testPlatform.status = testPlatform.testsFailed
                    ? 'failed'
                    : testPlatform.testsPending
                    ? 'pending'
                    : 'passed';
                // sort testCaseList by status and name
                testPlatform.testCaseList.sort(function (arg1, arg2) {
                    return arg1.status.replace('passed', 'z') + arg1.name >
                        arg2.status.replace('passed', 'z') + arg2.name
                        ? 1
                        : -1;
                });
            });
            // sort testPlatformList by status and name
            testReport.testPlatformList.sort(function (arg1, arg2) {
                return arg1.status.replace('passed', 'z') + arg1.name >
                    arg2.status.replace('passed', 'z') + arg2.name
                    ? 1
                    : -1;
            });
            // stop testReport timer
            if (!testReport.testsPending) {
                local.timeElapsedPoll(testReport);
            }
            // 2. return testReport1 in html-format
            // json-copy testReport that will be modified for html templating
            testReport = local.jsonCopy(testReport1);
            // update timeElapsed
            local.timeElapsedPoll(testReport);
            testReport.testPlatformList.forEach(function (testPlatform) {
                local.timeElapsedPoll(testPlatform);
                testPlatform.testCaseList.forEach(function (testCase) {
                    if (!testCase.isDone) {
                        local.timeElapsedPoll(testCase);
                    }
                    testPlatform.timeElapsed = Math.max(
                        testPlatform.timeElapsed,
                        testCase.timeElapsed
                    );
                });
                // update testReport.timeElapsed with testPlatform.timeElapsed
                testReport.timeElapsed = Math.max(
                    testReport.timeElapsed,
                    testPlatform.timeElapsed
                );
            });
            // create html test-report
            testCaseNumber = 0;
            return local.templateRender(
                local.assetsDict['/assets.testReport.template.html'],
                local.objectSetOverride(testReport, {
                    env: local.env,
                    // map testPlatformList
                    testPlatformList: testReport.testPlatformList
                        .filter(function (testPlatform) {
                            // if testPlatform has no tests, then filter it out
                            return testPlatform.testCaseList.length;
                        })
                        .map(function (testPlatform, ii) {
                            errorStackList = [];
                            return local.objectSetOverride(testPlatform, {
                                errorStackList: errorStackList,
                                name: testPlatform.name,
                                screenshot: testPlatform.screenshot,
                                // map testCaseList
                                testCaseList: testPlatform.testCaseList.map(function (testCase) {
                                    testCaseNumber += 1;
                                    if (testCase.errorStack) {
                                        errorStackList.push({
                                            errorStack: testCaseNumber + '. ' + testCase.name +
                                                '\n' + testCase.errorStack
                                        });
                                    }
                                    return local.objectSetOverride(testCase, {
                                        testCaseNumber: testCaseNumber,
                                        testReportTestStatusClass: 'test' +
                                            testCase.status[0].toUpperCase() +
                                            testCase.status.slice(1)
                                    }, 8);
                                }),
                                preClass: errorStackList.length
                                    ? ''
                                    : 'displayNone',
                                testPlatformNumber: ii + 1
                            });
                        }, 8),
                    testStatusClass: testReport.testsFailed
                        ? 'testFailed'
                        : 'testPassed'
                }, 8)
            );
        };

        local.testRunBefore = local.nop;

        local.testRunDefault = function (options) {
        /*
         * this function will run all tests in testPlatform.testCaseList
         */
            var exit, testPlatform, testReport, testReportDiv1, timerInterval;
            // init modeTest
            local.modeTest = local.modeTest || local.env.npm_config_mode_test;
            if (!(local.modeTest || options.modeTest)) {
                return;
            }
            if (!local.global.utility2_modeTestRun) {
                local.global.utility2_modeTestRun = 1;
                setTimeout(function () {
                    local.testRunBefore();
                    local.onReadyAfter(function () {
                        local.testRunDefault(options);
                    });
                });
                return;
            }
            if (local.global.utility2_modeTestRun !== 1) {
                return;
            }
            local.global.utility2_modeTestRun = 2;
            // visual notification - testRun
            local.ajaxProgressUpdate();
            // mock serverLog
            local._serverLog = local._serverLog || local.serverLog;
            local.serverLog = local.nop;
            switch (local.modeJs) {
            case 'node':
                // mock proces.exit
                exit = process.exit;
                process.exit = local.nop;
                break;
            }
            // init modeTestCase
            local.modeTestCase = local.modeTestCase || local.env.npm_config_mode_test_case;
            // init testReport
            testReport = local.testReport;
            // init testReport timer
            local.timeElapsedStart(testReport);
            // init testPlatform
            testPlatform = local.testReport.testPlatformList[0];
            // init testPlatform timer
            local.timeElapsedStart(testPlatform);
            // reset testPlatform.testCaseList
            testPlatform.testCaseList.length = 0;
            // add tests into testPlatform.testCaseList
            Object.keys(options).forEach(function (key) {
                // add testCase options[key] to testPlatform.testCaseList
                if (typeof options[key] === 'function' && (local.modeTestCase
                        ? local.modeTestCase.split(',').indexOf(key) >= 0
                        : key.indexOf('testCase_') === 0)) {
                    testPlatform.testCaseList.push({
                        name: key,
                        status: 'pending',
                        onTestCase: options[key]
                    });
                }
            });
            // visual notification - update test-progress until isDone
            // init testReportDiv1 element
            if (local.modeJs === 'browser') {
                testReportDiv1 = document.querySelector('#testReportDiv1');
            }
            testReportDiv1 = testReportDiv1 || { style: {} };
            local.uiAnimateSlideDown(testReportDiv1);
            testReportDiv1.innerHTML = local.testReportMerge(testReport, {});
            // update test-report status every 1000 ms until isDone
            timerInterval = setInterval(function () {
                // update testReportDiv1 in browser
                testReportDiv1.innerHTML = local.testReportMerge(testReport, {});
                if (!testReport.testsPending) {
                    // cleanup timerInterval
                    clearInterval(timerInterval);
                }
            }, 1000);
            // shallow-copy testPlatform.testCaseList to prevent side-effects
            // from in-place sort from testReportMerge
            local.onParallelList({
                list: testPlatform.testCaseList.slice(),
                rateLimit: Infinity
            }, function (testCase, onParallel) {
                var onError, timerTimeout;
                onError = function (error) {
                    // cleanup timerTimeout
                    clearTimeout(timerTimeout);
                    // if testCase isDone, then fail testCase with error for ending again
                    if (testCase.isDone) {
                        error = error || new Error('callback in testCase ' +
                            testCase.name + ' called multiple times');
                    }
                    // if error occurred, then fail testCase
                    if (error) {
                        testCase.status = 'failed';
                        console.error('\ntestCase ' + testCase.name + ' failed\n' +
                            error.message + '\n' + error.stack);
                        testCase.errorStack = testCase.errorStack ||
                            error.message + '\n' + error.stack;
                        // validate errorStack is non-empty
                        local.assert(
                            testCase.errorStack,
                            'invalid errorStack ' + testCase.errorStack
                        );
                    }
                    // if tests isDone, then do nothing
                    if (testCase.isDone) {
                        return;
                    }
                    testCase.isDone = true;
                    if (testCase.status === 'pending') {
                        testCase.status = 'passed';
                    }
                    // stop testCase timer
                    local.timeElapsedPoll(testCase);
                    console.error('[' + local.modeJs + ' test-case ' +
                        testPlatform.testCaseList.filter(function (testCase) {
                            return testCase.isDone;
                        }).length + ' of ' + testPlatform.testCaseList.length + ' ' +
                        testCase.status + '] - ' + testCase.name);
                    // if all testCase isDone, then create test-report
                    onParallel();
                };
                testCase = testCase.element;
                // init timerTimeout
                timerTimeout = local.onTimeout(
                    onError,
                    testCase.onTestCase.timeout || local.timeoutDefault,
                    testCase.name
                );
                // increment number of tests remaining
                onParallel.counter += 1;
                // try to run testCase
                local.tryCatchOnError(function () {
                    // start testCase timer
                    local.timeElapsedStart(testCase);
                    testCase.onTestCase(null, onError);
                }, onError);
            }, function () {
            /*
             * this function will create the test-report after all tests isDone
             */
                local.global.utility2_modeTestRun = 0;
                local.ajaxProgressUpdate();
                // stop testPlatform timer
                local.timeElapsedPoll(testPlatform);
                // finalize testReport
                local.testReportMerge(testReport, {});
                switch (local.modeJs) {
                case 'browser':
                    // notify saucelabs of test results
                    // https://docs.saucelabs.com/reference/rest-api/#js-unit-testing
                    local.global.global_test_results = {
                        coverage: local.global.__coverage__,
                        failed: testReport.testsFailed,
                        testReport: testReport
                    };
                    break;
                case 'node':
                    // create test-report.json
                    local.fs.writeFileSync(
                        local.env.npm_config_dir_build + '/test-report.json',
                        JSON.stringify(testReport)
                    );
                    // cleanup $npm_config_dir_tmp
                    local.child_process.spawnSync('rm -f ' + local.env.npm_config_dir_tmp +
                        '/electron.*', { shell: true, stdio: ['ignore', 1, 2] });
                    break;
                }
                setTimeout(function () {
                    // restore serverLog
                    local.serverLog = local._serverLog;
                    switch (local.modeJs) {
                    case 'browser':
                        // update coverageReport
                        local.istanbulCoverageReportCreate({
                            coverage: local.global.__coverage__
                        });
                        if (document.querySelector('#coverageReportDiv1')) {
                            document.querySelector('#coverageReportDiv1').innerHTML =
                                local.istanbul.coverageReportCreate({
                                    coverage: window.__coverage__
                                });
                        }
                        break;
                    case 'node':
                        // restore process.exit
                        process.exit = exit;
                        break;
                    }
                    // exit with number of tests failed
                    local.exit(testReport.testsFailed);
                // coverage-hack - wait 1000 ms for timerInterval
                }, 1000);
            });
        };

        local.testRunInit = function (local) {
        /*
         * this function will init testRunXxx
         */
            // init testCase_buildXxx
            Object.keys(local).forEach(function (key) {
                if (key.indexOf('_testCase_build') === 0 ||
                        key === '_testCase_webpage_default') {
                    local[key.slice(1)] = local[key.slice(1)] || local[key];
                }
            });
            // run test
            setTimeout(function () {
                if (local.modeJs === 'node' || local.global.utility2_serverHttp1) {
                    local.testRunServer(local);
                    return;
                }
                if (local.modeTest &&
                        local.testRunBrowser &&
                        document.querySelector('#testRunButton1')) {
                    document.querySelector('#testRunButton1').click();
                    return;
                }
                local.testRunDefault(local);
            });
        };

        local.testRunServer = function (options) {
        /*
         * this function will
         * 1. create server from local.middlewareList
         * 2. start server on local.env.PORT
         * 3. run tests
         */
            if (local.global.utility2_serverHttp1) {
                return;
            }
            local.onReadyBefore.counter += 1;
            // 1. create server from local.middlewareList
            local.middlewareList = local.middlewareList || [
                local.middlewareInit,
                local.middlewareForwardProxy,
                local.middlewareAssetsCached,
                local.middlewareJsonpStateInit,
                local.middlewareFileServer
            ];
            local.serverLocalRequestHandler = function (request, response) {
                var self;
                self = {};
                local.onNext(self, function (error) {
                    if (error || self.modeNext >= local.middlewareList.length) {
                        // default to middlewareError
                        local.middlewareError(error, request, response);
                        return;
                    }
                    // recurse with next middleware in middlewareList
                    local.middlewareList[self.modeNext](
                        request,
                        response,
                        self.onNext
                    );
                });
                self.modeNext = -1;
                self.onNext();
            };
            local.global.utility2_serverHttp1 = local.http.createServer(
                local.serverLocalRequestHandler
            );
            // 2. start server on local.env.PORT
            console.error('server listening on http-port ' + local.env.PORT);
            local.onReadyBefore.counter += 1;
            local.global.utility2_serverHttp1.listen(local.env.PORT, local.onReadyBefore);
            // 3. run tests
            local.testRunDefault(options);
            local.onReadyBefore();
        };

        local.throwError = function () {
        /*
         * this function will throw an error
         */
            throw new Error();
        };

        local.timeElapsedPoll = function (options) {
        /*
         * this function will poll options.timeElapsed
         */
            options = local.timeElapsedStart(options);
            options.timeElapsed = Date.now() - options.timeStart;
            return options;
        };

        local.timeElapsedStart = function (options, timeStart) {
        /*
         * this function will start options.timeElapsed
         */
            options = options || {};
            options.timeStart = timeStart || options.timeStart || Date.now();
            return options;
        };

        local.tryCatchOnError = function (fnc, onError) {
        /*
         * this function will try to run the fnc in a try-catch block,
         * else call onError with the errorCaught
         */
            var result;
            // validate onError
            local.assert(typeof onError === 'function', typeof onError);
            try {
                // reset errorCaught
                local._debugTryCatchError = null;
                result = fnc();
                local._debugTryCatchError = null;
                return result;
            } catch (errorCaught) {
                // debug errorCaught
                local._debugTryCatchError = errorCaught;
                return onError(errorCaught);
            }
        };

        local.tryCatchReadFile = function (file, options) {
        /*
         * this function will try to read the file or return an empty string
         */
            var data;
            try {
                data = local.fs.readFileSync(file, options);
            } catch (ignore) {
            }
            return data || '';
        };

        local.uiAnimateShake = function (element, onError) {
        /*
         * this function will shake the dom-element
         */
            if (!element || element.classList.contains('uiAnimateShake')) {
                local.setTimeoutOnError(onError);
                return;
            }
            element.classList.add('uiAnimateShake');
            setTimeout(function () {
                element.classList.remove('uiAnimateShake');
                local.setTimeoutOnError(onError);
            }, 500);
        };

        local.uiAnimateShakeIfError = function (error, element, onError) {
        /*
         * this function will shake the dom-element if error occurred
         */
            var hasError;
            if (!element) {
                local.setTimeoutOnError(onError);
                return;
            }
            hasError = element.classList.contains('hasError');
            if (error && !hasError) {
                element.classList.add('hasError');
                local.uiAnimateShake(element, onError);
                return;
            }
            if (!error && hasError) {
                element.classList.remove('hasError');
            }
            local.setTimeoutOnError(onError);
        };

        local.uiAnimateSlideAccordian = function (element, elementList, onError) {
        /*
         * this function will slideDown the element,
         * and slideUp all other elements in elementList
         */
            elementList.forEach(function (element2) {
                if (element2 !== element) {
                    local.uiAnimateSlideUp(element2);
                }
            });
            setTimeout(function () {
                local.uiAnimateSlideDown(element, onError);
            }, 250);
        };

        local.uiAnimateSlideDown = function (element, onError) {
        /*
         * this function will slideDown the dom-element
         */
            onError = onError || local.nop;
            if (!(element &&
                    element.style && element.style.maxHeight !== '100%' &&
                    element.classList && element.classList.contains('uiAnimateSlide'))) {
                onError();
                return;
            }
            element.style.borderBottom = '';
            element.style.borderTop = '';
            element.style.marginBottom = '';
            element.style.marginTop = '';
            element.style.maxHeight = 1.5 * local.global.innerHeight + 'px';
            element.style.paddingBottom = '';
            element.style.paddingTop = '';
            setTimeout(function () {
                element.style.maxHeight = '100%';
                onError();
            }, 250);
        };

        local.uiAnimateSlideUp = function (element, onError) {
        /*
         * this function will slideUp the dom-element
         */
            if (!(element &&
                    element.style && element.style.maxHeight !== '0px' &&
                    element.classList && element.classList.contains('uiAnimateSlide'))) {
                local.setTimeoutOnError(onError);
                return;
            }
            element.style.borderBottom = '0';
            element.style.borderTop = '0';
            element.style.marginBottom = '0';
            element.style.marginTop = '0';
            element.style.maxHeight = '0';
            element.style.paddingBottom = '0';
            element.style.paddingTop = '0';
            local.setTimeoutOnError(onError, 250);
        };

        local.urlParse = function (url) {
        /*
         * https://developer.mozilla.org/en-US/docs/Web/API/URL
         * this function will parse the url according to the above spec, plus a query param
         */
            var urlParsed;
            urlParsed = {};
            // try to parse the url
            local.tryCatchOnError(function () {
                // resolve host-less url
                switch (local.modeJs) {
                case 'browser':
                    local.serverLocalHost = local.serverLocalHost ||
                        location.protocol + '//' + location.host;
                    // resolve absolute path
                    if (url[0] === '/') {
                        url = local.serverLocalHost + url;
                    // resolve relative path
                    } else if (!(/^\w+?:\/\//).test(url)) {
                        url = local.serverLocalHost +
                            location.pathname.replace((/\/[^\/]*?$/), '') + '/' + url;
                    }
                    urlParsed = new local.global.URL(url);
                    urlParsed.path = '/' + urlParsed.href
                        .split('/')
                        .slice(3)
                        .join('/')
                        .split('#')[0];
                    break;
                case 'node':
                    local.env.PORT = local.env.PORT || '8081';
                    local.serverLocalHost = local.serverLocalHost ||
                        ('http://127.0.0.1:' + local.env.PORT);
                    // resolve absolute path
                    if (url[0] === '/') {
                        url = local.serverLocalHost + url;
                    // resolve relative path
                    } else if (!(/^\w+?:\/\//).test(url)) {
                        url = local.serverLocalHost + '/' + url;
                    }
                    urlParsed = local.url.parse(url);
                    break;
                }
                // init query
                urlParsed.query = {};
                (urlParsed.search || '').slice(1).replace((/[^&]+/g), function (item) {
                    item = item.split('=');
                    item[0] = decodeURIComponent(item[0]);
                    item[1] = decodeURIComponent(item.slice(1).join('='));
                    // parse repeating query-param as an array
                    if (urlParsed.query[item[0]]) {
                        if (!Array.isArray(urlParsed.query[item[0]])) {
                            urlParsed.query[item[0]] = [urlParsed.query[item[0]]];
                        }
                        urlParsed.query[item[0]].push(item[1]);
                    } else {
                        urlParsed.query[item[0]] = item[1];
                    }
                });
            }, local.nop);
            // https://developer.mozilla.org/en/docs/Web/API/URL#Properties
            return {
                hash: urlParsed.hash || '',
                host: urlParsed.host || '',
                hostname: urlParsed.hostname || '',
                href: urlParsed.href || '',
                path: urlParsed.path || '',
                pathname: urlParsed.pathname || '',
                port: urlParsed.port || '',
                protocol: urlParsed.protocol || '',
                query: urlParsed.query || {},
                search: urlParsed.search || ''
            };
        };

        local.uuid4Create = function () {
        /*
         * this function will create a random uuid,
         * with format 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'
         */
            // code derived from http://jsperf.com/uuid4
            var id, ii;
            id = '';
            for (ii = 0; ii < 32; ii += 1) {
                switch (ii) {
                case 8:
                case 20:
                    id += '-';
                    // coerce to finite integer
                    id += (Math.random() * 16 | 0).toString(16);
                    break;
                case 12:
                    id += '-';
                    id += '4';
                    break;
                case 16:
                    id += '-';
                    id += (Math.random() * 4 | 8).toString(16);
                    break;
                default:
                    // coerce to finite integer
                    id += (Math.random() * 16 | 0).toString(16);
                }
            }
            return id;
        };
    }());



    // run shared js-env code - init-after
    (function () {
        local.ajaxProgressCounter = 0;
        local.ajaxProgressState = 0;
        local.apidocCreate = local.apidoc.apidocCreate;
        local.cacheDict = {};
        local.contentTypeDict = {
            // application
            '.js': 'application/javascript; charset=UTF-8',
            '.json': 'application/json; charset=UTF-8',
            '.pdf': 'application/pdf',
            '.xml': 'application/xml; charset=UTF-8',
            // image
            '.bmp': 'image/bmp',
            '.gif': 'image/gif',
            '.jpeg': 'image/jpeg',
            '.jpg': 'image/jpeg',
            '.png': 'image/png',
            '.svg': 'image/svg+xml; charset=UTF-8',
            // text
            '.css': 'text/css; charset=UTF-8',
            '.htm': 'text/html; charset=UTF-8',
            '.html': 'text/html; charset=UTF-8',
            '.md': 'text/markdown; charset=UTF-8',
            '.txt': 'text/plain; charset=UTF-8'
        };
        // init env
        local.env = local.modeJs === 'browser'
            ? {}
            : process.env;
        local.objectSetDefault(local.env, {
            npm_package_nameLib: (local.env.npm_package_name || '').replace((/\W/g), '_')
        });
        local.objectSetDefault(local.env, {
            npm_package_description: 'the greatest app in the world!',
            npm_package_name: 'my-app',
            npm_package_nameLib: 'my_app',
            npm_package_version: '0.0.1'
        });
        local.errorDefault = new Error('default error');
        local.istanbulCoverageMerge = local.istanbul.coverageMerge || local.echo;
        // cbranch-no cstat-no fstat-no missing-if-branch
        local.istanbulCoverageReportCreate = local.istanbul.coverageReportCreate || local.echo;
        local.istanbulInstrumentInPackage = local.istanbul.instrumentInPackage || local.echo;
        local.istanbulInstrumentSync = local.istanbul.instrumentSync || local.echo;
        local.jslintAndPrint = local.jslint.jslintAndPrint || local.echo;
        local.regexpCharsetEncodeUri = (/\w!#\$%&'\(\)\*\+,\-\.\/:;=\?@~/);
        local.regexpCharsetEncodeUriComponent = (/\w!%'\(\)\*\-\.~/);
        // https://github.com/chjj/marked/blob/v0.3.7/lib/marked.js#L499
        local.regexpMatchUrl = (/\bhttps?:\/\/[^\s<]+[^<.,:;"')\]\s]/);
        // https://www.w3.org/TR/html5/sec-forms.html#email-state-typeemail
        local.regexpValidateEmail = new RegExp(
            '^[a-zA-Z0-9.!#$%&\'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}' +
                '[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$'
        );
        // https://en.wikipedia.org/wiki/E.164
        local.regexpValidatePhone = (/^(?:\+\d{1,3}[ \-]?)?(?:\(\d{1,4}\)[ \-]?)?\d[\d \-]{7,17}$/);
        local.regexpValidateUuid =
            (/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/);
        local.stringCharsetAscii =
            '\x00\x01\x02\x03\x04\x05\x06\x07\b\t\n\x0b\f\r\x0e\x0f' +
            '\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f' +
            ' !"#$%&\'()*+,-./0123456789:;<=>?' +
            '@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_' +
            '`abcdefghijklmnopqrstuvwxyz{|}~\x7f';
        local.stringCharsetEncodeUri = '!#$%&\'()*+,-./' +
            '0123456789:;=?@ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz~';
        local.stringCharsetEncodeUriComponent = '!%\'()*-.' +
            '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz~';
        // mock swgg
        local.swgg = local.swgg || {
            apiUpdate: local.nop,
            normalizeSwaggerJson: local.nop,
            swaggerValidate: local.nop
        };
        local.taskOnTaskDict = {};
        local.testReport = { testPlatformList: [{
            name: local.modeJs === 'browser'
                ? 'browser - ' + location.pathname + ' - ' + navigator.userAgent + ' - ' +
                    new Date().toISOString()
                : 'node - ' + process.platform + ' ' + process.version + ' - ' +
                    new Date().toISOString(),
            screenshot: local.env.MODE_BUILD_SCREENSHOT_IMG,
            testCaseList: []
        }] };
        // init serverLocalHost
        local.urlParse('');
        // init timeoutDefault
        switch (local.modeJs) {
        case 'browser':
            location.search.replace(
                (/\b(NODE_ENV|mode[A-Z]\w+|timeExit|timeoutDefault)=([^#&]+)/g),
                function (match0, key, value) {
                    match0 = decodeURIComponent(value);
                    local[key] = local.env[key] = match0;
                    // try to JSON.parse the string
                    local.tryCatchOnError(function () {
                        local[key] = JSON.parse(match0);
                    }, local.nop);
                }
            );
            break;
        case 'node':
            local.timeoutDefault = local.env.npm_config_timeout_default;
            break;
        }
        // init timeExit
        local.timeExit = Number(local.env.npm_config_time_exit || local.timeExit) ||
            Number(Date.now() + Number(local.env.npm_config_timeout_exit));
        if (local.timeExit) {
            local.timeoutDefault = local.timeExit - Date.now();
            setTimeout(local.exit, local.timeoutDefault);
        }
        // re-init timeoutDefault
        local.timeoutDefault = Number(local.timeoutDefault || 30000);
        local.onReadyAfter(local.nop);
        // init uglify
        local.uglify = local.uglifyjs.uglify || local.echo;
    }());
    switch (local.modeJs) {



    // run browser js-env code - init-after
    case 'browser':
        // require modules
        local.http = local._http;
        local.https = local._http;
        break;



    // run node js-env code - init-after
    /* istanbul ignore next */
    case 'node':
        local.Module = require('module');
        // init env
        local.objectSetDefault(local.env, {
            npm_config_dir_build: process.cwd() + '/tmp/build',
            npm_config_dir_tmp: process.cwd() + '/tmp'
        });
        // merge previous test-report
        if (local.env.npm_config_file_test_report_merge) {
            local.testReportMerge(
                local.testReport,
                JSON.parse(local.tryCatchReadFile(
                    local.env.npm_config_file_test_report_merge,
                    'utf8'
                ) || '{}')
            );
            if (process.argv[2] !== '--help') {
                console.error('\n' + local.env.MODE_BUILD + ' - merged test-report from file ' +
                    local.env.npm_config_file_test_report_merge);
            }
        }
        // init cli
        local.cliDict = {};
        local.cliDict['utility2.browserTest'] = function () {
        /*
         * url mode
         * run browserTest on the url with the given mode
         */
            local.onParallelList({
                list: process.argv[3].split(/\s+/).filter(function (element) {
                    return element;
                })
            }, function (options2, onParallel) {
                onParallel.counter += 1;
                local.browserTest({ url: options2.element }, function () {
                    onParallel();
                });
            }, local.exit);
        };
        local.cliDict['utility2.customOrgStarFilterNotBuilt'] = function () {
        /*
         * begin end
         * filter customOrg
         */
            (function () {
                var options;
                options = {};
                options.dict = {};
                options.list = [];
                for (options.ii = Number(process.argv[3]);
                        options.ii < Number(process.argv[4]);
                        options.ii += 36) {
                    options.list.push(options.ii);
                }
                local.listShuffle(options.list);
                local.onParallelList(options, function (options2, onParallel) {
                    onParallel.counter += 1;
                    local.ajax({
                        url: 'https://www.npmjs.com/browse/star?offset=' + options2.element
                    }, function (error, xhr) {
                        // validate no error occurred
                        local.assert(!error, error);
                        console.error('utility2.customOrgStarFilterNotBuilt - fetched ' + xhr.url);
                        (xhr.responseText || '').toLowerCase().replace((
                            /href=\"\/package\/(.+?)\"/g
                        ), function (match0, match1) {
                            match0 = local.env.GITHUB_ORG + '/node-' + local.env.GITHUB_ORG +
                                '-' + match1;
                            if (options.dict[match0]) {
                                return;
                            }
                            onParallel.counter += 1;
                            local.onParallelList({ list: [{
                                url: 'https://raw.githubusercontent.com/' + match0 +
                                    '/gh-pages/build..alpha..travis-ci.org' +
                                    '/screenshot.npmPackageListing.svg'
                            // }, {
                                // url: 'https://registry.npmjs.org/' + local.env.GITHUB_ORG +
                                    // '-' + match1
                            }] }, function (options2, onParallel) {
                                onParallel.counter += 1;
                                local.ajax(options2.element, function (error) {
                                    if (error && !options.dict[match0]) {
                                        options.dict[match0] = true;
                                        console.error(
                                            'utility2.customOrgStarFilterNotBuilt - not built - ' +
                                                match0
                                        );
                                        console.log(match0);
                                    }
                                    onParallel();
                                });
                            }, function () {
                                onParallel();
                            });
                        });
                        onParallel();
                    });
                }, local.onErrorThrow);
            }());
        };
        local.cliDict['utility2.dbTableCustomOrgCrudGetManyByQuery'] = function () {
        /*
         * dbTableAndQuery
         * query dbTableCustomOrg
         */
            local.dbTableCustomOrgCreate(JSON.parse(process.argv[3] || '{}'), function (error) {
                // validate no error occurred
                local.assert(!error, error);
                console.log(local.dbTableCustomOrgCrudGetManyByQuery(
                    JSON.parse(process.argv[3] || '{}')
                )
                    .map(function (element) {
                        return element._id;
                    })
                    .join('\n'));
            });
        };
        local.cliDict['utility2.dbTableCustomOrgUpdate'] = function () {
        /*
         * dbTable
         * update dbTableCustomOrg
         */
            local.dbTableCustomOrgUpdate(
                JSON.parse(process.argv[3] || '{}'),
                local.onErrorThrow
            );
        };
        local.cliDict['utility2.onParallelListExec'] = function () {
        /*
         * commandList
         * run in parallel the list of line-separated shell-commands
         */
            local.onParallelList({
                list: process.argv[3].split('\n').filter(function (element) {
                    return element.trim();
                }),
                rateLimit: process.argv[4],
                retryLimit: process.argv[5]
            }, function (options2, onParallel) {
                onParallel.counter += 1;
                local.child_process.spawn(
                    '. ' + local.__dirname + '/lib.utility2.sh; ' + options2.element,
                    { shell: true, stdio: ['ignore', 1, 2] }
                ).on('exit', function (exitCode) {
                    console.error('onParallelListExec - [' + (onParallel.ii + 1) +
                        ' of ' + options2.list.length + '] exitCode ' + exitCode);
                    onParallel(exitCode && new Error(exitCode), options2);
                });
            }, local.exit);
        };
        local.cliDict['utility2.start'] = function () {
        /*
         * port
         * start utility2 server on the given port (default 8081)
         */
            local.env.PORT = process.argv[3] || local.env.PORT;
            local.global.local = local;
            local.replStart();
            local.testRunServer({});
        };
        local.cliDict['utility2.swaggerValidateFile'] = function () {
        /*
         * file/url
         * swagger-validate file/url
         */
            setTimeout(function () {
                local.swgg.swaggerValidateFile({ file: process.argv[3] }, function (error, data) {
                    console.error(data);
                    process.exit(error);
                });
            });
        };
        local.cliDict['utility2.testReportCreate'] = function () {
        /*
         * [none]
         * create the test-report
         */
            local.exit(local.testReportCreate(local.tryCatchOnError(function () {
                return require(local.env.npm_config_dir_build + '/test-report.json');
            }, local.onErrorDefault)).testsFailed);
        };
        switch (process.argv[2]) {
        case 'utility2.browserTest':
            break;
        }
        if (module === require.main && (!local.global.utility2_rollup || (process.argv[2] &&
                local.cliDict[process.argv[2]] &&
                process.argv[2].indexOf('utility2.') === 0))) {
            local.cliRun(local.nop);
            if (local.cliDict[process.argv[2]]) {
                local.cliDict[process.argv[2]]();
                switch (process.argv[2]) {
                case '--interactive':
                case '-i':
                case 'utility2.swaggerValidateFile':
                case 'utility2.start':
                    break;
                default:
                    return;
                }
            }
        }
/* validateLineSortedReset */
        // override assets
        [
            'assets.index.css',
            'assets.index.template.html',
            'assets.swgg.swagger.json',
            'assets.swgg.swagger.server.json'
        ].forEach(function (file) {
            local.assetsDict['/' + file] = local.assetsDict['/' + file] || '';
            if (process.argv[2] !== '--help' && local.fs.existsSync(file)) {
                console.error('override assets ' + file);
                local.assetsDict['/' + file] = local.fs.readFileSync(file, 'utf8');
            }
        });
        if (local.global.utility2_rollup) {
            local.assetsDict['/assets.utility2.rollup.js'] = local.fs.readFileSync(
                __filename,
                'utf8'
            ).split('\n/* script-end /assets.utility2.rollup.end.js */')[0] +
                '\n/* script-end /assets.utility2.rollup.end.js */\n';
            break;
        }
        // init assets
        [
            '/assets.utility2.example.js',
            '/assets.utility2.html',
            '/assets.utility2.test.js',
            'lib.apidoc.js',
            'lib.db.js',
            'lib.github_crud.js',
            'lib.istanbul.js',
            'lib.jslint.js',
            'lib.marked.js',
            'lib.sjcl.js',
            'lib.swgg.js',
            'lib.uglifyjs.js',
            'lib.utility2.js',
            'test.js'
        ].forEach(function (key) {
            switch (key) {
            case '/assets.utility2.example.js':
                local.assetsDict[key] = '';
                local.tryCatchOnError(function () {
                    local.fs.readFileSync(
                        __dirname + '/README.md',
                        'utf8'
                    ).replace((/```javascript([\S\s]*?)```/), function (match0, match1) {
                        match0 = match1;
                        local.assetsDict[key] = match0.trim() + '\n';
                    });
                }, local.nop);
                break;
            case '/assets.utility2.html':
                local.assetsDict[key] = '';
                local.tryCatchOnError(function () {
                    local.fs.readFileSync(__dirname + '/README.md', 'utf8').replace((
                        /<!doctype html>[\S\s]*?<\/html>\\n\\\n/
                    ), function (match0) {
                        local.assetsDict[key] = local.templateRender(match0
                            .replace((/\\n\\$/gm), '')
                            .replace(
                                '<script src="assets.app.js"></script>\n',
                                '<script src="assets.utility2.rollup.js"></script>\n' +
                                    '<script src="assets.utility2.example.js"></script>\n' +
                                    '<script src="assets.utility2.test.js"></script>\n'
                            )
                            .replace('assets.example.js', 'assets.utility2.example.js')
                            .replace('assets.test.js', 'assets.utility2.test.js')
                            .replace((/npm_package_/g), '')
                            // uncomment utility2-comment
                            .replace(
                                (/<!-- utility2-comment\b([\S\s]+?)\butility2-comment -->/g),
                                '$1'
                            ), {
                                env: local.objectSetDefault({
                                    version: '0.0.1'
                                }, require(__dirname + '/package.json')),
                                isRollup: true
                            });
                    });
                }, local.nop);
                break;
            case '/assets.utility2.test.js':
                local.assetsDict[key] = local.tryCatchReadFile(__dirname + '/test.js', 'utf8');
                break;
            case 'lib.swgg.js':
            case 'lib.utility2.js':
                key = key.replace('lib.', '');
                local.assetsDict['/assets.' + key] = local.tryCatchReadFile(
                    __dirname + '/lib.' + key,
                    'utf8'
                ).replace((/^#!/), '//');
                break;
            default:
                local.assetsDict['/assets.utility2.' + key] = local.tryCatchReadFile(
                    __dirname + '/' + key,
                    'utf8'
                ).replace((/^#!/), '//');
            }
        });
        local.assetsDict['/assets.utility2.rollup.js'] = [
            'header',
            '/assets.utility2.rollup.begin.js',
            'lib.apidoc.js',
            'lib.db.js',
            'lib.github_crud.js',
            'lib.istanbul.js',
            'lib.jslint.js',
            'lib.marked.js',
            'lib.sjcl.js',
            'lib.uglifyjs.js',
            'lib.utility2.js',
            'lib.swgg.js',
            '/assets.utility2.example.js',
            '/assets.utility2.html',
            '/assets.utility2.test.js',
            '/assets.utility2.rollup.end.js'
        ].map(function (key) {
            var script;
            switch (key) {
            case '/assets.utility2.example.js':
            case '/assets.utility2.html':
            case '/assets.utility2.test.js':
                script = local.assetsDict['/assets.utility2.rollup.content.js']
                    .split('/* utility2.rollup.js content */');
                script.splice(1, 0, 'local.assetsDict["' + key + '"] = ' +
                    JSON.stringify(local.assetsDict[key]).replace((/\\n/g), '\\n\\\n'));
                script = script.join('');
                script += '\n';
                break;
            case '/assets.utility2.rollup.begin.js':
            case '/assets.utility2.rollup.end.js':
                script = local.assetsDict[key];
                break;
            case 'header':
                return '/* this rollup was created with utility2 ' +
                    '(https://github.com/kaizhu256/node-utility2) */\n';
            case 'lib.swgg.js':
            case 'lib.utility2.js':
                key = '/assets.' + key.replace('lib.', '');
                script = local.assetsDict[key];
                break;
            default:
                key = '/assets.utility2.' + key;
                script = local.assetsDict[key];
            }
            return '/* script-begin ' + key + ' */\n' +
                script.trim() +
                '\n/* script-end ' + key + ' */\n';
        }).join('\n\n\n');
        // init lib
        [
            'swgg'
        ].forEach(function (lib) {
            var file;
            file = __dirname + '/lib.' + lib + '.js';
            if (local.fs.existsSync(file)) {
                local[lib] = require(file);
            }
        });
        break;
    }
}());
/* script-end /assets.utility2.js */



/* script-begin /assets.swgg.js */
/* istanbul instrument in package swgg */
/* jslint-utility2 */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;
    /* istanbul ignore next */
    if (typeof global === 'object' &&
            !global.utility2_app &&
            global.utility2_rollup &&
            global.process &&
            global.process.env.npm_package_nameLib === 'swgg') {
        return;
    }



    // run shared js-env code - init-before
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || local;
        /* istanbul ignore next */
        if (!local) {
            local = local.global.utility2_rollup ||
                local.global.utility2_rollup_old ||
                require('./assets.utility2.rollup.js');
            local.fs = null;
        }
        // init exports
        if (local.modeJs === 'browser') {
            local.global.utility2_swgg = local;
        } else {
            // require builtins
            // local.assert = require('assert');
            local.buffer = require('buffer');
            local.child_process = require('child_process');
            local.cluster = require('cluster');
            local.console = require('console');
            local.constants = require('constants');
            local.crypto = require('crypto');
            local.dgram = require('dgram');
            local.dns = require('dns');
            local.domain = require('domain');
            local.events = require('events');
            local.fs = require('fs');
            local.http = require('http');
            local.https = require('https');
            local.module = require('module');
            local.net = require('net');
            local.os = require('os');
            local.path = require('path');
            local.process = require('process');
            local.punycode = require('punycode');
            local.querystring = require('querystring');
            local.readline = require('readline');
            local.repl = require('repl');
            local.stream = require('stream');
            local.string_decoder = require('string_decoder');
            local.timers = require('timers');
            local.tls = require('tls');
            local.tty = require('tty');
            local.url = require('url');
            local.util = require('util');
            local.v8 = require('v8');
            local.vm = require('vm');
            local.zlib = require('zlib');
/* validateLineSortedReset */
            module.exports = local;
            module.exports.__dirname = __dirname;
        }
        // init lib
        local.local = local.swgg = local;
        // init lib swgg
        local.global.swgg = local.global.utility2_swgg = local.swgg = local;
        // init lib utility2
        local.utility2 = local.global.utility2_rollup || (local.modeJs === 'browser'
            ? local.global.utility2
            : (function () {
                try {
                    return require(__dirname + '/lib.utility2.js');
                } catch (errorCaught) {
                    return require(__dirname + '/assets.utility2.rollup.js');
                }
            }()));
        local.utility2.objectSetDefault(local, local.utility2);
        local.utility2.swgg = local;
/* validateLineSortedReset */
        // init assets and templates
/* jslint-ignore-begin */
// https://github.com/json-schema-org/json-schema-org.github.io/blob/eb4805e94c3e27932352344767d19cc4c3c3381c/draft-04/schema
// curl -Ls https://raw.githubusercontent.com/json-schema-org/json-schema-org.github.io/eb4805e94c3e27932352344767d19cc4c3c3381c/draft-04/schema > /tmp/aa.json; node -e "console.log(JSON.stringify(require('/tmp/aa.json')));"
local.assetsDict['/assets.swgg.json-schema.json'] = JSON.stringify(
{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string","format":"uri"},"$schema":{"type":"string","format":"uri"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}
);



// https://github.com/OAI/OpenAPI-Specification/blob/3.0.0/schemas/v2.0/schema.json
// curl -Ls https://raw.githubusercontent.com/OAI/OpenAPI-Specification/3.0.0/schemas/v2.0/schema.json > /tmp/aa.json; node -e "console.log(JSON.stringify(require('/tmp/aa.json')));"
local.assetsDict['/assets.swgg.schema.json'] = JSON.stringify(
{"title":"A JSON Schema for Swagger 2.0 API.","id":"http://swagger.io/v2/schema.json#","$schema":"http://json-schema.org/draft-04/schema#","type":"object","required":["swagger","info","paths"],"additionalProperties":false,"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}},"properties":{"swagger":{"type":"string","enum":["2.0"],"description":"The Swagger version of this document."},"info":{"$ref":"#/definitions/info"},"host":{"type":"string","pattern":"^[^{}/ :\\\\]+(?::\\d+)?$","description":"The host (name or ip) of the API. Example: 'swagger.io'"},"basePath":{"type":"string","pattern":"^/","description":"The base path to the API. Example: '/api'."},"schemes":{"$ref":"#/definitions/schemesList"},"consumes":{"description":"A list of MIME types accepted by the API.","allOf":[{"$ref":"#/definitions/mediaTypeList"}]},"produces":{"description":"A list of MIME types the API can produce.","allOf":[{"$ref":"#/definitions/mediaTypeList"}]},"paths":{"$ref":"#/definitions/paths"},"definitions":{"$ref":"#/definitions/definitions"},"parameters":{"$ref":"#/definitions/parameterDefinitions"},"responses":{"$ref":"#/definitions/responseDefinitions"},"security":{"$ref":"#/definitions/security"},"securityDefinitions":{"$ref":"#/definitions/securityDefinitions"},"tags":{"type":"array","items":{"$ref":"#/definitions/tag"},"uniqueItems":true},"externalDocs":{"$ref":"#/definitions/externalDocs"}},"definitions":{"info":{"type":"object","description":"General information about the API.","required":["version","title"],"additionalProperties":false,"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}},"properties":{"title":{"type":"string","description":"A unique and precise title of the API."},"version":{"type":"string","description":"A semantic version number of the API."},"description":{"type":"string","description":"A longer description of the API. Should be different from the title.  GitHub Flavored Markdown is allowed."},"termsOfService":{"type":"string","description":"The terms of service for the API."},"contact":{"$ref":"#/definitions/contact"},"license":{"$ref":"#/definitions/license"}}},"contact":{"type":"object","description":"Contact information for the owners of the API.","additionalProperties":false,"properties":{"name":{"type":"string","description":"The identifying name of the contact person/organization."},"url":{"type":"string","description":"The URL pointing to the contact information.","format":"uri"},"email":{"type":"string","description":"The email address of the contact person/organization.","format":"email"}},"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}},"license":{"type":"object","required":["name"],"additionalProperties":false,"properties":{"name":{"type":"string","description":"The name of the license type. It's encouraged to use an OSI compatible license."},"url":{"type":"string","description":"The URL pointing to the license.","format":"uri"}},"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}},"paths":{"type":"object","description":"Relative paths to the individual endpoints. They must be relative to the 'basePath'.","patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"},"^/":{"$ref":"#/definitions/pathItem"}},"additionalProperties":false},"definitions":{"type":"object","additionalProperties":{"$ref":"#/definitions/schema"},"description":"One or more JSON objects describing the schemas being consumed and produced by the API."},"parameterDefinitions":{"type":"object","additionalProperties":{"$ref":"#/definitions/parameter"},"description":"One or more JSON representations for parameters"},"responseDefinitions":{"type":"object","additionalProperties":{"$ref":"#/definitions/response"},"description":"One or more JSON representations for parameters"},"externalDocs":{"type":"object","additionalProperties":false,"description":"information about external documentation","required":["url"],"properties":{"description":{"type":"string"},"url":{"type":"string","format":"uri"}},"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}},"examples":{"type":"object","additionalProperties":true},"mimeType":{"type":"string","description":"The MIME type of the HTTP message."},"operation":{"type":"object","required":["responses"],"additionalProperties":false,"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}},"properties":{"tags":{"type":"array","items":{"type":"string"},"uniqueItems":true},"summary":{"type":"string","description":"A brief summary of the operation."},"description":{"type":"string","description":"A longer description of the operation, GitHub Flavored Markdown is allowed."},"externalDocs":{"$ref":"#/definitions/externalDocs"},"operationId":{"type":"string","description":"A unique identifier of the operation."},"produces":{"description":"A list of MIME types the API can produce.","allOf":[{"$ref":"#/definitions/mediaTypeList"}]},"consumes":{"description":"A list of MIME types the API can consume.","allOf":[{"$ref":"#/definitions/mediaTypeList"}]},"parameters":{"$ref":"#/definitions/parametersList"},"responses":{"$ref":"#/definitions/responses"},"schemes":{"$ref":"#/definitions/schemesList"},"deprecated":{"type":"boolean","default":false},"security":{"$ref":"#/definitions/security"}}},"pathItem":{"type":"object","additionalProperties":false,"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}},"properties":{"$ref":{"type":"string"},"get":{"$ref":"#/definitions/operation"},"put":{"$ref":"#/definitions/operation"},"post":{"$ref":"#/definitions/operation"},"delete":{"$ref":"#/definitions/operation"},"options":{"$ref":"#/definitions/operation"},"head":{"$ref":"#/definitions/operation"},"patch":{"$ref":"#/definitions/operation"},"parameters":{"$ref":"#/definitions/parametersList"}}},"responses":{"type":"object","description":"Response objects names can either be any valid HTTP status code or 'default'.","minProperties":1,"additionalProperties":false,"patternProperties":{"^([0-9]{3})$|^(default)$":{"$ref":"#/definitions/responseValue"},"^x-":{"$ref":"#/definitions/vendorExtension"}},"not":{"type":"object","additionalProperties":false,"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}}},"responseValue":{"oneOf":[{"$ref":"#/definitions/response"},{"$ref":"#/definitions/jsonReference"}]},"response":{"type":"object","required":["description"],"properties":{"description":{"type":"string"},"schema":{"oneOf":[{"$ref":"#/definitions/schema"},{"$ref":"#/definitions/fileSchema"}]},"headers":{"$ref":"#/definitions/headers"},"examples":{"$ref":"#/definitions/examples"}},"additionalProperties":false,"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}},"headers":{"type":"object","additionalProperties":{"$ref":"#/definitions/header"}},"header":{"type":"object","additionalProperties":false,"required":["type"],"properties":{"type":{"type":"string","enum":["string","number","integer","boolean","array"]},"format":{"type":"string"},"items":{"$ref":"#/definitions/primitivesItems"},"collectionFormat":{"$ref":"#/definitions/collectionFormat"},"default":{"$ref":"#/definitions/default"},"maximum":{"$ref":"#/definitions/maximum"},"exclusiveMaximum":{"$ref":"#/definitions/exclusiveMaximum"},"minimum":{"$ref":"#/definitions/minimum"},"exclusiveMinimum":{"$ref":"#/definitions/exclusiveMinimum"},"maxLength":{"$ref":"#/definitions/maxLength"},"minLength":{"$ref":"#/definitions/minLength"},"pattern":{"$ref":"#/definitions/pattern"},"maxItems":{"$ref":"#/definitions/maxItems"},"minItems":{"$ref":"#/definitions/minItems"},"uniqueItems":{"$ref":"#/definitions/uniqueItems"},"enum":{"$ref":"#/definitions/enum"},"multipleOf":{"$ref":"#/definitions/multipleOf"},"description":{"type":"string"}},"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}},"vendorExtension":{"description":"Any property starting with x- is valid.","additionalProperties":true,"additionalItems":true},"bodyParameter":{"type":"object","required":["name","in","schema"],"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}},"properties":{"description":{"type":"string","description":"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},"name":{"type":"string","description":"The name of the parameter."},"in":{"type":"string","description":"Determines the location of the parameter.","enum":["body"]},"required":{"type":"boolean","description":"Determines whether or not this parameter is required or optional.","default":false},"schema":{"$ref":"#/definitions/schema"}},"additionalProperties":false},"headerParameterSubSchema":{"additionalProperties":false,"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}},"properties":{"required":{"type":"boolean","description":"Determines whether or not this parameter is required or optional.","default":false},"in":{"type":"string","description":"Determines the location of the parameter.","enum":["header"]},"description":{"type":"string","description":"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},"name":{"type":"string","description":"The name of the parameter."},"type":{"type":"string","enum":["string","number","boolean","integer","array"]},"format":{"type":"string"},"items":{"$ref":"#/definitions/primitivesItems"},"collectionFormat":{"$ref":"#/definitions/collectionFormat"},"default":{"$ref":"#/definitions/default"},"maximum":{"$ref":"#/definitions/maximum"},"exclusiveMaximum":{"$ref":"#/definitions/exclusiveMaximum"},"minimum":{"$ref":"#/definitions/minimum"},"exclusiveMinimum":{"$ref":"#/definitions/exclusiveMinimum"},"maxLength":{"$ref":"#/definitions/maxLength"},"minLength":{"$ref":"#/definitions/minLength"},"pattern":{"$ref":"#/definitions/pattern"},"maxItems":{"$ref":"#/definitions/maxItems"},"minItems":{"$ref":"#/definitions/minItems"},"uniqueItems":{"$ref":"#/definitions/uniqueItems"},"enum":{"$ref":"#/definitions/enum"},"multipleOf":{"$ref":"#/definitions/multipleOf"}}},"queryParameterSubSchema":{"additionalProperties":false,"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}},"properties":{"required":{"type":"boolean","description":"Determines whether or not this parameter is required or optional.","default":false},"in":{"type":"string","description":"Determines the location of the parameter.","enum":["query"]},"description":{"type":"string","description":"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},"name":{"type":"string","description":"The name of the parameter."},"allowEmptyValue":{"type":"boolean","default":false,"description":"allows sending a parameter by name only or with an empty value."},"type":{"type":"string","enum":["string","number","boolean","integer","array"]},"format":{"type":"string"},"items":{"$ref":"#/definitions/primitivesItems"},"collectionFormat":{"$ref":"#/definitions/collectionFormatWithMulti"},"default":{"$ref":"#/definitions/default"},"maximum":{"$ref":"#/definitions/maximum"},"exclusiveMaximum":{"$ref":"#/definitions/exclusiveMaximum"},"minimum":{"$ref":"#/definitions/minimum"},"exclusiveMinimum":{"$ref":"#/definitions/exclusiveMinimum"},"maxLength":{"$ref":"#/definitions/maxLength"},"minLength":{"$ref":"#/definitions/minLength"},"pattern":{"$ref":"#/definitions/pattern"},"maxItems":{"$ref":"#/definitions/maxItems"},"minItems":{"$ref":"#/definitions/minItems"},"uniqueItems":{"$ref":"#/definitions/uniqueItems"},"enum":{"$ref":"#/definitions/enum"},"multipleOf":{"$ref":"#/definitions/multipleOf"}}},"formDataParameterSubSchema":{"additionalProperties":false,"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}},"properties":{"required":{"type":"boolean","description":"Determines whether or not this parameter is required or optional.","default":false},"in":{"type":"string","description":"Determines the location of the parameter.","enum":["formData"]},"description":{"type":"string","description":"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},"name":{"type":"string","description":"The name of the parameter."},"allowEmptyValue":{"type":"boolean","default":false,"description":"allows sending a parameter by name only or with an empty value."},"type":{"type":"string","enum":["string","number","boolean","integer","array","file"]},"format":{"type":"string"},"items":{"$ref":"#/definitions/primitivesItems"},"collectionFormat":{"$ref":"#/definitions/collectionFormatWithMulti"},"default":{"$ref":"#/definitions/default"},"maximum":{"$ref":"#/definitions/maximum"},"exclusiveMaximum":{"$ref":"#/definitions/exclusiveMaximum"},"minimum":{"$ref":"#/definitions/minimum"},"exclusiveMinimum":{"$ref":"#/definitions/exclusiveMinimum"},"maxLength":{"$ref":"#/definitions/maxLength"},"minLength":{"$ref":"#/definitions/minLength"},"pattern":{"$ref":"#/definitions/pattern"},"maxItems":{"$ref":"#/definitions/maxItems"},"minItems":{"$ref":"#/definitions/minItems"},"uniqueItems":{"$ref":"#/definitions/uniqueItems"},"enum":{"$ref":"#/definitions/enum"},"multipleOf":{"$ref":"#/definitions/multipleOf"}}},"pathParameterSubSchema":{"additionalProperties":false,"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}},"required":["required"],"properties":{"required":{"type":"boolean","enum":[true],"description":"Determines whether or not this parameter is required or optional."},"in":{"type":"string","description":"Determines the location of the parameter.","enum":["path"]},"description":{"type":"string","description":"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},"name":{"type":"string","description":"The name of the parameter."},"type":{"type":"string","enum":["string","number","boolean","integer","array"]},"format":{"type":"string"},"items":{"$ref":"#/definitions/primitivesItems"},"collectionFormat":{"$ref":"#/definitions/collectionFormat"},"default":{"$ref":"#/definitions/default"},"maximum":{"$ref":"#/definitions/maximum"},"exclusiveMaximum":{"$ref":"#/definitions/exclusiveMaximum"},"minimum":{"$ref":"#/definitions/minimum"},"exclusiveMinimum":{"$ref":"#/definitions/exclusiveMinimum"},"maxLength":{"$ref":"#/definitions/maxLength"},"minLength":{"$ref":"#/definitions/minLength"},"pattern":{"$ref":"#/definitions/pattern"},"maxItems":{"$ref":"#/definitions/maxItems"},"minItems":{"$ref":"#/definitions/minItems"},"uniqueItems":{"$ref":"#/definitions/uniqueItems"},"enum":{"$ref":"#/definitions/enum"},"multipleOf":{"$ref":"#/definitions/multipleOf"}}},"nonBodyParameter":{"type":"object","required":["name","in","type"],"oneOf":[{"$ref":"#/definitions/headerParameterSubSchema"},{"$ref":"#/definitions/formDataParameterSubSchema"},{"$ref":"#/definitions/queryParameterSubSchema"},{"$ref":"#/definitions/pathParameterSubSchema"}]},"parameter":{"oneOf":[{"$ref":"#/definitions/bodyParameter"},{"$ref":"#/definitions/nonBodyParameter"}]},"schema":{"type":"object","description":"A deterministic version of a JSON Schema object.","patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}},"properties":{"$ref":{"type":"string"},"format":{"type":"string"},"title":{"$ref":"http://json-schema.org/draft-04/schema#/properties/title"},"description":{"$ref":"http://json-schema.org/draft-04/schema#/properties/description"},"default":{"$ref":"http://json-schema.org/draft-04/schema#/properties/default"},"multipleOf":{"$ref":"http://json-schema.org/draft-04/schema#/properties/multipleOf"},"maximum":{"$ref":"http://json-schema.org/draft-04/schema#/properties/maximum"},"exclusiveMaximum":{"$ref":"http://json-schema.org/draft-04/schema#/properties/exclusiveMaximum"},"minimum":{"$ref":"http://json-schema.org/draft-04/schema#/properties/minimum"},"exclusiveMinimum":{"$ref":"http://json-schema.org/draft-04/schema#/properties/exclusiveMinimum"},"maxLength":{"$ref":"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},"minLength":{"$ref":"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},"pattern":{"$ref":"http://json-schema.org/draft-04/schema#/properties/pattern"},"maxItems":{"$ref":"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},"minItems":{"$ref":"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},"uniqueItems":{"$ref":"http://json-schema.org/draft-04/schema#/properties/uniqueItems"},"maxProperties":{"$ref":"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},"minProperties":{"$ref":"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},"required":{"$ref":"http://json-schema.org/draft-04/schema#/definitions/stringArray"},"enum":{"$ref":"http://json-schema.org/draft-04/schema#/properties/enum"},"additionalProperties":{"anyOf":[{"$ref":"#/definitions/schema"},{"type":"boolean"}],"default":{}},"type":{"$ref":"http://json-schema.org/draft-04/schema#/properties/type"},"items":{"anyOf":[{"$ref":"#/definitions/schema"},{"type":"array","minItems":1,"items":{"$ref":"#/definitions/schema"}}],"default":{}},"allOf":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/schema"}},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/schema"},"default":{}},"discriminator":{"type":"string"},"readOnly":{"type":"boolean","default":false},"xml":{"$ref":"#/definitions/xml"},"externalDocs":{"$ref":"#/definitions/externalDocs"},"example":{}},"additionalProperties":false},"fileSchema":{"type":"object","description":"A deterministic version of a JSON Schema object.","patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}},"required":["type"],"properties":{"format":{"type":"string"},"title":{"$ref":"http://json-schema.org/draft-04/schema#/properties/title"},"description":{"$ref":"http://json-schema.org/draft-04/schema#/properties/description"},"default":{"$ref":"http://json-schema.org/draft-04/schema#/properties/default"},"required":{"$ref":"http://json-schema.org/draft-04/schema#/definitions/stringArray"},"type":{"type":"string","enum":["file"]},"readOnly":{"type":"boolean","default":false},"externalDocs":{"$ref":"#/definitions/externalDocs"},"example":{}},"additionalProperties":false},"primitivesItems":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["string","number","integer","boolean","array"]},"format":{"type":"string"},"items":{"$ref":"#/definitions/primitivesItems"},"collectionFormat":{"$ref":"#/definitions/collectionFormat"},"default":{"$ref":"#/definitions/default"},"maximum":{"$ref":"#/definitions/maximum"},"exclusiveMaximum":{"$ref":"#/definitions/exclusiveMaximum"},"minimum":{"$ref":"#/definitions/minimum"},"exclusiveMinimum":{"$ref":"#/definitions/exclusiveMinimum"},"maxLength":{"$ref":"#/definitions/maxLength"},"minLength":{"$ref":"#/definitions/minLength"},"pattern":{"$ref":"#/definitions/pattern"},"maxItems":{"$ref":"#/definitions/maxItems"},"minItems":{"$ref":"#/definitions/minItems"},"uniqueItems":{"$ref":"#/definitions/uniqueItems"},"enum":{"$ref":"#/definitions/enum"},"multipleOf":{"$ref":"#/definitions/multipleOf"}},"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}},"security":{"type":"array","items":{"$ref":"#/definitions/securityRequirement"},"uniqueItems":true},"securityRequirement":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"xml":{"type":"object","additionalProperties":false,"properties":{"name":{"type":"string"},"namespace":{"type":"string"},"prefix":{"type":"string"},"attribute":{"type":"boolean","default":false},"wrapped":{"type":"boolean","default":false}},"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}},"tag":{"type":"object","additionalProperties":false,"required":["name"],"properties":{"name":{"type":"string"},"description":{"type":"string"},"externalDocs":{"$ref":"#/definitions/externalDocs"}},"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}},"securityDefinitions":{"type":"object","additionalProperties":{"oneOf":[{"$ref":"#/definitions/basicAuthenticationSecurity"},{"$ref":"#/definitions/apiKeySecurity"},{"$ref":"#/definitions/oauth2ImplicitSecurity"},{"$ref":"#/definitions/oauth2PasswordSecurity"},{"$ref":"#/definitions/oauth2ApplicationSecurity"},{"$ref":"#/definitions/oauth2AccessCodeSecurity"}]}},"basicAuthenticationSecurity":{"type":"object","additionalProperties":false,"required":["type"],"properties":{"type":{"type":"string","enum":["basic"]},"description":{"type":"string"}},"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}},"apiKeySecurity":{"type":"object","additionalProperties":false,"required":["type","name","in"],"properties":{"type":{"type":"string","enum":["apiKey"]},"name":{"type":"string"},"in":{"type":"string","enum":["header","query"]},"description":{"type":"string"}},"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}},"oauth2ImplicitSecurity":{"type":"object","additionalProperties":false,"required":["type","flow","authorizationUrl"],"properties":{"type":{"type":"string","enum":["oauth2"]},"flow":{"type":"string","enum":["implicit"]},"scopes":{"$ref":"#/definitions/oauth2Scopes"},"authorizationUrl":{"type":"string","format":"uri"},"description":{"type":"string"}},"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}},"oauth2PasswordSecurity":{"type":"object","additionalProperties":false,"required":["type","flow","tokenUrl"],"properties":{"type":{"type":"string","enum":["oauth2"]},"flow":{"type":"string","enum":["password"]},"scopes":{"$ref":"#/definitions/oauth2Scopes"},"tokenUrl":{"type":"string","format":"uri"},"description":{"type":"string"}},"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}},"oauth2ApplicationSecurity":{"type":"object","additionalProperties":false,"required":["type","flow","tokenUrl"],"properties":{"type":{"type":"string","enum":["oauth2"]},"flow":{"type":"string","enum":["application"]},"scopes":{"$ref":"#/definitions/oauth2Scopes"},"tokenUrl":{"type":"string","format":"uri"},"description":{"type":"string"}},"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}},"oauth2AccessCodeSecurity":{"type":"object","additionalProperties":false,"required":["type","flow","authorizationUrl","tokenUrl"],"properties":{"type":{"type":"string","enum":["oauth2"]},"flow":{"type":"string","enum":["accessCode"]},"scopes":{"$ref":"#/definitions/oauth2Scopes"},"authorizationUrl":{"type":"string","format":"uri"},"tokenUrl":{"type":"string","format":"uri"},"description":{"type":"string"}},"patternProperties":{"^x-":{"$ref":"#/definitions/vendorExtension"}}},"oauth2Scopes":{"type":"object","additionalProperties":{"type":"string"}},"mediaTypeList":{"type":"array","items":{"$ref":"#/definitions/mimeType"},"uniqueItems":true},"parametersList":{"type":"array","description":"The parameters needed to send a valid API call.","additionalItems":false,"items":{"oneOf":[{"$ref":"#/definitions/parameter"},{"$ref":"#/definitions/jsonReference"}]},"uniqueItems":true},"schemesList":{"type":"array","description":"The transfer protocol of the API.","items":{"type":"string","enum":["http","https","ws","wss"]},"uniqueItems":true},"collectionFormat":{"type":"string","enum":["csv","ssv","tsv","pipes"],"default":"csv"},"collectionFormatWithMulti":{"type":"string","enum":["csv","ssv","tsv","pipes","multi"],"default":"csv"},"title":{"$ref":"http://json-schema.org/draft-04/schema#/properties/title"},"description":{"$ref":"http://json-schema.org/draft-04/schema#/properties/description"},"default":{"$ref":"http://json-schema.org/draft-04/schema#/properties/default"},"multipleOf":{"$ref":"http://json-schema.org/draft-04/schema#/properties/multipleOf"},"maximum":{"$ref":"http://json-schema.org/draft-04/schema#/properties/maximum"},"exclusiveMaximum":{"$ref":"http://json-schema.org/draft-04/schema#/properties/exclusiveMaximum"},"minimum":{"$ref":"http://json-schema.org/draft-04/schema#/properties/minimum"},"exclusiveMinimum":{"$ref":"http://json-schema.org/draft-04/schema#/properties/exclusiveMinimum"},"maxLength":{"$ref":"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},"minLength":{"$ref":"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},"pattern":{"$ref":"http://json-schema.org/draft-04/schema#/properties/pattern"},"maxItems":{"$ref":"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},"minItems":{"$ref":"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},"uniqueItems":{"$ref":"http://json-schema.org/draft-04/schema#/properties/uniqueItems"},"enum":{"$ref":"http://json-schema.org/draft-04/schema#/properties/enum"},"jsonReference":{"type":"object","required":["$ref"],"additionalProperties":false,"properties":{"$ref":{"type":"string"}}}}}
);



local.assetsDict['/assets.swgg.swagger.json'] = local.assetsDict['/assets.swgg.swagger.json'] || '';



// https://petstore.swagger.io/v2/swagger.json
// curl -Ls https://petstore.swagger.io/v2/swagger.json > /tmp/aa.json; node -e "console.log(JSON.stringify(require('/tmp/aa.json')));"
local.assetsDict['/assets.swgg.swagger.petstore.json'] = JSON.stringify(
{"swagger":"2.0","info":{"description":"This is a sample server Petstore server.  You can find out more about Swagger at [http://swagger.io](http://swagger.io) or on [irc.freenode.net, #swagger](http://swagger.io/irc/).  For this sample, you can use the api key `special-key` to test the authorization filters.","version":"1.0.0","title":"Swagger Petstore","termsOfService":"http://swagger.io/terms/","contact":{"email":"apiteam@swagger.io"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}},"host":"petstore.swagger.io","basePath":"/v2","tags":[{"name":"pet","description":"Everything about your Pets","externalDocs":{"description":"Find out more","url":"http://swagger.io"}},{"name":"store","description":"Access to Petstore orders"},{"name":"user","description":"Operations about user","externalDocs":{"description":"Find out more about our store","url":"http://swagger.io"}}],"schemes":["http"],"paths":{"/pet":{"post":{"tags":["pet"],"summary":"Add a new pet to the store","description":"","operationId":"addPet","consumes":["application/json","application/xml"],"produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Pet object that needs to be added to the store","required":true,"schema":{"$ref":"#/definitions/Pet"}}],"responses":{"405":{"description":"Invalid input"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]},"put":{"tags":["pet"],"summary":"Update an existing pet","description":"","operationId":"updatePet","consumes":["application/json","application/xml"],"produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Pet object that needs to be added to the store","required":true,"schema":{"$ref":"#/definitions/Pet"}}],"responses":{"400":{"description":"Invalid ID supplied"},"404":{"description":"Pet not found"},"405":{"description":"Validation exception"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]}},"/pet/findByStatus":{"get":{"tags":["pet"],"summary":"Finds Pets by status","description":"Multiple status values can be provided with comma separated strings","operationId":"findPetsByStatus","produces":["application/xml","application/json"],"parameters":[{"name":"status","in":"query","description":"Status values that need to be considered for filter","required":true,"type":"array","items":{"type":"string","enum":["available","pending","sold"],"default":"available"},"collectionFormat":"multi"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/Pet"}}},"400":{"description":"Invalid status value"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]}},"/pet/findByTags":{"get":{"tags":["pet"],"summary":"Finds Pets by tags","description":"Muliple tags can be provided with comma separated strings. Use tag1, tag2, tag3 for testing.","operationId":"findPetsByTags","produces":["application/xml","application/json"],"parameters":[{"name":"tags","in":"query","description":"Tags to filter by","required":true,"type":"array","items":{"type":"string"},"collectionFormat":"multi"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/Pet"}}},"400":{"description":"Invalid tag value"}},"security":[{"petstore_auth":["write:pets","read:pets"]}],"deprecated":true}},"/pet/{petId}":{"get":{"tags":["pet"],"summary":"Find pet by ID","description":"Returns a single pet","operationId":"getPetById","produces":["application/xml","application/json"],"parameters":[{"name":"petId","in":"path","description":"ID of pet to return","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Pet"}},"400":{"description":"Invalid ID supplied"},"404":{"description":"Pet not found"}},"security":[{"api_key":[]}]},"post":{"tags":["pet"],"summary":"Updates a pet in the store with form data","description":"","operationId":"updatePetWithForm","consumes":["application/x-www-form-urlencoded"],"produces":["application/xml","application/json"],"parameters":[{"name":"petId","in":"path","description":"ID of pet that needs to be updated","required":true,"type":"integer","format":"int64"},{"name":"name","in":"formData","description":"Updated name of the pet","required":false,"type":"string"},{"name":"status","in":"formData","description":"Updated status of the pet","required":false,"type":"string"}],"responses":{"405":{"description":"Invalid input"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]},"delete":{"tags":["pet"],"summary":"Deletes a pet","description":"","operationId":"deletePet","produces":["application/xml","application/json"],"parameters":[{"name":"api_key","in":"header","required":false,"type":"string"},{"name":"petId","in":"path","description":"Pet id to delete","required":true,"type":"integer","format":"int64"}],"responses":{"400":{"description":"Invalid ID supplied"},"404":{"description":"Pet not found"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]}},"/pet/{petId}/uploadImage":{"post":{"tags":["pet"],"summary":"uploads an image","description":"","operationId":"uploadFile","consumes":["multipart/form-data"],"produces":["application/json"],"parameters":[{"name":"petId","in":"path","description":"ID of pet to update","required":true,"type":"integer","format":"int64"},{"name":"additionalMetadata","in":"formData","description":"Additional data to pass to server","required":false,"type":"string"},{"name":"file","in":"formData","description":"file to upload","required":false,"type":"file"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/ApiResponse"}}},"security":[{"petstore_auth":["write:pets","read:pets"]}]}},"/store/inventory":{"get":{"tags":["store"],"summary":"Returns pet inventories by status","description":"Returns a map of status codes to quantities","operationId":"getInventory","produces":["application/json"],"parameters":[],"responses":{"200":{"description":"successful operation","schema":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}}}},"security":[{"api_key":[]}]}},"/store/order":{"post":{"tags":["store"],"summary":"Place an order for a pet","description":"","operationId":"placeOrder","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"order placed for purchasing the pet","required":true,"schema":{"$ref":"#/definitions/Order"}}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Order"}},"400":{"description":"Invalid Order"}}}},"/store/order/{orderId}":{"get":{"tags":["store"],"summary":"Find purchase order by ID","description":"For valid response try integer IDs with value >= 1 and <= 10. Other values will generated exceptions","operationId":"getOrderById","produces":["application/xml","application/json"],"parameters":[{"name":"orderId","in":"path","description":"ID of pet that needs to be fetched","required":true,"type":"integer","maximum":10,"minimum":1,"format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Order"}},"400":{"description":"Invalid ID supplied"},"404":{"description":"Order not found"}}},"delete":{"tags":["store"],"summary":"Delete purchase order by ID","description":"For valid response try integer IDs with positive integer value. Negative or non-integer values will generate API errors","operationId":"deleteOrder","produces":["application/xml","application/json"],"parameters":[{"name":"orderId","in":"path","description":"ID of the order that needs to be deleted","required":true,"type":"integer","minimum":1,"format":"int64"}],"responses":{"400":{"description":"Invalid ID supplied"},"404":{"description":"Order not found"}}}},"/user":{"post":{"tags":["user"],"summary":"Create user","description":"This can only be done by the logged in user.","operationId":"createUser","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Created user object","required":true,"schema":{"$ref":"#/definitions/User"}}],"responses":{"default":{"description":"successful operation"}}}},"/user/createWithArray":{"post":{"tags":["user"],"summary":"Creates list of users with given input array","description":"","operationId":"createUsersWithArrayInput","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"List of user object","required":true,"schema":{"type":"array","items":{"$ref":"#/definitions/User"}}}],"responses":{"default":{"description":"successful operation"}}}},"/user/createWithList":{"post":{"tags":["user"],"summary":"Creates list of users with given input array","description":"","operationId":"createUsersWithListInput","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"List of user object","required":true,"schema":{"type":"array","items":{"$ref":"#/definitions/User"}}}],"responses":{"default":{"description":"successful operation"}}}},"/user/login":{"get":{"tags":["user"],"summary":"Logs user into the system","description":"","operationId":"loginUser","produces":["application/xml","application/json"],"parameters":[{"name":"username","in":"query","description":"The user name for login","required":true,"type":"string"},{"name":"password","in":"query","description":"The password for login in clear text","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"string"},"headers":{"X-Rate-Limit":{"type":"integer","format":"int32","description":"calls per hour allowed by the user"},"X-Expires-After":{"type":"string","format":"date-time","description":"date in UTC when token expires"}}},"400":{"description":"Invalid username/password supplied"}}}},"/user/logout":{"get":{"tags":["user"],"summary":"Logs out current logged in user session","description":"","operationId":"logoutUser","produces":["application/xml","application/json"],"parameters":[],"responses":{"default":{"description":"successful operation"}}}},"/user/{username}":{"get":{"tags":["user"],"summary":"Get user by user name","description":"","operationId":"getUserByName","produces":["application/xml","application/json"],"parameters":[{"name":"username","in":"path","description":"The name that needs to be fetched. Use user1 for testing. ","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/User"}},"400":{"description":"Invalid username supplied"},"404":{"description":"User not found"}}},"put":{"tags":["user"],"summary":"Updated user","description":"This can only be done by the logged in user.","operationId":"updateUser","produces":["application/xml","application/json"],"parameters":[{"name":"username","in":"path","description":"name that need to be updated","required":true,"type":"string"},{"in":"body","name":"body","description":"Updated user object","required":true,"schema":{"$ref":"#/definitions/User"}}],"responses":{"400":{"description":"Invalid user supplied"},"404":{"description":"User not found"}}},"delete":{"tags":["user"],"summary":"Delete user","description":"This can only be done by the logged in user.","operationId":"deleteUser","produces":["application/xml","application/json"],"parameters":[{"name":"username","in":"path","description":"The name that needs to be deleted","required":true,"type":"string"}],"responses":{"400":{"description":"Invalid username supplied"},"404":{"description":"User not found"}}}}},"securityDefinitions":{"petstore_auth":{"type":"oauth2","authorizationUrl":"http://petstore.swagger.io/oauth/dialog","flow":"implicit","scopes":{"write:pets":"modify pets in your account","read:pets":"read your pets"}},"api_key":{"type":"apiKey","name":"api_key","in":"header"}},"definitions":{"Order":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"petId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32"},"shipDate":{"type":"string","format":"date-time"},"status":{"type":"string","description":"Order Status","enum":["placed","approved","delivered"]},"complete":{"type":"boolean","default":false}},"xml":{"name":"Order"}},"Category":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}},"xml":{"name":"Category"}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"phone":{"type":"string"},"userStatus":{"type":"integer","format":"int32","description":"User Status"}},"xml":{"name":"User"}},"Tag":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}},"xml":{"name":"Tag"}},"Pet":{"type":"object","required":["name","photoUrls"],"properties":{"id":{"type":"integer","format":"int64"},"category":{"$ref":"#/definitions/Category"},"name":{"type":"string","example":"doggie"},"photoUrls":{"type":"array","xml":{"name":"photoUrl","wrapped":true},"items":{"type":"string"}},"tags":{"type":"array","xml":{"name":"tag","wrapped":true},"items":{"$ref":"#/definitions/Tag"}},"status":{"type":"string","description":"pet status in the store","enum":["available","pending","sold"]}},"xml":{"name":"Pet"}},"ApiResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"type":{"type":"string"},"message":{"type":"string"}}}},"externalDocs":{"description":"Find out more about Swagger","url":"http://swagger.io"}}
);



local.swaggerErrorTypeDict = {
    arrayMaxItems: '{{type2}} {{prefix0}} must have <= {{schema.maxItems}} items',
    arrayMinItems: '{{type2}} {{prefix0}} must have >= {{schema.minItems}} items',
    arrayUniqueItems: '{{type2}} {{prefix0}} must have unique items (has duplicate item {{tmp jsonStringify}})',
    itemEnum: '{{type2}} {{prefix0}} can only have items from the list {{schema.enum jsonStringify}}',
    itemAnyOf: '{{tmp}} (from schama.anyOf {{schema2}})',
    itemNot: '{{type2}} {{prefix0}} must not validate against schama.not {{schema2}}',
    itemOneOf: '{{type2}} {{prefix0}} did not validate against exactly one schema (validated {{tmp}}) in schema.oneOf {{schema2}}',
    itemType: 'value {{prefix0}} is not a valid {{type2}}',
    numberMultipleOf: '{{type2}} {{prefix0}} must be a multiple of {{schema.multipleOf}}',
    numberExclusiveMaximum: '{{type2}} {{prefix0}} must be < {{schema.maximum}}',
    numberExclusiveMinimum: '{{type2}} {{prefix0}} must be > {{schema.minimum}}',
    numberMaximum: '{{type2}} {{prefix0}} must be <= {{schema.maximum}}',
    numberMinimum: '{{type2}} {{prefix0}} must be >= {{schema.minimum}}',
    objectAdditionalProperties: '{{type2}} {{prefix0}} cannot have additional property {{key jsonStringify}}',
    objectDependencies: '{{type2}} {{prefix0}} with item {{key jsonStringify}} must have dependency {{key2 jsonStringify}}',
    objectMaxProperties: '{{type2}} {{prefix0}} must have <= {{schema.maxProperties}} properties',
    objectMinProperties: '{{type2}} {{prefix0}} must have >= {{schema.minProperties}} properties',
    objectRequired: '{{type2}} {{prefix0}} is required',
    schemaDereferenceCircular: 'cannot dereference circular-reference schema {{schema2}}',
    schemaDereference: 'cannot dereference schema {{schema2}}',
    // https://github.com/swagger-api/swagger-editor/tree/v3.1.20/src/plugins/validation/semantic-validators/validators
    // shGrep swagger-editor/src/plugins/validation/semantic-validators/validators 'message:'
    // form-data.js:90: "Parameter \"in: formdata\" is invalid, did you mean \"in: formData\" ( camelCase )?",
    semanticFormData1: "Parameter {{prefix0}} is invalid, did you mean \"in: formData\" ( camelCase )?",
    // form-data.js:109: "Parameters cannot have both a \"in: body\" and \"in: formData\", as \"formData\" _will_ be the body"
    semanticFormData2: "Parameters cannot have both a \"in: body\" and \"in: formData\", as \"formData\" _will_ be the body",
    // form-data.js:131: "Parameters with \"type: file\" must have \"in: formData\"",
    semanticFormData3: "Parameter {{prefix0}} with \"type: file\" must have \"in: formData\"",
    // form-data.js:140: "Operations with Parameters of \"type: file\" must include \"multipart/form-data\" in their \"consumes\" property",
    semanticFormData4: "Operation {{prefix0}} with Parameters of \"type: file\" must include \"multipart/form-data\" in their \"consumes\" property",
    // form-data.js:163: "Operations with Parameters of \"in: formData\" must include \"application/x-www-form-urlencoded\" or \"multipart/form-data\" in their \"consumes\" property",
    semanticFormData5: "Operation {{prefix0}} with Parameters of \"in: formData\" must include \"application/x-www-form-urlencoded\" or \"multipart/form-data\" in their \"consumes\" property",
    // items-required-for-array-objects.js:27: "Schema objects with 'array' type require an 'items' property"
    semanticItemsRequiredForArrayObjects1: "Schema {{schema2}} with 'array' type require an 'items' property",
    // items-required-for-array-objects.js:38: "Schema properties specified as 'required' must be defined"
    semanticItemsRequiredForArrayObjects2: "{{type2}} {{prefix0}} must have property {{key jsonStringify}}",
    // items-required-for-array-objects.js:50: "Headers with 'array' type require an 'items' property"
    semanticItemsRequiredForArrayObjects3: "Headers with 'array' type require an 'items' property",
    // items-required-for-array-objects.js:59: "Model properties with 'array' type require an 'items' property"
    semanticItemsRequiredForArrayObjects4: "Model properties with 'array' type require an 'items' property",
    // operation-ids.js:40: "operationIds must be unique"
    semanticOperationIds1: 'operationId {{prefix0}} must be unique',
    // operations.js:30: "Operations cannot have both a \"body\" parameter and \"formData\" parameter"
    semanticOperations1: "Operation {{prefix0}} cannot have both a \"body\" parameter and \"formData\" parameter",
    // operations.js:38: "Operations must have no more than one body parameter"
    semanticOperations2: "Operation {{prefix0}} must have no more than one body parameter",
    // operations.js:53: "Operation parameters must have unique 'name' + 'in' properties"
    semanticOperations3: "Operation parameters {{prefix0}} must have unique 'name' + 'in' properties",
    // parameters.js:18: "Parameters with 'array' type require an 'items' property."
    semanticParameters1: "Parameters with 'array' type require an 'items' property.",
    // parameters.js:24: "Non-body parameters require a 'type' property."
    semanticParameters2: "Non-body parameter {{prefix0}} require a 'type' property.",
    // paths.js:48: "Query strings in paths are not allowed."
    semanticPaths1: "Query strings in path {{prefix2 jsonStringify}} are not allowed",
    // paths.js:79: "Equivalent paths are not allowed."
    semanticPaths2: 'Equivalent paths {{pathList jsonStringify}} are not allowed',
    // paths.js:94: "Path parameters must have unique 'name' + 'in' properties"
    semanticPaths3: "Path parameters must have unique 'name' + 'in' properties",
    // paths.js:107: `Path parameter ${parameterDefinition.name} was defined but never used`
    semanticPaths4: 'Path parameter ${parameterDefinition.name} was defined but never used',
    // paths.js:119: "Empty path parameter declarations are not valid"
    semanticPaths5: "Empty path parameter declarations are not valid - {{prefix2 jsonStringify}}",
    // paths.js:131: `Declared path parameter "${parameter}" needs to be defined as a path parameter at either the path or operation level`
    semanticPaths6: 'Declared path parameter {{name jsonStringify}} needs to be defined as a path parameter {{prefix2}} at either the path or operation level',
    // paths.js:141: `Path parameter ${parameterDefinition.name} was defined but never used`
    semanticPaths7: 'Path parameter {{prefix0}} was defined but never used',
    // refs.js:37: "Definition was declared but never used in document"
    semanticRefs1: 'Definition was declared but never used in document',
    // schema.js:61: "Read only properties cannot marked as required by a schema."
    semanticSchema1: "Read only property {{prefix0}} cannot be marked as required by a schema.",
    // security-definitions.js:33: `${path} must have required string 'type' param`,
    semanticSecurityDefinitions1: '${path} must have required string "type" param',
    // security-definitions.js:44: "apiKey authorization must have required 'in' param, valid values are 'query' or 'header'.",
    semanticSecurityDefinitions2: `apiKey authorization must have required "in" param, valid values are "query" or "header".`,
    // security-definitions.js:52: "apiKey authorization must have required 'name' string param. The name of the header or query parameter to be used.",
    semanticSecurityDefinitions3: "apiKey authorization must have required 'name' string param. The name of the header or query parameter to be used.",
    // security-definitions.js:66: "oauth2 authorization must have required 'flow' string param. Valid values are 'implicit', 'password', 'application' or 'accessCode'",
    semanticSecurityDefinitions4: "oauth2 authorization must have required 'flow' string param. Valid values are 'implicit', 'password', 'application' or 'accessCode'",
    // security-definitions.js:73: "oauth2 authorization implicit flow must have required 'authorizationUrl' parameter.",
    semanticSecurityDefinitions5: "oauth2 authorization implicit flow must have required 'authorizationUrl' parameter.",
    // security-definitions.js:81: "oauth2 authorization accessCode flow must have required 'authorizationUrl' and 'tokenUrl' string parameters.",
    semanticSecurityDefinitions6: "oauth2 authorization accessCode flow must have required 'authorizationUrl' and 'tokenUrl' string parameters.",
    // security-definitions.js:89: "oauth2 authorization password flow must have required 'tokenUrl' string parameter.",
    semanticSecurityDefinitions7: "oauth2 authorization password flow must have required 'tokenUrl' string parameter.",
    // security-definitions.js:97: "oauth2 authorization application flow must have required 'tokenUrl' string parameter.",
    semanticSecurityDefinitions8: "oauth2 authorization application flow must have required 'tokenUrl' string parameter.",
    // security-definitions.js:106: "'scopes' is required property type object. The available scopes for the OAuth2 security scheme.",
    semanticSecurityDefinitions9: "'scopes' is required property type object. The available scopes for the OAuth2 security scheme.",
    // security.js:23: "security requirements must match a security definition",
    semanticSecurity1: "security requirements must match a security definition",
    // security.js:37: `Security scope definition ${scope} could not be resolved`,
    semanticSecurity2: 'Security scope definition ${scope} could not be resolved',
    // walker.js:27: "\"type\" should be a string"
    semanticWalker1: "type {{prefix0}} should be a string",
    // walker.js:39: "Minimum cannot be more than maximum"
    semanticWalker2: 'Minimum cannot be more than maximum - {{prefix0}}',
    // walker.js:48: "minProperties cannot be more than maxProperties"
    semanticWalker3: 'minProperties cannot be more than maxProperties - {{prefix0}}',
    // walker.js:57: "minLength cannot be more than maxLength"
    semanticWalker4: 'minLength cannot be more than maxLength - {{prefix0}}',
    // walker.js:76: `${path[path.length - 2]} $refs cannot match any of the following: ${humanFriendlyRefBlacklist}`
    // semanticWalker5: '${path[path.length - 2]} $refs cannot match any of the following: ${humanFriendlyRefBlacklist}',
    // walker.js:89: "$ref paths must begin with `#/`"
    semanticWalker6: '$ref {{prefix0}} must begin with "#/"',
    // walker.js:108: "Values alongside a $ref will be ignored."
    semanticWalker7: 'Values alongside a $ref will be ignored.',
    stringMaxLength: '{{type2}} {{prefix0}} must have <= {{schema.maxLength}} characters',
    stringMinLength: '{{type2}} {{prefix0}} must have >= {{schema.minLength}} characters',
    stringPattern: '{{type2}} {{prefix0}} must match regexp pattern {{schema.pattern jsonStringify}}'
};



local.templateApiDict =
{
    "crudCountManyByQuery": {
        "_method": "GET",
        "_path": "/{{_tags0}}/crudCountManyByQuery",
        "parameters": [
            {
                "default": "{\"id\":{\"$exists\":true}}",
                "description": "query param",
                "format": "json",
                "in": "query",
                "name": "_queryWhere",
                "type": "string"
            }
        ],
        "summary": "count many {{_schemaName}} objects by query"
    },
    "crudErrorDelete": {
        "_method": "DELETE",
        "_path": "/{{_tags0}}/crudErrorDelete",
        "responses": {
            "500": {
                "description": "500 error - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return error response"
    },
    "crudErrorGet": {
        "_method": "GET",
        "_path": "/{{_tags0}}/crudErrorGet",
        "responses": {
            "500": {
                "description": "500 error - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return error response"
    },
    "crudErrorHead": {
        "_method": "HEAD",
        "_path": "/{{_tags0}}/crudErrorHead",
        "responses": {
            "500": {
                "description": "500 error - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return error response"
    },
    "crudErrorLogin": {
        "_method": "GET",
        "_path": "/{{_tags0}}/crudErrorLogin",
        "responses": {
            "500": {
                "description": "500 error - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "login by password"
    },
    "crudErrorOptions": {
        "_method": "OPTIONS",
        "_path": "/{{_tags0}}/crudErrorOptions",
        "responses": {
            "500": {
                "description": "500 error - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return error response"
    },
    "crudErrorPatch": {
        "_method": "PATCH",
        "_path": "/{{_tags0}}/crudErrorPatch",
        "responses": {
            "500": {
                "description": "500 error - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return error response"
    },
    "crudErrorPost": {
        "_method": "POST",
        "_path": "/{{_tags0}}/crudErrorPost",
        "responses": {
            "500": {
                "description": "500 error - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return error response"
    },
    "crudErrorPre": {
        "_method": "GET",
        "_path": "/{{_tags0}}/crudErrorPre",
        "responses": {
            "500": {
                "description": "500 error - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return error response"
    },
    "crudErrorPut": {
        "_method": "PUT",
        "_path": "/{{_tags0}}/crudErrorPut",
        "responses": {
            "500": {
                "description": "500 error - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return error response"
    },
    "crudGetManyByQuery": {
        "_method": "GET",
        "_path": "/{{_tags0}}/crudGetManyByQuery",
        "parameters": [
            {
                "default": "{\"id\":{\"$exists\":true}}",
                "description": "query param",
                "format": "json",
                "in": "query",
                "name": "_queryWhere",
                "required": true,
                "type": "string"
            },
            {
                "default": null,
                "description": "projection-fields param",
                "format": "json",
                "in": "query",
                "name": "_queryFields",
                "type": "string",
                "x-swgg-collectionFormat": "json",
                "x-swgg-items": {
                    "type": "string"
                },
                "x-swgg-type": "array"
            },
            {
                "default": 20,
                "description": "cursor-limit param",
                "in": "query",
                "name": "_queryLimit",
                "required": true,
                "type": "integer"
            },
            {
                "default": 0,
                "description": "cursor-skip param",
                "in": "query",
                "name": "_querySkip",
                "type": "integer"
            },
            {
                "default": [
                    {
                        "fieldName": "id"
                    },
                    {
                        "fieldName": "_timeUpdated",
                        "isDescending": true
                    }
                ],
                "description": "cursor-sort param",
                "format": "json",
                "in": "query",
                "name": "_querySort",
                "type": "string",
                "x-swgg-collectionFormat": "json",
                "x-swgg-items": {
                    "type": "object"
                },
                "x-swgg-type": "array"
            }
        ],
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "get many {{_schemaName}} objects by query"
    },
    "crudGetOneById": {
        "_idName": "{{_idName}}",
        "_method": "GET",
        "_path": "/{{_tags0}}/crudGetOneById.{{_idName}}.{{_idBackend}}",
        "parameters": [
            {
                "description": "{{_schemaName}} {{_idName}}",
                "in": "query",
                "name": "{{_idName}}",
                "required": true,
                "type": "string"
            }
        ],
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "get one {{_schemaName}} object by {{_idName}}"
    },
    "crudGetOneByQuery": {
        "_method": "GET",
        "_path": "/{{_tags0}}/crudGetOneByQuery",
        "parameters": [
            {
                "default": "{\"id\":{\"$exists\":true}}",
                "description": "query param",
                "format": "json",
                "in": "query",
                "name": "_queryWhere",
                "required": true,
                "type": "string"
            }
        ],
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "get one {{_schemaName}} object by query"
    },
    "crudNullDelete": {
        "_method": "DELETE",
        "_path": "/{{_tags0}}/crudNullDelete",
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return null response"
    },
    "crudNullGet": {
        "_method": "GET",
        "_path": "/{{_tags0}}/crudNullGet",
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return null response"
    },
    "crudNullHead": {
        "_method": "HEAD",
        "_path": "/{{_tags0}}/crudNullHead",
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return null response"
    },
    "crudNullOptions": {
        "_method": "OPTIONS",
        "_path": "/{{_tags0}}/crudNullOptions",
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return null response"
    },
    "crudNullPatch": {
        "_method": "PATCH",
        "_path": "/{{_tags0}}/crudNullPatch",
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return null response"
    },
    "crudNullPost": {
        "_method": "POST",
        "_path": "/{{_tags0}}/crudNullPost",
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return null response"
    },
    "crudNullPut": {
        "_method": "PUT",
        "_path": "/{{_tags0}}/crudNullPut",
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "return null response"
    },
    "crudRemoveManyByQuery": {
        "_method": "DELETE",
        "_path": "/{{_tags0}}/crudRemoveManyByQuery",
        "parameters": [
            {
                "default": "{\"id\":\"undefined\"}",
                "description": "query param",
                "format": "json",
                "in": "query",
                "name": "_queryWhere",
                "required": true,
                "type": "string"
            }
        ],
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "remove many {{_schemaName}} objects by query"
    },
    "crudRemoveOneById": {
        "_idName": "{{_idName}}",
        "_method": "DELETE",
        "_path": "/{{_tags0}}/crudRemoveOneById.{{_idName}}.{{_idBackend}}",
        "parameters": [
            {
                "description": "{{_schemaName}} {{_idName}}",
                "in": "query",
                "name": "{{_idName}}",
                "required": true,
                "type": "string"
            }
        ],
        "summary": "remove one {{_schemaName}} object by {{_idName}}"
    },
    "crudSetManyById": {
        "_method": "PUT",
        "_path": "/{{_tags0}}/crudSetManyById",
        "parameters": [
            {
                "description": "{{_schemaName}} object",
                "in": "body",
                "name": "body",
                "required": true,
                "schema": {
                    "items": {
                        "$ref": "#/definitions/{{_schemaName}}"
                    },
                    "type": "array"
                }
            }
        ],
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "create or replace many {{_schemaName}} objects"
    },
    "crudSetOneById": {
        "_idName": "{{_idName}}",
        "_method": "PUT",
        "_path": "/{{_tags0}}/crudSetOneById.{{_idName}}.{{_idBackend}}",
        "parameters": [
            {
                "description": "{{_schemaName}} {{_idName}}",
                "in": "query",
                "name": "{{_idName}}",
                "type": "string"
            },
            {
                "description": "{{_schemaName}} object",
                "in": "body",
                "name": "body",
                "required": true,
                "schema": {
                    "$ref": "#/definitions/{{_schemaName}}"
                }
            }
        ],
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "create or replace one {{_schemaName}} object by {{_idName}}"
    },
    "crudUpdateOneById": {
        "_idName": "{{_idName}}",
        "_method": "PATCH",
        "_path": "/{{_tags0}}/crudUpdateOneById.{{_idName}}.{{_idBackend}}",
        "parameters": [
            {
                "description": "{{_schemaName}} {{_idName}}",
                "in": "query",
                "name": "{{_idName}}",
                "type": "string"
            },
            {
                "description": "{{_schemaName}} object",
                "in": "body",
                "name": "body",
                "required": true,
                "schema": {
                    "$ref": "#/definitions/{{_schemaName}}"
                },
                "x-swgg-notRequired": true
            }
        ],
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "create or update one {{_schemaName}} object by {{_idName}}"
    },
    "fileGetOneById": {
        "_idName": "{{_idName}}",
        "_method": "GET",
        "_path": "/{{_tags0}}/fileGetOneById.{{_idName}}.{{_idBackend}}",
        "parameters": [
            {
                "description": "{{_schemaName}} {{_idName}}",
                "in": "query",
                "name": "{{_idName}}",
                "required": true,
                "type": "string"
            }
        ],
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "type": "file"
                }
            }
        },
        "summary": "get one {{_schemaName}} file by {{_idName}}",
        "x-swgg-consumes0": "application/octet-stream"
    },
    "fileUploadManyByForm": {
        "_fileUploadNumber": "{{_fileUploadNumber}}",
        "_method": "POST",
        "_path": "/{{_tags0}}/fileUploadManyByForm.{{_fileUploadNumber}}",
        "consumes": [
            "multipart/form-data"
        ],
        "parameters": [
            {
                "description": "{{_schemaName}} file description",
                "in": "formData",
                "name": "fileDescription",
                "type": "string"
            },
            {
                "description": "{{_schemaName}} file to upload by form",
                "in": "formData",
                "name": "file1",
                "type": "file"
            }
        ],
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "upload many {{_schemaName}} files by form",
        "x-swgg-consumes0": "multipart/form-data"
    },
    "userLoginByPassword": {
        "_method": "GET",
        "_path": "/{{_tags0}}/userLoginByPassword",
        "parameters": [
            {
                "description": "The user name for login",
                "in": "query",
                "name": "username",
                "required": true,
                "type": "string"
            },
            {
                "description": "The password for login in clear text",
                "in": "query",
                "name": "password",
                "required": true,
                "type": "string"
            }
        ],
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "login by password"
    },
    "userLogout": {
        "_method": "GET",
        "_path": "/{{_tags0}}/userLogout",
        "responses": {
            "200": {
                "description": "200 ok - http://jsonapi.org/format/#document-structure-top-level",
                "schema": {
                    "$ref": "#/definitions/BuiltinJsonapiResponse"
                }
            }
        },
        "summary": "logout"
    }
}
;
// JSON.stringify templateApiDict items to prevent side-effects
Object.keys(local.templateApiDict).forEach(function (key) {
    local.templateApiDict[key] = JSON.stringify(local.templateApiDict[key]);
});



// https://swaggerhub.com/wp-content/uploads/2017/10/Swagger-Icon.svg
local.templateSwaggerUiLogoMediumBase64 = '\
iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAC6FBMVEUAAABqn0BqmUBumUBtmj9tmUBt\
mT9tmkBtmj9tmT9tmUBsmkBsmUBtmj9smkBsmUBsmT9tm0BtmkFvmTxsnEFtmT9smT9smUBtmT9tmkBs\
mkBtmkBsmj9tmz+AgABqmj9smT9tmUBtmkBsmkBsmj9tm0BVqlVgn0BtmkBsmj9tmUBxnDltkkltmD5s\
mT9tmj9smkBtmUFsmEBsmUBtmkBtmT9vnUEA/wBsmj5smkBsmkBmmTNtmj5smj9smT9rmz9smT9smj9t\
mj9um0Fvmz1tmj9qmz5wmT1smj9smkBtmj9mmTNsmT9tmkBrmj9tmEFtmT9smkBtmUBsmUBtmD9roUNt\
mT9smkCAv0Bsm0Bqnj5tmz5smUBrmUBtmkBsmj9smkBtmT9smUBtmkBsmUBtmUBsmkFsnTttmkBwl0Bt\
mkBtmT9tmUCRs2+kwIe2zZ92oEyauXttmkBrmkDj7Nv///+/0qt/p1htmj+JrWTa5s/I2bdtmT9pljxt\
mkCkwIj2+fObunxsmEB0okZsmUBtmT9Vqittmj9rmkGtx5TS4MRumj7b5tDt8+j2+fSStHBrmEFsmT/k\
7Ny2zKBtmT5um0Ftmj9umD5smj9tmj9tmkBsmT9tmkBsmj9smT9tmj9smT5tnD5smj9tmT9smUBtmUJs\
mEDI2bhrmD/R38Nsmj+sxpNtmz9/pljt8ue1zJ+IrWSauXyjv4dsmT5tmT9rmj+txpS/06xrmj9sm0Bs\
mT+Rs3C2zaBsmkBtmUBsmUBtmkBrmUBsmkFinTttmUBsmkBtpDdqnEBsmkBsmT9smD9tmUBtmD1smT9t\
mUBtmUBolzpsmT9umj9smz5tmT9qlUBumT9tnj2txpNsmT9rmjxrnEJtmT9smj9rmUFsmUBtmT9smT9r\
mT1rmD5smkBxqjltmT9smUBtmT9tmkBtm0BsmUBsmUBmmURtmUBsmT9smkBsmj9unEBrmz5tmUBtmT9s\
m0Bvm0OD9tkQAAAA+HRSTlMAGDxkgYyWn6myvL+vnYt4ZlQ/Hjt6pcvx/9SwiT0CNXa39Pe9OAMIW7Zs\
EgdS9fmsSzSg6IonAU7EuAVi1sFFVd7KTy7JKRn+/I0KfeNRL9pv+PBNE7mQBEAdXntrk4anraODgGdH\
Gu8gzM6P//////+ITP/////y////5hG7////Vwvn4QZ+K///Vv////9Dzf//RjPFJZLqpJ5grqrtLTFt\
buwjXP85/0n/Wf///////1ppef//cn+Z//+Xm4d3X1MNw3QOJM/pYdwq7nOUFt1dIXUMQRX/xiYfkdk3\
UP36Mj6cCfYo1asc89cP6+Lg5SxKcL5jF9reEmcAAAc2SURBVHgB7NGDYQNAAAXQX9v8sW2ntt0Gtfdf\
oQOUl0Oqt8ID8O9fS2tbe0dnV3dPb1//wODQ8MjoGJprfGJyappvsFhtw3Y0gcPpcnv4Ia9vwh+AQcGQ\
dZpf4glHojAiFu9OUEAylQ5At0w2QWG5fAEaFUtlNmjGD01m5+YpYWEROiwtU9LKKlRbK1OB9Q2otJnd\
ohLbO7tQJbjnoTL7B1Dj8IhKhcegwPEJFTs9g6xKlRrU6pBynqMW6xeQcLlFYfojr6jRNRp0Q61u0YjA\
HTXLQlywSu3u6xDlpgHVXQgppmiE2wERXTTkAQIeacwTvuyZBoXwwrxdfbltxFEcnzLTU88tMzMzMzMz\
k7PaZhWvvG1ll+3KUrNhLjvMTOU2KTP/L0WtZGfvaH6Nxj77ee5Rv7EmI82MInT2JeigSx9SIg8/go7a\
71HRNPoYOuxxyTryCWgVhnX9B5BzCoXuru5CAXpPKqPh0BjW4yYAOXdAz4giuEuM2yiP9oLySq6bIyvW\
54B66mmV7RlQvuvayHLLFVC7q0zPgvLcvFkJH1Tmeui558EUy/ayXA/MCy8qvZtB9bgWs0qgXlJaL18K\
pujazNLcxutuUzqPgarazaqBOkZpvALBPQz+ATkEf6u7zRxQuslrN1COmwgjbCQ/dBMRqF0VdQq4iP8t\
EiJzTBXcq4oZCa6S3kDk0O8OGAVuW0WMhsYofj0hcpkaNMaQrLHm61XsZAXQuFcNchJ0avqxajnrknFq\
QydCJ+hYFsarDU1od5YvmI1P2Msw4O1nRYIsnK1aTRwaWZNUi8v3h5ZrJ8uRZPW2bpZMRtuzQLJMr4NT\
hkrWVNVsWgeyAklW78kq9Rr0nI5m4XWVekP2N6iIPGqirDdV6hhZFmBnmo+Eg2uaKCvsRNZbGY9p/iYf\
IJcKWWQQbydZR8rfk3KIZO9t78hOKwLD1eRkf777+QNRv+6p2MoqI8M9fH2on7Y85BOIZprzkqyjRa9J\
Iaxl+dB7RMVug56T3sMGcqrKBtfhcdZ06M1wrQ0tFGXX2jvOmgnAvAdYx//ndM8q0KVi2YPWDXHWbFrU\
1dVX4hstc2bNmFuaNx8tFvSVSjMWtkaN+LdgVvOEmugrQGNRnLWYz6Kt+jFgfrwJN6u5IL7ZJYcMyxlk\
0Gc8N3aOs5YIssJiU1VsKXk7KLFbtgyxYijIWh5n7WHOCj3yJy47yR0k93qBS/5DLzRnrYizVmqzyAbS\
fDbclrmJRvoDplaBdvGsHcmzh2b1O0gsdVOryZgJ2DhagIRTM2WtibPWmrJ6HL5Dvywrq0F/LaCPZNGT\
9SeMN7HsiW9ijfU75KmhzdqSnbXyIV9mQz6ckzXknZD834s95iH/bpz1njnLLacTRJg1QQTAoNbQSVLn\
uuasneKsO0H4QUh3+ZOucCkGD+TAGfzy0T8fzTc7UQ8aFRCL46z3wTmVgD98/EZQWz0HLRYsC4KGjxZz\
ljaCZT5dRIVVmB4+H0ArSn+yucgtvYX9RWgNF7zYeBZfbCrkUZZxbPAhMjTyLXz4parI8Kh+g5L9XGXk\
VBYtz49WAz5ChrqVnRH5scPIJGutbEejamux35B9dfNxvqsROU5DliRZM+W/vZWsKjKcn2R9ggyRlZlL\
fhryqUqsk81cyCUQZa2nR+eE/ayi8Duzq2RZXgf2Tj9TqcMxVHaacZvgmLrzWZ+rZncPlayVqtkXHcia\
K8k6VrVYNzQOV77cS7X4SnI5v+1ZX6tW31wiuNwoO1l1aB3IvyfrSFYAnW/Vhr5rd5bHswyf7J6+Hhqh\
naxI8Pb9vRrkB/N8E7T5EOMANdiPve3N8s2vWz8p4m5wo+y8cDWM099Yxfx8NCjfynzqlY0vIjMVtcZ4\
zlnuxsYp/JJWhdolD7fJUcJvIZfl+jawof/WgLvC9BIeC9rwJSV+VTovvgDGt5vlgLn0N6W1C6i6zaxR\
oC5TGc4CE1nMqoF6/mCV4aJLwPjWsvodULuoTHuAqlrKCjRVpymD80B5gYWsegXcfr8L/nkBFzXCPFlh\
sMx39PuSRkdCqxhVR40aVYkc2PWHEpiEv9qDZ4BcozAAwO+1zffatpndkq0p7UPTv+U929qz7bHlt5mx\
tscP55z4PIwlhgAH3jJkKj4OOKkcR5bsgSP5R2SnHDhTeCArncBDEzJyCnhpQSY+/QR+viIDr4G3KKTu\
bgrw14WUnQRBwpVIkUcXCPRZhdSoroBg6lGkJEkDInhrkYr/gyCO8ziSl68DsY70IWH6BiDg57FiJOm/\
AcgIvOCBpOibXwIxNUYkw2QGkl40WVA8qwZIm4q+jeLE+74ACmw3plG4mUc2oERXNovCOGUCVaHaD8jX\
h7yjQJ2uSqJE7vzOZ+qAjbcNX+eQC0/JPxswNT8R9BS38vF35+cB2AnZC76TQY64zu1beTeuwk67VnNl\
8V7M0tkzp0+dPHF8+f4KHDoEq3MUjwHy2w4OAAAAAElFTkSuQmCC\
';



// https://github.com/swagger-api/swagger-ui/blob/v2.1.3/dist/images/logo_small.png
local.templateSwaggerUiLogoSmallBase64 = '\
iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFn\
ZVJlYWR5ccllPAAAAqRJREFUeNrEVz1s00AUfnGXii5maMXoEUEHVwIpEkPNgkBdMnQoU5ytiKHJwpp2\
Q2JIO8DCUDOxIJFIVOoWZyJSh3pp1Q2PVVlcCVBH3ufeVZZ9Zye1Ay86nXV+ue/9fO/lheg/Se02X1rv\
ksmbnTiKvuxQMBNgBnN4a/LCbmnUAP6JV58NCUsBC8CuAJxGPF47OgNqBaA93tolUhnx6jC4NxGwyOEw\
lccyAs+3kwdzKq0HDn2vEBTi8J2XpyMaywNDE157BhXUE3zJhlq8GKq+Zd2zaWHepPA8oN9XkfLmRdOi\
JV4XUUg/IyWncLjCYY/SHndV2u7zHr3bPKZtdxgboJOnthvrfGj/oMf3G0r7JVmNlLfKklmrt2MvvcNO\
7LFOhoFHfuAJI5o6ta10jpt5CQLgwXhXG2YIwvu+34qf78ybOjWTnWwkgR36d7JqJOrW0hHmNrKg9xhi\
S4+1jFmrxymh03B0w+6kURIAu3yHtOD5oaUNojMnGgbcctNvwdAnyxvxRR+/vaJnjzbpzcZX+nN1SdGv\
85i9eH8w3qPO+mdm/y4dnQ1iI8Fq6Nf4cxL6GWSjiFDSs0VRnxC5g0xSB2cgHpaseTxfqOv5uoHkNQ6H\
a/N1Yz9mNMppEkEkYKj79q6uCq4bCHcSX3fJ0Vk/k9siASjCm1N6gZH6Ec9IXt2WkFES2K/ixoIyktJP\
Au/ptOA1SgO5zqtr6KASJPF0nMV8dgMsRhRPOcMwqQAOoi0VAIMLAEWJ6YYC1c8ibj1GP51RqwzYwZVM\
HQuvOzMCBUtb2tGHx5NAdLKqp5AX7Ng4d+Zi8AGDI9z1ijx9yaCH04y3GCP2S+QcvaGl+pcxyUBvinFl\
awoDQjHSelX8hQEoIrAq8p/mgC88HOS1YCl/BRgAmiD/1gn6Nu8AAAAASUVORK5CYII=\
';



// https://github.com/swagger-api/swagger-ui/blob/v2.1.3/src/main/template/main.handlebars
local.templateUiMain = '\
<!-- <div class="swggUiContainer"> -->\n\
<h2 class="eventDelegateKeyup eventDelegateSubmit hx onEventUiReload thead">\n\
    <a class="td td1" href="https://github.com/kaizhu256/node-swgg" target="_blank">swgg</a>\n\
    <input\n\
        class="td td2"\n\
        placeholder="http://petstore.swagger.io/v2/swagger.json"\n\
        type="text"\n\
        value="{{urlSwaggerJson}}"\n\
    >\n\
    <input\n\
        class="td td3"\n\
        id="swggApiKeyInput1"\n\
        placeholder="api-key"\n\
        type="text"\n\
        value="{{apiKeyValue}}"\n\
    >\n\
    <button class="button eventDelegateClick onEventUiReload td td4">explore</button>\n\
    <button\n\
        class="button eventDelegateClick onEventUiReload td td5"\n\
        id="swggApiKeyClearButton1"\n\
    >\n\
        clear api-keys\n\
    </button>\n\
</h2>\n\
<div\n\
    class="colorError"\n\
    id="swggUiReloadErrorDiv1"\n\
    style="background: none; border: 0;"\n\
></div>\n\
<div class="info reset">\n\
    {{#if info}}\n\
    {{#if info.x-swgg-homepage}}\n\
    <h2 class="hx">\n\
        <a href="{{info.x-swgg-homepage}}" target="_blank">{{info.title}} ({{info.version}})</a>\n\
    </h2>\n\
    {{#unless info.x-swgg-homepage}}\n\
    <h2 class="hx">{{info.title}} ({{info.version}})</h2>\n\
    {{/if info.x-swgg-homepage}}\n\
    {{#if info.x-swgg-description}}\n\
    <div class="markdown">{{info.x-swgg-description markdownToHtml}}</div>\n\
    {{/if info.x-swgg-description}}\n\
    {{#if info.description}}\n\
    <div class="description markdown">{{info.description markdownToHtml}}</div>\n\
    {{/if info.description}}\n\
    {{#if x-swgg-downloadStandaloneApp}}\n\
    <a class="button" download href="{{x-swgg-downloadStandaloneApp notHtmlSafe}}">\n\
        download standalone app\n\
    </a><br>\n\
    {{/if x-swgg-downloadStandaloneApp}}\n\
    <ul>\n\
        {{#if externalDocs.url}}\n\
        <li>\n\
            <a href="{{externalDocs.url}}" target="_blank">\n\
                {{#if externalDocs.description}}\n\
                {{externalDocs.description}}\n\
                {{#unless externalDocs.description}}\n\
                external url\n\
                {{/if externalDocs.description}}\n\
            </a>\n\
        </li>\n\
        {{/if externalDocs.url}}\n\
        {{#if info.termsOfService}}\n\
        <li><a target="_blank" href="{{info.termsOfService}}">terms of service</a></li>\n\
        {{/if info.termsOfService}}\n\
        {{#if info.contact.name}}\n\
        <li>created by {{info.contact.name}}</li>\n\
        {{/if info.contact.name}}\n\
        {{#if info.contact.url}}\n\
        <li>see more at <a href="{{info.contact.url}}">{{info.contact.url}}</a></li>\n\
        {{/if info.contact.url}}\n\
        {{#if info.contact.email}}\n\
        <li>\n\
            <a\n\
                target="_parent"\n\
                href="mailto:{{info.contact.email}}?subject={{info.title}}"\n\
            >\n\
                contact the developer\n\
            </a>\n\
        </li>\n\
        {{/if info.contact.email}}\n\
        {{#if info.license}}\n\
        <li><a target="_blank" href="{{info.license.url}}">{{info.license.name}}</a></li>\n\
        {{/if info.license}}\n\
    </ul>\n\
    {{/if info}}\n\
</div>\n\
{{#if urlSwaggerJson}}\n\
<h4 class="label">nodejs initialization</h4>\n\
<pre id="swggAjaxProgressPre1">\n\
/*\n\
 * initialize nodejs swgg-client\n\
 * 1. download currently-loaded apis to file swagger.json:\n\
 *     $ curl -L -o swagger.json "{{urlSwaggerJson}}"\n\
 * 2. npm install swgg\n\
 *     $ npm install swgg\n\
 * 3. run code below to initialize nodejs swgg-client\n\
 * 4. (optional) edit file swagger.json to suit your needs\n\
 */\n\
var swgg;\n\
swgg = require("swgg");\n\
swgg.apiUpdate(require("./swagger.json"));\n\
console.log("printing currently loaded apis ...");\n\
Object.keys(swgg.apiDict).sort().forEach(function (key) {\n\
    console.log("swgg.apiDict[" + JSON.stringify(key) + "].ajax");\n\
});\n\
console.log("initialized nodejs swgg-client");\n\
</pre>\n\
<div class="color777 reset">[ <span>base url</span>: {{basePath}} ]</div>\n\
{{/if urlSwaggerJson}}\n\
<div id="swggAjaxProgressDiv1" style="text-align: center;">\n\
    <span>{{ajaxProgressText}}</span>\n\
    <div class="uiAnimateSpin" style="animation: uiAnimateSpin 2s linear infinite; border: 5px solid #999; border-radius: 50%; border-top: 5px solid #7d7; display: inline-block; height: 25px; vertical-align: middle; width: 25px;"></div>\n\
</div>\n\
<ol class="reset resourceList" style="list-style-type: upper-roman;"></ol>\n\
<div class="utility2FooterDiv">\n\
    [ this document was created with\n\
    <a href="https://github.com/kaizhu256/node-swgg" target="_blank">swgg</a>\n\
    ]\n\
</div>\n\
<!-- </div> -->\n\
';



// https://github.com/swagger-api/swagger-ui/blob/v2.1.3/src/main/template/operation.handlebars
local.templateUiOperation = '\
<div class="operation" data-_method-path="{{_methodPath}}" id="{{id}}">\n\
<div class="onEventInputValidate onEventOperationDisplayShow thead" tabindex="0">\n\
    <span class="td td1"></span>\n\
    <span class="method{{_method}} td td2">{{_method}}</span>\n\
    <span\n\
        class="td td3"\n\
        {{#if deprecated}}style="text-decoration: line-through;"{{/if deprecated}}\n\
    >\n\
        {{_path}}\n\
    </span>\n\
    <span class="color777 td td4 textOverflowEllipsis">{{summary}}</span>\n\
</div>\n\
<form accept-charset="UTF-8"\n\
    class="uiAnimateSlide"\n\
    style="border-bottom: 0; border-top: 0; margin-bottom: 0; margin-top: 0; max-height: 0; padding-bottom: 0; padding-top: 0;"\n\
>\n\
    {{#if deprecated}}\n\
    <h4 class="colorError label">(warning: deprecated)</h4><br>\n\
    {{/if deprecated}}\n\
    <h4 class="label">description</h4>\n\
    <div class="description markdown">\n\
        {{description markdownToHtml}}\n\
    </div>\n\
    {{#if parameters.length}}\n\
    <h4 class="label">parameters</h4>\n\
    <div class="borderBottom1Px color777 schemaP thead">\n\
        <span class="td td1">name and description</span>\n\
        <span class="td td2">data type</span>\n\
        <span class="td td3">value</span>\n\
        <span class="td td4">schema</span>\n\
    </div>\n\
    {{#each parameters}}\n\
    {{innerHTML notHtmlSafe}}\n\
    {{/each parameters}}\n\
    {{/if parameters.length}}\n\
    <h4 class="label">response messages</h4>\n\
    <div class="borderBottom1Px color777 schemaResponse thead">\n\
        <span class="td td1">http status code</span>\n\
        <span class="td td2">reason</span>\n\
    </div>\n\
    {{#each responseList}}\n\
    <div class="schemaResponse tr">\n\
        <span class="td td1">{{key}}</span>\n\
        <span class="markdown td td2">{{value.description markdownToHtml}}</span>\n\
    </div>\n\
    {{/each responseList}}\n\
    <button class="button onEventOperationAjax">try it out!</button>\n\
    <h4 class="label">nodejs request</h4>\n\
    <pre class="requestJavascript"></pre>\n\
    <h4 class="label">curl request</h4>\n\
    <pre class="requestCurl"></pre>\n\
    <h4 class="label">response status code</h4>\n\
    <pre class="responseStatusCode" tabindex="0"></pre>\n\
    <h4 class="label">response headers</h4>\n\
    <pre class="responseHeaders"></pre>\n\
    <h4 class="label">response body</h4>\n\
    <pre class="responseBody"></pre>\n\
    <div class="responseMedia"></div>\n\
</form>\n\
</div>\n\
';



// https://github.com/swagger-api/swagger-ui/blob/v2.1.3/src/main/template/param.handlebars
local.templateUiParameter = '\
<div class="schemaP tr" id="{{id}}" data-name="{{name}}">\n\
<span class="td td1">\n\
    {{name}}\n\
    {{#if required}}<br><span style="font-weight: bold;">(required)</span>{{/if required}}\n\
    {{#if description}}\n\
    <br>\n\
    <span class="color777 markdown">{{description markdownToHtml}}</span>\n\
    {{/if description}}\n\
</span>\n\
<span class="td td2">{{type2}}{{#if format2}}<br>({{format2}}){{/if format2}}</span>\n\
<span class="td td3">\n\
    {{#if isTextarea}}\n\
    <div class="multilinePlaceholderContainer">\n\
        <pre class="multilinePlaceholderPre">{{placeholder}}</pre>\n\
        <textarea\n\
            class="input multilinePlaceholderTextarea onEventInputTextareaChange"\n\
            data-value-text="{{valueText encodeURIComponent notHtmlSafe}}"\n\
        ></textarea>\n\
    </div>\n\
    {{/if isTextarea}}\n\
    {{#if isFile}}<input class="input" type="file">{{/if isFile}}\n\
    {{#if enum2}}\n\
    <select class="input" {{#if isSelectMultiple}}multiple{{/if isSelectMultiple}}>\n\
        {{#each selectOptionList}}\n\
        <option\n\
            data-value-select-option=\n\
                "{{valueSelectOption jsonStringify encodeURIComponent notHtmlSafe}}"\n\
            id="{{id}}"\n\
            {{selected}}\n\
        >{{placeholder}}</option>\n\
        {{/each selectOptionList}}\n\
    </select>\n\
    {{/if enum2}}\n\
    {{#if isInputText}}\n\
    <input\n\
        class="input"\n\
        data-value-text="{{valueText encodeURIComponent notHtmlSafe}}"\n\
        placeholder="{{placeholder}}"\n\
        type="text"\n\
    >\n\
    {{/if isInputText}}\n\
    <div class="colorError"></div>\n\
</span>\n\
<span class="td td4">\n\
    {{#if schemaText}}<pre>{{schemaText}}</pre>{{/if schemaText}}\n\
</span>\n\
</div>\n\
';



local.templateUiRequestJavascript = '\
/*\n\
 * reproduce api-call {{options.api._methodPath jsonStringify}}\n\
 * 1. initialize nodejs swgg-client from previous step\n\
 * 2. run code below to reproduce api-call\n\
 */\n\
swgg.apiDict[{{options.api._methodPath jsonStringify}}].ajax({{optionsJson}}, \
function (error, data) {\n\
    if (error) {\n\
        console.error(error);\n\
        return;\n\
    }\n\
    console.log(data.responseJson || data.responseText);\n\
}\
);\n\
';



// https://github.com/swagger-api/swagger-ui/blob/v2.1.3/src/main/template/resource.handlebars
local.templateUiResource = '\
<li\n\
    class="\n\
        eventDelegateChange eventDelegateClick eventDelegateKeyup eventDelegateSubmit resource\n\
    "\n\
    data-name="{{name}}"\n\
    id="{{id}}"\n\
>\n\
<h3 class="thead">\n\
    <span class="onEventResourceDisplayAction td td1 textOverflowEllipsis" tabindex="0">\n\
        {{name}}:&nbsp;&nbsp;{{summary}}\n\
    </span>\n\
    <span class="onEventResourceDisplayAction td td2" tabindex="0">\n\
    expand / collapse operations\n\
    </span>\n\
</h3>\n\
<ol\n\
    class="operationList uiAnimateSlide"\n\
    style="border-bottom: 0; border-top: 0; margin-bottom: 0; margin-top: 0; max-height: 0; padding-bottom: 0; padding-top: 0;"\n\
>\n\
    <div class="description markdown">{{description markdownToHtml}}</div>\n\
</ol>\n\
</li>\n\
';



local.templateUiTitle = '\
{{#if info.title}}\n\
{{#if info.version}}\n\
{{info.title}} ({{info.version}})\n\
{{#unless info.version}}\n\
{{info.title}}\n\
{{/if info.version}}\n\
{{#unless info.title}}\n\
swgg\n\
{{/if info.title}}\n\
';



/* validateLineSortedReset */
local.assetsDict['/assets.swgg.html'] = local.assetsDict['/assets.index.default.template.html']
    .replace('assets.index.default.template.html', '')
    .replace((/<title>.*?<\/title>/), '<title>swgg</title>')
    .replace('\n<!-- utility2-comment\n', '\n')
    .replace('\n</style>\n', '\
\n\
</style>\n\
<style>\n\
/* jslint-utility2 */\n\
/*csslint\n\
*/\n\
/* jslint-ignore-begin */\n\
.swggUiContainer,\n\
.swggUiContainer * {\n\
    border: 0;\n\
    border-radius: 0;\n\
    margin: 0;\n\
    max-width: 100%;\n\
    padding: 0;\n\
}\n\
.swggUiContainer pre,\n\
.swggUiContainer .operation > .thead:focus,\n\
.swggUiContainer .resource > .thead > .td:focus {\n\
    outline: none;\n\
}\n\
.swggUiContainer .description > * {\n\
    margin-top: 20px;\n\
}\n\
.swggUiContainer .description > *:first-child {\n\
    margin-top: 0;\n\
}\n\
/* jslint-ignore-end */\n\
/* validateLineSortedReset */\n\
/* general */\n\
.swggUiContainer code,\n\
.swggUiContainer pre,\n\
.swggUiContainer textarea {\n\
    line-height: 1.25rem;\n\
    max-height: 50rem;\n\
    overflow: auto;\n\
}\n\
.swggUiContainer input,\n\
.swggUiContainer pre,\n\
.swggUiContainer textarea {\n\
    min-height: 1.5rem;\n\
}\n\
.swggUiContainer pre {\n\
    white-space: pre;\n\
}\n\
.swggUiContainer .button,\n\
.swggUiContainer .operation > .thead,\n\
.swggUiContainer .resource > .thead {\n\
    cursor: pointer;\n\
}\n\
.swggUiContainer .button,\n\
.swggUiContainer .operation > .thead > .td3,\n\
.swggUiContainer .resource > .thead > .td {\n\
    font-weight: bold;\n\
    text-decoration: underline;\n\
}\n\
.swggUiContainer .markdown pre {\n\
    max-height: none;\n\
}\n\
.swggUiContainer .multilinePlaceholderContainer {\n\
    min-height: 10rem;\n\
    position: relative;\n\
}\n\
.swggUiContainer .multilinePlaceholderPre {\n\
    position: absolute;\n\
    white-space: pre;\n\
}\n\
.swggUiContainer .multilinePlaceholderTextarea {\n\
    position: absolute;\n\
}\n\
.swggUiContainer .operation > .thead > .td1 {\n\
    text-align: left;\n\
    width: 2rem;\n\
}\n\
.swggUiContainer .operation > .thead > .td2 {\n\
    text-align: center;\n\
    width: 5rem;\n\
}\n\
.swggUiContainer .responseBody,\n\
.swggUiContainer .responseHeaders,\n\
.swggUiContainer .responseStatusCode {\n\
    font-weight: bold;\n\
}\n\
.swggUiContainer .schemaP pre,\n\
.swggUiContainer .schemaP select[multiple],\n\
.swggUiContainer .schemaP textarea,\n\
.swggUiContainer .schemaP .multilinePlaceholderContainer {\n\
    height: 10rem;\n\
}\n\
.swggUiContainer .schemaP > .td3 {\n\
    overflow: visible;\n\
}\n\
.swggUiContainer .td {\n\
    overflow: auto;\n\
    overflow-wrap: break-word;\n\
}\n\
.swggUiContainer .td input,\n\
.swggUiContainer .td pre,\n\
.swggUiContainer .td select,\n\
.swggUiContainer .td textarea {\n\
    width: 100%;\n\
}\n\
/* validateLineSortedReset */\n\
/* background */\n\
.swggUiContainer code,\n\
.swggUiContainer pre {\n\
    background: #ddd;\n\
}\n\
.swggUiContainer .button {\n\
    background: #ddf;\n\
}\n\
.swggUiContainer .description {\n\
    background: #bdb;\n\
}\n\
.swggUiContainer .methodDELETE {\n\
    background: #b07;\n\
}\n\
.swggUiContainer .methodGET {\n\
    background: #373;\n\
}\n\
.swggUiContainer .methodHEAD {\n\
    background: #7b7;\n\
}\n\
.swggUiContainer .methodOPTIONS {\n\
    background: #777;\n\
}\n\
.swggUiContainer .methodPATCH {\n\
    background: #99f;\n\
}\n\
.swggUiContainer .methodPOST {\n\
    background: #33d;\n\
}\n\
.swggUiContainer .methodPUT {\n\
    background: #77d;\n\
}\n\
.swggUiContainer .multilinePlaceholderPre {\n\
    background: #fff;\n\
}\n\
.swggUiContainer .operation {\n\
    background: #dfd;\n\
}\n\
.swggUiContainer .resource > .thead,\n\
.swggUiContainer > .thead {\n\
    background: #7b7;\n\
}\n\
.swggUiContainer > .thead > .td1 {\n\
    background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAqRJREFUeNrEVz1s00AUfnGXii5maMXoEUEHVwIpEkPNgkBdMnQoU5ytiKHJwpp2Q2JIO8DCUDOxIJFIVOoWZyJSh3pp1Q2PVVlcCVBH3ufeVZZ9Zye1Ay86nXV+ue/9fO/lheg/Se02X1rvksmbnTiKvuxQMBNgBnN4a/LCbmnUAP6JV58NCUsBC8CuAJxGPF47OgNqBaA93tolUhnx6jC4NxGwyOEwlccyAs+3kwdzKq0HDn2vEBTi8J2XpyMaywNDE157BhXUE3zJhlq8GKq+Zd2zaWHepPA8oN9XkfLmRdOiJV4XUUg/IyWncLjCYY/SHndV2u7zHr3bPKZtdxgboJOnthvrfGj/oMf3G0r7JVmNlLfKklmrt2MvvcNO7LFOhoFHfuAJI5o6ta10jpt5CQLgwXhXG2YIwvu+34qf78ybOjWTnWwkgR36d7JqJOrW0hHmNrKg9xhiS4+1jFmrxymh03B0w+6kURIAu3yHtOD5oaUNojMnGgbcctNvwdAnyxvxRR+/vaJnjzbpzcZX+nN1SdGv85i9eH8w3qPO+mdm/y4dnQ1iI8Fq6Nf4cxL6GWSjiFDSs0VRnxC5g0xSB2cgHpaseTxfqOv5uoHkNQ6Ha/N1Yz9mNMppEkEkYKj79q6uCq4bCHcSX3fJ0Vk/k9siASjCm1N6gZH6Ec9IXt2WkFES2K/ixoIyktJPAu/ptOA1SgO5zqtr6KASJPF0nMV8dgMsRhRPOcMwqQAOoi0VAIMLAEWJ6YYC1c8ibj1GP51RqwzYwZVMHQuvOzMCBUtb2tGHx5NAdLKqp5AX7Ng4d+Zi8AGDI9z1ijx9yaCH04y3GCP2S+QcvaGl+pcxyUBvinFlawoDQjHSelX8hQEoIrAq8p/mgC88HOS1YCl/BRgAmiD/1gn6Nu8AAAAASUVORK5CYII=) no-repeat left center;\n\
}\n\
/* validateLineSortedReset */\n\
/* border */\n\
.swggUiContainer input,\n\
.swggUiContainer pre,\n\
.swggUiContainer select,\n\
.swggUiContainer textarea {\n\
    border: 1px solid #999;\n\
}\n\
.swggUiContainer .borderBottom1Px {\n\
    border-bottom: 1px solid #777;\n\
}\n\
.swggUiContainer .button {\n\
    border: 1px solid #35b;\n\
    border-radius: 5px;\n\
}\n\
.swggUiContainer .resource > .thead > .td2 {\n\
    border-left: 1px solid #037;\n\
}\n\
/* validateLineSortedReset */\n\
/* color */\n\
.swggUiContainer a,\n\
.swggUiContainer .button,\n\
.swggUiContainer .operation > .thead,\n\
.swggUiContainer .resource > .thead {\n\
    color: #35b;\n\
}\n\
.swggUiContainer code {\n\
    color: #333;\n\
}\n\
.swggUiContainer .color777 {\n\
    color: #777;\n\
}\n\
.swggUiContainer .label {\n\
    color: #373;\n\
}\n\
.swggUiContainer .multilinePlaceholderPre {\n\
    color: #999;\n\
}\n\
.swggUiContainer .operation > .thead > .td2,\n\
.swggUiContainer .resource > .thead,\n\
.swggUiContainer > .thead > .td1 {\n\
    color: #fff;\n\
}\n\
.swggUiContainer .thead,\n\
.swggUiContainer .tr {\n\
    display: flex;\n\
}\n\
/* validateLineSortedReset */\n\
/* flex */\n\
.swggUiContainer .operation > .thead > .td3 {\n\
    flex: 1;\n\
}\n\
.swggUiContainer .operation > .thead > .td4 {\n\
    flex: 1;\n\
}\n\
.swggUiContainer .resource > .thead > .td1 {\n\
    flex: 1;\n\
}\n\
.swggUiContainer .schemaP > .td1 {\n\
    flex: 2;\n\
}\n\
.swggUiContainer .schemaP > .td2 {\n\
    flex: 1;\n\
}\n\
.swggUiContainer .schemaP > .td3 {\n\
    flex: 4;\n\
}\n\
.swggUiContainer .schemaP > .td4 {\n\
    flex: 3;\n\
}\n\
.swggUiContainer .schemaResponse > .td1 {\n\
    flex: 1;\n\
}\n\
.swggUiContainer .schemaResponse > .td2 {\n\
    flex: 4;\n\
}\n\
.swggUiContainer > .thead > .td2 {\n\
    flex: 4;\n\
}\n\
.swggUiContainer > .thead > .td3 {\n\
    flex: 1;\n\
}\n\
/* validateLineSortedReset */\n\
/* margin */\n\
.swggUiContainer li {\n\
    margin-top: 10px;\n\
}\n\
.swggUiContainer ol,\n\
.swggUiContainer ul,\n\
.swggUiContainer .td {\n\
    margin-left: 20px;\n\
}\n\
.swggUiContainer .description,\n\
.swggUiContainer .label,\n\
.swggUiContainer .operation,\n\
.swggUiContainer .operation > form > div,\n\
.swggUiContainer .operation > form > pre,\n\
.swggUiContainer .resource,\n\
.swggUiContainer > div,\n\
.swggUiContainer > ol,\n\
.swggUiContainer > pre,\n\
.swggUiContainer > .info > div,\n\
.swggUiContainer > .info > ul,\n\
.swggUiContainer > .info > .button,\n\
.swggUiContainer > .info > .hx {\n\
    margin-top: 20px;\n\
}\n\
.swggUiContainer .label {\n\
    margin-bottom: -19px;\n\
}\n\
.swggUiContainer .operation > form > .button {\n\
    margin: 40px 0 20px 0;\n\
}\n\
.swggUiContainer .resource > ol,\n\
.swggUiContainer .resource > .thead > .td,\n\
.swggUiContainer .td:first-child,\n\
.swggUiContainer > ol {\n\
    margin-left: 0;\n\
}\n\
.swggUiContainer .resource > ol > .description {\n\
    margin-top: 0;\n\
}\n\
/* validateLineSortedReset */\n\
/* padding */\n\
.swggUiContainer code {\n\
    padding: 2px;\n\
}\n\
.swggUiContainer input {\n\
    padding: 0 5px;\n\
}\n\
.swggUiContainer pre,\n\
.swggUiContainer textarea {\n\
    padding: 5px;\n\
}\n\
.swggUiContainer .button,\n\
.swggUiContainer .resource > .thead > .td,\n\
.swggUiContainer > .thead {\n\
    padding: 10px 20px;\n\
}\n\
.swggUiContainer .description {\n\
    padding: 20px;\n\
}\n\
.swggUiContainer .operation > form {\n\
    padding: 0 20px;\n\
}\n\
.swggUiContainer .operation > form .td1 {\n\
    padding-left: 0;\n\
}\n\
.swggUiContainer .operation > .thead {\n\
    padding: 0 20px;\n\
}\n\
.swggUiContainer .operation > .thead > .td {\n\
    padding: 10px 0;\n\
}\n\
.swggUiContainer > .thead > .td1 {\n\
    padding-left: 40px;\n\
    padding-top: 4px;\n\
}\n\
/* validateLineSortedReset */\n\
/* .textOverflowEllipsis */\n\
.swggUiContainer .textOverflowEllipsis {\n\
    overflow: hidden;\n\
    text-overflow: ellipsis;\n\
    white-space: nowrap;\n\
}\n\
/* validateLineSortedReset */\n\
/* @media */\n\
@media screen and (max-width: 640px) {\n\
    .swggUiContainer .operation {\n\
        font-size: small;\n\
    }\n\
    .swggUiContainer .resource > .thead > .td {\n\
        flex: 1;\n\
    }\n\
    .swggUiContainer > .thead {\n\
        display: block;\n\
        padding: 0;\n\
    }\n\
    .swggUiContainer > .thead > .td {\n\
        display: block;\n\
        margin: 0;\n\
        width: 100%;\n\
    }\n\
}\n\
/* validateLineSortedReset */\n\
/* hover */\n\
.swggUiContainer a:hover,\n\
.swggUiContainer .resource > .thead > .td:hover,\n\
.swggUiContainer > .thead > .td1:hover {\n\
    color: #037;\n\
}\n\
.swggUiContainer .button:hover,\n\
.swggUiContainer .operation > .thead:hover {\n\
    background: #bbf;\n\
}\n\
/* validateLineSortedReset */\n\
/* error */\n\
.swggUiContainer button.hasError,\n\
.swggUiContainer pre.hasError,\n\
.swggUiContainer textarea.hasError {\n\
    background: #fbb;\n\
}\n\
.swggUiContainer input.hasError,\n\
.swggUiContainer select.hasError {\n\
    border: 5px solid #d00;\n\
}\n\
</style>\n\
')
    .replace((/\n<\/script>\n[\S\s]*\n<\/html>\n/), '\
\n\
</script>\n\
<div class="swggUiContainer" style="margin: 0 auto; max-width: 1200px;">\n\
' + local.templateRender(local.templateUiMain, {
    ajaxProgressText: 'loading script',
    apiKeyValue: '',
    urlSwaggerJson: ''
}) + '\
</div>\n\
<script>\n\
/*jslint\n\
    bitwise: true,\n\
    browser: true,\n\
    maxerr: 4,\n\
    maxlen: 100,\n\
    node: true,\n\
    nomen: true,\n\
    regexp: true,\n\
    stupid: true\n\
*/\n\
"use strict";\n\
document.querySelector(".swggUiContainer > .thead > .td2").value =\n\
    ((/\\bmodeSwaggerJsonUrl=([^&]+)/g).exec(location.search) || {})[1] ||\n\
        "assets.swgg.swagger.json";\n\
</script>\n\
<script src="assets.utility2.rollup.js"></script>\n\
<script>\n\
/*jslint browser: true*/\n\
window.local = window.local || window.swgg;\n\
window.swgg.uiEventListenerDict[".onEventUiReload"]({ swggInit: true });\n\
</script>\n\
</body>\n\
</html>\n\
');
/* jslint-ignore-end */
        local.assetsDict['/assets.swgg.swagger.schema.json'] = local.jsonStringifyOrdered(
            local.objectSetOverride(
                JSON.parse(local.assetsDict['/assets.swgg.json-schema.json'].replace(
                    (/"\$ref":".*?#/g),
                    '"$ref":"http://json-schema.org/draft-04/schema#'
                )),
                JSON.parse(local.assetsDict['/assets.swgg.schema.json'].replace(
                    (/"\$ref":".*?#/g),
                    '"$ref":"http://json-schema.org/draft-04/schema#'
                )),
                2
            )
        );
        local.swaggerSchemaJson = JSON.parse(local.assetsDict['/assets.swgg.swagger.schema.json']);
    }());



    // run shared js-env code - function
    (function () {
        local.apiAjax = function (self, options, onError) {
        /*
         * this function will send a swagger-api ajax-request with the operation self
         */
            var tmp;
            local.objectSetDefault(options, { data: '', operation: self, paramDict: {}, url: '' });
            if (options.modeDefault) {
                local.normalizeSwaggerParamDict(options);
            }
            // try to validate paramDict
            options.error = local.swaggerValidateDataParameters({
                // normalize paramDict
                data: local.normalizeSwaggerParamDict({
                    modeNoDefault: options.modeNoDefault,
                    operation: self,
                    paramDict: local.jsonCopy(options.paramDict)
                }).paramDict,
                dataReadonlyRemove: options.paramDict,
                prefix: ['operation', self._methodPath],
                parameters: self.parameters,
                swaggerJson: local.swaggerJson
            })[0];
            // init options-defaults
            local.objectSetDefault(options, {
                inForm: self._consumes0 === 'multipart/form-data'
                    ? new local.FormData()
                    : '',
                inHeader: {},
                inPath: self._path.replace((/#.*?$/), ''),
                inQuery: '',
                headers: {},
                method: self._method,
                responseType: self._consumes0.indexOf('application/octet-stream') === 0
                    ? 'arraybuffer'
                    : ''
            });
            // init paramDict
            self.parameters.forEach(function (schemaP) {
                tmp = options.paramDict[schemaP.name];
                if (local.isNullOrUndefined(tmp)) {
                    return;
                }
                // serialize array
                if (Array.isArray(tmp) && schemaP.in !== 'body') {
                    switch (schemaP.collectionFormat || schemaP['x-swgg-collectionFormat']) {
                    case 'json':
                        tmp = JSON.stringify(tmp);
                        break;
                    case 'multi':
                        tmp.forEach(function (value) {
                            options[schemaP.in === 'formData'
                                ? 'inForm'
                                : 'inQuery'] += '&' + encodeURIComponent(schemaP.name) + '=' +
                                encodeURIComponent(local.schemaPItemsType(schemaP) === 'string'
                                    ? value
                                    : JSON.stringify(value));
                        });
                        return;
                    case 'pipes':
                        tmp = tmp.join('|');
                        break;
                    case 'ssv':
                        tmp = tmp.join(' ');
                        break;
                    case 'tsv':
                        tmp = tmp.join('\t');
                        break;
                    // default to csv
                    default:
                        tmp = tmp.join(',');
                    }
                } else if (typeof tmp !== 'string' && !(tmp instanceof local.Blob)) {
                    tmp = JSON.stringify(tmp);
                }
                switch (schemaP.in) {
                case 'body':
                    options.inBody = tmp;
                    break;
                case 'formData':
                    switch (self._consumes0) {
                    case 'multipart/form-data':
                        options.inForm.append(schemaP.name, tmp, tmp && tmp.name);
                        break;
                    case 'application/xml':
                        // init xml header
                        if (!options.inForm) {
                            options.inForm += '<?xml version="1.0"?>';
                        }
                        options.inForm += '\n<' + schemaP.name + '>' + '<![CDATA[' +
                            tmp.replace((/\]\]>/g), ']]&#x3e;') + ']]></' + schemaP.name + '>';
                        break;
                    default:
                        if (options.inForm) {
                            options.inForm += '&';
                        }
                        options.inForm += encodeURIComponent(schemaP.name) + '=' +
                            encodeURIComponent(tmp);
                    }
                    break;
                case 'header':
                    options.inHeader[encodeURIComponent(schemaP.name.toLowerCase())] = tmp;
                    break;
                case 'query':
                    options.inQuery += '&' + encodeURIComponent(schemaP.name) + '=' +
                        encodeURIComponent(tmp);
                    break;
                case 'path':
                    options.inPath = options.inPath
                        .replace('{' + schemaP.name + '}', encodeURIComponent(tmp));
                    break;
                }
            });
            // init data
            options.data = options.inBody || options.inForm;
            // init headers
            local.objectSetOverride(options.headers, options.inHeader);
            // init headers - Content-Type
            options.headers['Content-Type'] = self._consumes0;
            // init headers - Authorization
            options.jwtEncrypted = options.jwtEncrypted || local.userJwtEncrypted;
            if (options.jwtEncrypted) {
                options.headers.Authorization = options.headers.Authorization ||
                    'Bearer ' + options.jwtEncrypted;
            }
            // init url
            options.url = '';
            options.url += (self['x-swgg-schemes'] || local.swaggerJson.schemes || [])[0] ||
                local.urlParse('').protocol.slice(0, -1);
            options.url += '://';
            options.url += self['x-swgg-host'] || local.swaggerJson.host || local.urlParse('').host;
            options.url += local.swaggerJsonBasePath;
            options.url += options.inPath + '?' + options.inQuery.slice(1);
            options.url = options.url.replace((/\?$/), '');
            if (options.error || options.modeValidate) {
                onError(options.error);
                return;
            }
            // send ajax-request
            return local.ajax(options, function (error, xhr) {
                // try to init responseJson
                local.tryCatchOnError(function () {
                    xhr.responseJson = JSON.parse(xhr.responseText);
                }, local.nop);
                // init userJwtEncrypted
                if (xhr.getResponseHeader('swgg-jwt-encrypted')) {
                    local.userJwtEncrypted = xhr.getResponseHeader('swgg-jwt-encrypted');
                }
                onError(error, xhr);
            });
        };

        local.apiUpdate = function (swaggerJson) {
        /*
         * this function will update the swagger-api dict of api-calls
         */
            var tmp;
            swaggerJson = swaggerJson || {};
            // normalize swaggerJson
            swaggerJson = local.normalizeSwaggerJson(swaggerJson, {
                objectSetDescription: function (dict) {
                    if (typeof dict === 'object' && dict && !dict.$ref) {
                        if (Array.isArray(dict['x-swgg-descriptionLineList'])) {
                            dict.description = dict['x-swgg-descriptionLineList'].join('\n');
                        }
                        if (!(dict === swaggerJson.externalDocs || dict === swaggerJson.info)) {
                            dict.description = dict.description || 'no description';
                        }
                    }
                }
            });
            // init apiDict
            local.apiDict = local.apiDict || {};
            // init swaggerJson
            local.swaggerJson = local.swaggerJson || {
                "basePath": "/api/v0",
                "definitions": {
                    "BuiltinFile": {
                        "properties": {
                            "_id": {
                                "readOnly": true,
                                "type": "string"
                            },
                            "_timeCreated": {
                                "format": "date-time",
                                "readOnly": true,
                                "type": "string"
                            },
                            "_timeUpdated": {
                                "format": "date-time",
                                "readOnly": true,
                                "type": "string"
                            },
                            "fileBlob": {
                                "format": "byte",
                                "type": "string"
                            },
                            "fileContentType": {
                                "type": "string"
                            },
                            "fileDescription": {
                                "type": "string"
                            },
                            "fileFilename": {
                                "type": "string"
                            },
                            "fileInputName": {
                                "type": "string"
                            },
                            "fileSize": {
                                "minimum": 0,
                                "type": "integer"
                            },
                            "fileUrl": {
                                "type": "string"
                            },
                            "id": {
                                "type": "string"
                            }
                        }
                    },
                    "BuiltinJsonapiResponse": {
                        "properties": {
                            "data": {
                                "items": {
                                    "type": "object"
                                },
                                "type": "array"
                            },
                            "errors": {
                                "items": {
                                    "type": "object"
                                },
                                "type": "array"
                            },
                            "meta": {
                                "type": "object"
                            }
                        }
                    },
                    "BuiltinUser": {
                        "properties": {
                            "_id": {
                                "readOnly": true,
                                "type": "string"
                            },
                            "_timeCreated": {
                                "format": "date-time",
                                "readOnly": true,
                                "type": "string"
                            },
                            "_timeUpdated": {
                                "format": "date-time",
                                "readOnly": true,
                                "type": "string"
                            },
                            "id": {
                                "type": "string"
                            },
                            "jwtEncrypted": {
                                "type": "string"
                            },
                            "password": {
                                "format": "password",
                                "type": "string"
                            },
                            "username": {
                                "type": "string"
                            }
                        }
                    }
                },
                "info": {
                    "title": "swgg api",
                    "version": "0.0.1"
                },
                "paths": {},
                "securityDefinitions": {},
                "swagger": "2.0",
                "tags": []
            };
            // save tags
            tmp = {};
            [local.swaggerJson.tags, swaggerJson.tags].forEach(function (tagList) {
                tagList.forEach(function (tag) {
                    tmp[tag.name] = local.objectSetOverride(tmp[tag.name], tag);
                });
            });
            local.swaggerJson['x-swgg-tagNameList'] = Object.keys(tmp).sort();
            tmp = local.swaggerJson['x-swgg-tagNameList'].map(function (key) {
                return tmp[key];
            });
            // merge swaggerJson into local.swaggerJson
            swaggerJson = local.objectSetOverride(local.swaggerJson, swaggerJson, 10);
            // restore tags
            local.swaggerJson.tags = tmp;
            // init swaggerJsonBasePath
            local.swaggerJsonBasePath = local.swaggerJson.basePath === '/'
                ? ''
                : local.swaggerJson.basePath;
            Object.keys(swaggerJson.definitions).forEach(function (schemaName) {
                tmp = swaggerJson.definitions[schemaName] = local.jsonCopy(
                    local.swaggerValidateDataSchema({
                        // dereference definition
                        modeDereference: true,
                        prefix: ['swaggerJson', 'definitions', schemaName],
                        schema: swaggerJson.definitions[schemaName],
                        swaggerJson: local.swaggerJson
                    })
                );
                (tmp.allOf || []).forEach(function (element) {
                    local.objectSetDefault(tmp, local.jsonCopy(local.swaggerValidateDataSchema({
                        // dereference definition.allOf
                        modeDereference: true,
                        prefix: ['swaggerJson', 'definitions', schemaName, 'allOf'],
                        schema: element,
                        swaggerJson: local.swaggerJson
                    })), 2);
                });
                tmp.allOf = undefined;
            });
            // init apiDict from paths
            Object.keys(swaggerJson.paths).forEach(function (path) {
                Object.keys(swaggerJson.paths[path]).forEach(function (method) {
                    var self;
                    self = local.jsonCopy(swaggerJson.paths[path][method]);
                    self._method = method.toUpperCase();
                    self._path = path;
                    tmp = 'operationId.' + self.operationId;
                    local.apiDict[tmp] = local.objectSetOverride(local.apiDict[tmp], self);
                });
            });
            // init apiDict from x-swgg-apiDict
            Object.keys(swaggerJson['x-swgg-apiDict'] || {}).forEach(function (key) {
                // init self
                local.apiDict[key] = local.objectSetOverride(
                    local.apiDict[key],
                    local.jsonCopy(swaggerJson['x-swgg-apiDict'][key])
                );
            });
            // init apiDict
            Object.keys(local.apiDict).forEach(function (key) {
                var self;
                if (key.indexOf('operationId.') !== 0) {
                    return;
                }
                key = key.split('.');
                self = local.apiDict[key.join('.')];
                // init operationId
                self.operationId = self.operationId || key.slice(1).join('.');
                // init _crudType
                self._crudType = self._crudType || key.slice(2);
                self._crudType[0] = self._crudType[0] || self.operationId;
                // init _fileUploadNumber
                self._fileUploadNumber = Number(
                    self._crudType[0] === 'fileUploadManyByForm' && self._crudType[1]
                ) || 1;
                // init _idBackend and _idName
                tmp = local.idNameInit({ crudType: self._crudType });
                self._idBackend = tmp.idBackend;
                self._idName = tmp.idName;
                // init tags
                self.tags = self.tags || [];
                self.tags[0] = self.tags[0] || key[1];
                // init templateApiDict
                if (local.templateApiDict[self._crudType[0]]) {
                    local.objectSetDefault(
                        self,
                        JSON.parse(local.templateApiDict[self._crudType[0]]
                            .replace((/\{\{_fileUploadNumber\}\}/g), self._fileUploadNumber)
                            .replace((/\{\{_idBackend\}\}/g), self._idBackend)
                            .replace((/\{\{_idName\}\}/g), self._idName)
                            .replace((/\{\{_operationId\}\}/g), self.operationId)
                            .replace((/\{\{_schemaName\}\}/g), self._schemaName)
                            .replace((/\{\{_tags0\}\}/g), self.tags[0]))
                    );
                }
                // init default
                local.objectSetDefault(self, {
                    _schemaPDict: {},
                    consumes: [],
                    parameters: [],
                    responses: { 200: {
                        description: 'ok - ' + 'http://jsonapi.org/format/#document-top-level',
                        schema: { $ref: '#/definitions/BuiltinJsonapiResponse' }
                    } },
                    tags: []
                });
                // init _consumes0
                tmp = self['x-swgg-consumes0'] || (self.consumes && self.consumes[0]);
                self.parameters.some(function (schemaP) {
                    tmp = tmp ||
                        (schemaP.in === 'body' && schemaP.schema.type === 'string' && 'text/plain');
                    return tmp;
                });
                self._consumes0 = tmp || 'application/json';
                // init _methodPath
                self._methodPath = self._method + ' ' + self._path.replace((/\{.*?\}/g), '{}');
                self.parameters.forEach(function (schemaP) {
                    // dereference schemaP.$ref
                    String(schemaP['x-swgg-$ref'] || schemaP.$ref).replace(
                        (/#\/parameters\/(.+?$)/),
                        function (match0, match1) {
                            match0 = match1;
                            local.objectSetDefault(
                                schemaP,
                                local.jsonCopy(swaggerJson.parameters[match0])
                            );
                            schemaP.$ref = undefined;
                        }
                    );
                    // init _idName.format and _idName.type
                    if (self._schemaName && schemaP.name === self._idName) {
                        schemaP.format = swaggerJson.definitions[self._schemaName]
                            .properties[self._idBackend].format;
                        schemaP.type = local.schemaPType(swaggerJson.definitions[self._schemaName]
                            .properties[self._idBackend]);
                    }
                    // init _schemaPDict
                    self._schemaPDict[schemaP.name] = schemaP;
                });
                // init required
                [
                    self['x-swgg-notRequired'],
                    self['x-swgg-required']
                ].forEach(function (element, ii) {
                    (element || []).forEach(function (name) {
                        self._schemaPDict[name].required = !!ii;
                    });
                });
                switch (self._crudType[0]) {
                // add extra file-upload forms
                case 'fileUploadManyByForm':
                    for (tmp = 1; tmp <= self._fileUploadNumber; tmp += 1) {
                        self.parameters[tmp] = local.jsonCopy(self.parameters[1]);
                        self.parameters[tmp].name = 'file' + tmp;
                    }
                    break;
                }
                // update apiDict
                self = local.apiDict[key.join('.')] = local.apiDict[self._methodPath] =
                    local.jsonCopy(self);
                // init ajax
                self.ajax = function (swaggerJson, onError) {
                    return local.apiAjax(self, swaggerJson, onError);
                };
                self._ajaxToString = self.ajax.toString()
                    .replace('{', ('{\n' +
                        '/*\n' +
                        ' * this function will run the api-call ' +
                        JSON.stringify(self._methodPath) + '\n' +
                        ' * example usage:' + ('\n' +
                        'swgg.apiDict[' + JSON.stringify(key.join('.')) + '].ajax(' +
                        JSON.stringify(local.normalizeSwaggerParamDict({
                                modeDefault: true,
                                operation: self,
                                paramDict: {}
                            }).paramDict, null, 4) +
                        ', function (error, data) {\n' +
                        '    if (error) {\n' +
                        '        console.error(error);\n' +
                        '        return;\n' +
                        '    }\n' +
                        '    console.log(data.responseJson || data.responseText);\n' +
                        '});').replace((/\n/g), '\n    ') + '\n */')
                        .replace((/\n/g), '\n                '));
                self.ajax.toString = function () {
                    return self._ajaxToString;
                };
                // remove underscored keys from self
                tmp = local.jsonCopy(self);
                Object.keys(tmp).forEach(function (key) {
                    if (key[0] === '_') {
                        tmp[key] = undefined;
                    }
                });
                // update paths
                local.objectSetOverride(swaggerJson, local.objectLiteralize({
                    paths: { '$[]': [self._path, { '$[]': [self._method.toLowerCase(), tmp] }] }
                }), 3);
            });
            // normalize swaggerJson
            local.swaggerJson = JSON.parse(local.jsonStringifyOrdered(swaggerJson));
            // try to validate swaggerJson
            local.tryCatchOnError(function () {
                local.swaggerValidate(local.swaggerJson);
            }, local.onErrorDefault);
            // init corsForwardProxyHost
            local.corsForwardProxyHost = local.corsForwardProxyHost ||
                local.swaggerJson['x-swgg-corsForwardProxyHost'];
            // init assets.swgg.swagger.server.json
            local.assetsDict['/assets.swgg.swagger.server.json'] = JSON.stringify(
                local.swaggerJson
            );
        };

        local.dbFieldRandomCreate = function (options) {
        /*
         * this function will create a random dbField from options.schemaP
         */
            var depth, ii, max, min, schemaP, value;
            depth = Number.isFinite(options.depth)
                ? options.depth
                : 3;
            schemaP = options.schemaP;
            schemaP = schemaP.schema || schemaP;
            if (schemaP.readOnly) {
                return;
            }
            // init default-value
            if (options.modeNotRandom && !local.isNullOrUndefined(schemaP.default)) {
                return local.jsonCopy(schemaP.default);
            }
            // init enum-value
            if (schemaP.enum) {
                value = options.modeNotRandom
                    ? schemaP.enum[0]
                    : local.listGetElementRandom(schemaP.enum);
                return local.schemaPType(schemaP) === 'array'
                    ? [value]
                    : value;
            }
            // init default-value
            value = null;
            switch (local.schemaPType(schemaP)) {
            case 'boolean':
                value = options.modeNotRandom
                    ? false
                    : Math.random() > 0.5
                    ? false
                    : true;
                break;
            // 5.1. Validation keywords for numeric instances (number and integer)
            case 'integer':
            case 'number':
                max = schemaP.maximum;
                min = schemaP.minimum;
                if (options.modeNotRandom) {
                    value = !(0 < min || max < 0)
                        ? 0
                        : min || max;
                } else {
                    if (!(Number.isFinite(max) && Number.isFinite(min))) {
                        if (!Number.isFinite(max) && !Number.isFinite(min)) {
                            max = 1000;
                            min = 0;
                        } else if (Number.isFinite(max)) {
                            min = max - 1000;
                        } else {
                            max = min + 1000;
                        }
                    }
                    // exclusiveMaximum and exclusiveMinimum for float
                    value = min + (max - min) * Math.max(Math.random(), min * 0.000000000000001);
                    if (local.schemaPType(schemaP) === 'integer') {
                        value = Math.round(value);
                    }
                }
                max = schemaP.maximum;
                min = schemaP.minimum;
                // exclusiveMaximum for integer
                if (schemaP.exclusiveMaximum && value === max) {
                    value -= 1;
                }
                // exclusiveMinimum for integer
                if (schemaP.exclusiveMaximum && value === min) {
                    value += 1;
                }
                // multipleOf
                if (schemaP.multipleOf > 0) {
                    value = schemaP.multipleOf * Math.floor(value / schemaP.multipleOf);
                    if (value < min || (schemaP.exclusiveMinimum && value <= min)) {
                        value += schemaP.multipleOf;
                    }
                }
                break;
            // 5.2. Validation keywords for strings
            case 'string':
                value = options.modeNotRandom
                    ? 'abcd1234'
                    : ((1 + Math.random()) * 0x10000000000000).toString(36).slice(1);
                switch (schemaP.format) {
                case 'byte':
                    value = local.base64FromString(value);
                    break;
                case 'date':
                case 'date-time':
                    value = new Date().toISOString();
                    break;
                case 'email':
                    value = value + '@example.com';
                    break;
                case 'json':
                    value = JSON.stringify({ foo: value });
                    break;
                case 'phone':
                    value = options.modeNotRandom
                        ? '+123 (1234) 1234-1234'
                        : '+' + Math.random().toString().slice(-3) +
                            ' (' + Math.random().toString().slice(-4) + ') ' +
                            Math.random().toString().slice(-4) + '-' +
                            Math.random().toString().slice(-4);
                    break;
                }
                while (value.length < schemaP.minLength) {
                    value += value;
                }
                value = value.slice(0, schemaP.maxLength || Infinity);
                break;
            // 5.3. Validation keywords for arrays
            case 'array':
                if (depth <= 0) {
                    break;
                }
                value = [];
                for (ii = 0; ii < Math.min(
                        // 5.3.2. maxItems
                        schemaP.maxItems || 2,
                        // 5.3.3. minItems
                        schemaP.minItems || 2,
                        // 5.3.4. uniqueItems
                        schemaP.uniqueItems
                            ? 2
                            : 1
                    ); ii += 1) {
                    // recurse dbFieldRandomCreate
                    value.push(local.dbFieldRandomCreate({
                        depth: depth - 1,
                        modeNotRandom: options.modeNotRandom,
                        schemaP: local.schemaPItems(schemaP)
                    }));
                }
                break;
            // 5.4. Validation keywords for objects
            default:
                if (depth <= 0) {
                    break;
                }
                // recurse dbRowRandomCreate
                value = local.dbRowRandomCreate({
                    depth: depth - 1,
                    modeNotRandom: options.modeNotRandom,
                    prefix: ['schema<' + JSON.stringify(schemaP) + '>'],
                    schema: schemaP
                });
                break;
            }
            return value;
        };

        local.dbRowListRandomCreate = function (options) {
        /*
         * this function will create a dbRowList of options.length random dbRow's
         */
            var ii;
            for (ii = 0; ii < options.length; ii += 1) {
                options.dbRowList.push(local.dbRowRandomCreate(options));
            }
            return options.dbRowList;
        };

        local.dbRowRandomCreate = function (options) {
        /*
         * this function will create a random dbRow from options.properties
         */
            var ii, dbRow, properties;
            dbRow = {};
            options = local.objectSetDefault(options, { override: local.nop, prefix: ['dbRow'] });
            properties = local.swaggerValidateDataSchema({
                // dereference property
                modeDereference: true,
                prefix: options.prefix,
                schema: options.schema,
                swaggerJson: local.swaggerJson
            });
            properties = local.jsonCopy((properties && properties.properties) || {});
            for (ii = Object.keys(properties).length;
                    ii < (options.schema && options.schema.minProperties);
                    ii += 1) {
                properties['property' + ii] = { type: 'string' };
            }
            Object.keys(properties).forEach(function (key) {
                dbRow[key] = local.dbFieldRandomCreate({
                    depth: options.depth,
                    modeNotRandom: options.modeNotRandom,
                    schemaP: local.swaggerValidateDataSchema({
                        // dereference property
                        modeDereference: true,
                        prefix: options.prefix.concat([key]),
                        schema: properties[key],
                        swaggerJson: local.swaggerJson
                    })
                });
            });
            dbRow = local.jsonCopy(local.objectSetOverride(dbRow, options.override(options)));
            // try to validate data
            local.tryCatchOnError(function () {
                local.swaggerValidateDataSchema({
                    data: dbRow,
                    prefix: options.prefix,
                    schema: options.schema,
                    swaggerJson: local.swaggerJson
                });
            }, local.onErrorDefault);
            return dbRow;
        };

        local.idDomElementCreate = function (seed) {
        /*
         * this function will create a deterministic and unique dom-element id from the seed,
         * that is both dom-selector and url friendly
         */
            local.idDomElementDict[seed] = (local.idDomElementDict[seed] || 0) + 1;
            return encodeURIComponent(
                seed + '_' + local.idDomElementDict[seed]
            ).replace((/\W/g), '_');
        };

        local.idNameInit = function (options) {
        /*
         * this function will init options.idBackend, options.idName, and options.queryById
         */
            var idBackend, idName;
            // init idName
            idName = options.idName = options.crudType[1] || 'id';
            // init idBackend
            idBackend = options.idBackend = options.crudType[2] || options.idName;
            // invert queryById
            if (options.modeQueryByIdInvert) {
                idBackend = options.idName;
                idName = options.idBackend;
            }
            // init queryById
            options.idValue = (options.data && options.data[idBackend]) || options.idValue;
            options.queryById = {};
            options.queryById[idName] = options.idValue;
            return options;
        };

        local.middlewareBodyParse = function (request, response, nextMiddleware) {
        /*
         * this function will run the middleware that will parse request.bodyRaw
         */
            var boundary, crlf, data, header, ii, jj, name;
            // if request is already parsed, then goto nextMiddleware
            if (!request.swgg.operation || !local.isNullOrUndefined(request.swgg.bodyParsed)) {
                nextMiddleware();
                return;
            }
            switch (request.swgg.operation._consumes0) {
            // parse application/x-www-form-urlencoded, e.g.
            // aa=hello%20world&bb=bye%20world
            case 'application/x-www-form-urlencoded':
                request.swgg.bodyParsed = local.bufferToString(request.bodyRaw);
                request.swgg.bodyParsed = local.urlParse('?' + request.swgg.bodyParsed, true).query;
                break;
            case 'application/xml':
                request.swgg.bodyParsed = {};
                local.bufferToString(request.bodyRaw).replace(
                    (/<(.+?)><!\[CDATA\[([\S\s]+?)\]\]>/g),
                    function (name, match1, value) {
                        name = match1;
                        name = decodeURIComponent(name);
                        request.swgg.bodyParsed[name] = local.schemaPType(
                            request.swgg.operation._schemaPDict[name]
                        ) === 'string'
                            ? value
                            : JSON.parse(value);
                    }
                );
                break;
            /*
             * https://tools.ietf.org/html/rfc7578
             * parse multipart/form-data, e.g.
             * --Boundary\r\n
             * Content-Disposition: form-data; name="key"\r\n
             * \r\n
             * value\r\n
             * --Boundary\r\n
             * Content-Disposition: form-data; name="input1"; filename="file1.png"\r\n
             * Content-Type: image/jpeg\r\n
             * \r\n
             * <data1>\r\n
             * --Boundary\r\n
             * Content-Disposition: form-data; name="input2"; filename="file2.png"\r\n
             * Content-Type: image/jpeg\r\n
             * \r\n
             * <data2>\r\n
             * --Boundary--\r\n
             */
            case 'multipart/form-data':
                request.swgg.bodyParsed = {};
                request.swgg.bodyMeta = {};
                crlf = local.bufferCreate([0x0d, 0x0a]);
                // init boundary
                ii = 0;
                jj = local.bufferIndexOfSubBuffer(request.bodyRaw, crlf, ii);
                if (jj <= 0) {
                    break;
                }
                boundary = local.bufferConcat([crlf, request.bodyRaw.slice(ii, jj)]);
                ii = jj + 2;
                while (true) {
                    jj = local.bufferIndexOfSubBuffer(
                        request.bodyRaw,
                        boundary,
                        ii
                    );
                    if (jj < 0) {
                        break;
                    }
                    header = local.bufferToString(request.bodyRaw.slice(ii, ii + 1024))
                        .split('\r\n').slice(0, 2).join('\r\n');
                    name = (/^content-disposition:.*?\bname="([^"]+)/im).exec(header);
                    name = name && name[1];
                    request.swgg.bodyMeta[name] = {
                        contentType: ((/^content-type:(.*)/im)
                        .exec(header) || {1: ''})[1].trim() || null,
                        filename: ((/^content-disposition:.*?\bfilename="([^"]+)/im)
                        .exec(header) || {1: ''})[1].trim() || null,
                        name: name
                    };
                    ii = local.bufferIndexOfSubBuffer(
                        request.bodyRaw,
                        [0x0d, 0x0a, 0x0d, 0x0a],
                        ii + 2
                    ) + 4;
                    data = request.bodyRaw.slice(ii, jj);
                    request.swgg.bodyParsed[name] = data;
                    ii = jj + boundary.length + 2;
                }
                break;
            default:
                request.swgg.bodyParsed = local.bufferToString(request.bodyRaw);
                // try to JSON.parse the string
                local.tryCatchOnError(function () {
                    request.swgg.bodyParsed = JSON.parse(request.swgg.bodyParsed);
                }, local.nop);
            }
            nextMiddleware(null, request, response);
        };

        local.middlewareCrudBuiltin = function (request, response, nextMiddleware) {
        /*
         * this function will run the middleware that will
         * run the builtin crud-operations backed by db-lite
         */
            var crud, onParallel, options, tmp, user;
            options = {};
            local.onNext(options, function (error, data, meta) {
                switch (options.modeNext) {
                case 1:
                    crud = request.swgg.crud;
                    user = request.swgg.user;
                    switch (crud.crudType[0]) {
                    case 'crudCountManyByQuery':
                        crud.dbTable.crudCountManyByQuery(crud.queryWhere, options.onNext);
                        break;
                    case 'crudSetManyById':
                        crud.dbTable.crudSetManyById(crud.body, options.onNext);
                        break;
                    case 'crudSetOneById':
                        // replace idName with idBackend in body
                        crud.body.id = undefined;
                        crud.body[crud.idName] = undefined;
                        crud.body[crud.idBackend] = crud.data[crud.idName];
                        crud.dbTable.crudSetOneById(crud.body, options.onNext);
                        break;
                    case 'crudUpdateOneById':
                        // replace idName with idBackend in body
                        crud.body.id = undefined;
                        crud.body[crud.idName] = undefined;
                        crud.body[crud.idBackend] = crud.data[crud.idName];
                        crud.dbTable.crudUpdateOneById(crud.body, options.onNext);
                        break;
                    // coverage-hack - test error handling-behavior
                    case 'crudErrorDelete':
                    case 'crudErrorGet':
                    case 'crudErrorHead':
                    case 'crudErrorOptions':
                    case 'crudErrorPatch':
                    case 'crudErrorPost':
                    case 'crudErrorPut':
                        options.onNext(local.errorDefault);
                        break;
                    case 'crudGetManyByQuery':
                        onParallel = local.onParallel(options.onNext);
                        onParallel.counter += 1;
                        crud.dbTable.crudGetManyByQuery({
                            fieldList: crud.queryFields,
                            limit: crud.queryLimit,
                            query: crud.queryWhere,
                            skip: crud.querySkip,
                            sort: crud.querySort
                        }, function (error, data) {
                            crud.queryData = data;
                            onParallel(error);
                        });
                        onParallel.counter += 1;
                        crud.dbTable.crudCountAll(function (error, data) {
                            crud.paginationCountTotal = data;
                            onParallel(error);
                        });
                        break;
                    case 'crudGetOneById':
                        crud.dbTable.crudGetOneById(crud.queryById, options.onNext);
                        break;
                    case 'crudGetOneByQuery':
                        crud.dbTable.crudGetOneByQuery({
                            query: crud.queryWhere
                        }, options.onNext);
                        break;
                    case 'crudNullDelete':
                    case 'crudNullGet':
                    case 'crudNullHead':
                    case 'crudNullOptions':
                    case 'crudNullPatch':
                    case 'crudNullPost':
                    case 'crudNullPut':
                        options.onNext();
                        break;
                    case 'crudRemoveManyByQuery':
                        crud.dbTable.crudRemoveManyByQuery(crud.queryWhere, options.onNext);
                        break;
                    case 'crudRemoveOneById':
                        crud.dbTable.crudRemoveOneById(crud.queryById, options.onNext);
                        break;
                    case 'fileGetOneById':
                        local.dbTableFile = local.db.dbTableCreateOne({ name: 'File' });
                        crud.dbTable.crudGetOneById(crud.queryById, options.onNext);
                        break;
                    case 'fileUploadManyByForm':
                        local.dbTableFile = local.db.dbTableCreateOne({ name: 'File' });
                        request.swgg.paramDict = {};
                        Object.keys(request.swgg.bodyMeta).forEach(function (key) {
                            if (typeof request.swgg.bodyMeta[key].filename !== 'string') {
                                request.swgg.paramDict[key] = local.bufferToString(
                                    request.swgg.bodyParsed[key]
                                );
                            }
                        });
                        crud.body = Object.keys(request.swgg.bodyMeta)
                            .filter(function (key) {
                                return typeof request.swgg.bodyMeta[key].filename === 'string';
                            })
                            .map(function (key) {
                                tmp = local.jsonCopy(request.swgg.paramDict);
                                tmp.id = tmp.id ||
                                    ((1 + Math.random()) * 0x10000000000000).toString(36).slice(1);
                                local.objectSetOverride(tmp, {
                                    fileBlob:
                                        local.base64FromBuffer(request.swgg.bodyParsed[key]),
                                    fileContentType: request.swgg.bodyMeta[key].contentType,
                                    fileFilename: request.swgg.bodyMeta[key].filename,
                                    fileInputName: request.swgg.bodyMeta[key].name,
                                    fileSize: request.swgg.bodyParsed[key].length,
                                    fileUrl: local.swaggerJsonBasePath +
                                        '/' + request.swgg.operation.tags[0] +
                                        '/fileGetOneById/' + tmp.id
                                });
                                return tmp;
                            });
                        local.dbTableFile.crudSetManyById(crud.body, options.onNext);
                        break;
                    case 'userLoginByPassword':
                    case 'userLogout':
                        // respond with 401 Unauthorized
                        if (!user.isAuthenticated) {
                            local.serverRespondHeadSet(request, response, 401, {});
                            request.swgg.crud.endArgList = [request, response];
                            options.modeNext = Infinity;
                            options.onNext();
                            return;
                        }
                        options.onNext();
                        break;
                    default:
                        options.modeNext = Infinity;
                        options.onNext();
                    }
                    break;
                case 2:
                    switch (crud.crudType[0]) {
                    case 'crudSetOneById':
                    case 'crudUpdateOneById':
                        options.onNext(null, data);
                        break;
                    case 'crudGetManyByQuery':
                        options.onNext(null, crud.queryData, {
                            paginationCountTotal: crud.paginationCountTotal
                        });
                        break;
                    case 'fileUploadManyByForm':
                        options.onNext(null, data.map(function (element) {
                            element.fileBlob = undefined;
                            return element;
                        }));
                        break;
                    case 'userLoginByPassword':
                        options.onNext(null, { jwtEncrypted: user.jwtEncrypted });
                        break;
                    case 'userLogout':
                        crud.dbTable.crudUpdateOneById({
                            jwtEncrypted: null,
                            username: user.username
                        }, options.onNext);
                        break;
                    default:
                        options.onNext(null, data, meta);
                    }
                    break;
                case 3:
                    switch (crud.crudType[0]) {
                    case 'fileGetOneById':
                        if (!data) {
                            local.serverRespondDefault(request, response, 404);
                            return;
                        }
                        local.serverRespondHeadSet(request, response, null, {
                            'Content-Type': data.fileContentType
                        });
                        response.end(local.base64ToBuffer(data.fileBlob));
                        break;
                    case 'userLogout':
                        options.onNext();
                        break;
                    default:
                        options.onNext(null, data, meta);
                    }
                    break;
                case 4:
                    request.swgg.crud.endArgList = [request, response, null, data, meta];
                    options.onNext();
                    break;
                default:
                    nextMiddleware(error);
                }
            });
            options.modeNext = 0;
            options.onNext();
        };

        local.middlewareCrudEnd = function (request, response, nextMiddleware) {
        /*
         * this function will run the middleware that will end the builtin crud-operations
         */
            if (request.swgg.crud.endArgList) {
                local.serverRespondJsonapi.apply(null, request.swgg.crud.endArgList);
                return;
            }
            nextMiddleware(null, request, response);
        };

        local.middlewareRouter = function (request, response, nextMiddleware) {
        /*
         * this function will run the middleware that will
         * map the request's method-path to swagger's tags[0]-crudType
         */
            var tmp;
            // init swgg object
            local.objectSetDefault(request, { swgg: { crud: { crudType: [] }, user: {} } }, 3);
            // if request.url is not prefixed with swaggerJsonBasePath,
            // then default to nextMiddleware
            if (request.urlParsed.pathname.indexOf(local.swaggerJsonBasePath) !== 0) {
                nextMiddleware();
                return;
            }
            // init methodPath
            request.swgg.methodPath = request.method + ' ' +
                request.urlParsed.pathname.replace(local.swaggerJsonBasePath, '');
            // init operation
            while (request.swgg.methodPath !== tmp) {
                request.swgg.operation = local.apiDict[request.swgg.methodPath] ||
                    // handle /foo/{id}/bar case
                    local.apiDict[
                        request.swgg.methodPath.replace((/\/[^\/]+\/([^\/]*?)$/), '/{}/$1')
                    ];
                // if operation exists, then break
                if (request.swgg.operation) {
                    request.swgg.operation = local.jsonCopy(request.swgg.operation);
                    // init crud.crudType
                    request.swgg.crud.crudType = request.swgg.operation._crudType;
                    break;
                }
                tmp = request.swgg.methodPath;
                // handle /foo/{id} case
                request.swgg.methodPath = request.swgg.methodPath.replace(
                    (/\/[^\/]+?(\/*?)$/),
                    '/$1{}'
                );
            }
            nextMiddleware(null, request, response);
        };

        local.middlewareUserLogin = function (request, response, nextMiddleware) {
        /*
         * this function will run the middleware that will handle user login
         */
            var crud, options, user;
            options = {};
            local.onNext(options, function (error, data) {
                switch (options.modeNext) {
                case 1:
                    local.dbTableUser = local.db.dbTableCreateOne({ name: 'User' });
                    crud = request.swgg.crud;
                    user = request.swgg.user = {};
                    user.jwtEncrypted = request.headers.authorization &&
                        request.headers.authorization.replace('Bearer ', '');
                    user.jwtDecrypted = local.jwtA256GcmDecrypt(user.jwtEncrypted);
                    switch (crud.crudType[0]) {
                    // coverage-hack - test error handling-behavior
                    case 'crudErrorLogin':
                        options.onNext(local.errorDefault);
                        return;
                    case 'userLoginByPassword':
                        user.password = request.urlParsed.query.password;
                        user.username = request.urlParsed.query.username;
                        if (user.password && user.username) {
                            local.dbTableUser.crudGetOneById({
                                username: user.username
                            }, options.onNext);
                            return;
                        }
                        break;
                    default:
                        if (user.jwtDecrypted.sub) {
                            // init username
                            user.username = user.jwtDecrypted.sub;
                            local.dbTableUser.crudGetOneById({
                                username: user.username
                            }, options.onNext);
                            return;
                        }
                    }
                    options.modeNext = Infinity;
                    options.onNext();
                    break;
                case 2:
                    switch (crud.crudType[0]) {
                    case 'userLoginByPassword':
                        user.data = data;
                        if (!local.sjclHashScryptValidate(
                                user.password,
                                user.data && user.data.password
                            )) {
                            options.modeNext = Infinity;
                            options.onNext();
                            return;
                        }
                        // init isAuthenticated
                        user.isAuthenticated = true;
                        // create JSON Web Token (JWT)
                        // https://tools.ietf.org/html/rfc7519
                        user.jwtDecrypted = {};
                        user.jwtDecrypted.sub = user.data.username;
                        // update jwtEncrypted in client
                        user.jwtEncrypted = local.jwtA256GcmEncrypt(user.jwtDecrypted);
                        local.serverRespondHeadSet(request, response, null, {
                            'swgg-jwt-encrypted': user.jwtEncrypted
                        });
                        // update jwtEncrypted in dbTableUser
                        local.dbTableUser.crudUpdateOneById({
                            jwtEncrypted: user.jwtEncrypted,
                            username: user.jwtDecrypted.sub
                        }, options.onNext);
                        return;
                    default:
                        data = user.data = data || {};
                        if (data.jwtEncrypted) {
                            // init isAuthenticated
                            user.isAuthenticated = true;
                            // update jwtEncrypted in client
                            if (data.jwtEncrypted !== user.jwtEncrypted) {
                                user.jwtEncrypted = data.jwtEncrypted;
                                user.jwtDecrypted = local.jwtA256GcmDecrypt(user.jwtEncrypted);
                                local.serverRespondHeadSet(request, response, null, {
                                    'swgg-jwt-encrypted': user.jwtEncrypted
                                });
                            }
                        }
                    }
                    options.onNext();
                    break;
                default:
                    nextMiddleware(error);
                }
            });
            options.modeNext = 0;
            options.onNext();
        };

        local.middlewareValidate = function (request, response, nextMiddleware) {
        /*
         * this function will run the middleware that will validate the swagger-request
         */
            var crud, options, tmp;
            options = {};
            local.onNext(options, function (error) {
                switch (options.modeNext) {
                case 1:
                    if (!request.swgg.operation) {
                        options.modeNext = Infinity;
                        options.onNext();
                        return;
                    }
                    // init paramDict
                    request.swgg.paramDict = {};
                    // parse path param
                    tmp = request.urlParsed.pathname
                        .replace(local.swaggerJsonBasePath, '')
                        .split('/');
                    request.swgg.operation._path.split('/').forEach(function (key, ii) {
                        if ((/^\{\S*?\}$/).test(key)) {
                            request.swgg.paramDict[key.slice(1, -1)] = decodeURIComponent(tmp[ii]);
                        }
                    });
                    request.swgg.operation.parameters.forEach(function (schemaP) {
                        switch (schemaP.in) {
                        // parse body param
                        case 'body':
                            request.swgg.paramDict[schemaP.name] = request.swgg.bodyParsed ||
                                undefined;
                            break;
                        // parse formData param
                        case 'formData':
                            switch (request.swgg.operation._consumes0) {
                            case 'application/x-www-form-urlencoded':
                            case 'application/xml':
                                request.swgg.paramDict[schemaP.name] =
                                    request.swgg.bodyParsed[schemaP.name];
                                break;
                            }
                            break;
                        // parse header param
                        case 'header':
                            request.swgg.paramDict[schemaP.name] =
                                request.headers[schemaP.name.toLowerCase()];
                            break;
                        // parse query param
                        case 'query':
                            request.swgg.paramDict[schemaP.name] =
                                request.urlParsed.query[schemaP.name];
                            break;
                        }
                        // parse array-multi
                        tmp = request.swgg.paramDict[schemaP.name];
                        if (tmp &&
                                local.schemaPType(schemaP) === 'array' &&
                                schemaP.collectionFormat === 'multi') {
                            request.swgg.paramDict[schemaP.name] =
                                encodeURIComponent(schemaP.name) + '=' + (Array.isArray(tmp)
                                ? tmp
                                : [tmp]).join('&' + encodeURIComponent(schemaP.name) + '=');
                        }
                        // init default param
                        if (local.isNullOrUndefined(request.swgg.paramDict[schemaP.name]) &&
                                schemaP.default !== undefined) {
                            request.swgg.paramDict[schemaP.name] = local.jsonCopy(
                                schemaP.default
                            );
                        }
                    });
                    // normalize paramDict
                    local.normalizeSwaggerParamDict(request.swgg);
                    // validate paramDict
                    error = local.swaggerValidateDataParameters({
                        data: request.swgg.paramDict,
                        prefix: ['operation', request.swgg.methodPath],
                        parameters: request.swgg.operation.parameters,
                        swaggerJson: local.swaggerJson
                    })[0];
                    options.onNext(error);
                    break;
                case 2:
                    // init crud
                    crud = request.swgg.crud;
                    // init crud.dbTable
                    crud.dbTable = request.swgg.operation &&
                        request.swgg.operation._schemaName &&
                        local.db.dbTableCreateOne({ name: request.swgg.operation._schemaName });
                    if (!crud.dbTable) {
                        nextMiddleware();
                        return;
                    }
                    // init crud.body
                    if (request.swgg.operation._consumes0 !== 'multipart/form-data') {
                        crud.body = local.jsonCopy(request.swgg.bodyParsed);
                    }
                    // init crud.data
                    crud.data = local.jsonCopy(request.swgg.paramDict);
                    request.swgg.operation.parameters.forEach(function (schemaP) {
                        // JSON.parse json-string
                        if (schemaP.format === 'json' &&
                                local.schemaPType(schemaP) === 'string' &&
                                crud.data[schemaP.name]) {
                            crud.data[schemaP.name] = JSON.parse(crud.data[schemaP.name]);
                        }
                    });
                    // init crud.query*
                    [{
                        key: 'queryFields',
                        value: {}
                    }, {
                        key: 'queryLimit',
                        value: 100
                    }, {
                        key: 'querySkip',
                        value: 0
                    }, {
                        key: 'querySort',
                        value: [{
                            fieldName: 'id'
                        }, {
                            fieldName: '_timeUpdated',
                            isDescending: true
                        }]
                    }, {
                        key: 'queryWhere',
                        value: {}
                    }].forEach(function (element) {
                        crud[element.key] = crud.data['_' + element.key] || JSON.parse(
                            local.templateRender(
                                request.swgg.operation['_' + element.key] || 'null',
                                request.swgg.paramDict,
                                { notHtmlSafe: true }
                            )
                        ) || element.value;
                    });
                    // init-before crud.idName
                    crud.modeQueryByIdInvert = true;
                    local.idNameInit(crud);
                    // init crud.data.id
                    switch (crud.crudType[0]) {
                    case 'crudSetOneById':
                    case 'crudUpdateOneById':
                        if (!local.isNullOrUndefined(crud.data[crud.idName])) {
                            break;
                        }
                        crud.data[crud.idName] = (crud.body && crud.body[crud.idBackend]);
                        break;
                    }
                    // init-after crud.idName
                    crud.modeQueryByIdInvert = true;
                    local.idNameInit(crud);
                    nextMiddleware();
                    break;
                default:
                    nextMiddleware(error, request, response);
                }
            });
            options.modeNext = 0;
            options.onNext();
        };

        local.normalizeSwaggerJson = function (swaggerJson, options) {
        /*
         * this function will normalize swaggerJson and filter $npm_package_swggTags0
         */
            var pathDict, tmp;
            options = local.objectSetDefault(options, {
                objectSetDescription: function (dict) {
                    if (dict &&
                            dict.description &&
                            Array.isArray(dict['x-swgg-descriptionLineList'])) {
                        delete dict.description;
                    }
                }
            });
            local.objectSetDefault(swaggerJson, { paths: {}, tags: [] });
            // fix error - semanticPaths2
            pathDict = {};
            Object.keys(swaggerJson.paths).forEach(function (path) {
                tmp = path.replace((/\{.*?\}/g), '{}');
                pathDict[tmp] = pathDict[tmp] || {};
                pathDict[tmp][path] = true;
            });
            Object.keys(pathDict).forEach(function (key) {
                Object.keys(pathDict[key]).sort().forEach(function (path, ii) {
                    // fix error.semanticUniquePath
                    if (ii && swaggerJson['x-swgg-fixErrorSemanticUniquePath']) {
                        swaggerJson.paths[path + '#' + ii] = swaggerJson.paths[path];
                        delete swaggerJson.paths[path];
                    }
                });
            });
            Object.keys(swaggerJson.paths).forEach(function (path) {
                Object.keys(swaggerJson.paths[path]).forEach(function (method) {
                    tmp = swaggerJson.paths[path][method];
                    // auto-create operationId from path
                    if (swaggerJson['x-swgg-operationIdFromPath'] ||
                            tmp['x-swgg-operationIdFromPath'] ||
                            !tmp.operationId) {
                        tmp.operationId = local.operationIdFromAjax({ method: method, url: path });
                    }
                    // normalize parameter.required
                    (tmp.parameters || []).forEach(function (schemaP) {
                        if (schemaP.required === false) {
                            delete schemaP.required;
                        }
                    });
                });
            });
            // override tag.description with x-swgg-tags0-override
            if (swaggerJson['x-swgg-tags0-override']) {
                swaggerJson.tags.forEach(function (tag) {
                    tmp = local.objectSetDefault(swaggerJson['x-swgg-tags0-override'][tag.name], {
                        description: tag.description,
                        'x-swgg-descriptionLineList': tag['x-swgg-descriptionLineList']
                    });
                    tag.description = tmp.description;
                    tag['x-swgg-descriptionLineList'] = tmp['x-swgg-descriptionLineList'];
                    // objectSetDescription
                    options.objectSetDescription(tmp);
                    options.objectSetDescription(tag);
                });
            }
            // apply options.objectSetDescription
            [swaggerJson.externalDocs, swaggerJson.info].forEach(options.objectSetDescription);
            [
                swaggerJson.definitions,
                swaggerJson.parameters,
                swaggerJson.responses
            ].forEach(function (dict) {
                Object.keys(dict || {}).forEach(function (key) {
                    tmp = dict[key];
                    if (dict === swaggerJson.definitions) {
                        tmp = tmp.properties || {};
                        Object.keys(tmp).forEach(function (key) {
                            options.objectSetDescription(tmp[key]);
                        });
                        return;
                    }
                    options.objectSetDescription(tmp);
                });
            });
            Object.keys(swaggerJson.paths).forEach(function (path) {
                Object.keys(swaggerJson.paths[path]).forEach(function (method) {
                    tmp = swaggerJson.paths[path][method];
                    options.objectSetDescription(tmp);
                    (tmp.parameters || []).forEach(options.objectSetDescription);
                    Object.keys(tmp.responses || {}).forEach(function (key) {
                        options.objectSetDescription(tmp.responses[key]);
                    });
                });
            });
            if (!local.env.npm_package_swggTags0 ||
                    (/-all$/).test(local.env.npm_package_swggTags0)) {
                return swaggerJson;
            }
            // override swaggerJson with x-swgg-tags0-override
            local.objectSetOverride(swaggerJson, swaggerJson['x-swgg-tags0-override'] &&
                swaggerJson['x-swgg-tags0-override'][local.env.npm_package_swggTags0], 10);
            // filter $npm_package_swggTags0 - definitions and parameters
            ['definitions', 'parameters', 'responses'].forEach(function (schema) {
                schema = swaggerJson[schema] || {};
                Object.keys(schema).forEach(function (key) {
                    tmp = schema[key]['x-swgg-tags0'];
                    if (tmp && tmp !== 'all' && tmp !== local.env.npm_package_swggTags0) {
                        delete schema[key];
                    }
                });
            });
            // filter $npm_package_swggTags0 - paths
            Object.keys(swaggerJson.paths).forEach(function (path) {
                Object.keys(swaggerJson.paths[path]).forEach(function (method) {
                    tmp = swaggerJson.paths[path][method]['x-swgg-tags0'];
                    if (tmp && tmp !== 'all' && tmp !== local.env.npm_package_swggTags0) {
                        delete swaggerJson.paths[path][method];
                        return;
                    }
                });
                if (!Object.keys(swaggerJson.paths[path]).length) {
                    delete swaggerJson.paths[path];
                }
            });
            // filter $npm_package_swggTags0 - tags
            swaggerJson.tags = swaggerJson.tags.filter(function (tag) {
                return !tag['x-swgg-tags0'] ||
                    tmp['x-swgg-tags0'] === 'all' ||
                    tag['x-swgg-tags0'] === local.env.npm_package_swggTags0;
            });
            return swaggerJson;
        };

        local.normalizeSwaggerParamDict = function (options) {
        /*
         * this function will parse the options according to options.operation.parameters
         */
            var tmp;
            options.operation.parameters.forEach(function (schemaP) {
                tmp = options.paramDict[schemaP.name];
                // init default value
                if (!options.modeNoDefault &&
                        (options.modeDefault || schemaP.required) &&
                        local.isNullOrUndefined(tmp)) {
                    tmp = local.jsonCopy(schemaP.default);
                }
                if (options.modeDefault && local.isNullOrUndefined(tmp)) {
                    tmp = local.dbFieldRandomCreate({
                        modeNotRandom: true,
                        schemaP: schemaP
                    });
                }
                // parse array
                if (local.schemaPType(schemaP) === 'array' && schemaP.in !== 'body') {
                    if (typeof tmp === 'string') {
                        switch (schemaP.collectionFormat || schemaP['x-swgg-collectionFormat']) {
                        case 'json':
                            local.tryCatchOnError(function () {
                                tmp = JSON.parse(tmp);
                            }, local.nop);
                            options.paramDict[schemaP.name] = tmp;
                            return;
                        case 'multi':
                            tmp = local.urlParse('?' + tmp, true).query[schemaP.name];
                            if (!Array.isArray(tmp)) {
                                tmp = [tmp];
                            }
                            break;
                        case 'pipes':
                            tmp = tmp.split('|');
                            break;
                        case 'ssv':
                            tmp = tmp.split(' ');
                            break;
                        case 'tsv':
                            tmp = tmp.split('\t');
                            break;
                        // default to csv
                        default:
                            tmp = tmp.split(',');
                        }
                        if (local.schemaPItemsType(schemaP) !== 'string') {
                            // try to JSON.parse the string
                            local.tryCatchOnError(function () {
                                tmp = tmp.map(function (element) {
                                    return JSON.parse(element);
                                });
                            }, local.nop);
                        }
                    }
                // JSON.parse paramDict
                } else if (local.schemaPType(schemaP) !== 'file' &&
                        local.schemaPType(schemaP) !== 'string' &&
                        (typeof tmp === 'string' || tmp instanceof local.global.Uint8Array)) {
                    // try to JSON.parse the string
                    local.tryCatchOnError(function () {
                        tmp = JSON.parse(local.bufferToString(tmp));
                    }, local.nop);
                }
                options.paramDict[schemaP.name] = tmp;
            });
            return options;
        };

        local.onErrorJsonapi = function (onError) {
        /*
         * http://jsonapi.org/format/#errors
         * http://jsonapi.org/format/#document-structure-resource-objects
         * this function will normalize the error and data to jsonapi format,
         * and pass them to onError
         */
            return function (error, data, meta) {
                data = [error, data].map(function (data, ii) {
                    // if no error occurred, then return
                    if ((ii === 0 && !data) ||
                            // if data is already normalized, then return it
                            (data && data.meta && data.meta.isJsonapiResponse)) {
                        return data;
                    }
                    // normalize data-list
                    if (!Array.isArray(data)) {
                        data = [data];
                    }
                    // normalize error-list to contain non-null objects
                    if (!ii) {
                        data = data.errorList || data;
                        // normalize error-list to be non-empty
                        if (!data.length) {
                            data.push(null);
                        }
                        data = data.map(function (element) {
                            if (!(typeof element === 'object' && element)) {
                                element = { message: String(element) };
                            }
                            // normalize error-object to plain json-object
                            return {
                                message: element.message,
                                name: element.name,
                                stack: element.stack,
                                statusCode: Number(element.statusCode) || 500
                            };
                        });
                        error = local.jsonCopy(data[0]);
                        error.errors = data;
                        return error;
                    }
                    return { data: data };
                });
                // init data.meta
                data.forEach(function (data, ii) {
                    if (!data) {
                        return;
                    }
                    data.meta = local.jsonCopy(meta || {});
                    data.meta.isJsonapiResponse = true;
                    if (!ii) {
                        data.meta.errorsLength = (data.errors && data.errors.length) | 0;
                    } else {
                        data.meta.dataLength = (data.data && data.data.length) | 0;
                    }
                    data.meta.statusCode = Number(data.meta.statusCode) ||
                        Number(data.statusCode) ||
                        0;
                });
                onError(data[0], data[1]);
            };
        };

        local.operationIdFromAjax = function (options) {
        /*
         * this function will create a sortable operationId
         * from the given ajax-options
         */
            var urlParsed;
            urlParsed = local.urlParseWithBraket(options.url);
            return encodeURIComponent(
                urlParsed.pathname + urlParsed.hash + ' ' + options.method.toUpperCase()
            ).replace((/[^\w\-.]/g), '_');
        };

        local.schemaPItems = function (schemaP) {
        /*
         * this function will return schemaP.items
         */
            return schemaP['x-swgg-items'] || schemaP.items;
        };

        local.schemaPItemsType = function (schemaP) {
        /*
         * this function will return schemaP.items.type
         */
            return local.schemaPType(local.schemaPItems(schemaP) || {});
        };

        local.schemaPType = function (schemaP) {
        /*
         * this function will return schemaP.type
         */
            return schemaP && (schemaP['x-swgg-type'] || schemaP.type);
        };

        local.serverRespondJsonapi = function (request, response, error, data, meta) {
        /*
         * http://jsonapi.org/format/#errors
         * http://jsonapi.org/format/#document-structure-resource-objects
         * this function will respond in jsonapi format
         */
            local.onErrorJsonapi(function (error, data) {
                local.serverRespondHeadSet(request, response, error && error.statusCode, {
                    'Content-Type': 'application/json'
                });
                if (error) {
                    // debug statusCode / method / url
                    local.errorMessagePrepend(error, response.statusCode + ' ' + request.method +
                        ' ' + request.url + '\n');
                    // print error.stack to stderr
                    local.onErrorDefault(error);
                }
                data = error || data;
                data.meta.statusCode = response.statusCode = data.meta.statusCode ||
                    response.statusCode;
                response.end(JSON.stringify(data));
            })(error, data, meta);
        };

        local.swaggerJsonFromAjax = function (swaggerJson, options) {
        /*
         * this function will update swaggerJson
         * with definitions and paths created from the given ajax-options
         */
            var data, isArray, operation, type, upsertSchemaP, urlParsed;
            upsertSchemaP = function (schemaP) {
                if (!operation.parameters.some(function (element) {
                        if (element.in === schemaP.in && element.name === schemaP.name) {
                            ['default', 'items', 'schema'].forEach(function (key) {
                                if (!local.isNullOrUndefined(schemaP[key])) {
                                    element[key] = schemaP[key];
                                }
                            });
                            return true;
                        }
                    })) {
                    operation.parameters.push(schemaP);
                }
            };
            // init swaggerJson
            swaggerJson = local.objectSetDefault(swaggerJson, {
                basePath: '/',
                definitions: {},
                info: { title: '', version: '' },
                paths: {},
                swagger: '2.0'
            });
            // init options
            options = local.objectSetDefault(options, { headers: {}, method: 'GET' });
            // init urlParsed
            urlParsed = local.urlParseWithBraket(options.url);
            // init operation
            operation = {
                operationId: options.operationId || local.operationIdFromAjax(options),
                parameters: [],
                responses: { default: { description: 'default response' } },
                tags: options.tags || ['undefined'],
                'x-swgg-tags0': options['x-swgg-tags0']
            };
            if ((/^(?:http|https):\/\//).test(options.url)) {
                operation['x-swgg-host'] = urlParsed.host;
                operation['x-swgg-schemes'] = [urlParsed.protocol.slice(0, -1)];
            }
            local.objectSetDefault(swaggerJson, local.objectLiteralize({ paths: {
                '$[]': [urlParsed.pathname + urlParsed.hash, {
                    '$[]': [options.method.toLowerCase(), operation]
                }]
            } }), 4);
            // init param in header
            Object.keys(options.headers).forEach(function (key) {
                upsertSchemaP({
                    default: options.headers[key],
                    in: 'header',
                    name: key,
                    type: 'string'
                });
            });
            // init param in path
            urlParsed.pathname.replace((/\{[^}]+?\}/g), function (match0) {
                match0 = match0.slice(1, -1);
                upsertSchemaP({
                    default: match0,
                    in: 'path',
                    name: match0,
                    required: true,
                    type: 'string'
                });
            });
            // init param in query
            Object.keys(urlParsed.query).forEach(function (key) {
                upsertSchemaP({
                    default: urlParsed.query[key],
                    in: 'query',
                    name: key,
                    type: 'string'
                });
            });
            data = options.data;
            if (!data) {
                return swaggerJson;
            }
            // init param in body - text-data
            upsertSchemaP({
                in: 'body',
                name: 'body',
                schema: { type: 'string' }
            });
            local.tryCatchOnError(function () {
                data = JSON.parse(data);
            }, local.nop);
            if (typeof data !== 'object') {
                return swaggerJson;
            }
            // init param in body - json-data
            isArray = Array.isArray(data);
            type = local.swaggerJsonFromPostBody(swaggerJson, {
                data: isArray
                    ? data[0]
                    : data,
                depth: 2,
                key: 'body',
                prefix: operation.operationId,
                'x-swgg-tags0': options['x-swgg-tags0']
            });
            upsertSchemaP({
                in: 'body',
                name: 'body',
                schema: isArray
                    ? { items: type, type: 'array' }
                    : type
            });
            return swaggerJson;
        };

        local.swaggerJsonFromCurl = function (swaggerJson, text) {
        /*
         * this function will update swaggerJson
         * with definitions and paths created from the given curl-command-text
         */
            var arg, argList, doubleBackslash, quote, options;
            arg = '';
            argList = [];
            doubleBackslash = local.stringUniqueKey(text);
            // parse doubleBackslash
            text = text.replace((/\\\\/g), doubleBackslash);
            // parse line-continuation
            text = text.replace((/\\\n/g), '');
            // parse quotes
            text.replace((/(\s*?)(\S+)/g), function (match0, line, word) {
                line = match0;
                word.replace((/^(["']?).*?(?:\\")?(["']?)$/), function (quote1, match1, quote2) {
                    quote1 = match1;
                    if (quote) {
                        arg += line;
                    } else {
                        arg = word;
                        quote = quote1;
                    }
                    if (!quote || quote === quote2) {
                        switch (quote) {
                        // parse escapes in double-quotes
                        // https://www.gnu.org/software/bash/manual/html_node/Double-Quotes.html
                        case '"':
                            arg = arg.replace((/\\([$`"\n])/g), '$1');
                            arg = arg.slice(1, -1);
                            break;
                        // parse escapes in single-quotes
                        case "'":
                            arg = arg.replace((/'"'"'/g), "'");
                            arg = arg.slice(1, -1);
                            break;
                        }
                        argList.push(arg);
                        arg = '';
                        quote = '';
                    }
                });
            });
            // un-parse doubleBackslash
            argList = argList.map(function (arg) {
                return arg.replace(new RegExp(doubleBackslash, 'g'), '\\\\');
            });
            argList.push('curl');
            argList.forEach(function (arg, ii) {
                switch (argList[ii - 1]) {
                case '--data':
                case '--data-ascii':
                case '--data-binary':
                case '--data-raw':
                case '-d':
                    options.data = arg;
                    return;
                case '--request':
                case '-X':
                    options.method = arg;
                    return;
                case '--header':
                case '-H':
                    arg = arg.split(':');
                    arg[1] = arg.slice(1).join(':').trim();
                    options.headers[arg[0].toLowerCase()] = arg[1];
                    return;
                }
                if (arg === 'curl') {
                    if (options) {
                        options.url = options.url || argList[ii - 1];
                        swaggerJson = local.swaggerJsonFromAjax(swaggerJson, options);
                    }
                    options = { headers: {}, method: 'GET' };
                }
                if ((/^(?:http|https):\/\//).test(arg)) {
                    options.url = arg;
                }
            });
            return swaggerJson;
        };

        local.swaggerJsonFromPostBody = function (swaggerJson, options) {
        /*
         * this function will update swaggerJson
         * with definitions created from the post-body-data
         */
            var definition, isArray, prefix, schemaP, type, value;
            prefix = options.prefix + '.' + encodeURIComponent(options.key);
            definition = swaggerJson.definitions[prefix] = {
                properties: {},
                'x-swgg-tags0': options['x-swgg-tags0']
            };
            Object.keys(options.data).forEach(function (key) {
                value = options.data[key];
                isArray = Array.isArray(value);
                if (isArray) {
                    value = value[0];
                }
                type = local.isNullOrUndefined(value)
                    ? 'string'
                    : typeof value;
                schemaP = definition.properties[key] = isArray
                    ? { default: options.data[key], items: { type: type }, type: 'array' }
                    : { default: value, type: type };
                if (!(type === 'object' && options.depth > 1)) {
                    return;
                }
                // recurse
                type = local.swaggerJsonFromPostBody(swaggerJson, {
                    data: value,
                    depth: options.depth - 1,
                    key: key,
                    prefix: prefix,
                    'x-swgg-tags0': options['x-swgg-tags0']
                });
                if (isArray) {
                    schemaP.items = type;
                } else {
                    definition.properties[key] = type;
                }
            });
            return { $ref: '#/definitions/' + prefix };
        };

        local.swaggerValidate = function (swaggerJson) {
        /*
         * this function will validate the json-object swaggerJson
         */
            var operation, operationIdDict, pathDict, prefix, test, tmp;
            operationIdDict = {};
            swaggerJson = swaggerJson || {};
            local.swaggerValidateDataSchema({
                data: swaggerJson,
                modeSchema: true,
                prefix: ['swaggerJson'],
                schema: local.swaggerSchemaJson,
                swaggerJson: swaggerJson
            });
            pathDict = {};
            Object.keys(swaggerJson.paths).forEach(function (path) {
                prefix = ['swaggerJson', 'paths', path];
                // validate semanticPaths1
                test = path.indexOf('?') < 0;
                local.throwSwaggerError(!test && {
                    errorType: 'semanticPaths1',
                    prefix: prefix
                });
                tmp = path.replace((/\{.*?\}/g), '{}');
                // validate semanticPaths2
                test = !pathDict[tmp];
                local.throwSwaggerError(!test && {
                    errorType: 'semanticPaths2',
                    pathList: [pathDict[tmp], path],
                    prefix: prefix
                });
                pathDict[tmp] = path;
                // validate semanticPaths5
                test = path.indexOf('{}') < 0;
                local.throwSwaggerError(!test && {
                    errorType: 'semanticPaths5',
                    prefix: prefix
                });
            });
            // validate swaggerJson.definitions[key].properties[ii].default
            Object.keys(swaggerJson.definitions || {}).forEach(function (schemaName) {
                tmp = local.swaggerValidateDataSchema({
                    // dereference definition
                    modeDereference: true,
                    prefix: ['swaggerJson', 'definitions', schemaName],
                    schema: swaggerJson.definitions[schemaName],
                    swaggerJson: swaggerJson
                });
                Object.keys(tmp.properties || {}).forEach(function (key) {
                    local.swaggerValidateDataSchema({
                        modeDefault: true,
                        prefix: ['swaggerJson', 'definitions', schemaName, 'properties', key],
                        schema: tmp.properties[key],
                        swaggerJson: swaggerJson
                    });
                });
            });
            // validate swaggerJson.parameters[key].default
            Object.keys(swaggerJson.parameters || []).forEach(function (key) {
                local.swaggerValidateDataSchema({
                    modeDefault: true,
                    prefix: ['swaggerJson', 'parameters', key],
                    schema: swaggerJson.parameters[key],
                    swaggerJson: swaggerJson
                });
            });
            // validate swaggerJson.paths[key][key].parameters[ii].default
            Object.keys(swaggerJson.paths).forEach(function (path) {
                Object.keys(swaggerJson.paths[path]).forEach(function (method) {
                    prefix = ['swaggerJson', 'paths', path, method];
                    operation = local.swaggerValidateDataSchema({
                        // dereference operation
                        modeDereference: true,
                        prefix: prefix,
                        schema: swaggerJson.paths[path][method],
                        swaggerJson: swaggerJson
                    });
                    // validate semanticOperationIds1
                    test = !operationIdDict[operation.operationId];
                    local.throwSwaggerError(!test && {
                        data: operation.operationId,
                        errorType: 'semanticOperationIds1',
                        prefix: prefix.concat(['operationId'])
                    });
                    operationIdDict[operation.operationId] = true;
                    tmp = { in: {}, name: {}, path: {}, type: {} };
                    path.replace((/\{.*?\}/g), function (match0) {
                        match0 = match0.slice(1, -1);
                        tmp.path[match0] = tmp.path[match0] || [];
                        tmp.path[match0][0] = true;
                    });
                    (operation.parameters || []).forEach(function (schemaP, ii) {
                        // validate semanticOperations2
                        test = !(tmp.in.body && schemaP.in === 'body');
                        local.throwSwaggerError(!test && {
                            data: operation,
                            errorType: 'semanticOperations2',
                            prefix: prefix,
                            schema: operation
                        });
                        // validate semanticOperations3
                        test = schemaP.name === undefined ||
                            schemaP.in === undefined ||
                            !tmp.name[schemaP.name + ' ' + schemaP.in];
                        local.throwSwaggerError(!test && {
                            data: operation.parameters,
                            errorType: 'semanticOperations3',
                            prefix: prefix.concat(['parameters'])
                        });
                        tmp.in[schemaP.in] = true;
                        tmp.name[schemaP.name + ' ' + schemaP.in] = true;
                        tmp.type[schemaP.type] = true;
                        // validate semanticOperations1
                        test = !(tmp.in.body && tmp.in.formData);
                        local.throwSwaggerError(!test && {
                            data: operation,
                            errorType: 'semanticOperations1',
                            prefix: prefix
                        });
                        // validate schemaP
                        local.swaggerValidateDataSchema({
                            modeDefault: true,
                            prefix: prefix.concat(['parameters', schemaP.name]),
                            schema: schemaP,
                            swaggerJson: swaggerJson
                        });
                        if (schemaP.in === 'path') {
                            tmp.path[schemaP.name] = tmp.path[schemaP.name] || [];
                            tmp.path[schemaP.name][1] = true;
                            // validate semanticPaths7
                            test = tmp.path[schemaP.name][0];
                            local.throwSwaggerError(!test && {
                                data: schemaP,
                                errorType: 'semanticPaths7',
                                prefix: prefix.concat(['parameters', ii])
                            });
                        }
                    });
                    Object.keys(tmp.path).forEach(function (name) {
                        // validate semanticPaths6
                        test = tmp.path[name][1];
                        local.throwSwaggerError(!test && {
                            errorType: 'semanticPaths6',
                            name: name,
                            prefix: prefix.concat(['parameters', 'ii'])
                        });
                    });
                    // validate semanticFormData4
                    test = !tmp.type.file ||
                        (operation.consumes || []).indexOf('multipart/form-data') >= 0;
                    local.throwSwaggerError(!test && {
                        data: operation,
                        errorType: 'semanticFormData4',
                        prefix: prefix
                    });
                    // validate semanticFormData5
                    test = !tmp.in.formData ||
                        (operation.consumes || []).indexOf(
                            'application/x-www-form-urlencoded'
                        ) >= 0 ||
                        (operation.consumes || []).indexOf('multipart/form-data') >= 0;
                    local.throwSwaggerError(!test && {
                        data: operation,
                        errorType: 'semanticFormData5',
                        prefix: prefix,
                        schema: operation
                    });
                });
            });
        };

        local.swaggerValidateDataParameters = function (options) {
        /*
         * this function will validate the items in options.paramDict
         * against the schemaP's in options.parameters
         */
            var errorList;
            errorList = [];
            options.parameters.forEach(function (schemaP) {
                local.tryCatchOnError(function () {
                    local.swaggerValidateDataSchema({
                        data: options.data[schemaP.name],
                        dataReadonlyRemove: [
                            options.dataReadonlyRemove || {},
                            schemaP.name,
                            (options.dataReadonlyRemove || {})[schemaP.name]
                        ],
                        prefix: options.prefix.concat([schemaP.name]),
                        schema: schemaP,
                        swaggerJson: local.swaggerJson
                    });
                }, function (errorCaught) {
                    errorList.push(errorCaught);
                    errorCaught.errorList = errorList;
                });
            });
            return errorList;
        };

        local.swaggerValidateDataSchema = function (options) {
        /*
         * this function will validate options.data against the swagger options.schema
         * http://json-schema.org/draft-04/json-schema-validation.html#rfc.section.5
         */
            var $ref,
                circularList,
                data,
                dataReadonlyRemove2,
                ii,
                list,
                oneOf,
                schema,
                test,
                tmp;
            if (!options.schema) {
                return;
            }
            data = options.data;
            options.dataReadonlyRemove = options.dataReadonlyRemove || [{}, '', null];
            dataReadonlyRemove2 = options.dataReadonlyRemove[2] || {};
            schema = options.schema;
            circularList = [];
            while (true) {
                // dereference schema.schema
                while (schema.schema) {
                    schema = schema.schema;
                }
                // dereference schema.oneOf
                oneOf = (data && schema.oneOf) || [];
                for (ii = 0; ii < oneOf.length; ii += 1) {
                    tmp = String(oneOf[ii] && oneOf[ii].$ref)
                        .replace('http://json-schema.org/draft-04/schema#', '#');
                    switch (tmp + ' ' + (!local.isNullOrUndefined(data.$ref) || data.in)) {
                    case '#/definitions/bodyParameter body':
                    case '#/definitions/formDataParameterSubSchema formData':
                    case '#/definitions/headerParameterSubSchema header':
                    case '#/definitions/jsonReference true':
                    case '#/definitions/pathParameterSubSchema path':
                    case '#/definitions/queryParameterSubSchema query':
                        schema = local.swaggerSchemaJson.definitions[tmp.split('/')[2]];
                        break;
                    default:
                        switch (tmp) {
                        case '#/definitions/bodyParameter':
                        case '#/definitions/jsonReference':
                            schema = oneOf[ii ^ 1];
                            break;
                        }
                    }
                    if (!schema.oneOf) {
                        break;
                    }
                }
                // dereference schema.$ref
                $ref = schema && schema.$ref;
                if (!$ref) {
                    break;
                }
                test = circularList.indexOf($ref) < 0;
                local.throwSwaggerError(!test && {
                    data: data,
                    errorType: 'schemaDereferenceCircular',
                    prefix: options.prefix,
                    schema: schema
                });
                circularList.push($ref);
                // validate semanticWalker6
                test = $ref.indexOf('#/') === 0 ||
                    $ref.indexOf('http://json-schema.org/draft-04/schema#/') === 0;
                local.throwSwaggerError(!test && {
                    data: $ref,
                    errorType: 'semanticWalker6',
                    prefix: options.prefix.concat(['$ref'])
                });
                switch (options.modeSchema && $ref) {
                case 'http://json-schema.org/draft-04/schema#/definitions/parameter':
                    // validate semanticFormData1
                    test = data.in !== 'formdata';
                    local.throwSwaggerError(!test && {
                        data: data.in,
                        errorType: 'semanticFormData1',
                        prefix: options.prefix.concat(['in'])
                    });
                    // validate semanticFormData3
                    test = data.type !== 'file' || data.in === 'formData';
                    local.throwSwaggerError(!test && {
                        data: data,
                        errorType: 'semanticFormData3',
                        prefix: options.prefix
                    });
                    // validate semanticParameters2
                    test = data.in === 'body' || !local.isNullOrUndefined(data.type);
                    local.throwSwaggerError(!test && {
                        data: data,
                        errorType: 'semanticParameters2',
                        prefix: options.prefix
                    });
                    break;
                case 'http://json-schema.org/draft-04/schema#/definitions/schema':
                    list = data.required || [];
                    for (ii = 0; ii < list.length; ii += 1) {
                        tmp = list[ii];
                        // validate semanticSchema1
                        test = !(data.properties &&
                            data.properties[tmp] &&
                            data.properties[tmp].readOnly);
                        local.throwSwaggerError(!test && {
                            data: data.properties[tmp],
                            errorType: 'semanticSchema1',
                            prefix: options.prefix.concat(['properties', tmp])
                        });
                    }
                    // validate semanticWalker1
                    test = local.isNullOrUndefined(data.type) || typeof data.type === 'string';
                    local.throwSwaggerError(!test && {
                        data: data.type,
                        errorType: 'semanticWalker1',
                        prefix: options.prefix.concat(['type'])
                    });
                    // validate semanticWalker2
                    test = !(data.maximum < data.minimum);
                    local.throwSwaggerError(!test && {
                        data: data,
                        errorType: 'semanticWalker2',
                        prefix: options.prefix
                    });
                    // validate semanticWalker3
                    test = !(data.maxProperties < data.minProperties);
                    local.throwSwaggerError(!test && {
                        data: data,
                        errorType: 'semanticWalker3',
                        prefix: options.prefix
                    });
                    // validate semanticWalker4
                    test = !(data.maxLength < data.minLength);
                    local.throwSwaggerError(!test && {
                        data: data,
                        errorType: 'semanticWalker4',
                        prefix: options.prefix,
                        schema: schema
                    });
                    break;
                }
                tmp = $ref.split('/').slice(-2);
                schema = $ref.indexOf('http://json-schema.org/draft-04/schema#/') === 0
                    ? local.swaggerSchemaJson[tmp[0]]
                    : options.swaggerJson[tmp[0]];
                schema = schema && schema[tmp[1]];
                test = schema;
                local.throwSwaggerError(!test && {
                    data: data,
                    errorType: 'schemaDereference',
                    prefix: options.prefix,
                    schema: options.schema
                });
            }
            if (options.modeDereference) {
                if (options.modeDereferenceDepth > 1) {
                    schema = local.jsonCopy(schema);
                    Object.keys(schema.properties || {}).forEach(function (key) {
                        schema.properties[key] = local.swaggerValidateDataSchema({
                            // dereference property
                            modeDereference: true,
                            modeDereferenceDepth: options.modeDereferenceDepth - 1,
                            prefix: options.prefix.concat(['properties', key]),
                            schema: schema.properties[key],
                            swaggerJson: options.swaggerJson
                        });
                    });
                }
                return schema;
            }
            // validate schema.default
            if (options.modeDefault) {
                data = schema.default;
            }
            // validate schema.required
            test = options.modeDefault ||
                !local.isNullOrUndefined(data) ||
                schema.required !== true ||
                schema['x-swgg-notRequired'];
            local.throwSwaggerError(!test && {
                data: data,
                errorType: 'objectRequired',
                prefix: options.prefix,
                schema: schema
            });
            if (local.isNullOrUndefined(data)) {
                return;
            }
            // validate semanticItemsRequiredForArrayObjects1
            test = !options.modeSchema || local.schemaPType(data) !== 'array' ||
                (typeof local.schemaPItems(data) === 'object' && local.schemaPItems(data));
            local.throwSwaggerError(!test && {
                errorType: 'semanticItemsRequiredForArrayObjects1',
                prefix: options.prefix,
                schema: data
            });
            // remove readOnly property
            if (schema.readOnly) {
                delete options.dataReadonlyRemove[0][options.dataReadonlyRemove[1]];
            }
            // optimization - validate schema.type first
            // 5.5.2. type
            // https://swagger.io/docs/specification/data-models/data-types/
            // https://github.com/swagger-api/swagger-spec/blob/master/versions/2.0.md#data-types
            switch (local.schemaPType(schema)) {
            case 'array':
                test = Array.isArray(data);
                break;
            case 'boolean':
                test = typeof data === 'boolean';
                break;
            case 'file':
                test = !options.modeSchema;
                break;
            case 'integer':
                test = Number.isInteger(data);
                switch (schema.format) {
                case 'int32':
                    break;
                case 'int64':
                    break;
                }
                break;
            case 'number':
                test = Number.isFinite(data);
                switch (schema.format) {
                case 'double':
                    break;
                case 'float':
                    break;
                }
                break;
            case 'string':
                test = typeof data === 'string' ||
                    (!options.modeSchema && schema.format === 'binary');
                switch (test && !options.modeSchema && schema.format) {
                // Clarify 'byte' format #50
                // https://github.com/swagger-api/swagger-spec/issues/50
                case 'byte':
                    test = !(/[^\n\r\+\/0-9\=A-Za-z]/).test(data);
                    break;
                case 'date':
                case 'date-time':
                    test = JSON.stringify(new Date(data)) !== 'null';
                    break;
                case 'email':
                    test = local.regexpValidateEmail.test(data);
                    break;
                case 'json':
                    test = local.tryCatchOnError(function () {
                        JSON.parse(data);
                        return true;
                    }, local.nop);
                    break;
                case 'phone':
                    test = local.regexpValidatePhone.test(data);
                    break;
                }
                break;
            default:
                test = options.modeSchema || typeof data === 'object';
                break;
            }
            local.throwSwaggerError(!test && {
                data: data,
                errorType: 'itemType',
                prefix: options.prefix,
                schema: schema,
                typeof: typeof data
            });
            tmp = typeof data;
            if (tmp === 'object' && Array.isArray(data)) {
                tmp = 'array';
            }
            switch (tmp) {
            // 5.1. Validation keywords for numeric instances (number and integer)
            case 'number':
                // 5.1.1. multipleOf
                test = typeof schema.multipleOf !== 'number' || data % schema.multipleOf === 0;
                local.throwSwaggerError(!test && {
                    data: data,
                    errorType: 'numberMultipleOf',
                    prefix: options.prefix,
                    schema: schema
                });
                // 5.1.2. maximum and exclusiveMaximum
                test = typeof schema.maximum !== 'number' || (schema.exclusiveMaximum
                    ? data < schema.maximum
                    : data <= schema.maximum);
                local.throwSwaggerError(!test && {
                    data: data,
                    errorType: schema.exclusiveMaximum
                        ? 'numberExclusiveMaximum'
                        : 'numberMaximum',
                    prefix: options.prefix,
                    schema: schema
                });
                // 5.1.3. minimum and exclusiveMinimum
                test = typeof schema.minimum !== 'number' || (schema.exclusiveMinimum
                    ? data > schema.minimum
                    : data >= schema.minimum);
                local.throwSwaggerError(!test && {
                    data: data,
                    errorType: schema.exclusiveMinimum
                        ? 'numberExclusiveMinimum'
                        : 'numberMinimum',
                    prefix: options.prefix,
                    schema: schema
                });
                break;
            // 5.2. Validation keywords for strings
            case 'string':
                // 5.2.1. maxLength
                test = typeof schema.maxLength !== 'number' || data.length <= schema.maxLength;
                local.throwSwaggerError(!test && {
                    data: data,
                    errorType: 'stringMaxLength',
                    prefix: options.prefix,
                    schema: schema
                });
                // 5.2.2. minLength
                test = typeof schema.minLength !== 'number' || data.length >= schema.minLength;
                local.throwSwaggerError(!test && {
                    data: data,
                    errorType: 'stringMinLength',
                    prefix: options.prefix,
                    schema: schema
                });
                // 5.2.3. pattern
                test = !schema.pattern || new RegExp(schema.pattern).test(data);
                local.throwSwaggerError(!test && {
                    data: data,
                    errorType: 'stringPattern',
                    prefix: options.prefix,
                    schema: schema
                });
                break;
            // 5.3. Validation keywords for arrays
            case 'array':
                // 5.3.1. additionalItems and items
                // swagger disallows array items
                data.forEach(function (element, ii) {
                    // recurse - schema.additionalItems and schema.items
                    local.swaggerValidateDataSchema({
                        data: element,
                        dataReadonlyRemove: [dataReadonlyRemove2, ii, dataReadonlyRemove2[ii]],
                        modeSchema: options.modeSchema,
                        prefix: options.prefix.concat([ii]),
                        schema: local.schemaPItems(schema) || schema.additionalItems,
                        swaggerJson: options.swaggerJson
                    });
                });
                // 5.3.2. maxItems
                test = typeof schema.maxItems !== 'number' || data.length <= schema.maxItems;
                local.throwSwaggerError(!test && {
                    data: data,
                    errorType: 'arrayMaxItems',
                    prefix: options.prefix,
                    schema: schema
                });
                // 5.3.3. minItems
                test = typeof schema.minItems !== 'number' || data.length >= schema.minItems;
                local.throwSwaggerError(!test && {
                    data: data,
                    errorType: 'arrayMinItems',
                    prefix: options.prefix,
                    schema: schema
                });
                // 5.3.4. uniqueItems
                test = !schema.uniqueItems || data.every(function (element) {
                    tmp = element;
                    return data.indexOf(element) === data.lastIndexOf(element);
                });
                local.throwSwaggerError(!test && {
                    data: data,
                    errorType: 'arrayUniqueItems',
                    prefix: options.prefix,
                    schema: schema,
                    tmp: tmp
                });
                break;
            // 5.4. Validation keywords for objects
            case 'object':
                // 5.4.1. maxProperties
                test = typeof schema.maxProperties !== 'number' ||
                    Object.keys(data).length <= schema.maxProperties;
                local.throwSwaggerError(!test && {
                    data: data,
                    errorType: 'objectMaxProperties',
                    prefix: options.prefix,
                    schema: schema
                });
                // 5.4.2. minProperties
                test = typeof schema.minProperties !== 'number' ||
                    Object.keys(data).length >= schema.minProperties;
                local.throwSwaggerError(!test && {
                    data: data,
                    errorType: 'objectMinProperties',
                    prefix: options.prefix,
                    schema: schema
                });
                // 5.4.3. required
                local.normalizeValue('list', schema.required).forEach(function (key) {
                    // validate semanticItemsRequiredForArrayObjects2
                    test = !local.isNullOrUndefined(data[key]);
                    local.throwSwaggerError(!test && {
                        data: data,
                        errorType: 'semanticItemsRequiredForArrayObjects2',
                        key: key,
                        prefix: options.prefix,
                        schema: schema
                    });
                });
                // 5.4.4. additionalProperties, properties and patternProperties
                Object.keys(data).forEach(function (key) {
                    tmp = null;
                    if (schema.properties && schema.properties[key]) {
                        tmp = true;
                        // recurse - schema.properties
                        local.swaggerValidateDataSchema({
                            data: data[key],
                            dataReadonlyRemove: [
                                dataReadonlyRemove2,
                                key,
                                dataReadonlyRemove2[key]
                            ],
                            modeSchema: options.modeSchema,
                            prefix: options.prefix.concat([key]),
                            schema: schema.properties[key],
                            swaggerJson: options.swaggerJson
                        });
                    }
                    Object.keys(schema.patternProperties || {}).forEach(function (rgx) {
                        if (new RegExp(rgx).test(key)) {
                            tmp = true;
                            // recurse - schema.patternProperties
                            local.swaggerValidateDataSchema({
                                data: data[key],
                                modeSchema: options.modeSchema,
                                prefix: options.prefix.concat([key]),
                                schema: schema.patternProperties[rgx],
                                swaggerJson: options.swaggerJson
                            });
                        }
                    });
/*
 * validate
 * 5.4.4.4. If "additionalProperties" has boolean value false
 *
 * In this case, validation of the instance depends on the property set of
 * "properties" and "patternProperties". In this section, the property names of
 * "patternProperties" will be called regexes for convenience.
 *
 * The first step is to collect the following sets:
 *
 * s
 * The property set of the instance to validate.
 * p
 * The property set from "properties".
 * pp
 * The property set from "patternProperties".
 * Having collected these three sets, the process is as follows:
 *
 * remove from "s" all elements of "p", if any;
 * for each regex in "pp", remove all elements of "s" which this regex matches.
 * Validation of the instance succeeds if, after these two steps, set "s" is empty.
 */
                    test = tmp || schema.additionalProperties !== false;
                    local.throwSwaggerError(!test && {
                        data: data,
                        errorType: 'objectAdditionalProperties',
                        key: key,
                        prefix: options.prefix,
                        schema: schema
                    });
                    // recurse - schema.additionalProperties
                    local.swaggerValidateDataSchema({
                        data: data[key],
                        modeSchema: options.modeSchema,
                        prefix: options.prefix.concat([key]),
                        schema: schema.additionalProperties,
                        swaggerJson: options.swaggerJson
                    });
                });
                // 5.4.5. dependencies
                Object.keys(schema.dependencies || {}).forEach(function (key) {
                    if (local.isNullOrUndefined(data[key])) {
                        return;
                    }
                    // 5.4.5.2.1. Schema dependencies
                    // recurse - schema.dependencies
                    local.swaggerValidateDataSchema({
                        data: data[key],
                        modeSchema: options.modeSchema,
                        prefix: options.prefix.concat([key]),
                        schema: schema.dependencies[key],
                        swaggerJson: options.swaggerJson
                    });
                    // 5.4.5.2.2. Property dependencies
                    local.normalizeValue('list', schema.dependencies[key]).every(function (key2) {
                        test = !local.isNullOrUndefined(data[key2]);
                        local.throwSwaggerError(!test && {
                            data: data,
                            errorType: 'objectDependencies',
                            key: key,
                            key2: key2,
                            prefix: options.prefix,
                            schema: schema
                        });
                    });
                });
                break;
            }
            // 5.5. Validation keywords for any instance type
            // 5.5.1. enum
            tmp = schema.enum || (!options.modeSchema && (local.schemaPItems(schema) || {}).enum);
            test = !tmp || (Array.isArray(data)
                ? data
                : [data]).every(function (element) {
                return tmp.indexOf(element) >= 0;
            });
            local.throwSwaggerError(!test && {
                data: data,
                errorType: 'itemEnum',
                prefix: options.prefix,
                schema: schema,
                tmp: tmp
            });
            // 5.5.2. type
            local.nop();
            // 5.5.3. allOf
            (schema.allOf || []).forEach(function (element) {
                // recurse - schema.allOf
                local.swaggerValidateDataSchema({
                    data: data,
                    prefix: options.prefix,
                    modeSchema: options.modeSchema,
                    schema: element,
                    swaggerJson: options.swaggerJson
                });
            });
            // 5.5.4. anyOf
            tmp = null;
            test = !schema.anyOf || schema.anyOf.some(function (element) {
                local.tryCatchOnError(function () {
                    // recurse - schema.anyOf
                    local.swaggerValidateDataSchema({
                        data: data,
                        modeSchema: options.modeSchema,
                        prefix: options.prefix,
                        schema: element,
                        swaggerJson: options.swaggerJson
                    });
                    return true;
                }, local.nop);
                tmp = tmp || local.utility2._debugTryCatchError;
                return !tmp;
            });
            local.throwSwaggerError(!test && {
                data: data,
                errorType: 'itemOneOf',
                prefix: options.prefix,
                schema: schema,
                tmp: tmp
            });
            // 5.5.5. oneOf
            tmp = !schema.oneOf
                ? 1
                : 0;
            (schema.oneOf || []).some(function (element) {
                local.tryCatchOnError(function () {
                    // recurse - schema.oneOf
                    local.swaggerValidateDataSchema({
                        data: data,
                        modeSchema: options.modeSchema,
                        prefix: options.prefix,
                        schema: element,
                        swaggerJson: options.swaggerJson
                    });
                    tmp += 1;
                }, local.nop);
                return tmp > 1;
            });
            test = tmp === 1;
            local.throwSwaggerError(!test && {
                data: data,
                errorType: 'itemOneOf',
                prefix: options.prefix,
                schema: schema,
                tmp: tmp
            });
            // 5.5.6. not
            test = !schema.not || !local.tryCatchOnError(function () {
                // recurse - schema.not
                local.swaggerValidateDataSchema({
                    data: data,
                    modeSchema: options.modeSchema,
                    prefix: options.prefix,
                    schema: schema.not,
                    swaggerJson: options.swaggerJson
                });
                return true;
            }, local.nop);
            local.throwSwaggerError(!test && {
                data: data,
                errorType: 'itemNot',
                prefix: options.prefix,
                schema: schema
            });
            // 5.5.7. definitions
            local.nop();
            // validate data.$ref
            if (schema === local.swaggerSchemaJson.definitions.jsonReference) {
                local.swaggerValidateDataSchema({
                    modeDereference: true,
                    modeSchema: options.modeSchema,
                    prefix: options.prefix,
                    schema: data,
                    swaggerJson: options.swaggerJson
                });
            }
            return schema;
        };

        local.swaggerValidateFile = function (options, onError) {
        /*
         * this function will validate the json-file options.file
         */
            local.onNext(options, function (error, data) {
                switch (options.modeNext) {
                case 1:
                    if (typeof options.data === 'string') {
                        options.onNext(null, options.data);
                        return;
                    }
                    // fetch url
                    if ((/^(?:http|https):\/\//).test(options.file)) {
                        local.ajax({ url: options.file }, function (error, xhr) {
                            options.onNext(error, xhr && xhr.responseText);
                        });
                        return;
                    }
                    // read file
                    local.fs.readFile(options.file, 'utf8', options.onNext);
                    break;
                case 2:
                    // jslint
                    local.jslint.jslintAndPrint(data, options.file);
                    local.assert(
                        !local.jslint.errorText,
                        local.jslint.errorText.replace((/\u001b\[\d+m/g), '')
                    );
                    // validate
                    local.swgg.swaggerValidate(JSON.parse(data));
                    options.onNext();
                    break;
                default:
                    console.error(error
                        ? 'swagger-validate - failed - ' + options.file + '\n\n' + error.message
                        : 'swagger-validate - passed - ' + options.file);
                    onError(error);
                }
            });
            options.modeNext = 0;
            options.onNext();
        };

        local.throwSwaggerError = function (options) {
        /*
         * this function will throw a swaggerError with the given options.errorType
         */
            var error;
            if (!options) {
                return;
            }
            [0, 2].forEach(function (ii) {
                options['prefix' + ii] = options.prefix[ii] + options.prefix.slice(
                    ii + 1
                ).map(function (element) {
                    return '[' + JSON.stringify(element) + ']';
                }).join('');
            });
            options.prefix0 += ' = ' + local.stringTruncate(
                JSON.stringify(options.data) || 'undefined',
                100
            );
            options.schema2 = local.stringTruncate(
                JSON.stringify(options.schema) || 'undefined',
                500
            );
            options.type2 = (options.schema && local.schemaPType(options.schema)) || 'object';
            if (options.schema && options.schema.format) {
                options.type2 += ' (' + options.schema.format + ')';
            }
            error = new Error('error.' + options.errorType + ' - ' + local.templateRender(
                local.swaggerErrorTypeDict[options.errorType],
                options,
                { notHtmlSafe: true }
            ));
            error.messageShort = local.templateRender(
                local.swaggerErrorTypeDict[options.errorType].replace('{{prefix0}}', '{{prefix2}}'),
                options,
                { notHtmlSafe: true }
            );
            error.options = options;
            error.statusCode = 400;
            throw error;
        };

        local.uiEventDelegate = function (event) {
            event.target2 = event.target;
            // filter non-input keyup-event
            if (event.type === 'keyup' &&
                    !event.target2.closest('input, option, select, textarea')) {
                return;
            }
            // delegate event in .operation
            event.targetOperation = event.target2.closest('.operation');
            Object.keys(local.uiEventListenerDict).sort().some(function (key) {
                switch (key) {
                case '.onEventOperationDisplayShow':
                    event.target2 = event.target2.closest(key) || event.target2;
                    break;
                }
                if (!(event.currentTarget.matches(key) || event.target2.matches(key))) {
                    return;
                }
                switch (event.target2.tagName) {
                case 'BUTTON':
                case 'FORM':
                    event.preventDefault();
                    break;
                }
                event.stopPropagation();
                local.uiEventListenerDict[key](event);
                return true;
            });
            if (event.targetOperation && !local.timerTimeoutOnEventInputValidate) {
                local.timerTimeoutOnEventInputValidate = setTimeout(function () {
                    local.timerTimeoutOnEventInputValidate = null;
                    // validate input
                    local.uiEventListenerDict['.onEventInputValidate'](event);
                }, 25);
            }
        };

        local.uiEventListenerDict = {};

        local.uiEventListenerDict['.onEventInputTextareaChange'] = function (event) {
        /*
         * this function will show/hide the textarea's multiline placeholder
         */
            var isTransparent, value;
            isTransparent = event.target2.style.background.indexOf('transparent') >= 0;
            value = event.target2.value;
            if (value && isTransparent) {
                event.target2.style.background = '';
            }
            if (!value && !isTransparent) {
                event.target2.style.background = 'transparent';
            }
        };

        local.uiEventListenerDict['.onEventInputValidate'] = function (options, onError) {
        /*
         * this function will validate the input parameters
         * against the schemas in options.parameters
         */
            var errorDict, jsonParse, tmp;
            jsonParse = function (text) {
            /*
             * this function will try to JSON.parse(text)
             */
                return local.tryCatchOnError(function () {
                    return JSON.parse(text);
                }, function () {
                    return text;
                });
            };
            options.api = local.apiDict[options.targetOperation.dataset._methodPath];
            options.headers = {};
            options.modeNoDefault = true;
            options.modeValidate = !options.modeAjax;
            options.paramDict = {};
            options.url = '';
            options.api.parameters.forEach(function (schemaP) {
                tmp = options.targetOperation.querySelector(
                    '.schemaP[data-name=' + JSON.stringify(schemaP.name) + '] .input'
                );
                switch (tmp.tagName) {
                case 'INPUT':
                    // parse file
                    if (local.schemaPType(tmp) === 'file') {
                        tmp = tmp.files && tmp.files[0];
                        break;
                    }
                    tmp = tmp.value;
                    if (!tmp) {
                        return;
                    }
                    // parse string
                    if (local.schemaPType(schemaP) !== 'string') {
                        tmp = jsonParse(tmp);
                    }
                    break;
                case 'SELECT':
                    tmp = Array.from(tmp.options)
                        .filter(function (element) {
                            return element.selected;
                        })
                        .map(function (element) {
                            return jsonParse(decodeURIComponent(
                                element.dataset.valueSelectOption
                            ));
                        });
                    if (!tmp.length || tmp[0] === '$swggUndefined') {
                        return;
                    }
                    if (local.schemaPType(schemaP) !== 'array') {
                        tmp = tmp[0];
                    }
                    break;
                case 'TEXTAREA':
                    tmp = tmp.value;
                    if (!tmp) {
                        return;
                    }
                    // ignore string (json)
                    if (schemaP.format === 'json' && local.schemaPType(schemaP) === 'string') {
                        break;
                    }
                    if (schemaP.schema &&
                            local.schemaPType(schemaP.schema) === 'string' &&
                            typeof tmp === 'string') {
                        break;
                    }
                    // parse schema
                    if (schemaP.in === 'body') {
                        tmp = jsonParse(tmp);
                        break;
                    }
                    // parse array
                    tmp = tmp.split('\n').map(function (element) {
                        return local.schemaPItemsType(schemaP) === 'string'
                            ? element
                            : jsonParse(element);
                    });
                    break;
                }
                options.paramDict[schemaP.name] = tmp;
            });
            options.api.ajax(options, onError || local.nop);
            // init errorDict
            errorDict = {};
            ((options.error && options.error.errorList) || []).forEach(function (error) {
                errorDict[error.options.prefix[2]] = error;
            });
            // shake input on error
            Array.from(options.targetOperation.querySelectorAll(
                '.schemaP[data-name]'
            )).forEach(function (element) {
                tmp = errorDict[element.dataset.name];
                local.uiAnimateShakeIfError(tmp, element.querySelector('.input'));
                element.querySelector('.colorError').textContent = tmp
                    ? tmp.messageShort
                    : '';
            });
            // shake submit-button on error
            local.uiAnimateShakeIfError(
                options.error,
                options.targetOperation.querySelector('.onEventOperationAjax')
            );
            // init requestCurl
            tmp = options.data;
            local.tryCatchOnError(function () {
                tmp = JSON.stringify(JSON.parse(options.data), null, 4);
            }, local.nop);
            tmp = 'curl \\\n' + '--request ' + options.api._method + ' \\\n' +
                Object.keys(options.headers).map(function (key) {
                    return "--header '" + key + ': ' + options.headers[key] + "' \\\n";
                }).join('') + '--data-binary ' + (typeof tmp === 'string'
                    ? "'" + tmp.replace(/'/g, "'\"'\"'") + "'"
                    : '<blob>') + ' \\\n"' + options.url.replace((/&/g), '&\\\n') + '"';
            options.targetOperation.querySelector('.requestCurl').textContent = tmp;
            // init requestJavascript
            options.targetOperation.querySelector('.requestJavascript').textContent =
                local.templateRender(local.templateUiRequestJavascript, {
                    options: options,
                    optionsJson: JSON.stringify({
                        paramDict: options.paramDict
                    }, null, 4)
                }, { notHtmlSafe: true });
        };

        local.uiEventListenerDict['.onEventOperationAjax'] = function (options) {
        /*
         * this function will submit the operation to the backend
         */
            // ensure options is stateless
            options = { targetOperation: options.targetOperation };
            local.onNext(options, function (error, data) {
                switch (options.modeNext) {
                case 1:
                    // init ajax
                    options.modeAjax = true;
                    // validate input
                    local.uiEventListenerDict['.onEventInputValidate'](options, options.onNext);
                    if (options.error) {
                        return;
                    }
                    // reset response output
                    Array.from(options.targetOperation.querySelectorAll(
                        '.responseBody, .responseHeaders, .responseStatusCode'
                    )).forEach(function (element) {
                        element.classList.remove('hasError');
                        element.textContent = 'loading ...';
                    });
                    options.targetOperation.querySelector('.responseMedia').innerHTML = '';
                    // scrollTo response
                    options.targetOperation.querySelector('.responseStatusCode').focus();
                    break;
                default:
                    local.onErrorDefault(error);
                    if (options.error) {
                        return;
                    }
                    data = local.objectSetDefault(data, {
                        contentType: 'undefined',
                        statusCode: 'undefined'
                    });
                    // init responseStatusCode
                    options.targetOperation.querySelector('.responseStatusCode').textContent =
                        data.statusCode;
                    // init responseHeaders
                    options.targetOperation.querySelector('.responseHeaders').textContent =
                        data.getAllResponseHeaders().trim();
                    // init responseBody
                    options.targetOperation.querySelector('.responseHeaders').textContent.replace((
                        /^content-type:(.*?)$/im
                    ), function (match0, match1) {
                        match0 = match1;
                        data.contentType = match0.trim();
                    });
                    data.mediaType = data.contentType.split('/')[0].replace('image', 'img');
                    switch (data.mediaType) {
                    case 'audio':
                    case 'img':
                    case 'video':
                        options.targetOperation.querySelector('.responseBody').textContent =
                            data.contentType;
                        options.targetOperation.querySelector('.responseMedia').innerHTML =
                            '<' + data.mediaType + ' controls src="data:' + data.contentType +
                            ';base64,' + local.base64FromBuffer(data.response) + '"></' +
                            data.mediaType + '>';
                        break;
                    default:
                        options.targetOperation.querySelector('.responseBody').textContent =
                            data.responseJson
                            ? JSON.stringify(data.responseJson, null, 4)
                            : data.responseText;
                    }
                    // shake response on error
                    Array.from(options.targetOperation.querySelectorAll(
                        '.responseBody, .responseHeaders, .responseStatusCode'
                    )).forEach(function (element) {
                        local.uiAnimateShakeIfError(data.statusCode >= 400, element);
                    });
                    break;
                }
            });
            options.modeNext = 0;
            options.onNext();
        };

        local.uiEventListenerDict['.onEventOperationDisplayShow'] = function (event, onError) {
        /*
         * this function will toggle the display of the operation
         */
            var element;
            element = event.target2;
            element = element.querySelector('.operation') || element.closest('.operation');
            location.hash = '!' + element.id;
            element.closest('.resource').classList.remove('expanded');
            // show parent resource
            local.uiAnimateSlideDown(element.closest('.resource').querySelector('.operationList'));
            // show the operation, but hide all other operations
            local.uiAnimateSlideAccordian(
                element.querySelector('.operation > form'),
                Array.from(element.closest('.operationList').querySelectorAll(
                    '.operation > form'
                )),
                function () {
                    // scrollTo operation
                    element.querySelector('[tabIndex]').blur();
                    element.querySelector('[tabIndex]').focus();
                    // validate input
                    local.uiEventListenerDict['.onEventInputValidate']({
                        targetOperation: element
                    });
                    local.setTimeoutOnError(onError, 0, null, element);
                }
            );
        };

        local.uiEventListenerDict['.onEventResourceDisplayAction'] = function (event) {
        /*
         * this function will toggle the display of the resource
         */
            location.hash = '!' + event.currentTarget.id;
            event.target2 = event.target2.closest('.onEventResourceDisplayAction.td');
            event.target2.className.split(' ').some(function (className) {
                switch (className) {
                case 'td1':
                    // show the resource, but hide all other resources
                    local.uiAnimateSlideAccordian(
                        event.currentTarget.querySelector('.operationList'),
                        Array.from(document.querySelectorAll('.swggUiContainer .operationList'))
                    );
                    // show at least one operation in the resource
                    local.uiEventListenerDict['.onEventOperationDisplayShow']({
                        target2: event.currentTarget.querySelector(
                            '.operation .uiAnimateSlide[style*="max-height: 100%"]'
                        ) || event.currentTarget.querySelector('.operation')
                    });
                    return true;
                case 'td2':
                    // show the resource, but hide all other resources
                    local.uiAnimateSlideAccordian(
                        event.currentTarget.querySelector('.operationList'),
                        Array.from(document.querySelectorAll('.swggUiContainer .operationList'))
                    );
                    // collapse all operations in the resource
                    if (event.currentTarget.classList.contains('expanded')) {
                        event.currentTarget.classList.remove('expanded');
                        Array.from(event.currentTarget.querySelectorAll(
                            '.operation > form'
                        )).forEach(function (element) {
                            local.uiAnimateSlideUp(element);
                        });
                    // expand all operations in the resource
                    } else {
                        event.currentTarget.classList.add('expanded');
                        Array.from(event.currentTarget.querySelectorAll(
                            '.operation > form'
                        )).forEach(function (element) {
                            local.uiAnimateSlideDown(element);
                            // validate input
                            local.uiEventListenerDict['.onEventInputValidate']({
                                targetOperation: element.closest('.operation')
                            });
                        });
                    }
                    return true;
                }
            });
        };

        local.uiEventListenerDict['.onEventUiReload'] = function (options, onError) {
        /*
         * this function will reload the ui
         */
            var resource, swaggerJson;
            options = swaggerJson = options || {};
            local.onNext(options, function (error, data) {
                switch (options.modeNext) {
                case 1:
                    options.inputUrl = document.querySelector('.swggUiContainer > .thead > .td2');
                    // clear all apiKeyValue's from localStorage
                    if (options.target2 && options.target2.id === 'swggApiKeyClearButton1') {
                        local.apiKeyValue = '';
                        Object.keys(localStorage).forEach(function (key) {
                            if (key.indexOf('utility2_swgg_apiKeyKey_') === 0) {
                                localStorage.removeItem(key);
                            }
                        });
                    // restore apiKeyValue
                    } else if (options.swggInit) {
                        local.apiKeyKey = 'utility2_swgg_apiKeyKey_' +
                            encodeURIComponent(local.urlParse(
                                options.inputUrl.value.replace((/^\//), '')
                            ).href);
                        local.apiKeyValue = localStorage.getItem(local.apiKeyKey) || '';
                    // save apiKeyValue
                    } else {
                        local.apiKeyValue = document.querySelector('#swggApiKeyInput1').value;
                        local.localStorageSetItemOrClear(local.apiKeyKey, local.apiKeyValue);
                    }
                    // if keyup-event is not return-key, then return
                    if ((options.type === 'keyup' && options.code !== 'Enter') ||
                            // do not reload ui during test
                            local.global.utility2_modeTestRun >= 2) {
                        return;
                    }
                    // reset ui
                    document.querySelector('#swggUiReloadErrorDiv1').textContent = '';
                    Array.from(document.querySelectorAll(
                        '.swggUiContainer > .reset'
                    )).forEach(function (element) {
                        element.remove();
                    });
                    // normalize swaggerJsonUrl
                    options.inputUrl.value = local.urlParse(
                        options.inputUrl.value.replace((/^\//), '')
                    ).href;
                    document.querySelector('#swggAjaxProgressDiv1 span').innerHTML =
                        'loading swagger.json';
                    options.onNext();
                    break;
                case 2:
                    // fetch swagger.json file
                    local.ajax({ url: options.inputUrl.value }, options.onNext);
                    break;
                case 3:
                    // JSON.parse swagger.json string
                    local.tryCatchOnError(function () {
                        options.onNext(null, JSON.parse(data.responseText));
                    }, options.onNext);
                    break;
                case 4:
                    // reset state
                    local.apiDict = local.swaggerJson = null;
                    // apiUpdate swagger.json object
                    local.apiUpdate(data);
                    swaggerJson = local.uiState = local.jsonCopy(local.swaggerJson);
                    // init ajaxProgressText
                    swaggerJson.ajaxProgressText = 'rendering swagger.json';
                    // init apiKeyValue
                    swaggerJson.apiKeyValue = local.apiKeyValue;
                    // templateRender title
                    document.querySelector('head > title').textContent = local.templateRender(
                        local.templateUiTitle,
                        swaggerJson
                    ).trim();
                    // init urlSwaggerJson
                    swaggerJson.urlSwaggerJson = options.inputUrl.value;
                    // templateRender main
                    document.querySelector('.swggUiContainer').innerHTML = local.templateRender(
                        local.templateUiMain,
                        swaggerJson
                    );
                    setTimeout(function () {
                        // recurse - render .resourceList
                        local.uiEventListenerDict['.onEventUiReload'](swaggerJson, options.onNext);
                    }, 100);
                    break;
                default:
                    local.onErrorDefault(error);
                    // debug error
                    local._debugOnEventUiReload = error || local._debugOnEventUiReload;
                    document.querySelector('#swggUiReloadErrorDiv1').textContent =
                        (error || { message: '' }).message;
                    local.setTimeoutOnError(onError, 0, error);
                }
            });
            // optimization - render .swggUiContainer first
            if (!swaggerJson.swagger) {
                options.modeNext = 0;
                options.onNext();
                return;
            }
            // optimization - render .resourceList in separate event-loop
            // reset state
            local.idDomElementDict = {};
            local.objectSetDefault(swaggerJson, {
                resourceDict: {},
                operationDict: {},
                tagDict: {}
            });
            // init tagDict
            swaggerJson.tags.forEach(function (tag) {
                swaggerJson.tagDict[tag.name] = tag;
            });
            // init operationDict
            Object.keys(local.apiDict).sort().forEach(function (operation) {
                // init operation
                operation = local.jsonCopy(local.apiDict[operation]);
                operation.tags.forEach(function (tag) {
                    swaggerJson.operationDict[operation._methodPath] = operation;
                    // init resource
                    resource = swaggerJson.resourceDict[tag] = local.objectSetDefault(
                        swaggerJson.resourceDict[tag] || swaggerJson.tagDict[tag],
                        {
                            name: tag
                        }
                    );
                    resource.id = resource.id || local.idDomElementCreate('swgg_id_' + tag);
                    resource.summary = resource.summary || String(resource.description)
                        .replace((/\bhttps?:\/\/[^\s<]+[^<.,:;"')\]\s]/g), '');
                });
            });
            // init uiFragment
            swaggerJson.uiFragment = document.createDocumentFragment();
            // init resourceDict
            Object.keys(swaggerJson.resourceDict).sort().forEach(function (key) {
                // templateRender resource
                swaggerJson.uiFragment.appendChild(
                    local.domElementRender(local.templateUiResource, swaggerJson.resourceDict[key])
                );
            });
            Object.keys(swaggerJson.operationDict).sort(function (aa, bb) {
                aa = swaggerJson.operationDict[aa];
                aa = aa['x-swgg-sortValue'] || (aa._path + ' ' + aa._method);
                bb = swaggerJson.operationDict[bb];
                bb = bb['x-swgg-sortValue'] || (bb._path + ' ' + bb._method);
                return aa < bb
                    ? -1
                    : 1;
            }).forEach(function (operation) {
                operation = swaggerJson.operationDict[operation];
                operation.id = local.idDomElementCreate('swgg_id_' + operation.operationId);
                operation.tags.forEach(function (tag) {
                    // create new operation for each tag
                    operation = local.jsonCopy(operation);
                    resource = swaggerJson.resourceDict[tag];
                    local.objectSetDefault(operation, {
                        responseList: Object.keys(operation.responses).sort().map(function (key) {
                            return {
                                key: key,
                                value: operation.responses[key]
                            };
                        }),
                        summary: operation.description
                            .replace((/\bhttps?:\/\/[^\s<]+[^<.,:;"')\]\s]/g), '')
                    });
                    operation.parameters.forEach(local.uiRenderSchemaP);
                    // templateRender operation
                    swaggerJson.uiFragment.querySelector('#' + resource.id + ' .operationList')
                        .appendChild(local.domElementRender(local.templateUiOperation, operation));
                });
            });
            // emulate <ol></ol> for operations
            Array.from(swaggerJson.uiFragment.querySelectorAll(
                '.operationList'
            )).forEach(function (element) {
                Array.from(element.querySelectorAll(
                    '.operation > .thead > .td1'
                )).forEach(function (element, ii) {
                    element.textContent = ii + 1 + '.';
                });
            });
            // append uiFragment to swggUiContainer
            document.querySelector('#swggAjaxProgressDiv1').style.display = 'none';
            document.querySelector('.swggUiContainer .resourceList').appendChild(
                swaggerJson.uiFragment
            );
            Array.from(document.querySelectorAll(
                '.swggUiContainer [data-value-text]'
            )).forEach(function (element) {
                // render valueText
                element.value = decodeURIComponent(element.dataset.valueText);
                delete element.dataset.valueText;
                // init textarea's multiline placeholder
                if (element.tagName === 'TEXTAREA') {
                    local.uiEventListenerDict['.onEventInputTextareaChange']({ target2: element });
                }
            });
            // init event-handling
            ['Click', 'Keyup', 'Submit'].forEach(function (eventType) {
                Array.from(document.querySelectorAll(
                    '.swggUiContainer .eventDelegate' + eventType
                )).forEach(function (element) {
                    element.addEventListener(eventType.toLowerCase(), local.uiEventDelegate);
                });
            });
            // scrollTo location.hash
            local.uiEventListenerDict['.onEventOperationDisplayShow']({
                target2: document.querySelector('#' + (location.hash.slice(2) || 'undefined')) ||
                    document.querySelector('.swggUiContainer .operation')
            });
            local.setTimeoutOnError(onError);
        };

        local.uiRenderSchemaP = function (schemaP) {
        /*
         * this function will render schemaP
         */
            // init schemaP.id
            schemaP.id = local.idDomElementCreate('swgg_id_' + schemaP.name);
            // init enum
            schemaP.enum2 = schemaP.enum ||
                (local.schemaPItems(schemaP) || {}).enum ||
                (local.schemaPType(schemaP) === 'boolean' && [false, true]);
            // init input - file
            if (local.schemaPType(schemaP) === 'file') {
                schemaP.isFile = true;
            // init input - textarea
            } else if (schemaP.in === 'body') {
                schemaP.isTextarea = true;
            // init input - select
            } else if (schemaP.enum2) {
                // init enumDefault
                schemaP.enumDefault = [];
                if (schemaP.required && schemaP.default !== undefined) {
                    schemaP.enumDefault = local.schemaPType(schemaP) === 'array'
                        ? schemaP.default
                        : [schemaP.default];
                }
                schemaP.isSelectMultiple = local.schemaPType(schemaP) === 'array';
                schemaP.selectOptionList = schemaP.enum2.map(function (element) {
                    // init hasDefault
                    schemaP.hasDefault = schemaP.hasDefault ||
                        schemaP.enumDefault.indexOf(element) >= 0;
                    return {
                        id: local.idDomElementCreate('swgg_id_' + schemaP.name),
                        selected: schemaP.enumDefault.indexOf(element) >= 0
                            ? 'selected'
                            : '',
                        type: local.schemaPItemsType(schemaP) || local.schemaPType(schemaP),
                        placeholder: typeof element === 'string'
                            ? element
                            : JSON.stringify(element),
                        valueSelectOption: element
                    };
                });
                // init 'undefined' value
                if (!schemaP.required && !schemaP.hasDefault) {
                    schemaP.selectOptionList.unshift({
                        id: local.idDomElementCreate('swgg_id_' + schemaP.name),
                        selected: 'selected',
                        type: local.schemaPType(schemaP),
                        placeholder: '<none>',
                        valueSelectOption: '$swggUndefined'
                    });
                }
                // select at least one value
                schemaP.selectOptionList.some(function (element, ii) {
                    if (ii === 0 || element.selected) {
                        element.selected = 'selected';
                        if (ii !== 0) {
                            schemaP.selectOptionList[0].selected = '';
                            return true;
                        }
                    }
                });
            // init input - textarea
            } else if (local.schemaPType(schemaP) === 'array' || (schemaP.format === 'json' &&
                    local.schemaPType(schemaP) === 'string')) {
                schemaP.isTextarea = true;
            // init input - text
            } else {
                schemaP.isInputText = true;
            }
            // init format2 / type2
            [schemaP, schemaP.schema || {}].some(function (element) {
                local.objectSetDefault(schemaP, {
                    format2: local.schemaPItemsType(element) || element.format,
                    type2: local.schemaPType(element)
                });
                return schemaP.type2;
            });
            schemaP.type2 = schemaP.type2 || 'object';
            // init schema2
            [
                schemaP,
                local.schemaPItems(schemaP),
                schemaP.schema,
                schemaP.schema && local.schemaPItems(schemaP.schema)
            ].some(function (element) {
                schemaP.schema2 = (local.swaggerValidateDataSchema({
                    // dereference schemaP
                    modeDereference: true,
                    modeDereferenceDepth: 2,
                    prefix: ['parameters', schemaP.name],
                    schema: element,
                    swaggerJson: local.swaggerJson
                }) || {});
                return schemaP.schema2.properties;
            });
            if (schemaP.schema2.properties) {
                schemaP.schemaText = JSON.stringify(schemaP.type2 === 'array'
                    ? [schemaP.schema2.properties]
                    : schemaP.schema2.properties, null, 4);
            }
            // init placeholder
            schemaP.placeholder = !local.isNullOrUndefined(schemaP.default)
                ? schemaP.default
                : local.dbFieldRandomCreate({
                    modeNotRandom: true,
                    schemaP: schemaP
                });
            if (typeof schemaP.placeholder !== 'string') {
                if (schemaP.in === 'body') {
                    schemaP.placeholder = JSON.stringify(schemaP.placeholder, null, 4);
                } else if (Array.isArray(schemaP.placeholder)) {
                    schemaP.placeholder = schemaP.placeholder.map(function (element) {
                        return typeof element === 'string'
                            ? element
                            : JSON.stringify(element);
                    }).join('\n');
                } else {
                    schemaP.placeholder = JSON.stringify(schemaP.placeholder);
                }
            } else if (schemaP.format === 'json') {
                schemaP.placeholder = JSON.stringify(JSON.parse(schemaP.placeholder), null, 4);
            }
            // init valueText
            schemaP.valueText = schemaP['x-swgg-apiKey']
                ? local.apiKeyValue
                : schemaP.default === null
                ? ''
                : schemaP.required || schemaP.isTextarea
                ? schemaP.placeholder
                : '';
            // templateRender schemaP
            schemaP.innerHTML = local.templateRender(local.templateUiParameter, schemaP);
        };

        local.urlParseWithBraket = function (url) {
        /*
         * this function will urlParse the url with curly-brackets preserved
         */
            var tmp;
            tmp = local.stringUniqueKey(url);
            return JSON.parse(JSON.stringify(
                local.urlParse(url.replace((/\{/g), tmp + 1).replace((/\}/g), tmp + 2))
            ).replace(new RegExp(tmp + 1, 'g'), '{').replace(new RegExp(tmp + 2, 'g'), '}'));
        };

        local.userLoginByPassword = function (options, onError) {
        /*
         * this function will send a login-by-password request
         */
            local.apiDict["GET /user/userLoginByPassword"].ajax({
                paramDict: { password: options.password, username: options.username }
            }, onError);
        };

        local.userLogout = function (options, onError) {
        /*
         * this function will send a logout request
         */
            local.apiDict["GET /user/userLogout"].ajax(options, onError);
        };

        local.utility2.middlewareError = function (error, request, response) {
        /*
         * this function will run the middleware that will
         * handle errors according to http://jsonapi.org/format/#errors
         */
            if (!error) {
                local.serverRespondDefault(request, response, 404);
                return;
            }
            local.serverRespondJsonapi(request, response, error);
        };
    }());
    switch (local.modeJs) {



    // run node js-env code - init-after
    /* istanbul ignore next */
    case 'node':
        local.assetsDict['/assets.swagger-ui.logo.medium.png'] = new Buffer(
            local.templateSwaggerUiLogoMediumBase64,
            'base64'
        );
        local.assetsDict['/assets.swagger-ui.logo.small.png'] = new Buffer(
            local.templateSwaggerUiLogoSmallBase64,
            'base64'
        );
        local.swgg.apiUpdate(JSON.parse(
            local.tryCatchReadFile(local.__dirname + '/assets.swgg.swagger.json') || '{}'
        ));
        break;
    }
}());
/* script-end /assets.swgg.js */



/* script-begin /assets.utility2.example.js */
(function () {
    "use strict";
    var local;
    local = (typeof window === "object" && window && window.utility2_rollup) ||
        global.utility2_rollup;
    local.local = local;
/* jslint-ignore-begin */
local.assetsDict["/assets.utility2.example.js"] = "/*\n\
example.js\n\
\n\
this script will demo automated browser-tests with coverage (via electron and istanbul)\n\
\n\
instruction\n\
    1. save this script as example.js\n\
    2. run the shell command:\n\
        $ npm install utility2 electron-lite && \\\n\
            PATH=\"$(pwd)/node_modules/.bin:$PATH\" \\\n\
            PORT=8081 \\\n\
            npm_config_mode_coverage=utility2 \\\n\
            node_modules/.bin/utility2 test example.js\n\
    3. view test-report in ./tmp/build/test-report.html\n\
    4. view coverage in ./tmp/build/coverage.html/index.html\n\
*/\n\
\n\
\n\
\n\
/* istanbul instrument in package utility2 */\n\
/* jslint-utility2 */\n\
/*jslint\n\
    bitwise: true,\n\
    browser: true,\n\
    maxerr: 4,\n\
    maxlen: 100,\n\
    node: true,\n\
    nomen: true,\n\
    regexp: true,\n\
    stupid: true\n\
*/\n\
(function () {\n\
    'use strict';\n\
    var local;\n\
\n\
\n\
\n\
    // run shared js-env code - init-before\n\
    (function () {\n\
        // init local\n\
        local = {};\n\
        // init modeJs\n\
        local.modeJs = (function () {\n\
            try {\n\
                return typeof navigator.userAgent === 'string' &&\n\
                    typeof document.querySelector('body') === 'object' &&\n\
                    typeof XMLHttpRequest.prototype.open === 'function' &&\n\
                    'browser';\n\
            } catch (errorCaughtBrowser) {\n\
                return module.exports &&\n\
                    typeof process.versions.node === 'string' &&\n\
                    typeof require('http').createServer === 'function' &&\n\
                    'node';\n\
            }\n\
        }());\n\
        // init global\n\
        local.global = local.modeJs === 'browser'\n\
            ? window\n\
            : global;\n\
        // init utility2_rollup\n\
        local = local.global.utility2_rollup || (local.modeJs === 'browser'\n\
            ? local.global.utility2_utility2\n\
            : require('utility2'));\n\
        // init exports\n\
        local.global.local = local;\n\
        // run test-server\n\
        local.testRunServer(local);\n\
        // init assets\n\
        local.assetsDict['/assets.hello'] = 'hello\\n\
';\n\
        local.assetsDict['/assets.index.template.html'] = '';\n\
    }());\n\
    switch (local.modeJs) {\n\
\n\
\n\
\n\
    // run browser js-env code - function\n\
    case 'browser':\n\
        local.testCase_ajax_200 = function (options, onError) {\n\
        /*\n\
         * this function will test ajax's \"200 ok\" handling-behavior\n\
         */\n\
            options = {};\n\
            // test ajax-path 'assets.hello'\n\
            local.ajax({ url: 'assets.hello' }, function (error, xhr) {\n\
                local.tryCatchOnError(function () {\n\
                    // validate no error occurred\n\
                    local.assert(!error, error);\n\
                    // validate data\n\
                    options.data = xhr.responseText;\n\
                    local.assert(options.data === 'hello\\n\
', options.data);\n\
                    onError();\n\
                }, onError);\n\
            });\n\
        };\n\
        local.testCase_ajax_404 = function (options, onError) {\n\
        /*\n\
         * this function will test ajax's \"404 not found\" handling-behavior\n\
         */\n\
            options = {};\n\
            // test ajax-path '/undefined'\n\
            local.ajax({ url: '/undefined' }, function (error) {\n\
                local.tryCatchOnError(function () {\n\
                    // validate error occurred\n\
                    local.assert(error, error);\n\
                    options.statusCode = error.statusCode;\n\
                    // validate 404 http statusCode\n\
                    local.assert(options.statusCode === 404, options.statusCode);\n\
                    onError();\n\
                }, onError);\n\
            });\n\
        };\n\
        break;\n\
\n\
\n\
\n\
    // run node js-env code - function\n\
    case 'node':\n\
        local.testCase_webpage_default = function (options, onError) {\n\
        /*\n\
         * this function will test webpage's default handling-behavior\n\
         */\n\
            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };\n\
            local.browserTest(options, onError);\n\
        };\n\
        break;\n\
    }\n\
    switch (local.modeJs) {\n\
\n\
\n\
\n\
    // run browser js-env code - init-test\n\
    /* istanbul ignore next */\n\
    case 'browser':\n\
        local.testRunBrowser = function (event) {\n\
            if (!event || (event &&\n\
                    event.currentTarget &&\n\
                    event.currentTarget.className &&\n\
                    event.currentTarget.className.includes &&\n\
                    event.currentTarget.className.includes('onreset'))) {\n\
                // reset output\n\
                Array.from(\n\
                    document.querySelectorAll('body > .resettable')\n\
                ).forEach(function (element) {\n\
                    switch (element.tagName) {\n\
                    case 'INPUT':\n\
                    case 'TEXTAREA':\n\
                        element.value = '';\n\
                        break;\n\
                    default:\n\
                        element.textContent = '';\n\
                    }\n\
                });\n\
            }\n\
            switch (event && event.currentTarget && event.currentTarget.id) {\n\
            case 'testRunButton1':\n\
                // show tests\n\
                if (document.querySelector('#testReportDiv1').style.maxHeight === '0px') {\n\
                    local.uiAnimateSlideDown(document.querySelector('#testReportDiv1'));\n\
                    document.querySelector('#testRunButton1').textContent = 'hide internal test';\n\
                    local.modeTest = true;\n\
                    local.testRunDefault(local);\n\
                // hide tests\n\
                } else {\n\
                    local.uiAnimateSlideUp(document.querySelector('#testReportDiv1'));\n\
                    document.querySelector('#testRunButton1').textContent = 'run internal test';\n\
                }\n\
                break;\n\
            // custom-case\n\
            case 'testRunButton2':\n\
                // run tests\n\
                local.modeTest = true;\n\
                local.testRunDefault(local);\n\
                break;\n\
            default:\n\
                if (location.href.indexOf(\"modeTest=\") >= 0) {\n\
                    return;\n\
                }\n\
                // try to JSON.stringify #inputTextareaEval1\n\
                try {\n\
                    document.querySelector('#outputPreJsonStringify1').textContent = '';\n\
                    document.querySelector('#outputPreJsonStringify1').textContent =\n\
                        local.jsonStringifyOrdered(\n\
                            JSON.parse(document.querySelector('#inputTextareaEval1').value),\n\
                            null,\n\
                            4\n\
                        );\n\
                } catch (ignore) {\n\
                }\n\
                // jslint #inputTextareaEval1\n\
                local.jslint.errorText = '';\n\
                if (document.querySelector('#inputTextareaEval1').value\n\
                        .indexOf('/*jslint') >= 0) {\n\
                    local.jslint.jslintAndPrint(\n\
                        document.querySelector('#inputTextareaEval1').value,\n\
                        'inputTextareaEval1.js'\n\
                    );\n\
                }\n\
                document.querySelector('#outputPreJslint1').textContent =\n\
                    local.jslint.errorText\n\
                    .replace((/\\u001b\\[\\d+m/g), '')\n\
                    .trim();\n\
                // try to cleanup __coverage__\n\
                try {\n\
                    delete local.global.__coverage__['/inputTextareaEval1.js'];\n\
                } catch (ignore) {\n\
                }\n\
                // try to cover and eval input-code\n\
                try {\n\
                    /*jslint evil: true*/\n\
                    document.querySelector('#outputTextarea1').value =\n\
                        local.istanbul.instrumentSync(\n\
                            document.querySelector('#inputTextareaEval1').value,\n\
                            '/inputTextareaEval1.js'\n\
                        );\n\
                    eval(document.querySelector('#outputTextarea1').value);\n\
                    document.querySelector('#coverageReportDiv1').innerHTML =\n\
                        local.istanbul.coverageReportCreate({\n\
                            coverage: window.__coverage__\n\
                        });\n\
                } catch (errorCaught) {\n\
                    console.error(errorCaught);\n\
                }\n\
            }\n\
            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&\n\
                    event.currentTarget &&\n\
                    event.currentTarget.className &&\n\
                    event.currentTarget.className.includes &&\n\
                    event.currentTarget.className.includes('oneval')))) {\n\
                // try to eval input-code\n\
                try {\n\
                    /*jslint evil: true*/\n\
                    eval(document.querySelector('#inputTextareaEval1').value);\n\
                } catch (errorCaught) {\n\
                    console.error(errorCaught);\n\
                }\n\
            }\n\
        };\n\
        // log stderr and stdout to #outputTextareaStdout1\n\
        ['error', 'log'].forEach(function (key) {\n\
            console[key + '_original'] = console[key];\n\
            console[key] = function () {\n\
                var element;\n\
                console[key + '_original'].apply(console, arguments);\n\
                element = document.querySelector('#outputTextareaStdout1');\n\
                if (!element) {\n\
                    return;\n\
                }\n\
                // append text to #outputTextareaStdout1\n\
                element.value += Array.from(arguments).map(function (arg) {\n\
                    return typeof arg === 'string'\n\
                        ? arg\n\
                        : JSON.stringify(arg, null, 4);\n\
                }).join(' ') + '\\n\
';\n\
                // scroll textarea to bottom\n\
                element.scrollTop = element.scrollHeight;\n\
            };\n\
        });\n\
        // init event-handling\n\
        ['change', 'click', 'keyup'].forEach(function (event) {\n\
            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {\n\
                element.addEventListener(event, local.testRunBrowser);\n\
            });\n\
        });\n\
        // run tests\n\
        local.testRunBrowser();\n\
        break;\n\
\n\
\n\
\n\
    // run node js-env code - init-test\n\
    /* istanbul ignore next */\n\
    case 'node':\n\
        // init exports\n\
        module.exports = local;\n\
        // require builtins\n\
        // local.assert = require('assert');\n\
        local.buffer = require('buffer');\n\
        local.child_process = require('child_process');\n\
        local.cluster = require('cluster');\n\
        local.console = require('console');\n\
        local.constants = require('constants');\n\
        local.crypto = require('crypto');\n\
        local.dgram = require('dgram');\n\
        local.dns = require('dns');\n\
        local.domain = require('domain');\n\
        local.events = require('events');\n\
        local.fs = require('fs');\n\
        local.http = require('http');\n\
        local.https = require('https');\n\
        local.module = require('module');\n\
        local.net = require('net');\n\
        local.os = require('os');\n\
        local.path = require('path');\n\
        local.process = require('process');\n\
        local.punycode = require('punycode');\n\
        local.querystring = require('querystring');\n\
        local.readline = require('readline');\n\
        local.repl = require('repl');\n\
        local.stream = require('stream');\n\
        local.string_decoder = require('string_decoder');\n\
        local.timers = require('timers');\n\
        local.tls = require('tls');\n\
        local.tty = require('tty');\n\
        local.url = require('url');\n\
        local.util = require('util');\n\
        local.v8 = require('v8');\n\
        local.vm = require('vm');\n\
        local.zlib = require('zlib');\n\
/* validateLineSortedReset */\n\
        // init assets\n\
        local.assetsDict = local.assetsDict || {};\n\
        /* jslint-ignore-begin */\n\
        local.assetsDict['/assets.index.template.html'] = '\\\n\
<!doctype html>\\n\
\\\n\
<html lang=\"en\">\\n\
\\\n\
<head>\\n\
\\\n\
<meta charset=\"UTF-8\">\\n\
\\\n\
<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\
\\\n\
<!-- \"assets.index.default.template.html\" -->\\n\
\\\n\
<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\
\\\n\
<style>\\n\
\\\n\
/* jslint-utility2 */\\n\
\\\n\
/*csslint\\n\
\\\n\
*/\\n\
\\\n\
/* jslint-ignore-begin */\\n\
\\\n\
*,\\n\
\\\n\
*:after,\\n\
\\\n\
*:before {\\n\
\\\n\
    box-sizing: border-box;\\n\
\\\n\
}\\n\
\\\n\
/* jslint-ignore-end */\\n\
\\\n\
@keyframes uiAnimateShake {\\n\
\\\n\
    0%, 50% {\\n\
\\\n\
        transform: translateX(10px);\\n\
\\\n\
    }\\n\
\\\n\
    25%, 75% {\\n\
\\\n\
        transform: translateX(-10px);\\n\
\\\n\
    }\\n\
\\\n\
    100% {\\n\
\\\n\
        transform: translateX(0);\\n\
\\\n\
    }\\n\
\\\n\
}\\n\
\\\n\
@keyframes uiAnimateSpin {\\n\
\\\n\
    0% {\\n\
\\\n\
        transform: rotate(0deg);\\n\
\\\n\
    }\\n\
\\\n\
    100% {\\n\
\\\n\
        transform: rotate(360deg);\\n\
\\\n\
    }\\n\
\\\n\
}\\n\
\\\n\
a {\\n\
\\\n\
    overflow-wrap: break-word;\\n\
\\\n\
}\\n\
\\\n\
body > div,\\n\
\\\n\
body > pre,\\n\
\\\n\
body > textarea,\\n\
\\\n\
body > .button {\\n\
\\\n\
    margin-bottom: 20px;\\n\
\\\n\
}\\n\
\\\n\
body > textarea {\\n\
\\\n\
    height: 10rem;\\n\
\\\n\
    width: 100%;\\n\
\\\n\
}\\n\
\\\n\
body > textarea[readonly] {\\n\
\\\n\
    background: #ddd;\\n\
\\\n\
}\\n\
\\\n\
body > .button {\\n\
\\\n\
    width: 20rem;\\n\
\\\n\
}\\n\
\\\n\
code,\\n\
\\\n\
pre,\\n\
\\\n\
textarea {\\n\
\\\n\
    font-family: Consolas, Menlo, monospace;\\n\
\\\n\
    font-size: small;\\n\
\\\n\
}\\n\
\\\n\
pre {\\n\
\\\n\
    overflow-wrap: break-word;\\n\
\\\n\
    white-space: pre-wrap;\\n\
\\\n\
}\\n\
\\\n\
textarea {\\n\
\\\n\
    overflow: auto;\\n\
\\\n\
    white-space: pre;\\n\
\\\n\
}\\n\
\\\n\
.button {\\n\
\\\n\
    background-color: #fff;\\n\
\\\n\
    border: 1px solid;\\n\
\\\n\
    border-bottom-color: rgb(186, 186, 186);\\n\
\\\n\
    border-left-color: rgb(209, 209, 209);\\n\
\\\n\
    border-radius: 4px;\\n\
\\\n\
    border-right-color: rgb(209, 209, 209);\\n\
\\\n\
    border-top-color: rgb(216, 216, 216);\\n\
\\\n\
    color: #00d;\\n\
\\\n\
    cursor: pointer;\\n\
\\\n\
    display: inline-block;\\n\
\\\n\
    font-family: Arial, Helvetica, sans-serif;\\n\
\\\n\
    font-size: 12px;\\n\
\\\n\
    font-style: normal;\\n\
\\\n\
    font-weight: normal;\\n\
\\\n\
    margin: 0;\\n\
\\\n\
    padding: 2px 7px 3px 7px;\\n\
\\\n\
    text-align: center;\\n\
\\\n\
    text-decoration: underline;\\n\
\\\n\
}\\n\
\\\n\
.colorError {\\n\
\\\n\
    color: #d00;\\n\
\\\n\
}\\n\
\\\n\
.uiAnimateShake {\\n\
\\\n\
    animation-duration: 500ms;\\n\
\\\n\
    animation-name: uiAnimateShake;\\n\
\\\n\
}\\n\
\\\n\
.uiAnimateSlide {\\n\
\\\n\
    overflow-y: hidden;\\n\
\\\n\
    transition: max-height ease-in 250ms, min-height ease-in 250ms, padding-bottom ease-in 250ms, padding-top ease-in 250ms;\\n\
\\\n\
}\\n\
\\\n\
.utility2FooterDiv {\\n\
\\\n\
    text-align: center;\\n\
\\\n\
}\\n\
\\\n\
.zeroPixel {\\n\
\\\n\
    border: 0;\\n\
\\\n\
    height: 0;\\n\
\\\n\
    margin: 0;\\n\
\\\n\
    padding: 0;\\n\
\\\n\
    width: 0;\\n\
\\\n\
}\\n\
\\\n\
</style>\\n\
\\\n\
</head>\\n\
\\\n\
<body style=\"background: #eef; font-family: Arial, Helvetica, sans-serif; margin: 0 40px;\">\\n\
\\\n\
<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 500ms, width 1500ms; width: 0%; z-index: 1;\"></div>\\n\
\\\n\
<div class=\"uiAnimateSpin\" style=\"animation: uiAnimateSpin 2s linear infinite; border: 5px solid #999; border-radius: 50%; border-top: 5px solid #7d7; display: none; height: 25px; vertical-align: middle; width: 25px;\"></div>\\n\
\\\n\
<code style=\"display: none;\"></code><div class=\"button uiAnimateShake uiAnimateSlide utility2FooterDiv zeroPixel\" style=\"display: none;\"></div><pre style=\"display: none;\"></pre><textarea readonly style=\"display: none;\"></textarea>\\n\
\\\n\
<script>\\n\
\\\n\
/* jslint-utility2 */\\n\
\\\n\
/*jslint\\n\
\\\n\
    bitwise: true,\\n\
\\\n\
    browser: true,\\n\
\\\n\
    maxerr: 4,\\n\
\\\n\
    maxlen: 100,\\n\
\\\n\
    node: true,\\n\
\\\n\
    nomen: true,\\n\
\\\n\
    regexp: true,\\n\
\\\n\
    stupid: true\\n\
\\\n\
*/\\n\
\\\n\
(function () {\\n\
\\\n\
    \"use strict\";\\n\
\\\n\
    var ajaxProgressDiv1,\\n\
\\\n\
        ajaxProgressState,\\n\
\\\n\
        ajaxProgressUpdate,\\n\
\\\n\
        timerIntervalAjaxProgressUpdate;\\n\
\\\n\
    ajaxProgressDiv1 = document.querySelector(\"#ajaxProgressDiv1\");\\n\
\\\n\
    setTimeout(function () {\\n\
\\\n\
        ajaxProgressDiv1.style.width = \"25%\";\\n\
\\\n\
    });\\n\
\\\n\
    ajaxProgressState = 0;\\n\
\\\n\
    ajaxProgressUpdate = (window.local &&\\n\
\\\n\
        window.local.ajaxProgressUpdate) || function () {\\n\
\\\n\
        ajaxProgressDiv1.style.width = \"100%\";\\n\
\\\n\
        setTimeout(function () {\\n\
\\\n\
            ajaxProgressDiv1.style.background = \"transparent\";\\n\
\\\n\
            setTimeout(function () {\\n\
\\\n\
                ajaxProgressDiv1.style.width = \"0%\";\\n\
\\\n\
            }, 500);\\n\
\\\n\
        }, 1500);\\n\
\\\n\
    };\\n\
\\\n\
    timerIntervalAjaxProgressUpdate = setInterval(function () {\\n\
\\\n\
        ajaxProgressState += 1;\\n\
\\\n\
        ajaxProgressDiv1.style.width = Math.max(\\n\
\\\n\
            100 - 75 * Math.exp(-0.125 * ajaxProgressState),\\n\
\\\n\
            Number(ajaxProgressDiv1.style.width.slice(0, -1)) || 0\\n\
\\\n\
        ) + \"%\";\\n\
\\\n\
    }, 1000);\\n\
\\\n\
    window.addEventListener(\"load\", function () {\\n\
\\\n\
        clearInterval(timerIntervalAjaxProgressUpdate);\\n\
\\\n\
        ajaxProgressUpdate();\\n\
\\\n\
    });\\n\
\\\n\
}());\\n\
\\\n\
</script>\\n\
\\\n\
<h1>\\n\
\\\n\
<!-- utility2-comment\\n\
\\\n\
    <a\\n\
\\\n\
        {{#if env.npm_package_homepage}}\\n\
\\\n\
        href=\"{{env.npm_package_homepage}}\"\\n\
\\\n\
        {{/if env.npm_package_homepage}}\\n\
\\\n\
        target=\"_blank\"\\n\
\\\n\
    >\\n\
\\\n\
utility2-comment -->\\n\
\\\n\
        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\
\\\n\
<!-- utility2-comment\\n\
\\\n\
    </a>\\n\
\\\n\
utility2-comment -->\\n\
\\\n\
</h1>\\n\
\\\n\
<h3>{{env.npm_package_description}}</h3>\\n\
\\\n\
<!-- utility2-comment\\n\
\\\n\
<a class=\"button\" download href=\"assets.app.js\">download standalone app</a><br>\\n\
\\\n\
<button class=\"button onclick onreset\" id=\"testRunButton2\">run internal test</button><br>\\n\
\\\n\
utility2-comment -->\\n\
\\\n\
\\n\
\\\n\
\\n\
\\\n\
\\n\
\\\n\
<label>edit or paste script below to cover and test</label>\\n\
\\\n\
<textarea class=\"oneval onkeyup onreset\" id=\"inputTextareaEval1\">\\n\
\\\n\
// remove comment below to disable jslint\\n\
\\\n\
/*jslint\\n\
\\\n\
    browser: true,\\n\
\\\n\
    es6: true\\n\
\\\n\
*/\\n\
\\\n\
/*global window*/\\n\
\\\n\
(function () {\\n\
\\\n\
    \"use strict\";\\n\
\\\n\
    var testCaseDict;\\n\
\\\n\
    testCaseDict = {};\\n\
\\\n\
    testCaseDict.modeTest = true;\\n\
\\\n\
\\n\
\\\n\
    // comment this testCase to disable the failed assertion demo\\n\
\\\n\
    testCaseDict.testCase_failed_assertion_demo = function (options, onError) {\\n\
\\\n\
    /*\\n\
\\\n\
     * this function will demo a failed assertion test\\n\
\\\n\
     */\\n\
\\\n\
        // jslint-hack\\n\
\\\n\
        window.utility2.nop(options);\\n\
\\\n\
        window.utility2.assert(false, \"this is a failed assertion demo\");\\n\
\\\n\
        onError();\\n\
\\\n\
    };\\n\
\\\n\
\\n\
\\\n\
    testCaseDict.testCase_passed_ajax_demo = function (options, onError) {\\n\
\\\n\
    /*\\n\
\\\n\
     * this function will demo a passed ajax test\\n\
\\\n\
     */\\n\
\\\n\
        var data;\\n\
\\\n\
        options = {url: \"/\"};\\n\
\\\n\
        // test ajax request for main-page \"/\"\\n\
\\\n\
        window.utility2.ajax(options, function (error, xhr) {\\n\
\\\n\
            try {\\n\
\\\n\
                // validate no error occurred\\n\
\\\n\
                window.utility2.assert(!error, error);\\n\
\\\n\
                // validate \"200 ok\" status\\n\
\\\n\
                window.utility2.assert(xhr.statusCode === 200, xhr.statusCode);\\n\
\\\n\
                // validate non-empty data\\n\
\\\n\
                data = xhr.responseText;\\n\
\\\n\
                window.utility2.assert(data && data.length > 0, data);\\n\
\\\n\
                onError();\\n\
\\\n\
            } catch (errorCaught) {\\n\
\\\n\
                onError(errorCaught);\\n\
\\\n\
            }\\n\
\\\n\
        });\\n\
\\\n\
    };\\n\
\\\n\
\\n\
\\\n\
    window.utility2.testRunDefault(testCaseDict);\\n\
\\\n\
}());\\n\
\\\n\
</textarea>\\n\
\\\n\
<pre id=\"outputPreJsonStringify1\"></pre>\\n\
\\\n\
<pre class= \"colorError\" id=\"outputPreJslint1\"></pre>\\n\
\\\n\
<label>instrumented-code</label>\\n\
\\\n\
<textarea class=\"resettable\" id=\"outputTextarea1\" readonly></textarea>\\n\
\\\n\
<label>stderr and stdout</label>\\n\
\\\n\
<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\
\\\n\
<div class=\"resettable\" id=\"testReportDiv1\"></div>\\n\
\\\n\
<div class=\"resettable\" id=\"coverageReportDiv1\"></div>\\n\
\\\n\
<!-- utility2-comment\\n\
\\\n\
{{#if isRollup}}\\n\
\\\n\
<script src=\"assets.app.js\"></script>\\n\
\\\n\
{{#unless isRollup}}\\n\
\\\n\
utility2-comment -->\\n\
\\\n\
<script src=\"assets.utility2.lib.istanbul.js\"></script>\\n\
\\\n\
<script src=\"assets.utility2.lib.jslint.js\"></script>\\n\
\\\n\
<script src=\"assets.utility2.lib.db.js\"></script>\\n\
\\\n\
<script src=\"assets.utility2.lib.marked.js\"></script>\\n\
\\\n\
<script src=\"assets.utility2.lib.sjcl.js\"></script>\\n\
\\\n\
<script src=\"assets.utility2.lib.uglifyjs.js\"></script>\\n\
\\\n\
<script src=\"assets.utility2.js\"></script>\\n\
\\\n\
<script>window.utility2.onResetBefore.counter += 1;</script>\\n\
\\\n\
<script src=\"jsonp.utility2.stateInit?callback=window.utility2.stateInit\"></script>\\n\
\\\n\
<script src=\"assets.example.js\"></script>\\n\
\\\n\
<script src=\"assets.test.js\"></script>\\n\
\\\n\
<script>window.utility2.onResetBefore();</script>\\n\
\\\n\
<!-- utility2-comment\\n\
\\\n\
{{/if isRollup}}\\n\
\\\n\
utility2-comment -->\\n\
\\\n\
<div class=\"utility2FooterDiv\">\\n\
\\\n\
    [ this app was created with\\n\
\\\n\
    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\
\\\n\
    ]\\n\
\\\n\
</div>\\n\
\\\n\
</body>\\n\
\\\n\
</html>\\n\
\\\n\
';\n\
        /* jslint-ignore-end */\n\
        [\n\
            'assets.index.css',\n\
            'assets.index.template.html',\n\
            'assets.swgg.swagger.json',\n\
            'assets.swgg.swagger.server.json'\n\
        ].forEach(function (file) {\n\
            file = '/' + file;\n\
            local.assetsDict[file] = local.assetsDict[file] || '';\n\
            if (local.fs.existsSync(local.__dirname + file)) {\n\
                local.assetsDict[file] = local.fs.readFileSync(\n\
                    local.__dirname + file,\n\
                    'utf8'\n\
                );\n\
            }\n\
        });\n\
/* validateLineSortedReset */\n\
        // bug-workaround - long $npm_package_buildCustomOrg\n\
        /* jslint-ignore-begin */\n\
        local.assetsDict['/assets.utility2.js'] = local.assetsDict['/assets.utility2.js'] ||\n\
            local.fs.readFileSync(local.__dirname + '/lib.utility2.js', 'utf8'\n\
        ).replace((/^#!/), '//');\n\
/* validateLineSortedReset */\n\
        local.assetsDict['/'] =\n\
            local.assetsDict['/assets.example.html'] =\n\
            local.assetsDict['/assets.index.template.html']\n\
            .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {\n\
                switch (match1) {\n\
                case 'npm_package_description':\n\
                    return 'the greatest app in the world!';\n\
                case 'npm_package_name':\n\
                    return 'utility2';\n\
                case 'npm_package_nameLib':\n\
                    return 'utility2';\n\
                case 'npm_package_version':\n\
                    return '0.0.1';\n\
                default:\n\
                    return match0;\n\
                }\n\
            });\n\
        // init cli\n\
        if (module !== require.main || local.global.utility2_rollup) {\n\
            break;\n\
        }\n\
        local.assetsDict['/assets.example.js'] =\n\
            local.assetsDict['/assets.example.js'] ||\n\
            local.fs.readFileSync(__filename, 'utf8');\n\
        /* jslint-ignore-end */\n\
        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';\n\
        // if $npm_config_timeout_exit exists,\n\
        // then exit this process after $npm_config_timeout_exit ms\n\
        if (Number(process.env.npm_config_timeout_exit)) {\n\
            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));\n\
        }\n\
        // start server\n\
        if (local.global.utility2_serverHttp1) {\n\
            break;\n\
        }\n\
        process.env.PORT = process.env.PORT || '8081';\n\
        console.error('server starting on port ' + process.env.PORT);\n\
        local.http.createServer(function (request, response) {\n\
            request.urlParsed = local.url.parse(request.url);\n\
            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {\n\
                response.end(local.assetsDict[request.urlParsed.pathname]);\n\
                return;\n\
            }\n\
            response.statusCode = 404;\n\
            response.end();\n\
        }).listen(process.env.PORT);\n\
        break;\n\
    }\n\
}());\n\
"
/* jslint-ignore-end */
}());
/* script-end /assets.utility2.example.js */



/* script-begin /assets.utility2.html */
(function () {
    "use strict";
    var local;
    local = (typeof window === "object" && window && window.utility2_rollup) ||
        global.utility2_rollup;
    local.local = local;
/* jslint-ignore-begin */
local.assetsDict["/assets.utility2.html"] = "<!doctype html>\n\
<html lang=\"en\">\n\
<head>\n\
<meta charset=\"UTF-8\">\n\
<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\
<!-- \"assets.index.default.template.html\" -->\n\
<title>utility2 (v0.0.1)</title>\n\
<style>\n\
/* jslint-utility2 */\n\
/*csslint\n\
*/\n\
/* jslint-ignore-begin */\n\
*,\n\
*:after,\n\
*:before {\n\
    box-sizing: border-box;\n\
}\n\
/* jslint-ignore-end */\n\
@keyframes uiAnimateShake {\n\
    0%, 50% {\n\
        transform: translateX(10px);\n\
    }\n\
    25%, 75% {\n\
        transform: translateX(-10px);\n\
    }\n\
    100% {\n\
        transform: translateX(0);\n\
    }\n\
}\n\
@keyframes uiAnimateSpin {\n\
    0% {\n\
        transform: rotate(0deg);\n\
    }\n\
    100% {\n\
        transform: rotate(360deg);\n\
    }\n\
}\n\
a {\n\
    overflow-wrap: break-word;\n\
}\n\
body > div,\n\
body > pre,\n\
body > textarea,\n\
body > .button {\n\
    margin-bottom: 20px;\n\
}\n\
body > textarea {\n\
    height: 10rem;\n\
    width: 100%;\n\
}\n\
body > textarea[readonly] {\n\
    background: #ddd;\n\
}\n\
body > .button {\n\
    width: 20rem;\n\
}\n\
code,\n\
pre,\n\
textarea {\n\
    font-family: Consolas, Menlo, monospace;\n\
    font-size: small;\n\
}\n\
pre {\n\
    overflow-wrap: break-word;\n\
    white-space: pre-wrap;\n\
}\n\
textarea {\n\
    overflow: auto;\n\
    white-space: pre;\n\
}\n\
.button {\n\
    background-color: #fff;\n\
    border: 1px solid;\n\
    border-bottom-color: rgb(186, 186, 186);\n\
    border-left-color: rgb(209, 209, 209);\n\
    border-radius: 4px;\n\
    border-right-color: rgb(209, 209, 209);\n\
    border-top-color: rgb(216, 216, 216);\n\
    color: #00d;\n\
    cursor: pointer;\n\
    display: inline-block;\n\
    font-family: Arial, Helvetica, sans-serif;\n\
    font-size: 12px;\n\
    font-style: normal;\n\
    font-weight: normal;\n\
    margin: 0;\n\
    padding: 2px 7px 3px 7px;\n\
    text-align: center;\n\
    text-decoration: underline;\n\
}\n\
.colorError {\n\
    color: #d00;\n\
}\n\
.uiAnimateShake {\n\
    animation-duration: 500ms;\n\
    animation-name: uiAnimateShake;\n\
}\n\
.uiAnimateSlide {\n\
    overflow-y: hidden;\n\
    transition: max-height ease-in 250ms, min-height ease-in 250ms, padding-bottom ease-in 250ms, padding-top ease-in 250ms;\n\
}\n\
.utility2FooterDiv {\n\
    text-align: center;\n\
}\n\
.zeroPixel {\n\
    border: 0;\n\
    height: 0;\n\
    margin: 0;\n\
    padding: 0;\n\
    width: 0;\n\
}\n\
</style>\n\
</head>\n\
<body style=\"background: #eef; font-family: Arial, Helvetica, sans-serif; margin: 0 40px;\">\n\
<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 500ms, width 1500ms; width: 0%; z-index: 1;\"></div>\n\
<div class=\"uiAnimateSpin\" style=\"animation: uiAnimateSpin 2s linear infinite; border: 5px solid #999; border-radius: 50%; border-top: 5px solid #7d7; display: none; height: 25px; vertical-align: middle; width: 25px;\"></div>\n\
<code style=\"display: none;\"></code><div class=\"button uiAnimateShake uiAnimateSlide utility2FooterDiv zeroPixel\" style=\"display: none;\"></div><pre style=\"display: none;\"></pre><textarea readonly style=\"display: none;\"></textarea>\n\
<script>\n\
/* jslint-utility2 */\n\
/*jslint\n\
    bitwise: true,\n\
    browser: true,\n\
    maxerr: 4,\n\
    maxlen: 100,\n\
    node: true,\n\
    nomen: true,\n\
    regexp: true,\n\
    stupid: true\n\
*/\n\
(function () {\n\
    \"use strict\";\n\
    var ajaxProgressDiv1,\n\
        ajaxProgressState,\n\
        ajaxProgressUpdate,\n\
        timerIntervalAjaxProgressUpdate;\n\
    ajaxProgressDiv1 = document.querySelector(\"#ajaxProgressDiv1\");\n\
    setTimeout(function () {\n\
        ajaxProgressDiv1.style.width = \"25%\";\n\
    });\n\
    ajaxProgressState = 0;\n\
    ajaxProgressUpdate = (window.local &&\n\
        window.local.ajaxProgressUpdate) || function () {\n\
        ajaxProgressDiv1.style.width = \"100%\";\n\
        setTimeout(function () {\n\
            ajaxProgressDiv1.style.background = \"transparent\";\n\
            setTimeout(function () {\n\
                ajaxProgressDiv1.style.width = \"0%\";\n\
            }, 500);\n\
        }, 1500);\n\
    };\n\
    timerIntervalAjaxProgressUpdate = setInterval(function () {\n\
        ajaxProgressState += 1;\n\
        ajaxProgressDiv1.style.width = Math.max(\n\
            100 - 75 * Math.exp(-0.125 * ajaxProgressState),\n\
            Number(ajaxProgressDiv1.style.width.slice(0, -1)) || 0\n\
        ) + \"%\";\n\
    }, 1000);\n\
    window.addEventListener(\"load\", function () {\n\
        clearInterval(timerIntervalAjaxProgressUpdate);\n\
        ajaxProgressUpdate();\n\
    });\n\
}());\n\
</script>\n\
<h1>\n\
\n\
    <a\n\
        \n\
        href=\"https://github.com/kaizhu256/node-utility2\"\n\
        \n\
        target=\"_blank\"\n\
    >\n\
\n\
        utility2 (v0.0.1)\n\
\n\
    </a>\n\
\n\
</h1>\n\
<h3>the zero-dependency, swiss-army-knife utility for building, testing, and deploying webapps</h3>\n\
\n\
<a class=\"button\" download href=\"assets.app.js\">download standalone app</a><br>\n\
<button class=\"button onclick onreset\" id=\"testRunButton2\">run internal test</button><br>\n\
\n\
\n\
\n\
\n\
<label>edit or paste script below to cover and test</label>\n\
<textarea class=\"oneval onkeyup onreset\" id=\"inputTextareaEval1\">\n\
// remove comment below to disable jslint\n\
/*jslint\n\
    browser: true,\n\
    es6: true\n\
*/\n\
/*global window*/\n\
(function () {\n\
    \"use strict\";\n\
    var testCaseDict;\n\
    testCaseDict = {};\n\
    testCaseDict.modeTest = true;\n\
\n\
    // comment this testCase to disable the failed assertion demo\n\
    testCaseDict.testCase_failed_assertion_demo = function (options, onError) {\n\
    /*\n\
     * this function will demo a failed assertion test\n\
     */\n\
        // jslint-hack\n\
        window.utility2.nop(options);\n\
        window.utility2.assert(false, \"this is a failed assertion demo\");\n\
        onError();\n\
    };\n\
\n\
    testCaseDict.testCase_passed_ajax_demo = function (options, onError) {\n\
    /*\n\
     * this function will demo a passed ajax test\n\
     */\n\
        var data;\n\
        options = {url: \"/\"};\n\
        // test ajax request for main-page \"/\"\n\
        window.utility2.ajax(options, function (error, xhr) {\n\
            try {\n\
                // validate no error occurred\n\
                window.utility2.assert(!error, error);\n\
                // validate \"200 ok\" status\n\
                window.utility2.assert(xhr.statusCode === 200, xhr.statusCode);\n\
                // validate non-empty data\n\
                data = xhr.responseText;\n\
                window.utility2.assert(data && data.length > 0, data);\n\
                onError();\n\
            } catch (errorCaught) {\n\
                onError(errorCaught);\n\
            }\n\
        });\n\
    };\n\
\n\
    window.utility2.testRunDefault(testCaseDict);\n\
}());\n\
</textarea>\n\
<pre id=\"outputPreJsonStringify1\"></pre>\n\
<pre class= \"colorError\" id=\"outputPreJslint1\"></pre>\n\
<label>instrumented-code</label>\n\
<textarea class=\"resettable\" id=\"outputTextarea1\" readonly></textarea>\n\
<label>stderr and stdout</label>\n\
<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\n\
<div class=\"resettable\" id=\"testReportDiv1\"></div>\n\
<div class=\"resettable\" id=\"coverageReportDiv1\"></div>\n\
\n\
\n\
<script src=\"assets.utility2.rollup.js\"></script>\n\
<script src=\"assets.utility2.example.js\"></script>\n\
<script src=\"assets.utility2.test.js\"></script>\n\
\n\
\n\
<div class=\"utility2FooterDiv\">\n\
    [ this app was created with\n\
    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\n\
    ]\n\
</div>\n\
</body>\n\
</html>\n\
"
/* jslint-ignore-end */
}());
/* script-end /assets.utility2.html */



/* script-begin /assets.utility2.test.js */
(function () {
    "use strict";
    var local;
    local = (typeof window === "object" && window && window.utility2_rollup) ||
        global.utility2_rollup;
    local.local = local;
/* jslint-ignore-begin */
local.assetsDict["/assets.utility2.test.js"] = "/* istanbul instrument in package utility2 */\n\
/* jslint-utility2 */\n\
/*jslint\n\
    bitwise: true,\n\
    browser: true,\n\
    maxerr: 4,\n\
    maxlen: 100,\n\
    node: true,\n\
    nomen: true,\n\
    regexp: true,\n\
    stupid: true\n\
*/\n\
(function () {\n\
    'use strict';\n\
    var local;\n\
\n\
\n\
\n\
    // run shared js-env code - init-before\n\
    (function () {\n\
        // init local\n\
        local = {};\n\
        // init modeJs\n\
        local.modeJs = (function () {\n\
            try {\n\
                return typeof navigator.userAgent === 'string' &&\n\
                    typeof document.querySelector('body') === 'object' &&\n\
                    typeof XMLHttpRequest.prototype.open === 'function' &&\n\
                    'browser';\n\
            } catch (errorCaughtBrowser) {\n\
                return module.exports &&\n\
                    typeof process.versions.node === 'string' &&\n\
                    typeof require('http').createServer === 'function' &&\n\
                    'node';\n\
            }\n\
        }());\n\
        // init global\n\
        local.global = local.modeJs === 'browser'\n\
            ? window\n\
            : global;\n\
        // re-init local\n\
        local = local.global.local = (local.global.utility2 ||\n\
            require('./lib.utility2.js')).requireReadme();\n\
        // init test\n\
        local.testRunInit(local);\n\
    }());\n\
\n\
\n\
\n\
    // run shared js-env code - function\n\
    (function () {\n\
        local._testCase_testRunDefault_failure = function (options, onError) {\n\
        /*\n\
         * this function will test testRunDefault's failure handling-behavior\n\
         */\n\
            // test failure from callback handling-behavior\n\
            onError(local.errorDefault);\n\
            // test failure from multiple-callback handling-behavior\n\
            onError(null, options);\n\
            // test failure from ajax handling-behavior\n\
            local.ajax({ url: '/undefined' }, onError);\n\
            // test failure from thrown error handling-behavior\n\
            throw local.errorDefault;\n\
        };\n\
\n\
        local.testCase_FormData_default = function (options, onError) {\n\
        /*\n\
         * this function will test FormData's default handling-behavior\n\
         */\n\
            options = {};\n\
            options.blob1 = new local.Blob(['aa', 'bb', '\\u1234 ', 0]);\n\
            options.blob2 = new local.Blob(['aa', 'bb', '\\u1234 ', 0], {\n\
                type: 'text/plain; charset=utf-8'\n\
            });\n\
            options.data = new local.FormData();\n\
            options.data.append('text1', 'aabb\\u1234 0');\n\
            // test file-upload handling-behavior\n\
            options.data.append('file1', options.blob1);\n\
            // test file-upload and filename handling-behavior\n\
            options.data.append('file2', options.blob2, 'filename2.txt');\n\
            options.method = 'POST';\n\
            options.url = '/test.echo';\n\
            local.ajax(options, function (error, xhr) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                // validate responseText\n\
                local.assert(xhr.responseText.indexOf(\n\
                    '\\r\\n\
Content-Disposition: form-data; ' +\n\
                        'name=\"text1\"\\r\\n\
\\r\\n\
aabb\\u1234 0\\r\\n\
'\n\
                ) >= 0, xhr.responseText);\n\
                local.assert(xhr.responseText.indexOf(\n\
                    '\\r\\n\
Content-Disposition: form-data; ' +\n\
                        'name=\"file1\"\\r\\n\
\\r\\n\
aabb\\u1234 0\\r\\n\
'\n\
                ) >= 0, xhr.responseText);\n\
                local.assert(xhr.responseText.indexOf(\n\
                    '\\r\\n\
Content-Disposition: form-data; name=\"file2\"; ' +\n\
                        'filename=\"filename2.txt\"\\r\\n\
Content-Type: text/plain; ' +\n\
                        'charset=utf-8\\r\\n\
\\r\\n\
aabb\\u1234 0\\r\\n\
'\n\
                ) >= 0, xhr.responseText);\n\
                onError(null, options);\n\
            });\n\
        };\n\
\n\
        local.testCase_FormData_error = function (options, onError) {\n\
        /*\n\
         * this function will test FormData's error handling-behavior\n\
         */\n\
            local.testMock([\n\
                [local.FormData.prototype, { read: function (onError) {\n\
                    onError(local.errorDefault);\n\
                } }]\n\
            ], function (onError) {\n\
                local.ajax({\n\
                    data: new local.FormData(),\n\
                    method: 'POST',\n\
                    url: '/test.echo'\n\
                }, function (error) {\n\
                    // validate error occurred\n\
                    local.assert(error, error);\n\
                    onError(null, options);\n\
                });\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_FormData_nullCase = function (options, onError) {\n\
        /*\n\
         * this function will test FormData's null-case handling-behavior\n\
         */\n\
            local.ajax({\n\
                data: new local.FormData(),\n\
                method: 'POST',\n\
                url: '/test.echo'\n\
            }, function (error, xhr) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                // validate responseText\n\
                local.assert((/\\r\\n\
\\r\\n\
$/).test(xhr.responseText), xhr.responseText);\n\
                onError(null, options);\n\
            });\n\
        };\n\
\n\
        local.testCase_ajaxProgressUpdate_misc = function (options, onError) {\n\
        /*\n\
         * this function will test ajaxProgressUpdate's misc handling-behavior\n\
         */\n\
            if (!(local.modeJs === 'browser' && document.querySelector('#ajaxProgressDiv1'))) {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.testMock([\n\
                [local, { ajaxProgressCounter: 0, ajaxProgressState: 0 }],\n\
                [local.global, { clearTimeout: local.nop, setTimeout: function (fnc) {\n\
                    local.ajaxProgressState = 1;\n\
                    fnc();\n\
                } }]\n\
            ], function (onError) {\n\
                // test progress-finish handling-behavior\n\
                local.ajaxProgressCounter = 0;\n\
                local.ajaxProgressUpdate();\n\
                // validate data\n\
                local.assertJsonEqual(local.ajaxProgressState, 1);\n\
                // test progress-update handling-behavior\n\
                local.ajaxProgressCounter = 1;\n\
                // test NaN handling-behavior\n\
                document.querySelector('#ajaxProgressDiv1').style.width = '0px';\n\
                local.ajaxProgressUpdate();\n\
                // validate data\n\
                local.assertJsonEqual(local.ajaxProgressState, 1);\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_ajax_abort = function (options, onError) {\n\
        /*\n\
         * this function will test ajax's abort handling-behavior\n\
         */\n\
            options = local.ajax({ url: '/test.timeout' }, function (error) {\n\
                // validate error occurred\n\
                local.assert(error, error);\n\
                onError(null, options);\n\
            });\n\
            // test multiple-callback handling-behavior\n\
            options.onEvent({ type: 'abort' });\n\
            options.abort();\n\
            options.abort();\n\
        };\n\
\n\
        local.testCase_ajax_cache = function (options, onError) {\n\
        /*\n\
         * this function will test ajax's cache handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            options = {};\n\
            local.onNext(options, function (error, data) {\n\
                switch (options.modeNext) {\n\
                case 1:\n\
                    // test http GET handling-behavior\n\
                    local.ajax({ url: 'assets.hello' }, options.onNext);\n\
                    break;\n\
                case 2:\n\
                    // validate responseText\n\
                    local.assertJsonEqual(data.responseText, 'hello\\n\
');\n\
                    // test http GET 304 cache handling-behavior\n\
                    local.ajax({\n\
                        headers: {\n\
                            'If-Modified-Since': new Date(Date.now() + 0xffff).toGMTString()\n\
                        },\n\
                        url: 'assets.hello'\n\
                    }, options.onNext);\n\
                    break;\n\
                case 3:\n\
                    // validate statusCode\n\
                    local.assertJsonEqual(data.statusCode, 304);\n\
                    options.onNext();\n\
                    break;\n\
                default:\n\
                    onError(error, options);\n\
                }\n\
            });\n\
            options.modeNext = 0;\n\
            options.onNext();\n\
        };\n\
\n\
        local.testCase_ajax_error = function (options, onError) {\n\
        /*\n\
         * this function will test ajax's error handling-behavior\n\
         */\n\
            local.onParallelList({ list: [{\n\
                // test 404-not-found-error handling-behavior\n\
                url: '/test.error-404'\n\
            }, {\n\
                // test 500-internal-server-error handling-behavior\n\
                url: '/test.error-500'\n\
            }, {\n\
                // test undefined-error handling-behavior\n\
                url: '/test.error-undefined'\n\
            }, {\n\
                // test corsForwardProxyHost handling-behavior\n\
                corsForwardProxyHost: 'https://undefined:0',\n\
                location: { host: 'undefined.github.io' },\n\
                timeout: 1,\n\
                // test undefined-https-url handling-behavior\n\
                url: 'https://undefined:0'\n\
            }] }, function (options2, onParallel) {\n\
                onParallel.counter += 1;\n\
                local.ajax(options2.element, function (error, xhr) {\n\
                    // validate error occurred\n\
                    local.assert(error, error);\n\
                    // test getAllResponseHeaders' null-case handling-behavior\n\
                    xhr.getAllResponseHeaders();\n\
                    // test getResponseHeader' null-case handling-behavior\n\
                    xhr.getResponseHeader('undefined');\n\
                    onParallel(null, options);\n\
                });\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_ajax_file = function (options, onError) {\n\
        /*\n\
         * this function will test ajax's file handling-behavior\n\
         */\n\
            local.ajax({ url: 'LICENSE' }, function (error, xhr) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                // validate statusCode\n\
                local.assertJsonEqual(xhr.statusCode, 200);\n\
                onError(null, options);\n\
            });\n\
        };\n\
\n\
        local.testCase_ajax_post = function (options, onError) {\n\
        /*\n\
         * this function will test ajax's POST handling-behavior\n\
         */\n\
            options = {};\n\
            // test /test.body handling-behavior\n\
            local.onParallelList({ list: [\n\
                '',\n\
                'arraybuffer',\n\
                'stream',\n\
                'text'\n\
            ] }, function (responseType, onParallel) {\n\
                responseType = responseType.element;\n\
                onParallel.counter += 1;\n\
                local.ajax({\n\
                    data: responseType === 'arraybuffer'\n\
                        // test buffer post handling-behavior\n\
                        ? local.bufferCreate('aa')\n\
                        // test string post handling-behavior\n\
                        : 'aa',\n\
                    method: 'POST',\n\
                    // test nodejs response handling-behavior\n\
                    responseType: responseType === 'stream' && local.modeJs === 'node'\n\
                        ? responseType\n\
                        : '',\n\
                    url: '/test.body'\n\
                }, function (error, xhr) {\n\
                    // validate no error occurred\n\
                    local.assert(!error, error);\n\
                    // validate statusCode\n\
                    local.assertJsonEqual(xhr.statusCode, 200);\n\
                    // validate response\n\
                    switch (responseType) {\n\
                    case 'arraybuffer':\n\
                    case 'stream':\n\
                        // cleanup response\n\
                        local.streamListCleanup([xhr.response]);\n\
                        // validate response\n\
                        options.data = xhr.response;\n\
                        local.assert(options.data, options);\n\
                        break;\n\
                    default:\n\
                        // validate responseText\n\
                        options.data = xhr.responseText;\n\
                        local.assertJsonEqual(options.data, 'aa');\n\
                    }\n\
                    onParallel(null, options);\n\
                });\n\
            }, function (error) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                // test /test.echo handling-behavior\n\
                local.ajax({\n\
                    data: 'aa',\n\
                    // test request-header handling-behavior\n\
                    headers: { 'X-Request-Header-Test': 'aa' },\n\
                    method: 'POST',\n\
                    // test modeDebug handling-behavior\n\
                    modeDebug: true,\n\
                    url: '/test.echo'\n\
                }, function (error, xhr) {\n\
                    // validate no error occurred\n\
                    local.assert(!error, error);\n\
                    // validate statusCode\n\
                    local.assertJsonEqual(xhr.statusCode, 200);\n\
                    // validate response\n\
                    options.data = xhr.responseText;\n\
                    local.assert((/\\r\\n\
aa$/).test(options.data), options.data);\n\
                    local.assert(\n\
                        (/\\r\\n\
x-request-header-test: aa\\r\\n\
/).test(options.data),\n\
                        options.data\n\
                    );\n\
                    // validate responseHeaders\n\
                    options.data = xhr.getAllResponseHeaders();\n\
                    local.assert(\n\
                        (/^X-Response-Header-Test: bb\\r\\n\
/im).test(options.data),\n\
                        options.data\n\
                    );\n\
                    options.data = xhr.getResponseHeader('x-response-header-test');\n\
                    local.assertJsonEqual(options.data, 'bb');\n\
                    options.data = xhr.getResponseHeader('undefined');\n\
                    local.assertJsonEqual(options.data, null);\n\
                    onError(null, options);\n\
                });\n\
            });\n\
        };\n\
\n\
        local.testCase_ajax_standalone = function (options, onError) {\n\
        /*\n\
         * this function will test ajax's standalone handling-behavior\n\
         */\n\
            local.testMock([\n\
                [local, {\n\
                    _http: null,\n\
                    ajaxProgressCounter: 0,\n\
                    ajaxProgressUpdate: null,\n\
                    bufferToNodeBuffer: null,\n\
                    bufferToString: null,\n\
                    corsForwardProxyHostIfNeeded: null,\n\
                    errorMessagePrepend: null,\n\
                    nop: null,\n\
                    onErrorWithStack: null,\n\
                    serverLocalUrlTest: null,\n\
                    streamListCleanup: null,\n\
                    timeoutDefault: null\n\
                }]\n\
            ], function (onError) {\n\
                // test default handling-behavior\n\
                local.ajax({\n\
                    url: local.modeJs === 'browser'\n\
                        ? location.href\n\
                        : local.serverLocalHost\n\
                }, function (error, xhr) {\n\
                    // validate statusCode\n\
                    local.assertJsonEqual(xhr.statusCode, 200);\n\
                    // validate no error occurred\n\
                    local.assert(!error, error);\n\
                });\n\
                // test error handling-behavior\n\
                local.ajax({\n\
                    responseType: 'undefined',\n\
                    undefined: undefined,\n\
                    url: (local.modeJs === 'browser'\n\
                        ? location.href\n\
                        : local.serverLocalHost) + '/undefined'\n\
                }, function (error, xhr) {\n\
                    // validate statusCode\n\
                    local.assertJsonEqual(xhr.statusCode, 404);\n\
                    // validate error occurred\n\
                    local.assert(error, error);\n\
                });\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_ajax_timeout = function (options, onError) {\n\
        /*\n\
         * this function will test ajax's timeout handling-behavior\n\
         */\n\
            setTimeout(function () {\n\
                local.ajax({ timeout: 1, url: '/test.timeout' }, function (error) {\n\
                    // validate error occurred\n\
                    local.assert(error, error);\n\
                    onError(null, options);\n\
                });\n\
            }, 1000);\n\
        };\n\
\n\
        local.testCase_assertXxx_default = function (options, onError) {\n\
        /*\n\
         * this function will test assertXxx's default handling-behavior\n\
         */\n\
            // test assertion passed\n\
            local.assert(true, true);\n\
            // test assertion failed with undefined message\n\
            local.tryCatchOnError(function () {\n\
                local.assert(null);\n\
            }, function (error) {\n\
                // validate error occurred\n\
                local.assert(error, error);\n\
                // validate error-message\n\
                local.assertJsonEqual(error.message, '');\n\
            });\n\
            // test assertion failed with string message\n\
            local.tryCatchOnError(function () {\n\
                local.assert(null, 'aa');\n\
            }, function (error) {\n\
                // validate error occurred\n\
                local.assert(error, error);\n\
                // validate error-message\n\
                local.assertJsonEqual(error.message, 'aa');\n\
            });\n\
            // test assertion failed with error object\n\
            local.tryCatchOnError(function () {\n\
                local.assert(null, local.errorDefault);\n\
            }, function (error) {\n\
                // validate error occurred\n\
                local.assert(error, error);\n\
            });\n\
            // test assertion failed with json object\n\
            local.tryCatchOnError(function () {\n\
                local.assert(null, { aa: 1 });\n\
            }, function (error) {\n\
                // validate error occurred\n\
                local.assert(error, error);\n\
                // validate error-message\n\
                local.assertJsonEqual(error.message, '{\"aa\":1}');\n\
            });\n\
            ['', 0, false, null, undefined].forEach(function (aa, ii) {\n\
                ['', 0, false, null, undefined].forEach(function (bb, jj) {\n\
                    if (ii === jj) {\n\
                        // test assertJsonEqual's handling-behavior\n\
                        local.assertJsonEqual(aa, bb);\n\
                    } else {\n\
                        // test assertJsonNotEqual's handling-behavior\n\
                        local.assertJsonNotEqual(aa, bb);\n\
                    }\n\
                });\n\
            });\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_base64Xxx_default = function (options, onError) {\n\
        /*\n\
         * this function will test base64Xxx's default handling-behavior\n\
         */\n\
            options = {};\n\
            options.base64 = local.base64FromString(local.stringCharsetAscii + '\\u1234');\n\
            // test null-case handling-behavior\n\
            local.assertJsonEqual(local.base64FromBuffer(), '');\n\
            local.assertJsonEqual(local.base64FromHex(), '');\n\
            local.assertJsonEqual(local.base64FromString(), '');\n\
            local.assertJsonEqual(local.base64ToBuffer(), {});\n\
            local.assertJsonEqual(local.base64ToHex(), '');\n\
            local.assertJsonEqual(local.base64ToString(), '');\n\
            local.assertJsonEqual(local.base64FromBuffer(local.base64ToBuffer()), '');\n\
            local.assertJsonEqual(local.base64FromHex(local.base64ToHex()), '');\n\
            local.assertJsonEqual(local.base64FromString(local.base64ToString()), '');\n\
            // test commutation handling-behavior\n\
            local.assertJsonEqual(\n\
                local.base64FromBuffer(local.base64ToBuffer(options.base64)),\n\
                options.base64\n\
            );\n\
            local.assertJsonEqual(\n\
                local.base64FromHex(local.base64ToHex(options.base64)),\n\
                options.base64\n\
            );\n\
            local.assertJsonEqual(\n\
                local.base64FromString(local.base64ToString(options.base64)),\n\
                options.base64\n\
            );\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_blobRead_default = function (options, onError) {\n\
        /*\n\
         * this function will test blobRead's default handling-behavior\n\
         */\n\
            local.onParallelList({ list: [\n\
                new local.Blob(['aa', 'bb', '\\u1234 ', 0]),\n\
                new local.Blob(['aa', 'bb', '\\u1234 ', 0], {\n\
                    type: 'text/plain; charset=utf-8'\n\
                })\n\
            ] }, function (options2, onParallel) {\n\
                onParallel.counter += 1;\n\
                [null, 'dataURL', 'text'].forEach(function (encoding) {\n\
                    onParallel.counter += 1;\n\
                    local.blobRead(options2.element, encoding, function (error, data) {\n\
                        // validate no error occurred\n\
                        local.assert(!error, error);\n\
                        // validate data\n\
                        switch (encoding) {\n\
                        case 'dataURL':\n\
                            if (options2.ii === 0) {\n\
                                local.assertJsonEqual(data, 'data:;base64,YWFiYuGItCAw');\n\
                                break;\n\
                            }\n\
                            local.assertJsonEqual(\n\
                                data,\n\
                                'data:text/plain; charset=utf-8;base64,YWFiYuGItCAw'\n\
                            );\n\
                            break;\n\
                        case 'text':\n\
                            local.assertJsonEqual(data, 'aabb\\u1234 0');\n\
                            break;\n\
                        default:\n\
                            local.assertJsonEqual(\n\
                                local.bufferToString(data),\n\
                                'aabb\\u1234 0'\n\
                            );\n\
                        }\n\
                        onParallel(null, options);\n\
                    });\n\
                });\n\
                onParallel(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_blobRead_error = function (options, onError) {\n\
        /*\n\
         * this function will test blobRead's error handling-behavior\n\
         */\n\
            if (local.modeJs !== 'browser') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.testMock([\n\
                [local.global.FileReader.prototype, { readAsArrayBuffer: function () {\n\
                    this.onabort({ type: 'abort' });\n\
                    this.onerror({ type: 'error' });\n\
                } }]\n\
            ], function (onError) {\n\
                local.blobRead(null, null, function (error) {\n\
                    // validate error occurred\n\
                    local.assert(error, error);\n\
                });\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_browserTest_electron = function (options, onError) {\n\
        /*\n\
         * this function will test browserTest's electron handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            options = function (arg0, arg1, arg2) {\n\
                // test onParallel handling-behavior\n\
                if (typeof arg0 === 'function') {\n\
                    arg0();\n\
                }\n\
                // test on handling-behavior\n\
                if (typeof arg1 === 'function') {\n\
                    arg1(options, '');\n\
                    arg1(options, 'undefined');\n\
                    arg1(options, 'undefined opened');\n\
                }\n\
                // test fs.writeFile handling-behavior\n\
                if (typeof arg2 === 'function') {\n\
                    arg2();\n\
                }\n\
                return options;\n\
            };\n\
            options.BrowserWindow = options;\n\
            options.addEventListener = options;\n\
            options.app = options;\n\
            options.capturePage = options;\n\
            options.documentElement = options;\n\
            options.fileScreenshot = '';\n\
            options.loadURL = options;\n\
            options.modeCoverageMerge = '1';\n\
            options.on = options;\n\
            options.once = options;\n\
            options.outerHTML = '';\n\
            options.prototype = options;\n\
            options.querySelector = options;\n\
            options.toPng = options;\n\
            options.unref = options;\n\
            options.utility2_document = options;\n\
            options.utility2_require = options;\n\
            options.utility2_window = options;\n\
            options.writeFile = options;\n\
            options.writeFileSync = options;\n\
            local.testMock([\n\
                [local.global, { clearTimeout: options, setTimeout: options }],\n\
                [process.versions, { electron: true }],\n\
                [local, { fs: options, onParallel: options }]\n\
            ], function (onError) {\n\
                ['test', 'undefined'].forEach(function (modeBrowserTest) {\n\
                    [1, 10, 20, 21, 30].forEach(function (modeNext) {\n\
                        switch (modeNext) {\n\
                        case 21:\n\
                            [\n\
                                '',\n\
                                'undefined global_test_results {\"global_test_results\":{}}',\n\
                                'undefined global_test_results {\"global_test_results\":{' +\n\
                                    '\"testReport\":{\"testPlatformList\":[{}]}' +\n\
                                    '}}',\n\
                                'undefined global_test_results {\"global_test_results\":{' +\n\
                                    '\"coverage\":{},' +\n\
                                    '\"testReport\":{\"testPlatformList\":[{}]}' +\n\
                                    '}}',\n\
                                'undefined html '\n\
                            ].forEach(function (message) {\n\
                                options.message = message;\n\
                                options.modeBrowserTest = modeBrowserTest;\n\
                                options.modeNext = modeNext;\n\
                                local.browserTest(options, local.nop);\n\
                            });\n\
                            break;\n\
                        default:\n\
                            options.modeBrowserTest = modeBrowserTest;\n\
                            options.modeNext = modeNext;\n\
                            local.browserTest(options, local.nop);\n\
                        }\n\
                    });\n\
                });\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_browserTest_error = function (options, onError) {\n\
        /*\n\
         * this function will test browserTest's error handling-behavior\n\
         */\n\
            var onParallel;\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            onParallel = local.onParallel(onError);\n\
            onParallel.counter += 1;\n\
            onParallel.counter += 1;\n\
            local.browserTest({\n\
                // test timeput-error handling-behavior\n\
                timeoutDefault: 1,\n\
                // test local-url handling-behavior\n\
                url: 'tmp/build/test-report.html'\n\
            }, function (error) {\n\
                // validate error occurred\n\
                local.assert(error, error);\n\
                onParallel();\n\
            });\n\
            onParallel(null, options);\n\
        };\n\
\n\
        local.testCase_bufferCreate_default = function (options, onError) {\n\
        /*\n\
         * this function will test bufferCreate's default handling-behavior\n\
         */\n\
            options = {};\n\
            options.text1 = '';\n\
            for (options.ii = 0; options.ii < 0x10000; options.ii += 1) {\n\
                options.text1 += String.fromCodePoint(options.ii);\n\
            }\n\
            for (options.ii = 0x10000; options.ii < 0x110000; options.ii += 0x100) {\n\
                options.text1 += String.fromCodePoint(options.ii);\n\
            }\n\
            // test utf8 handling-behavior\n\
            options.bff1 = local.bufferCreate(options.text1);\n\
            options.text2 = local.bufferToString(options.bff1);\n\
            local.assertJsonEqual(options.text2, local.bufferToString(options.text2));\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_bufferCreate_polyfill = function (options, onError) {\n\
        /*\n\
         * this function will test bufferCreate's polyfill handling-behavior\n\
         */\n\
            local.testMock([\n\
                [local.global, { TextDecoder: null, TextEncoder: null }]\n\
            ], function (onError) {\n\
                local.testCase_bufferCreate_default(options, onError);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_bufferIndexOfSubBuffer_default = function (options, onError) {\n\
        /*\n\
         * this function will test bufferIndexOfSubBuffer's default handling-behavior\n\
         */\n\
            [\n\
                { buffer: '', subBuffer: '', validate: 0 },\n\
                { buffer: '', subBuffer: 'aa', validate: -1 },\n\
                { buffer: 'aa', subBuffer: '', validate: 0 },\n\
                { buffer: 'aa', subBuffer: 'aa', validate: 0 },\n\
                { buffer: 'aa', subBuffer: 'bb', validate: -1 },\n\
                { buffer: 'aaaa', subBuffer: 'aa', validate: 0 },\n\
                { buffer: 'aabb', subBuffer: 'aa', validate: 0 },\n\
                { buffer: 'aabb', subBuffer: 'bb', validate: 2 },\n\
                { buffer: 'aabbaa', subBuffer: 'aa', validate: 0 },\n\
                { buffer: 'aabbaa', subBuffer: 'bb', validate: 2 },\n\
                { buffer: 'aabbaa', subBuffer: 'ba', validate: 3 }\n\
            ].forEach(function (options) {\n\
                options.data = local.bufferIndexOfSubBuffer(\n\
                    local.bufferCreate(options.buffer),\n\
                    local.bufferCreate(options.subBuffer),\n\
                    options.fromIndex\n\
                );\n\
                local.assertJsonEqual(options.data, options.validate);\n\
            });\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_buildApidoc_default = function (options, onError) {\n\
        /*\n\
         * this function will test buildApidoc's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            options = {};\n\
            // test $npm_config_mode_coverage=all handling-behavior\n\
            local.testMock([\n\
                [local.env, { npm_config_mode_coverage: 'all' }]\n\
            ], function (onError) {\n\
                local.buildApidoc(null, onError);\n\
            }, local.onErrorThrow);\n\
            // test $npm_package_buildCustomOrg handling-behavior\n\
            local.testMock([\n\
                [local.env, { npm_package_buildCustomOrg: 'electron-lite' }]\n\
            ], function (onError) {\n\
                local.buildApidoc(options, onError);\n\
            }, local.onErrorThrow);\n\
            local.buildApidoc({ blacklistDict: options }, onError);\n\
        };\n\
\n\
        local.testCase_buildApp_default = function (options, onError) {\n\
        /*\n\
         * this function will test buildApp's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.testCase_buildReadme_default(options, local.onErrorThrow);\n\
            local.testCase_buildLib_default(options, local.onErrorThrow);\n\
            local.testCase_buildTest_default(options, local.onErrorThrow);\n\
            options = { assetsList: [{\n\
                file: '/assets.hello',\n\
                url: '/assets.hello'\n\
            }, {\n\
                file: '/assets.script_only.html',\n\
                url: '/assets.script_only.html'\n\
            }, {\n\
                file: '/assets.utility2.lib.db.js',\n\
                url: '/assets.utility2.lib.db.js'\n\
            }, {\n\
                file: '/assets.utility2.lib.istanbul.js',\n\
                url: '/assets.utility2.lib.istanbul.js'\n\
            }, {\n\
                file: '/assets.utility2.lib.jslint.js',\n\
                url: '/assets.utility2.lib.jslint.js'\n\
            }, {\n\
                file: '/assets.utility2.lib.marked.js',\n\
                url: '/assets.utility2.lib.marked.js'\n\
            }, {\n\
                file: '/assets.utility2.lib.sjcl.js',\n\
                url: '/assets.utility2.lib.sjcl.js'\n\
            }, {\n\
                file: '/assets.utility2.lib.uglifyjs.js',\n\
                url: '/assets.utility2.lib.uglifyjs.js'\n\
            }, {\n\
                file: '/assets.utility2.rollup.js',\n\
                url: '/assets.utility2.rollup.js'\n\
            }] };\n\
            local.buildApp(options, onError);\n\
        };\n\
\n\
        local.testCase_buildCustomOrg_default = function (options, onError) {\n\
        /*\n\
         * this function will test buildCustomOrg's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.testMock([\n\
                [local.env, { GITHUB_ORG: '', npm_package_buildCustomOrg: 'electron-lite' }],\n\
                [local.fs, { writeFileSync: local.nop }],\n\
                [local.global, { setTimeout: function (onError) {\n\
                    onError(null, options);\n\
                } }],\n\
                [process, { on: function (options, onError) {\n\
                    // test error handling-behavior\n\
                    onError(local.errorDefault, options);\n\
                } }]\n\
            ], function (onError) {\n\
                // test npmdoc handling-behavior\n\
                local.env.GITHUB_ORG = 'npmdoc';\n\
                local.buildCustomOrg({}, local.onErrorThrow);\n\
                // test npmtest handling-behavior\n\
                local.env.GITHUB_ORG = 'npmtest';\n\
                local.buildCustomOrg({}, local.onErrorThrow);\n\
                // test scrapeitall handling-behavior\n\
                local.env.GITHUB_ORG = 'scrapeitall';\n\
                local.buildCustomOrg({}, local.onErrorThrow);\n\
                onError(null, options);\n\
            }, local.onErrorThrow);\n\
            local.buildCustomOrg({}, onError);\n\
        };\n\
\n\
        local.testCase_buildLib_default = function (options, onError) {\n\
        /*\n\
         * this function will test buildLib's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            options = {};\n\
            local.testMock([\n\
                [local.fs, {\n\
                    // test customize-local handling-behavior\n\
                    existsSync: function () {\n\
                        return true;\n\
                    },\n\
                    writeFileSync: local.nop\n\
                }]\n\
            ], function (onError) {\n\
                local.buildLib(options, onError);\n\
            }, local.onErrorThrow);\n\
            options = {};\n\
            local.buildLib(options, onError);\n\
        };\n\
\n\
        local.testCase_buildReadme_default = function (options, onError) {\n\
        /*\n\
         * this function will test buildReadme's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            options = {};\n\
            options.customize = function () {\n\
                options.dataFrom = options.dataFrom\n\
                    // test shDeployCustom handling-behavior\n\
                    .replace('shDeployGithub', 'shDeployCustom')\n\
                    // test no-assets.index.template.html handling-behavior\n\
                    .replace('assets.index.default.template.html', '');\n\
            };\n\
            options.fsReadFileSync = local.fs.readFileSync;\n\
            local.testMock([\n\
                [local.env, {\n\
                    npm_package_buildCustomOrg: '',\n\
                    npm_package_isPrivate: '1',\n\
                    npm_package_name: 'undefined'\n\
                }],\n\
                [local.fs, {\n\
                    existsSync: function () {\n\
                        return true;\n\
                    },\n\
                    readFileSync: function (file) {\n\
                        return local.tryCatchOnError(function () {\n\
                            return options.fsReadFileSync(file, 'utf8');\n\
                        }, function () {\n\
                            return '{}';\n\
                        });\n\
                    },\n\
                    writeFileSync: local.nop\n\
                }],\n\
                [local.assetsDict, {\n\
                    // test no-assets.index.default.template.html handling-behavior\n\
                    '/assets.index.template.html': '',\n\
                    // test customize example.js handling-behavior\n\
                    '/index.html': ''\n\
                }]\n\
            ], function (onError) {\n\
                local.buildReadme(options, onError);\n\
                // test $npm_package_buildCustomOrg handling-behavior\n\
                local.env.npm_package_buildCustomOrg = 'aa';\n\
                local.buildReadme(options, onError);\n\
                onError(null, options);\n\
            }, local.onErrorThrow);\n\
            options = {};\n\
            options.customize = function () {\n\
                // search-and-replace - customize dataTo\n\
                [\n\
                    // customize quickstart example.js\n\
                    (/# quickstart example.js[\\S\\s]*?istanbul instrument in package/),\n\
                    // customize quickstart-footer\n\
                    (/>download standalone app<[^`]*?\"utility2FooterDiv\"/),\n\
                    (/```[^`]*?\\n\
# extra screenshots/),\n\
                    // customize build-script\n\
                    (/# run shBuildCi[^`]*?```/)\n\
                ].forEach(function (rgx) {\n\
                    options.dataFrom.replace(rgx, function (match0) {\n\
                        options.dataTo = options.dataTo.replace(rgx, match0);\n\
                    });\n\
                });\n\
            };\n\
            local.buildReadme(options, onError);\n\
        };\n\
\n\
        local.testCase_buildXxx_default = function (options, onError) {\n\
        /*\n\
         * this function will test buildXxx's default handling-behavior\n\
         */\n\
            local.testMock([\n\
                [local, {\n\
                    assetsDict: { '/': '' },\n\
                    browserTest: local.nop,\n\
                    buildApidoc: local.nop,\n\
                    buildCustomOrg: local.nop,\n\
                    buildLib: local.nop,\n\
                    buildReadme: local.nop,\n\
                    buildTest: local.nop,\n\
                    testCase_buildReadme_default: local.nop,\n\
                    testCase_buildLib_default: local.nop,\n\
                    testCase_buildTest_default: local.nop,\n\
                    testCase_buildCustomOrg_default: local.nop\n\
                }]\n\
            ], function (onError) {\n\
                local._testCase_buildApidoc_default(null, local.nop);\n\
                local._testCase_buildApp_default(null, local.nop);\n\
                local._testCase_buildCustomOrg_default(null, local.nop);\n\
                local._testCase_buildLib_default(null, local.nop);\n\
                local._testCase_buildReadme_default(null, local.nop);\n\
                local._testCase_buildTest_default(null, local.nop);\n\
                local._testCase_webpage_default(null, local.nop);\n\
                local.assetsDict['/'] = '<script src=\"assets.test.js\"></script>';\n\
                local._testCase_webpage_default(null, local.nop);\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_childProcessSpawnWithTimeout_default = function (options, onError) {\n\
        /*\n\
         * this function will test childProcessSpawnWithTimeout's default handling-behavior\n\
         */\n\
            var onParallel;\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            options = {};\n\
            onParallel = local.onParallel(onError);\n\
            onParallel.counter += 1;\n\
            // test default handling-behavior\n\
            onParallel.counter += 1;\n\
            local.childProcessSpawnWithTimeout('ls')\n\
                .on('error', onParallel)\n\
                .on('exit', function (exitCode, signal) {\n\
                    // validate exitCode\n\
                    local.assertJsonEqual(exitCode, 0);\n\
                    // validate signal\n\
                    local.assertJsonEqual(signal, null);\n\
                    onParallel(null, options);\n\
                });\n\
            // test timeout handling-behavior\n\
            onParallel.counter += 1;\n\
            local.testMock([\n\
                [local, { timeoutDefault: 1000 }]\n\
            ], function (onError) {\n\
                options.childProcess = local.childProcessSpawnWithTimeout('sleep', [5000]);\n\
                onError(null, options);\n\
            }, local.onErrorThrow);\n\
            options.childProcess\n\
                .on('error', onParallel)\n\
                .on('exit', function (exitCode, signal) {\n\
                    // validate exitCode\n\
                    local.assertJsonEqual(exitCode, null);\n\
                    // validate signal\n\
                    local.assertJsonEqual(signal, 'SIGKILL');\n\
                    onParallel(null, options);\n\
                });\n\
            onParallel(null, options);\n\
        };\n\
\n\
        local.testCase_cliRun_default = function (options, onError) {\n\
        /*\n\
         * this function will test cliRun's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.testMock([\n\
                [local, { replStart: null }],\n\
                [local.cliDict, { _default: null }],\n\
                [local.vm, { runInThisContext: local.nop }],\n\
                [process, { argv: [] }]\n\
            ], function (onError) {\n\
                local.cliRun();\n\
                local.replStart = local.nop;\n\
                process.argv[2] = '--help';\n\
                local.cliRun();\n\
                ['--eval', '--help', '--interactive', '--version'].forEach(function (key) {\n\
                    local.cliDict[key]();\n\
                });\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_cookieXxx_default = function (options, onError) {\n\
        /*\n\
         * this function will test cookieXxx's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'browser') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            // test cookieRemoveAll handling-behavior\n\
            local.cookieRemoveAll();\n\
            // validate data\n\
            local.assertJsonEqual(local.cookieDict().aa, undefined);\n\
            // test cookieSet handling-behavior\n\
            local.cookieSet('aa', 'bb', 1000);\n\
            // validate data\n\
            local.assertJsonEqual(local.cookieDict().aa, 'bb');\n\
            // test cookieRemove handling-behavior\n\
            local.cookieRemove('aa');\n\
            // validate data\n\
            local.assertJsonEqual(local.cookieDict().aa, undefined);\n\
            // test cookieSet handling-behavior\n\
            local.cookieSet('aa', 'bb', 1000);\n\
            // test cookieRemoveAll handling-behavior\n\
            local.cookieRemoveAll();\n\
            // validate data\n\
            local.assertJsonEqual(local.cookieDict().aa, undefined);\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_corsBackendHostInject_default = function (options, onError) {\n\
        /*\n\
         * this function will corsBackendHostInject's default handling-behavior\n\
         */\n\
            // test null-case handling-behavior\n\
            local.assertJsonEqual(local.corsBackendHostInject(), undefined);\n\
            // test override-all handling-behavior\n\
            local.assertJsonEqual(local.corsBackendHostInject(\n\
                'cc.com',\n\
                'aa-alpha.bb.com',\n\
                null,\n\
                { host: 'github.io', pathname: '/build..beta..travis-ci.org/' }\n\
            ), 'aa-beta.bb.com');\n\
            // test override-rgx handling-behavior\n\
            local.assertJsonEqual(local.corsBackendHostInject(\n\
                'cc/dd',\n\
                'aa-alpha.bb.com/',\n\
                (/(^cc\\/)/),\n\
                { host: 'github.io', pathname: '/build..beta..travis-ci.org/' }\n\
            ), 'aa-beta.bb.com/cc/dd');\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_corsForwardProxyHostIfNeeded_default = function (options, onError) {\n\
        /*\n\
         * this function will corsForwardProxyHostIfNeeded's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'browser') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.assert(local.corsForwardProxyHostIfNeeded({\n\
                location: { host: 'undefined.github.io' },\n\
                url: 'https://example.com'\n\
            }).indexOf('.herokuapp.com') >= 0);\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_dbTableCustomOrgXxx_default = function (options, onError) {\n\
        /*\n\
         * this function will test dbTableCustomOrgXxx's default handling-behavior\n\
         */\n\
            local.testMock([\n\
                [local, {\n\
                    ajax: function (options, onError) {\n\
                        onError(null, {\n\
                            responseText: JSON.stringify({\n\
                                '@pagination': { count: 0 },\n\
                                repositories: [{\n\
                                    _id: '',\n\
                                    name: 'node-aa-bb-cc',\n\
                                    private: false,\n\
                                    slug: 'aa/node-aa-bb-cc'\n\
                                }]\n\
                            })\n\
                        }, options);\n\
                    },\n\
                    db: {\n\
                        crudGetManyByQuery: local.nop,\n\
                        crudRemoveManyByQuery: local.nop,\n\
                        crudSetManyById: local.nop,\n\
                        dbTableCreateOne: function (options, onError) {\n\
                            (onError || local.nop)(null, local.db, options);\n\
                            return local.db;\n\
                        },\n\
                        save: function (onError) {\n\
                            onError(null, options);\n\
                        }\n\
                    },\n\
                    setTimeoutOnError: function (onError, timeout, error) {\n\
                        onError(error, timeout);\n\
                    }\n\
                }]\n\
            ], function (onError) {\n\
                local.dbTableCustomOrgUpdate({ customOrg: 'aa' }, local.onErrorThrow);\n\
                local.dbTableCustomOrgCrudGetManyByQuery({});\n\
                onError(null, options);\n\
            }, local.onErrorThrow);\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_debug_inline_default = function (options, onError) {\n\
        /*\n\
         * this function will test debug_inline's default handling-behavior\n\
         */\n\
            options = {};\n\
            local.testMock([\n\
                [local, { _consoleError: null }]\n\
            ], function (onError) {\n\
                local.global['debug_inline'.replace('_i', 'I')]('aa');\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_domElementRender_default = function (options, onError) {\n\
        /*\n\
         * this function will test domElementRender's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'browser') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.assertJsonEqual(local.domElementRender('<div>{{value}}</div>', {\n\
                value: 'aa'\n\
            }).children[0].outerHTML, '<div>aa</div>');\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_domQuerySelectorAllTagNameAndPrint_default = function (options, onError) {\n\
        /*\n\
         * this function will test domQuerySelectorAllTagNameAndPrint's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'browser') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.domQuerySelectorAllTagNameAndPrint('body');\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_echo_default = function (options, onError) {\n\
        /*\n\
         * this function will test echo's default handling-behavior\n\
         */\n\
            local.assertJsonEqual(local.echo('aa'), 'aa');\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_envSanitize_default = function (options, onError) {\n\
        /*\n\
         * this function will envSanitize's default handling-behavior\n\
         */\n\
            // test invalid envSanitize-code handling-behavior\n\
            local.assertJsonEqual(local.envSanitize({\n\
                aa: '',\n\
                aaPassword: '',\n\
                aa_password: '',\n\
                aapassword: '',\n\
                bb: null,\n\
                passport: '',\n\
                password: ''\n\
            }), { aa: '', aapassword: '' });\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_exit_error = function (options, onError) {\n\
        /*\n\
         * this function will exit's error handling-behavior\n\
         */\n\
            // test invalid exit-code handling-behavior\n\
            local.exit('invalid exit-code');\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_fsWriteFileWithMkdirpSync_default = function (options, onError) {\n\
        /*\n\
         * this function will test fsWriteFileWithMkdirpSync's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.fsRmrSync('tmp/build/testCase_fsWriteFileWithMkdirpSync_default');\n\
            // validate data\n\
            local.assertJsonEqual(local.tryCatchReadFile(\n\
                'tmp/build/testCase_fsWriteFileWithMkdirpSync_default/aa.txt',\n\
                'utf8'\n\
            ), '');\n\
            local.fsWriteFileWithMkdirpSync(\n\
                'tmp/build/testCase_fsWriteFileWithMkdirpSync_default/aa.txt',\n\
                'aa'\n\
            );\n\
            // validate data\n\
            local.assertJsonEqual(local.tryCatchReadFile(\n\
                'tmp/build/testCase_fsWriteFileWithMkdirpSync_default/aa.txt',\n\
                'utf8'\n\
            ), 'aa');\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_isNullOrUndefined_default = function (options, onError) {\n\
        /*\n\
         * this function will test isNullOrUndefined's default handling-behavior\n\
         */\n\
            // validate data\n\
            local.assertJsonEqual(local.isNullOrUndefined(null), true);\n\
            // validate data\n\
            local.assertJsonEqual(local.isNullOrUndefined(undefined), true);\n\
            // validate data\n\
            local.assertJsonEqual(local.isNullOrUndefined(false), false);\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_jslintAndPrintConditional_default = function (options, onError) {\n\
        /*\n\
         * this function will test jslintAndPrintConditional's default handling-behavior\n\
         */\n\
            local.testMock([\n\
                [local.jslint, { errorText: '' }]\n\
            ], function (onError) {\n\
                // test no csslint handling-behavior\n\
                local.jslintAndPrintConditional('no csslint', 'empty.css');\n\
                // validate no error occurred\n\
                local.assert(!local.jslint.errorText, local.jslint.errorText);\n\
                // test csslint passed handling-behavior\n\
                local.jslintAndPrintConditional(\n\
                    '/*csslint*/\\n\
body { display: block; }',\n\
                    'passed.css',\n\
                    'force'\n\
                );\n\
                // validate no error occurred\n\
                local.assert(!local.jslint.errorText, local.jslint.errorText);\n\
                // test no jslint handling-behavior\n\
                local.jslintAndPrintConditional('no jslint', 'empty.js');\n\
                // validate no error occurred\n\
                local.assert(!local.jslint.errorText, local.jslint.errorText);\n\
                // test jslint passed handling-behavior\n\
                local.jslintAndPrintConditional(\n\
                    '/*jslint node: true*/\\n\
console.log(\"aa\");',\n\
                    'passed.js',\n\
                    'force'\n\
                );\n\
                // validate no error occurred\n\
                local.assert(!local.jslint.errorText, local.jslint.errorText);\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_jsonCopy_default = function (options, onError) {\n\
        /*\n\
         * this function will test jsonCopy's default handling-behavior\n\
         */\n\
            // test various data-type handling-behavior\n\
            [undefined, null, false, true, 0, 1, 1.5, 'a'].forEach(function (element) {\n\
                local.assertJsonEqual(local.jsonCopy(element), element);\n\
            });\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_jsonStringifyOrdered_default = function (options, onError) {\n\
        /*\n\
         * this function will test jsonStringifyOrdered's default handling-behavior\n\
         */\n\
            options = {};\n\
            // test data-type handling-behavior\n\
            [undefined, null, false, true, 0, 1, 1.5, 'a', {}, []].forEach(function (data) {\n\
                options.aa = local.jsonStringifyOrdered(data);\n\
                options.bb = JSON.stringify(data);\n\
                local.assertJsonEqual(options.aa, options.bb);\n\
            });\n\
            // test data-ordering handling-behavior\n\
            options = {\n\
                // test nested dict handling-behavior\n\
                ff: { hh: 2, gg: 1},\n\
                // test nested array handling-behavior\n\
                ee: [1, null, undefined],\n\
                dd: local.nop,\n\
                cc: undefined,\n\
                bb: null,\n\
                aa: 1\n\
            };\n\
            // test circular-reference handling-behavior\n\
            options.zz = options;\n\
            local.assertJsonEqual(\n\
                options,\n\
                { aa: 1, bb: null, ee: [ 1, null, null ], ff: { gg: 1, hh: 2 } }\n\
            );\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_jwtA256GcmXxx_default = function (options, onError) {\n\
        /*\n\
         * this function will test jwtA256GcmXxx's default handling-behavior\n\
         */\n\
            options = {};\n\
            options.key = local.jwtAes256KeyCreate();\n\
            // use canonical example at https://jwt.io/\n\
            options.data = { sub: '1234567890', name: 'John Doe', admin: true };\n\
            options.data = local.normalizeJwt(options.data);\n\
            options.data = JSON.parse(local.jsonStringifyOrdered(options.data));\n\
            // encrypt token\n\
            options.token = local.jwtA256GcmEncrypt(options.data, options.key);\n\
            // validate encrypted-token\n\
            local.assertJsonEqual(\n\
                local.jwtA256GcmDecrypt(options.token, options.key),\n\
                options.data\n\
            );\n\
            // test decryption-failed handling-behavior\n\
            local.assertJsonEqual(local.jwtA256GcmDecrypt(options.token, null), {});\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_jwtHs256Xxx_default = function (options, onError) {\n\
        /*\n\
         * this function will test jwtHs256Xxx's default handling-behavior\n\
         */\n\
            options = {};\n\
            options.key = local.normalizeJwtBase64Url(local.base64FromString('secret'));\n\
            // use canonical example at https://jwt.io/\n\
            options.data = { sub: '1234567890', name: 'John Doe', admin: true };\n\
            options.token = local.jwtHs256Encode(options.data, options.key);\n\
            // validate encoded-token\n\
            local.assertJsonEqual(\n\
                options.token,\n\
                'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9' +\n\
                    '.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9' +\n\
                    '.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ'\n\
            );\n\
            options.data = local.jwtHs256Decode(options.token, options.key);\n\
            // validate decoded-data\n\
            local.assertJsonEqual(\n\
                options.data,\n\
                { admin: true, name: 'John Doe', sub: '1234567890' }\n\
            );\n\
            // test decoding-failed handling-behavior\n\
            options.data = local.jwtHs256Decode(options.token, 'undefined');\n\
            local.assertJsonEqual(options.data, {});\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_libUtility2Js_standalone = function (options, onError) {\n\
        /*\n\
         * this function will test lib.utility2.js's standalone handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.fs.writeFileSync('tmp/lib.utility2.js', local.fs.readFileSync(\n\
                'lib.utility2.js',\n\
                'utf8'\n\
            ).replace('/* istanbul instrument in package utility2 */', ''));\n\
            require('./tmp/lib.utility2.js');\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_listGetElementRandom_default = function (options, onError) {\n\
        /*\n\
         * this function will test listGetRandom's default handling-behavior\n\
         */\n\
            options = {};\n\
            // init list\n\
            options.list = ['aa', 'bb', 'cc', 'dd'];\n\
            options.elementDict = {};\n\
            // get 100 random elements from list\n\
            for (options.ii = 0; options.ii < 1024; options.ii += 1) {\n\
                options.elementDict[local.listGetElementRandom(options.list)] = true;\n\
            }\n\
            // validate all elements were retrieved from list\n\
            local.assertJsonEqual(\n\
                Object.keys(options.elementDict).sort(),\n\
                ['aa', 'bb', 'cc', 'dd']\n\
            );\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_listShuffle_default = function (options, onError) {\n\
        /*\n\
         * this function will test listShuffle's default handling-behavior\n\
         */\n\
            options = {};\n\
            // init list\n\
            options.list = '[0,1]';\n\
            // shuffle list 100 times\n\
            for (options.ii = 0; options.ii < 100; options.ii += 1) {\n\
                options.listShuffled =\n\
                    JSON.stringify(local.listShuffle(JSON.parse(options.list)));\n\
                // validate shuffled list\n\
                local.assertJsonEqual(options.listShuffled.length, options.list.length);\n\
                options.changed = options.changed || options.listShuffled !== options.list;\n\
            }\n\
            // validate list changed at least once during the shuffle\n\
            local.assert(options.changed, options);\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_localStorageSetItemOrClear_default = function (options, onError) {\n\
        /*\n\
         * this function will localStorageSetItemOrClear's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'browser') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.localStorageSetItemOrClear(\n\
                'testCase_localStorageSetItemOrClear_default',\n\
                null\n\
            );\n\
            local.assertJsonEqual(\n\
                localStorage.testCase_localStorageSetItemOrClear_default,\n\
                'null'\n\
            );\n\
            local.testMock([\n\
                [localStorage, {\n\
                    clear: null,\n\
                    setItem: function () {\n\
                        throw local.errorDefault;\n\
                    }\n\
                }]\n\
            ], function (onError) {\n\
                localStorage.clear = onError;\n\
                local.localStorageSetItemOrClear(\n\
                    'testCase_localStorageSetItemOrClear_default',\n\
                    null\n\
                );\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_middlewareForwardProxy_default = function (options, onError) {\n\
        /*\n\
         * this function will test middlewareForwardProxy's default handling-behavior\n\
         */\n\
            var onParallel;\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            onParallel = local.onParallel(onError);\n\
            onParallel.counter += 1;\n\
            // test preflight-cors handling-behavior\n\
            onParallel.counter += 1;\n\
            local.ajax({ headers: {\n\
                'access-control-request-headers': 'forward-proxy-headers,forward-proxy-url'\n\
            }, method: 'OPTIONS', url: '' }, onParallel);\n\
            // test forward-proxy-http handling-behavior\n\
            onParallel.counter += 1;\n\
            local.ajax({ headers: {\n\
                'forward-proxy-url': '/assets.hello'\n\
            }, url: '' }, function (error, xhr) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                // validate responseText\n\
                local.assertJsonEqual(xhr.responseText, 'hello\\n\
');\n\
                onParallel(null, options);\n\
            });\n\
            // test error handling-behavior\n\
            onParallel.counter += 1;\n\
            local.ajax({ headers: {\n\
                'forward-proxy-url': 'https://undefined:0'\n\
            }, url: '' }, function (error) {\n\
                // validate error occurred\n\
                local.assert(error, error);\n\
                onParallel(null, options);\n\
            });\n\
            onParallel(null, options);\n\
        };\n\
\n\
        local.testCase_moduleDirname_default = function (options, onError) {\n\
        /*\n\
         * this function will test moduleDirname's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            // test null-case handling-behavior\n\
            local.assertJsonEqual(local.moduleDirname(null, module.paths), process.cwd());\n\
            // test path handling-behavior\n\
            local.assertJsonEqual(local.moduleDirname('.', module.paths), process.cwd());\n\
            local.assertJsonEqual(local.moduleDirname('./', module.paths), process.cwd());\n\
            // test module exists handling-behavior\n\
            options = local.moduleDirname('electron-lite', module.paths);\n\
            local.assert((/\\/electron-lite$/).test(options), options);\n\
            // test module does not exists handling-behavior\n\
            local.assertJsonEqual(local.moduleDirname('syntax error', module.paths), '');\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_normalizeValue_default = function (options, onError) {\n\
        /*\n\
         * this function will test normalizeValue's default handling-behavior\n\
         */\n\
            // test list handling-behavior\n\
            local.assertJsonEqual(local.normalizeValue('list', [1]), [1]);\n\
            local.assertJsonEqual(local.normalizeValue('list', null), []);\n\
            local.assertJsonEqual(local.normalizeValue('list', {}), []);\n\
            // test number handling-behavior\n\
            local.assertJsonEqual(local.normalizeValue('number', 0.5), 0.5);\n\
            local.assertJsonEqual(local.normalizeValue('number', null), 0);\n\
            local.assertJsonEqual(local.normalizeValue('number', {}), 0);\n\
            // test string handling-behavior\n\
            local.assertJsonEqual(local.normalizeValue('string', 'aa'), 'aa');\n\
            local.assertJsonEqual(local.normalizeValue('string', null), '');\n\
            local.assertJsonEqual(local.normalizeValue('string', {}), '');\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_numberToRomanNumerals_default = function (options, onError) {\n\
        /*\n\
         * this function will test numberToRomanNumerals's default handling-behavior\n\
         */\n\
            options = {};\n\
            options.list = [\n\
            /* jslint-ignore-next-line */\n\
\"\",\"I\",\"II\",\"III\",\"IV\",\"V\",\"VI\",\"VII\",\"VIII\",\"IX\",\"X\",\"XI\",\"XII\",\"XIII\",\"XIV\",\"XV\",\"XVI\",\"XVII\",\"XVIII\",\"XIX\",\"XX\",\"XXI\",\"XXII\",\"XXIII\",\"XXIV\",\"XXV\",\"XXVI\",\"XXVII\",\"XXVIII\",\"XXIX\",\"XXX\",\"XXXI\",\"XXXII\",\"XXXIII\",\"XXXIV\",\"XXXV\",\"XXXVI\",\"XXXVII\",\"XXXVIII\",\"XXXIX\",\"XL\",\"XLI\",\"XLII\",\"XLIII\",\"XLIV\",\"XLV\",\"XLVI\",\"XLVII\",\"XLVIII\",\"XLIX\",\"L\",\"LI\",\"LII\",\"LIII\",\"LIV\",\"LV\",\"LVI\",\"LVII\",\"LVIII\",\"LIX\",\"LX\",\"LXI\",\"LXII\",\"LXIII\",\"LXIV\",\"LXV\",\"LXVI\",\"LXVII\",\"LXVIII\",\"LXIX\",\"LXX\",\"LXXI\",\"LXXII\",\"LXXIII\",\"LXXIV\",\"LXXV\",\"LXXVI\",\"LXXVII\",\"LXXVIII\",\"LXXIX\",\"LXXX\",\"LXXXI\",\"LXXXII\",\"LXXXIII\",\"LXXXIV\",\"LXXXV\",\"LXXXVI\",\"LXXXVII\",\"LXXXVIII\",\"LXXXIX\",\"XC\",\"XCI\",\"XCII\",\"XCIII\",\"XCIV\",\"XCV\",\"XCVI\",\"XCVII\",\"XCVIII\",\"XCIX\",\"C\"\n\
            ];\n\
            for (options.ii = 0; options.ii < 10; options.ii += 1) {\n\
                local.assertJsonEqual(\n\
                    local.numberToRomanNumerals(options.ii),\n\
                    options.list[options.ii]\n\
                );\n\
            }\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_objectGetElementFirst_default = function (options, onError) {\n\
        /*\n\
         * this function will test objectGetElementFirst's default handling-behavior\n\
         */\n\
            local.assertJsonEqual(\n\
                local.objectGetElementFirst({ aa: 1, bb: 2 }),\n\
                { key: 'aa', value: 1 }\n\
            );\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_objectKeysTypeOf_default = function (options, onError) {\n\
        /*\n\
         * this function will test objectKeysTypeOf's default handling-behavior\n\
         */\n\
            local.assertJsonEqual(local.objectKeysTypeof({\n\
                aa: true,\n\
                bb: local.nop,\n\
                cc: 0,\n\
                dd: null,\n\
                ee: '',\n\
                ff: undefined\n\
            }), 'boolean aa\\n\
function bb\\n\
number cc\\n\
object dd\\n\
string ee\\n\
undefined ff');\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_objectLiteralize_default = function (options, onError) {\n\
        /*\n\
         * this function will test objectLiteralize's default handling-behavior\n\
         */\n\
            local.assertJsonEqual(local.objectLiteralize({\n\
                '': '$[]',\n\
                '$[]1': [1, { '$[]2': [2, 3] }]\n\
            }), { 1: { 2: 3 }, '': '$[]' });\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_objectSetDefault_default = function (options, onError) {\n\
        /*\n\
         * this function will test objectSetDefault's default handling-behavior\n\
         */\n\
            // test null-case handling-behavior\n\
            local.objectSetDefault();\n\
            local.objectSetDefault({});\n\
            // test falsey handling-behavior\n\
            ['', 0, false, null, undefined].forEach(function (aa) {\n\
                ['', 0, false, null, undefined].forEach(function (bb) {\n\
                    local.assertJsonEqual(\n\
                        local.objectSetDefault({ data: aa }, { data: bb }).data,\n\
                        aa === 0 || aa === false || bb === undefined\n\
                            ? aa\n\
                            : bb\n\
                    );\n\
                });\n\
            });\n\
            // test non-recursive handling-behavior\n\
            local.assertJsonEqual(local.objectSetDefault(\n\
                { aa: 0, bb: { cc: 1 }, cc: { dd: {} }, dd: [1, 1], ee: [1, 1] },\n\
                { aa: 2, bb: { dd: 2 }, cc: { dd: { ee: 2 } }, dd: [2, 2], ee: { ff: 2 } },\n\
                // test default-depth handling-behavior\n\
                null\n\
            ), { aa: 0, bb: { cc: 1 }, cc: { dd: {} }, dd: [1, 1], ee: [1, 1] });\n\
            // test recursive handling-behavior\n\
            local.assertJsonEqual(local.objectSetDefault(\n\
                { aa: 0, bb: { cc: 1 }, cc: { dd: {} }, dd: [1, 1], ee: [1, 1] },\n\
                { aa: 2, bb: { dd: 2 }, cc: { dd: { ee: 2 } }, dd: [2, 2], ee: { ff: 2 } },\n\
                // test depth handling-behavior\n\
                2\n\
            ), { aa: 0, bb: { cc: 1, dd: 2 }, cc: { dd: {} }, dd: [1, 1], ee: [1, 1] });\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_objectSetOverride_default = function (options, onError) {\n\
        /*\n\
         * this function will test objectSetOverride's default handling-behavior\n\
         */\n\
            // test null-case handling-behavior\n\
            local.objectSetOverride();\n\
            local.objectSetOverride({});\n\
            // test falsey handling-behavior\n\
            ['', 0, false, null, undefined].forEach(function (aa) {\n\
                ['', 0, false, null, undefined].forEach(function (bb) {\n\
                    local.assertJsonEqual(\n\
                        local.objectSetOverride({ data: aa }, { data: bb }).data,\n\
                        bb === undefined\n\
                            ? aa\n\
                            : bb\n\
                    );\n\
                });\n\
            });\n\
            // test non-recursive handling-behavior\n\
            local.assertJsonEqual(local.objectSetOverride(\n\
                { aa: 1, bb: { cc: 1 }, cc: { dd: 1 }, dd: [1, 1], ee: [1, 1] },\n\
                { aa: 2, bb: { dd: 2 }, cc: { ee: 2 }, dd: [2, 2], ee: { ff: 2 } },\n\
                // test default-depth handling-behavior\n\
                null\n\
            ), { aa: 2, bb: { dd: 2 }, cc: { ee: 2 }, dd: [2, 2], ee: { ff: 2 } });\n\
            // test recursive handling-behavior\n\
            local.assertJsonEqual(local.objectSetOverride(\n\
                { aa: 1, bb: { cc: 1 }, cc: { dd: 1 }, dd: [1, 1], ee: [1, 1] },\n\
                { aa: 2, bb: { dd: 2 }, cc: { ee: 2 }, dd: [2, 2], ee: { ff: 2 } },\n\
                // test depth handling-behavior\n\
                2\n\
            ), { aa: 2, bb: { cc: 1, dd: 2 }, cc: { dd: 1, ee: 2 }, dd: [2, 2], ee: { ff: 2 } });\n\
            // test env with empty-string handling-behavior\n\
            local.assertJsonEqual(local.objectSetOverride(\n\
                local.env,\n\
                { 'emptyString': null },\n\
                // test default-depth handling-behavior\n\
                null,\n\
                local.env\n\
            ).emptyString, '');\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_objectTraverse_default = function (options, onError) {\n\
        /*\n\
         * this function will test objectTraverse's default handling-behavior\n\
         */\n\
            options = { aa: null, bb: 2, cc: { dd: 4, ee: [5, 6, 7] } };\n\
            // test circular-reference handling-behavior\n\
            options.data = options;\n\
            local.objectTraverse(options, function (element) {\n\
                if (typeof element === 'object' && element && !Array.isArray(element)) {\n\
                    element.zz = true;\n\
                }\n\
            });\n\
            // validate options\n\
            local.assertJsonEqual(\n\
                options,\n\
                { aa: null, bb: 2, cc: { dd: 4, ee: [5, 6, 7], zz: true }, zz: true }\n\
            );\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_onErrorDefault_default = function (options, onError) {\n\
        /*\n\
         * this function will test onErrorDefault's default handling-behavior\n\
         */\n\
            local.testMock([\n\
                [console, { error: function (arg) {\n\
                    options = arg;\n\
                } }],\n\
                [local.global, { __coverage__: null }]\n\
            ], function (onError) {\n\
                // test no error handling-behavior\n\
                local.onErrorDefault();\n\
                // validate options\n\
                local.assert(!options, options);\n\
                // test error handling-behavior\n\
                local.onErrorDefault(local.errorDefault);\n\
                // validate options\n\
                local.assert(options, options);\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_onErrorThrow_error = function (options, onError) {\n\
        /*\n\
         * this function will test onErrorThrow's error handling-behavior\n\
         */\n\
            local.tryCatchOnError(function () {\n\
                local.onErrorThrow(local.errorDefault);\n\
            }, function (error) {\n\
                // validate error occurred\n\
                local.assert(error, error);\n\
                onError(null, options);\n\
            });\n\
        };\n\
\n\
        local.testCase_onFileModifiedRestart_watchFile = function (options, onError) {\n\
        /*\n\
         * this function will test onFileModifiedRestart's watchFile handling-behavior\n\
         */\n\
            var onParallel;\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            onParallel = local.onParallel(onError);\n\
            onParallel.counter += 1;\n\
            local.fs.stat(__filename, function (error, stat) {\n\
                // test default watchFile handling-behavior\n\
                onParallel.counter += 1;\n\
                local.fs.utimes(__filename, stat.atime, new Date(), onParallel);\n\
                // test nop watchFile handling-behavior\n\
                onParallel.counter += 1;\n\
                setTimeout(function () {\n\
                    local.fs.utimes(__filename, stat.atime, stat.mtime, onParallel);\n\
                // coverage-hack - use 1500 ms to cover setInterval\n\
                }, 1500);\n\
                onParallel(error, options);\n\
            });\n\
        };\n\
\n\
        local.testCase_onNext_error = function (options, onError) {\n\
        /*\n\
         * this function will test onNext's error handling-behavior\n\
         */\n\
\n\
            options = {};\n\
            local.onNext(options, function () {\n\
                throw local.errorDefault;\n\
            });\n\
            options.modeNext = 0;\n\
            local.tryCatchOnError(function () {\n\
                options.onNext();\n\
            }, function (error) {\n\
                // validate error occurred\n\
                local.assert(error, error);\n\
                onError(null, options);\n\
            });\n\
        };\n\
\n\
        local.testCase_onParallelList_default = function (options, onError) {\n\
        /*\n\
         * this function will test onParallelList's default handling-behavior\n\
         */\n\
            options = {};\n\
            local.onNext(options, function (error) {\n\
                switch (options.modeNext) {\n\
                case 1:\n\
                    // test null-case handling-behavior\n\
                    local.onParallelList({}, local.onErrorThrow, options.onNext);\n\
                    break;\n\
                case 2:\n\
                    options.list = [null];\n\
                    // test retryLimit handling-behavior\n\
                    options.retryLimit = 1;\n\
                    local.onParallelList(options, function (options2, onParallel) {\n\
                        onParallel.counter += 1;\n\
                        // test error handling-behavior\n\
                        onParallel(local.errorDefault, options2);\n\
                        // test multiple callback handling-behavior\n\
                        setTimeout(onParallel, 5000);\n\
                    }, function (error) {\n\
                        // validate error occurred\n\
                        local.assert(error, error);\n\
                        options.onNext();\n\
                    });\n\
                    break;\n\
                case 3:\n\
                    options.data = [];\n\
                    // test rateLimit handling-behavior\n\
                    options.rateLimit = 3;\n\
                    options.rateMax = 0;\n\
                    // test retryLimit handling-behavior\n\
                    options.retryLimit = 1;\n\
                    local.onParallelList({\n\
                        list: [1, 2, 3, 4],\n\
                        rateLimit: options.rateLimit\n\
                    }, function (options2, onParallel) {\n\
                        onParallel.counter += 1;\n\
                        options.rateMax = Math.max(onParallel.counter - 1, options.rateMax);\n\
                        // test async handling-behavior\n\
                        setTimeout(function () {\n\
                            // test list-growth handling-behavior\n\
                            if (options2.ii === 3) {\n\
                                options2.list.push(5);\n\
                            }\n\
                            options.data[options2.ii] = options2.element;\n\
                            // test retry handling-behavior\n\
                            local.assert(options2.retry < 1);\n\
                            onParallel(null, options2);\n\
                        });\n\
                    }, options.onNext, options.rateLimit);\n\
                    break;\n\
                case 4:\n\
                    // validate data\n\
                    local.assertJsonEqual(options.data, [1, 2, 3, 4, 5]);\n\
                    local.assertJsonEqual(options.rateMax, 3);\n\
                    options.data = [];\n\
                    options.rateLimit = 'syntax error';\n\
                    options.rateMax = 0;\n\
                    local.onParallelList({\n\
                        list: [1, 2, 3, 4, 5],\n\
                        rateLimit: options.rateLimit\n\
                    }, function (options2, onParallel) {\n\
                        // test sync handling-behavior\n\
                        onParallel.counter += 1;\n\
                        options.rateMax = Math.max(onParallel.counter, options.rateMax);\n\
                        options.data[options2.ii] = options2.element;\n\
                        onParallel(null, options);\n\
                    }, options.onNext);\n\
                    break;\n\
                case 5:\n\
                    // validate data\n\
                    local.assertJsonEqual(options.data, [1, 2, 3, 4, 5]);\n\
                    local.assertJsonEqual(options.rateMax, 2);\n\
                    options.onNext();\n\
                    break;\n\
                default:\n\
                    onError(error, options);\n\
                }\n\
            });\n\
            options.modeNext = 0;\n\
            options.onNext();\n\
        };\n\
\n\
        local.testCase_onParallel_default = function (options, onError) {\n\
        /*\n\
         * this function will test onParallel's default handling-behavior\n\
         */\n\
            var onParallel, onParallelError;\n\
            // test onEach handling-behavior\n\
            onParallel = local.onParallel(onError, function () {\n\
                // validate counter\n\
                local.assert(onParallel.counter >= 0, onParallel);\n\
            });\n\
            onParallel.counter += 1;\n\
            // test multiple-task handling-behavior\n\
            onParallel.counter += 1;\n\
            setTimeout(function () {\n\
                onParallelError = local.onParallel(function (error) {\n\
                    // validate error occurred\n\
                    local.assert(error, error);\n\
                    onParallel(null, options);\n\
                });\n\
                onParallelError.counter += 1;\n\
                // test error handling-behavior\n\
                onParallelError.counter += 1;\n\
                onParallelError(local.errorDefault);\n\
                // test ignore-after-error handling-behavior\n\
                onParallelError();\n\
            });\n\
            // test default handling-behavior\n\
            onParallel(null, options);\n\
        };\n\
\n\
        local.testCase_onTimeout_timeout = function (options, onError) {\n\
        /*\n\
         * this function will test onTimeout's timeout handling-behavior\n\
         */\n\
            options = local.timeElapsedStart();\n\
            local.onTimeout(function (error) {\n\
                // validate error occurred\n\
                local.assert(error, error);\n\
                // validate error message\n\
                local.assert(\n\
                    error.message.indexOf('testCase_onTimeout_errorTimeout') >= 0,\n\
                    error\n\
                );\n\
                // poll timeElapsed\n\
                local.timeElapsedPoll(options);\n\
                // validate timeElapsed passed is greater than timeout\n\
                local.assert(options.timeElapsed >= 1500, options);\n\
                onError(null, options);\n\
            // coverage-hack - use 1500 ms to cover setInterval\n\
            }, 1500, function () {\n\
                return 'testCase_onTimeout_errorTimeout';\n\
            });\n\
        };\n\
\n\
        local.testCase_profileXxx_default = function (options, onError) {\n\
        /*\n\
         * this function will test profileXxx's default handling-behavior\n\
         */\n\
            options = {};\n\
            // test profileSync's handling-behavior\n\
            options.timeElapsed = local.profileSync(function () {\n\
                return;\n\
            });\n\
            // validate timeElapsed\n\
            local.assert(\n\
                0 <= options.timeElapsed && options.timeElapsed < 1000,\n\
                options.timeElapsed\n\
            );\n\
            // test profile's async handling-behavior\n\
            local.profile(function (onError) {\n\
                setTimeout(onError);\n\
            }, function (error, timeElapsed) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                options.timeElapsed = timeElapsed;\n\
                // validate timeElapsed\n\
                local.assert(0 <= options.timeElapsed &&\n\
                    options.timeElapsed < local.timeoutDefault, options.timeElapsed);\n\
                onError(null, options);\n\
            });\n\
        };\n\
\n\
        local.testCase_replStart_default = function (options, onError) {\n\
        /*\n\
         * this function will test replStart's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            /*jslint evil: true*/\n\
            local.replStart();\n\
            // coverage-hack - test replStart's muliple-call handling-behavior\n\
            local.replStart();\n\
            local.testMock([\n\
                [local.child_process, { spawn: function () {\n\
                    return { on: function (event, callback) {\n\
                        callback(null, event);\n\
                    } };\n\
                } }],\n\
                // suppress process.stdout\n\
                [process.stdout, { write: local.nop }]\n\
            ], function (onError) {\n\
                [\n\
                    // test null-case handling-behavior\n\
                    '',\n\
                    // test shell handling-behavior\n\
                    '$ :\\n\
',\n\
                    // test git diff handling-behavior\n\
                    '$ git diff\\n\
',\n\
                    // test git log handling-behavior\n\
                    '$ git log\\n\
',\n\
                    // test grep handling-behavior\n\
                    'grep \\\\baa\\\\b\\n\
',\n\
                    // test keys handling-behavior\n\
                    'keys {}\\n\
',\n\
                    // test print handling-behavior\n\
                    'print\\n\
',\n\
                    // test error handling-behavior\n\
                    'undefined()\\n\
'\n\
                ].forEach(function (script) {\n\
                    local.global.utility2_serverRepl1.eval(script, null, 'repl', local.nop);\n\
                });\n\
                // test nop handling-behavior\n\
                local.global.utility2_serverRepl1.nop();\n\
                // test error handling-behavior\n\
                local.global.utility2_serverRepl1.onError(local.errorDefault);\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_replStart_tcp = function (options, onError) {\n\
        /*\n\
         * this function will test replStart's tcp handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            options = {};\n\
            options.data = '';\n\
            options.input = Math.random();\n\
            options.socket = local.net.createConnection(local.env.PORT_REPL);\n\
            options.socket.on('data', function (data) {\n\
            /*\n\
             * this function will concat data to options.data\n\
             */\n\
                options.data += data;\n\
            });\n\
            options.socket.setEncoding('utf8');\n\
            options.socket.on('end', function () {\n\
                // validate data\n\
                local.assert(\n\
                    options.data.indexOf(options.input) >= 0,\n\
                    JSON.stringify([options.data, options.input])\n\
                );\n\
                onError(null, options);\n\
            });\n\
            options.socket.write(options.input + '\\n\
');\n\
            // test error handling-behavior\n\
            options.socket.end('undefined()\\n\
');\n\
        };\n\
\n\
        local.testCase_requireReadme_start = function (options, onError) {\n\
        /*\n\
         * this function will test requireReadme's start handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.testMock([\n\
                [local, {\n\
                    assetsDict: { '/assets.index.template.html': '' },\n\
                    onFileModifiedRestart: local.nop\n\
                }],\n\
                [local.env, {\n\
                    npm_config_mode_start: '1',\n\
                    npm_package_nameLib: '_testCase_requireReadme_start'\n\
                }],\n\
                [local.fs, {\n\
                    readFile: function (file, options, onError) {\n\
                        onError(null, '{}', file, options);\n\
                    },\n\
                    readdirSync: function () {\n\
                        // test jslintAndPrintConditional handling-behavior\n\
                        return [\n\
                            'aa.css',\n\
                            'aa.html',\n\
                            'aa.js',\n\
                            'aa.json',\n\
                            'aa.rollup.js',\n\
                            'assets.swgg.swagger.json'\n\
                        ];\n\
                    }\n\
                }]\n\
            ], function (onError) {\n\
                // validate data\n\
                local.requireReadme();\n\
                local.assert(local._testCase_requireReadme_start === local);\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_serverLog_default = function (options, onError) {\n\
        /*\n\
         * this function will test serverLog's default handling-behavior\n\
         */\n\
            local._serverLog({});\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_serverRespondTimeoutDefault_default = function (options, onError) {\n\
        /*\n\
         * this function will test serverRespondTimeoutDefault's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.testMock([\n\
                [local, { timeoutDefault: 1000 }]\n\
            ], function (onError) {\n\
                local.serverRespondTimeoutDefault(\n\
                    {\n\
                        on: local.nop,\n\
                        // test default onTimeout handling-behavior\n\
                        onTimeout: null,\n\
                        url: ''\n\
                    },\n\
                    { end: local.nop, headersSent: true, on: local.nop },\n\
                    // test default timeout handling-behavior\n\
                    null\n\
                );\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_setTimeoutOnError_default = function (options, onError) {\n\
        /*\n\
         * this function will test setTimeoutOnError's default handling-behavior\n\
         */\n\
            options = {};\n\
            // test null-case handling-behavior\n\
            local.assertJsonEqual(local.setTimeoutOnError(), undefined);\n\
            // test onError handling-behavior\n\
            local.assertJsonEqual(local.setTimeoutOnError(onError, 0, null, options), {});\n\
        };\n\
\n\
        local.testCase_sjclHashScryptXxx_default = function (options, onError) {\n\
        /*\n\
         * this function will test sjclHashScryptXxx's default handling-behavior\n\
         */\n\
            // test sjclHashScryptCreate's null-case handling-behavior\n\
            local.assertJsonEqual(local.sjclHashScryptCreate().slice(0, 10), '$s0$10801$');\n\
            // https://github.com/wg/scrypt\n\
            // test sjclHashScryptValidate's fail handling-behavior\n\
            local.assertJsonEqual(local.sjclHashScryptValidate(\n\
                'password',\n\
                '$s0$80801$epIxT/h6HbbwHaehFnh/bw==' +\n\
                    '$l/guDhz2Q0v/D93gq0K0qtSX6FWP8pH5maAJkbIcRaEA'\n\
            ), false);\n\
            // https://github.com/wg/scrypt\n\
            // test sjclHashScryptValidate's pass handling-behavior\n\
            local.assertJsonEqual(local.sjclHashScryptValidate(\n\
                'password',\n\
                '$s0$80801$epIxT/h6HbbwHaehFnh/bw==' +\n\
                    '$l/guDhz2Q0v/D93gq0K0qtSX6FWP8pH5maAJkbIcRaE='\n\
            ), true);\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_sjclHashShaXxxCreate_default = function (options, onError) {\n\
        /*\n\
         * this function will test sjclHashShaXxxCreate's default handling-behavior\n\
         */\n\
            local.assertJsonEqual(\n\
                local.sjclHashSha1Create('aa'),\n\
                '4MkDWJjdUvxlxBRUzsnE0mEb+zc='\n\
            );\n\
            local.assertJsonEqual(\n\
                local.sjclHashSha256Create('aa'),\n\
                'lhtt0+3jy47LqsvWjeBAzXjrLtWIkTDM60xJJo6k1QY='\n\
            );\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_sjclHmacShaXxx_default = function (options, onError) {\n\
        /*\n\
         * this function will test sjclHmacShaXxx's default handling-behavior\n\
         */\n\
            local.assertJsonEqual(\n\
                local.sjclHmacSha1Create('aa', 'bb'),\n\
                '15pOinCz63A+qZoxnv+mJB6UF1k='\n\
            );\n\
            local.assertJsonEqual(\n\
                local.sjclHmacSha256Create('aa', 'bb'),\n\
                '94Xv3VdPHA+ohKyjkM1pb0W5ZVAuMVcmIAAI2AqNRCQ='\n\
            );\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_stringHtmlSafe_default = function (options, onError) {\n\
        /*\n\
         * this function will test stringHtmlSafe's default handling-behavior\n\
         */\n\
            local.assertJsonEqual(\n\
                local.stringHtmlSafe(local.stringHtmlSafe(local.stringCharsetAscii).slice(32, -1)),\n\
                ' !&quot;#$%&amp;&apos;()*+,-./0123456789:;&lt;=&gt;?@' +\n\
                    'ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~'\n\
            );\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_stringRegexpEscape_default = function (options, onError) {\n\
        /*\n\
         * this function will test stringRegexpEscape's default handling-behavior\n\
         */\n\
            local.assertJsonEqual(local.stringRegexpEscape(local.stringCharsetAscii), String() +\n\
                '\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007' +\n\
                '\\b\\t\\n\
\\u000b\\f\\r\\u000e\\u000f' +\n\
                '\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017' +\n\
                '\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f' +\n\
                ' !\"#\\\\$%&\\'\\\\(\\\\)\\\\*\\\\+,\\\\-\\\\.\\\\/0123456789:;<=>\\\\?@' +\n\
                'ABCDEFGHIJKLMNOPQRSTUVWXYZ\\\\[\\\\\\\\\\\\]\\\\^_`abcdefghijklmnopqrstuvwxyz\\\\{\\\\|\\\\}~' +\n\
                '\\u007f');\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_stringTruncate_default = function (options, onError) {\n\
        /*\n\
         * this function will test stringTruncate's default handling-behavior\n\
         */\n\
            local.assertJsonEqual(local.stringTruncate('aa'), 'aa');\n\
            local.assertJsonEqual(local.stringTruncate('aa', 1), '...');\n\
            local.assertJsonEqual(local.stringTruncate('aa', 2), 'aa');\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_stringUniqueKey_default = function (options, onError) {\n\
        /*\n\
         * this function will test stringUniqueKey's default handling-behavior\n\
         */\n\
            local.assert(('zqxj').indexOf(local.stringUniqueKey('zqxj') < 0));\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_taskCreateCached_default = function (options, onError) {\n\
        /*\n\
         * this function will test taskCreateCached's default handling-behavior\n\
         */\n\
            var cacheValue, onTask, optionsCopy;\n\
            options = {};\n\
            local.onNext(options, function (error, data) {\n\
                switch (options.modeNext) {\n\
                // test no cache handling-behavior\n\
                case 1:\n\
                    onTask = function (onError) {\n\
                        onError(null, cacheValue);\n\
                    };\n\
                    options.cacheDict = 'testCase_taskCreateCached_default';\n\
                    options.key = 'memory';\n\
                    // cleanup memory-cache\n\
                    local.cacheDict[options.cacheDict] = null;\n\
                    cacheValue = 'aa';\n\
                    optionsCopy = {\n\
                        cacheDict: options.cacheDict,\n\
                        key: options.key,\n\
                        // test onCacheWrite handling-behavior\n\
                        onCacheWrite: options.onNext\n\
                    };\n\
                    local.taskCreateCached(optionsCopy, onTask, options.onNext);\n\
                    break;\n\
                case 2:\n\
                    // validate data\n\
                    local.assertJsonEqual(data, 'aa');\n\
                    // validate no cache-hit\n\
                    local.assert(!optionsCopy.modeCacheHit, optionsCopy.modeCacheHit);\n\
                    break;\n\
                // test cache with update handling-behavior\n\
                case 3:\n\
                    cacheValue = 'bb';\n\
                    optionsCopy = {\n\
                        cacheDict: options.cacheDict,\n\
                        key: options.key,\n\
                        // test modeCacheUpdate handling-behavior\n\
                        modeCacheUpdate: true,\n\
                        // test onCacheWrite handling-behavior\n\
                        onCacheWrite: options.onNext\n\
                    };\n\
                    local.taskCreateCached(optionsCopy, onTask, options.onNext);\n\
                    break;\n\
                case 4:\n\
                    // validate data\n\
                    local.assertJsonEqual(data, 'aa');\n\
                    // validate modeCacheHit\n\
                    local.assertJsonEqual(optionsCopy.modeCacheHit, true);\n\
                    break;\n\
                // test cache handling-behavior\n\
                case 5:\n\
                    optionsCopy = {\n\
                        cacheDict: options.cacheDict,\n\
                        key: options.key\n\
                    };\n\
                    local.taskCreateCached(optionsCopy, onTask, options.onNext);\n\
                    break;\n\
                case 6:\n\
                    // validate data\n\
                    local.assertJsonEqual(data, 'bb');\n\
                    // validate modeCacheHit\n\
                    local.assertJsonEqual(optionsCopy.modeCacheHit, true);\n\
                    options.onNext();\n\
                    break;\n\
                default:\n\
                    onError(error, options);\n\
                }\n\
            });\n\
            options.modeNext = 0;\n\
            options.onNext();\n\
        };\n\
\n\
        local.testCase_taskCreate_multipleCallback = function (options, onError) {\n\
        /*\n\
         * this function will test taskCreate's multiple-callback handling-behavior\n\
         */\n\
            options = { counter: 0, key: 'testCase_taskCreate_multiCallback' };\n\
            local.taskCreate(options, function (onError) {\n\
                onError(null, options);\n\
                // test multiple-callback handling-behavior\n\
                onError(null, options);\n\
            }, function () {\n\
                options.counter += 1;\n\
            });\n\
            // validate counter incremented once\n\
            local.assertJsonEqual(options.counter, 1);\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_taskCreate_upsert = function (options, onError) {\n\
        /*\n\
         * this function will test taskCreate's upsert handling-behavior\n\
         */\n\
            options = { counter: 0, key: 'testCase_taskCreate_upsert' };\n\
            // test upsert handling-behavior\n\
            [null, null].forEach(function () {\n\
                local.taskCreate(options, function (onError) {\n\
                    options.counter += 1;\n\
                    setTimeout(onError);\n\
                });\n\
            });\n\
            // validate counter incremented once\n\
            setTimeout(function () {\n\
                local.assertJsonEqual(options.counter, 1);\n\
                onError(null, options);\n\
            });\n\
        };\n\
\n\
        local.testCase_templateRender_default = function (options, onError) {\n\
        /*\n\
         * this function will test templateRender's default handling-behavior\n\
         */\n\
            // test null-case handling-behavior\n\
            local.assertJsonEqual(local.templateRender(), '');\n\
            // test undefined-value handling-behavior\n\
            local.assertJsonEqual(local.templateRender('{{aa}}', {}), '{{aa}}');\n\
            // test basic handling-behavior\n\
            local.assertJsonEqual(local.templateRender('{{aa}}', {\n\
                aa: '```<aa\\n\
bb>```'\n\
            }), '```&lt;aa\\n\
bb&gt;```');\n\
            // test markdownToHtml handling-behavior\n\
            local.assertJsonEqual(local.templateRender('{{aa markdownToHtml}}', {\n\
                aa: local.stringCharsetAscii.slice(32, -1)\n\
            }), '<p> !&quot;#$%&amp;&apos;()*+,-./0123456789:;&lt;=&gt;?@' +\n\
                'ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~</p>\\n\
');\n\
            // test markdownSafe handling-behavior\n\
            local.assertJsonEqual(local.templateRender('{{aa markdownSafe notHtmlSafe}}', {\n\
                aa: local.stringCharsetAscii.slice(32, -1)\n\
            }), ' !\"#$%&\\'()*+,-./0123456789:;<=>?@' +\n\
                'ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_\\'abcdefghijklmnopqrstuvwxyz{|}~');\n\
            // test notHtmlSafe handling-behavior\n\
            local.assertJsonEqual(local.templateRender('{{aa notHtmlSafe}}', {\n\
                aa: '```<aa\\n\
bb>```'\n\
            }), '```<aa\\n\
bb>```');\n\
            // test default handling-behavior\n\
            local.assertJsonEqual(local.templateRender('{{aa alphanumeric}} ' +\n\
                '{{aa truncate 4 truncate 4}} ' +\n\
                '{{aa jsonStringify jsonStringify4 decodeURIComponent encodeURIComponent trim}} ' +\n\
                '{{bb}} {{cc}} {{dd}} {{ee.ff}}', {\n\
                    // test string value handling-behavior\n\
                    aa: '`<aa>`',\n\
                    // test non-string value handling-behavior\n\
                    bb: 1,\n\
                    // test null-value handling-behavior\n\
                    cc: null,\n\
                    // test undefined-value handling-behavior\n\
                    dd: undefined,\n\
                    // test nested value handling-behavior\n\
                    ee: { ff: 'gg' }\n\
                }), '__aa__ `... %22%5C%22%60%3Caa%3E%60%5C%22%22 1 null {{dd}} gg');\n\
            // test partial handling-behavior\n\
            local.assertJsonEqual(local.templateRender('{{#undefined aa}}\\n\
' +\n\
                'list1{{#each list1}}\\n\
' +\n\
                '    aa - {{aa}}\\n\
' +\n\
                '    list2{{#eachTrimRightComma list2}}\\n\
' +\n\
                '        {{#this/ notHtmlSafe jsonStringify}}\\n\
' +\n\
                '        bb - {{bb}}\\n\
' +\n\
                '        {{#if bb}}\\n\
' +\n\
                '        if\\n\
' +\n\
                '        {{#unless bb}}\\n\
' +\n\
                '        else\\n\
' +\n\
                '        {{/if bb}}\\n\
' +\n\
                '        {{#unless bb}}\\n\
' +\n\
                '        unless\\n\
' +\n\
                '        {{/unless bb}}\\n\
' +\n\
                '        ,\\n\
' +\n\
                '    {{/eachTrimRightComma list2}}\\n\
' +\n\
                '{{/each list1}}\\n\
' +\n\
                '{{/undefined aa}}\\n\
', { list1: [\n\
                    // test null-value handling-behavior\n\
                    null,\n\
                    {\n\
                        aa: 'aa',\n\
                        // test recursive-list handling-behavior\n\
                        list2: [{ bb: 'bb' }, { bb: null }]\n\
                    }\n\
                ]\n\
                    }), '{{#undefined aa}}\\n\
' +\n\
                'list1\\n\
' +\n\
                '    aa - {{aa}}\\n\
' +\n\
                '    list2\\n\
' +\n\
                '\\n\
' +\n\
                '    aa - aa\\n\
' +\n\
                '    list2\\n\
' +\n\
                '        {\"bb\":\"bb\"}\\n\
' +\n\
                '        bb - bb\\n\
' +\n\
                '        \\n\
' +\n\
                '        if\\n\
' +\n\
                '        \\n\
' +\n\
                '        \\n\
' +\n\
                '        ,\\n\
' +\n\
                '    \\n\
' +\n\
                '        {\"bb\":null}\\n\
' +\n\
                '        bb - null\\n\
' +\n\
                '        \\n\
' +\n\
                '        else\\n\
' +\n\
                '        \\n\
' +\n\
                '        \\n\
' +\n\
                '        unless\\n\
' +\n\
                '        \\n\
' +\n\
                '        \\n\
' +\n\
                '\\n\
' +\n\
                '{{/undefined aa}}\\n\
');\n\
            // test error handling-behavior\n\
            local.tryCatchOnError(function () {\n\
                local.templateRender('{{aa bb}}', { aa: 1 });\n\
            }, local.nop);\n\
            // validate error occurred\n\
            local.assert(local._debugTryCatchError, local._debugTryCatchError);\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_testReportCreate_default = function (options, onError) {\n\
        /*\n\
         * this function will test testReport's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.testMock([], function (onError) {\n\
                // test null-case handling-behavior\n\
                local.testReportCreate();\n\
                // test testsFailed handling-behavior\n\
                local.testReportCreate({ testPlatformList: [{\n\
                    testCaseList: [{ status: 'failed' }, { status: 'passed' }]\n\
                }] });\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_testRunDefault_nop = function (options, onError) {\n\
        /*\n\
         * this function will test testRunDefault's nop handling-behavior\n\
         */\n\
            options = {};\n\
            local.testRunDefault(options);\n\
            local.testMock([\n\
                [local, { env: {}, modeTest: null }]\n\
            ], function (onError) {\n\
                local.testRunDefault(options);\n\
                // validate no options.onReadyAfter\n\
                local.assert(!options.onReadyAfter, options);\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_testRunInit_testRunButton1 = function (options, onError) {\n\
        /*\n\
         * this function will test testRunInit's testRunButton1 handling-behavior\n\
         */\n\
            if (local.modeJs !== 'browser') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.testMock([\n\
                [document, {\n\
                    querySelector: function () {\n\
                        return { click: local.nop };\n\
                    }\n\
                }],\n\
                [local, {\n\
                    modeTest: true,\n\
                    testRunBrowser: local.nop,\n\
                    testRunDefault: local.nop\n\
                }],\n\
                [local.global, {\n\
                    setTimeout: function (fnc) {\n\
                        fnc();\n\
                    },\n\
                    utility2_serverHttp1: null\n\
                }]\n\
            ], function (onError) {\n\
                local.testRunInit(local);\n\
                local.testRunBrowser = null;\n\
                local.testRunInit(local);\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_throwError_default = function (options, onError) {\n\
        /*\n\
         * this function will test throwError's default handling-behavior\n\
         */\n\
            local.tryCatchOnError(function () {\n\
                local.throwError();\n\
            }, function (error) {\n\
                // validate error occurred\n\
                local.assert(error, error);\n\
                onError(null, options);\n\
            });\n\
        };\n\
\n\
        local.testCase_uglify_default = function (options, onError) {\n\
        /*\n\
         * this function will test uglify's default handling-behavior\n\
         */\n\
            // test css handling-behavior\n\
            local.assertJsonEqual(local.uglify('body { margin: 0; }', 'aa.css'), 'body{margin:0;}');\n\
            // test js handling-behavior\n\
            local.assertJsonEqual(local.uglify('aa = 1', 'aa.js'), 'aa=1');\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_uiAnimateXxx_default = function (options, onError) {\n\
        /*\n\
         * this function will test uiAnimateXxx's default handling-behavior\n\
         */\n\
            if (local.modeJs !== 'browser') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            options = document.createElement('div');\n\
            // test uiAnimateShake handling-behavior\n\
            local.uiAnimateShake();\n\
            local.uiAnimateShake(options);\n\
            local.assert(options.classList.contains('uiAnimateShake'), options.classList);\n\
            local.uiAnimateShake(options);\n\
            local.assert(options.classList.contains('uiAnimateShake'), options.classList);\n\
            // test uiAnimateShakeIfError handling-behavior\n\
            local.uiAnimateShakeIfError();\n\
            local.uiAnimateShakeIfError(null, options);\n\
            local.assert(!options.classList.contains('hasError'), options.classList);\n\
            local.uiAnimateShakeIfError(true, options);\n\
            local.assert(options.classList.contains('hasError'), options.classList);\n\
            local.uiAnimateShakeIfError(null, options);\n\
            local.assert(!options.classList.contains('hasError'), options.classList);\n\
            // test uiAnimateSlideXxx handling-behavior\n\
            local.uiAnimateSlideDown();\n\
            local.uiAnimateSlideUp();\n\
            options.classList.add('uiAnimateSlide');\n\
            local.uiAnimateSlideDown(options);\n\
            local.assert(options.style.maxHeight.indexOf('px') >= 0, options.style.maxHeight);\n\
            local.uiAnimateSlideUp(options);\n\
            local.assertJsonEqual(options.style.maxHeight, '0px');\n\
            // test uiAnimateSlideAccordian handling-behavior\n\
            local.uiAnimateSlideAccordian(options, [options, document.createElement('div')]);\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_urlParse_default = function (options, onError) {\n\
        /*\n\
         * this function will test urlParse's default handling-behavior\n\
         */\n\
            local.testMock([\n\
                [local, {\n\
                    // test default PORT handling-behavior\n\
                    env: {},\n\
                    // test init-serverLocalHost handling-behavior\n\
                    serverLocalHost: ''\n\
                }]\n\
            ], function (onError) {\n\
                // test default handling-behavior\n\
                local.assertJsonEqual(local.urlParse(\n\
                    'https://127.0.0.1:80/foo/bar?aa=1&bb%20cc=dd%20=ee&aa=2&aa#zz=1'\n\
                ), {\n\
                    hash: '#zz=1',\n\
                    host: '127.0.0.1:80',\n\
                    hostname: '127.0.0.1',\n\
                    href: 'https://127.0.0.1:80/foo/bar?aa=1&bb%20cc=dd%20=ee&aa=2&aa#zz=1',\n\
                    path: '/foo/bar?aa=1&bb%20cc=dd%20=ee&aa=2&aa',\n\
                    pathname: '/foo/bar',\n\
                    port: '80',\n\
                    protocol: 'https:',\n\
                    query: { aa: ['1', '2', ''], 'bb cc': 'dd =ee' },\n\
                    search: '?aa=1&bb%20cc=dd%20=ee&aa=2&aa'\n\
                });\n\
                // test error handling-behavior\n\
                local.assertJsonEqual(local.urlParse(null), {\n\
                    hash: '',\n\
                    host: '',\n\
                    hostname: '',\n\
                    href: '',\n\
                    path: '',\n\
                    pathname: '',\n\
                    port: '',\n\
                    protocol: '',\n\
                    query: {},\n\
                    search: ''\n\
                });\n\
                onError(null, options);\n\
            }, onError);\n\
        };\n\
\n\
        local.testCase_uuid4Create_default = function (options, onError) {\n\
        /*\n\
         * this function will test uuid4Create's default handling-behavior\n\
         */\n\
            local.assert((local.regexpValidateUuid).test(local.uuid4Create()), local.uuid4Create());\n\
            onError(null, options);\n\
        };\n\
\n\
        local.testCase_webpage_error = function (options, onError) {\n\
        /*\n\
         * this function will test webpage's error handling-behavior\n\
         */\n\
            if (local.modeJs !== 'node') {\n\
                onError(null, options);\n\
                return;\n\
            }\n\
            local.browserTest({\n\
                modeCoverageMerge: true,\n\
                // test browserTest's modeSilent handling-behavior\n\
                modeSilent: true,\n\
                modeTestIgnore: true,\n\
                timeoutDefault: local.timeoutDefault - 1000,\n\
                url: local.serverLocalHost +\n\
                    // test script_only handling-behavior\n\
                    '/assets.script_only.html' +\n\
                    // test electron-callback handling-behavior\n\
                    '?modeTest=1&' +\n\
                    // test specific testCase handling-behavior\n\
                    // test testRunDefault's failure handling-behavior\n\
                    'modeTestCase=_testCase_testRunDefault_failure&' +\n\
                    // test timeExit handling-behavior\n\
                    'timeExit={{timeExit}}'\n\
            }, function (error) {\n\
                // validate error occurred\n\
                local.assert(error, error);\n\
                onError(null, options);\n\
            });\n\
        };\n\
\n\
        local.utility2.serverLocalUrlTest = function (url) {\n\
        /*\n\
         * this function will test if the url is local\n\
         */\n\
            url = local.urlParse(url).pathname;\n\
            return local.modeJs === 'browser' &&\n\
                !local.env.npm_config_mode_backend &&\n\
                (/^\\/test\\./).test(url);\n\
        };\n\
    }());\n\
\n\
\n\
\n\
    // run shared js-env code - init-after\n\
    (function () {\n\
        // init assets\n\
        local.assetsDict['/assets.swgg.swagger.json'] =\n\
            local.assetsDict['/assets.swgg.swagger.json'] ||\n\
            local.assetsDict['/assets.swgg.swagger.petstore.json'];\n\
        // coverage-hack - re-run test-server\n\
        local.testRunServer(local);\n\
        // coverage-hack - stateInit\n\
        local.stateInit({});\n\
        // init test-middleware\n\
        local.middlewareList.push(function (request, response, nextMiddleware) {\n\
        /*\n\
         * this function will run the test-middleware\n\
         */\n\
            switch (request.urlParsed.pathname) {\n\
            // test http POST handling-behavior\n\
            case '/test.echo':\n\
                // test response header handling-behavior\n\
                local.serverRespondHeadSet(request, response, null, {\n\
                    'X-Response-Header-Test': 'bb'\n\
                });\n\
                local.serverRespondEcho(request, response);\n\
                break;\n\
            // test http POST handling-behavior\n\
            case '/test.body':\n\
                // test request-body-read handling-behavior\n\
                local.middlewareBodyRead(request, response, function () {\n\
                    // test multiple request-body-read handling-behavior\n\
                    local.middlewareBodyRead(request, response, function () {\n\
                        response.write(request.bodyRaw);\n\
                        response.end();\n\
                    });\n\
                });\n\
                break;\n\
            // test 500-internal-server-error handling-behavior\n\
            case '/test.error-500':\n\
                // test multiple-callback serverRespondHeadSet handling-behavior\n\
                local.serverRespondHeadSet(request, response, null, {});\n\
                nextMiddleware(local.errorDefault);\n\
                // test multiple-callback error handling-behavior\n\
                nextMiddleware(local.errorDefault);\n\
                // test onErrorDefault handling-behavior\n\
                local.testMock([\n\
                ], function (onError) {\n\
                    var error;\n\
                    error = new Error('error');\n\
                    error.statusCode = 500;\n\
                    local.middlewareError(error, request, response);\n\
                    onError();\n\
                }, local.onErrorThrow);\n\
                break;\n\
            // test undefined-error handling-behavior\n\
            case '/test.error-undefined':\n\
                local.serverRespondDefault(request, response, 999);\n\
                break;\n\
            // test timeout handling-behavior\n\
            case '/test.timeout':\n\
                setTimeout(function () {\n\
                    response.end();\n\
                }, 2000);\n\
                break;\n\
            // serve file\n\
            default:\n\
                local.middlewareFileServer(request, response, nextMiddleware);\n\
            }\n\
        });\n\
    }());\n\
    switch (local.modeJs) {\n\
\n\
\n\
\n\
    // run node js-env code - init-after\n\
    /* istanbul ignore next */\n\
    case 'node':\n\
        switch (local.env.HEROKU_APP_NAME) {\n\
        case 'h1-cron1':\n\
            // heroku-keepalive\n\
            setInterval(function () {\n\
                local.ajax({ url: 'https://h1-cron1.herokuapp.com' }, local.onErrorThrow);\n\
            }, 5 * 60 * 1000);\n\
            local.cronJob = local.nop;\n\
            // update cron\n\
            local.ajax({\n\
                url: 'https://kaizhu256.github.io/node-utility2/cronJob.js'\n\
            }, function (error, xhr) {\n\
                if (!error && xhr.responseText !== local.cronScript) {\n\
                    local.cronScript = xhr.responseText;\n\
                    local.vm.runInThisContext(local.cronScript);\n\
                }\n\
            });\n\
            setInterval(function () {\n\
                var cronTime;\n\
                cronTime = new Date();\n\
                if (cronTime.toISOString().slice(0, 16) <\n\
                        (local.cronTime && local.cronTime.toISOString())) {\n\
                    return;\n\
                }\n\
                local.cronTime = cronTime;\n\
                // cron every 5 minutes\n\
                if (local.cronTime.getUTCMinutes() % 5 === 0) {\n\
                    // update cron\n\
                    local.ajax({\n\
                        url: 'https://kaizhu256.github.io/node-utility2/cronJob.js'\n\
                    }, function (error, xhr) {\n\
                        if (!error && xhr.responseText !== local.cronScript) {\n\
                            local.cronScript = xhr.responseText;\n\
                            local.vm.runInThisContext(local.cronScript);\n\
                        }\n\
                    });\n\
                }\n\
                local.cronJob();\n\
            }, 30000);\n\
            break;\n\
        case 'h1-proxy1':\n\
            // heroku-keepalive\n\
            setInterval(function () {\n\
                local.ajax({ url: 'https://h1-proxy1.herokuapp.com' }, local.onErrorThrow);\n\
            }, 5 * 60 * 1000);\n\
            break;\n\
        }\n\
        // init cli\n\
        if (module !== require.main || local.global.utility2_rollup) {\n\
            return;\n\
        }\n\
        local.assetsDict['/assets.script_only.html'] = '<h1>script_only_test</h1>\\n\
' +\n\
            '<script src=\"assets.utility2.js\"></script>\\n\
' +\n\
            '<script>window.utility2.onReadyBefore.counter += 1;</script>\\n\
' +\n\
            '<script src=\"assets.example.js\"></script>\\n\
' +\n\
            '<script src=\"assets.test.js\"></script>\\n\
' +\n\
            '<script>window.utility2.onReadyBefore();</script>\\n\
';\n\
        if (process.argv[2]) {\n\
            // start with coverage\n\
            if (local.env.npm_config_mode_coverage) {\n\
                process.argv.splice(1, 1, __dirname + '/lib.istanbul.js', 'cover');\n\
                local.istanbul.cliDict[process.argv[2]]();\n\
                return;\n\
            }\n\
            // start\n\
            process.argv.splice(1, 1);\n\
            process.argv[1] = local.path.resolve(process.cwd(), process.argv[1]);\n\
            local.Module.runMain();\n\
        }\n\
        break;\n\
    }\n\
}());\n\
"
/* jslint-ignore-end */
}());
/* script-end /assets.utility2.test.js */



/* script-begin /assets.utility2.rollup.end.js */
(function () {
    "use strict";
    var local;
    local = {};
    local.modeJs = (function () {
        try {
            return typeof navigator.userAgent === "string" &&
                typeof document.querySelector("body") === "object" &&
                typeof XMLHttpRequest.prototype.open === "function" &&
                "browser";
        } catch (errorCaughtBrowser) {
            return module.exports &&
                typeof process.versions.node === "string" &&
                typeof require("http").createServer === "function" &&
                "node";
        }
    }());
    local.global = local.modeJs === "browser"
        ? window
        : global;
    local.global.utility2_rollup_old = local.global.utility2_rollup;
    local.global.utility2_rollup = null;
}());
/* utility2.rollup.js end */
/* script-end /assets.utility2.rollup.end.js */
/* script-end /assets.utility2.rollup.js */



/* script-begin /assets.utility2.rollup.begin.js */
/* utility2.rollup.js begin */
/* istanbul ignore all */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    "use strict";
    var local;
    local = {};
    local.modeJs = (function () {
        try {
            return typeof navigator.userAgent === "string" &&
                typeof document.querySelector("body") === "object" &&
                typeof XMLHttpRequest.prototype.open === "function" &&
                "browser";
        } catch (errorCaughtBrowser) {
            return module.exports &&
                typeof process.versions.node === "string" &&
                typeof require("http").createServer === "function" &&
                "node";
        }
    }());
    local.global = local.modeJs === "browser"
        ? window
        : global;
    local.local = local.global.utility2_rollup = local.global.utility2_rollup_old || local;
    local.global.utility2_rollup_old = null;
}());
/* script-end /assets.utility2.rollup.begin.js */



/* script-begin local.stateInit */
(function () {
    "use strict";
    var local;
    local = (typeof window === "object" && window && window.utility2_rollup) ||
        global.utility2_rollup;
    local.local = local;
/* jslint-ignore-begin */
local.stateInit({
    "utility2": {
        "assetsDict": {
            "/assets.index.css": "",
            "/assets.index.template.html": "<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<!-- \"assets.index.default.template.html\" -->\n<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\n<style>\n/* jslint-utility2 */\n/*csslint\n*/\n/* jslint-ignore-begin */\n*,\n*:after,\n*:before {\n    box-sizing: border-box;\n}\n/* jslint-ignore-end */\n@keyframes uiAnimateShake {\n    0%, 50% {\n        transform: translateX(10px);\n    }\n    25%, 75% {\n        transform: translateX(-10px);\n    }\n    100% {\n        transform: translateX(0);\n    }\n}\n@keyframes uiAnimateSpin {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(360deg);\n    }\n}\na {\n    overflow-wrap: break-word;\n}\nbody > div,\nbody > pre,\nbody > textarea,\nbody > .button {\n    margin-bottom: 20px;\n}\nbody > textarea {\n    height: 10rem;\n    width: 100%;\n}\nbody > textarea[readonly] {\n    background: #ddd;\n}\nbody > .button {\n    width: 20rem;\n}\ncode,\npre,\ntextarea {\n    font-family: Consolas, Menlo, monospace;\n    font-size: small;\n}\npre {\n    overflow-wrap: break-word;\n    white-space: pre-wrap;\n}\ntextarea {\n    overflow: auto;\n    white-space: pre;\n}\n.button {\n    background-color: #fff;\n    border: 1px solid;\n    border-bottom-color: rgb(186, 186, 186);\n    border-left-color: rgb(209, 209, 209);\n    border-radius: 4px;\n    border-right-color: rgb(209, 209, 209);\n    border-top-color: rgb(216, 216, 216);\n    color: #00d;\n    cursor: pointer;\n    display: inline-block;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: normal;\n    margin: 0;\n    padding: 2px 7px 3px 7px;\n    text-align: center;\n    text-decoration: underline;\n}\n.colorError {\n    color: #d00;\n}\n.uiAnimateShake {\n    animation-duration: 500ms;\n    animation-name: uiAnimateShake;\n}\n.uiAnimateSlide {\n    overflow-y: hidden;\n    transition: max-height ease-in 250ms, min-height ease-in 250ms, padding-bottom ease-in 250ms, padding-top ease-in 250ms;\n}\n.utility2FooterDiv {\n    text-align: center;\n}\n.zeroPixel {\n    border: 0;\n    height: 0;\n    margin: 0;\n    padding: 0;\n    width: 0;\n}\n</style>\n</head>\n<body style=\"background: #eef; font-family: Arial, Helvetica, sans-serif; margin: 0 40px;\">\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 500ms, width 1500ms; width: 0%; z-index: 1;\"></div>\n<div class=\"uiAnimateSpin\" style=\"animation: uiAnimateSpin 2s linear infinite; border: 5px solid #999; border-radius: 50%; border-top: 5px solid #7d7; display: none; height: 25px; vertical-align: middle; width: 25px;\"></div>\n<code style=\"display: none;\"></code><div class=\"button uiAnimateShake uiAnimateSlide utility2FooterDiv zeroPixel\" style=\"display: none;\"></div><pre style=\"display: none;\"></pre><textarea readonly style=\"display: none;\"></textarea>\n<script>\n/* jslint-utility2 */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 4,\n    maxlen: 100,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    \"use strict\";\n    var ajaxProgressDiv1,\n        ajaxProgressState,\n        ajaxProgressUpdate,\n        timerIntervalAjaxProgressUpdate;\n    ajaxProgressDiv1 = document.querySelector(\"#ajaxProgressDiv1\");\n    setTimeout(function () {\n        ajaxProgressDiv1.style.width = \"25%\";\n    });\n    ajaxProgressState = 0;\n    ajaxProgressUpdate = (window.local &&\n        window.local.ajaxProgressUpdate) || function () {\n        ajaxProgressDiv1.style.width = \"100%\";\n        setTimeout(function () {\n            ajaxProgressDiv1.style.background = \"transparent\";\n            setTimeout(function () {\n                ajaxProgressDiv1.style.width = \"0%\";\n            }, 500);\n        }, 1500);\n    };\n    timerIntervalAjaxProgressUpdate = setInterval(function () {\n        ajaxProgressState += 1;\n        ajaxProgressDiv1.style.width = Math.max(\n            100 - 75 * Math.exp(-0.125 * ajaxProgressState),\n            Number(ajaxProgressDiv1.style.width.slice(0, -1)) || 0\n        ) + \"%\";\n    }, 1000);\n    window.addEventListener(\"load\", function () {\n        clearInterval(timerIntervalAjaxProgressUpdate);\n        ajaxProgressUpdate();\n    });\n}());\n</script>\n<h1>\n<!-- utility2-comment\n    <a\n        {{#if env.npm_package_homepage}}\n        href=\"{{env.npm_package_homepage}}\"\n        {{/if env.npm_package_homepage}}\n        target=\"_blank\"\n    >\nutility2-comment -->\n        {{env.npm_package_name}} (v{{env.npm_package_version}})\n<!-- utility2-comment\n    </a>\nutility2-comment -->\n</h1>\n<h3>{{env.npm_package_description}}</h3>\n<!-- utility2-comment\n<a class=\"button\" download href=\"assets.app.js\">download standalone app</a><br>\n<button class=\"button onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\n<div class=\"uiAnimateSlide\" id=\"testReportDiv1\" style=\"border-bottom: 0; border-top: 0; margin-bottom: 0; margin-top: 0; max-height: 0; padding-bottom: 0; padding-top: 0;\"></div>\nutility2-comment -->\n\n\n\n<button class=\"button onclick onreset\" id=\"dbResetButton1\">reset database</button><br>\n<button class=\"button onclick\" id=\"dbExportButton1\">export database -&gt; file</button><br>\n<a download=\"db.persistence.json\" href=\"\" id=\"dbExportA1\"></a>\n<button class=\"button onclick\" id=\"dbImportButton1\">import database &lt;- file</button><br>\n<input class=\"onchange onreset zeroPixel\" type=\"file\" id=\"dbImportInput1\">\n<label>edit or paste script below to\n    <a\n        href=\"https://kaizhu256.github.io/node-db-lite/build..beta..travis-ci.org/apidoc.html\"\n        target=\"_blank\"\n    >eval</a>\n</label>\n<textarea id=\"inputTextareaEval1\">\n/*jslint browser: true, node: true*/\n\"use strict\";\nvar dbTable1, modeNext, onNext;\nmodeNext = 0;\nonNext = function (error, data) {\n    modeNext = error\n        ? Infinity\n        : modeNext + 1;\n    switch (modeNext) {\n    case 1:\n        dbTable1 = window.dbTable1 = window.utility2_db.dbTableCreateOne({\n            name: \"dbTable1\"\n        }, onNext);\n        break;\n    case 2:\n        dbTable1.idIndexCreate({ name: \"field1\" }, onNext);\n        break;\n    case 3:\n        dbTable1.crudSetOneById({ field1: \"aa\", field2: 1, field3: \"foo\" }, onNext);\n        break;\n    case 4:\n        dbTable1.crudSetOneById({ field1: \"bb\", field2: 2, field3: \"bar\" }, onNext);\n        break;\n    case 5:\n        dbTable1.crudSetOneById({ field1: \"cc\", field2: 3, field3: \"baz\" }, onNext);\n        break;\n    case 6:\n        dbTable1.crudRemoveOneById({ field1: \"aa\" }, onNext);\n        break;\n    case 7:\n        dbTable1.crudUpdateOneById({ field1: \"bb\", field2: -1 }, onNext);\n        break;\n    case 8:\n        dbTable1.crudSetOneById({ field2: Math.random() }, onNext);\n        break;\n    case 9:\n        dbTable1.crudGetManyByQuery({\n            limit: Infinity,\n            query: { field2: { $gte: -Infinity, $lte: Infinity } },\n            skip: 0,\n            sort: [{ fieldName: \"_timeUpdated\", idDescending: true }]\n        }, onNext);\n        break;\n    case 10:\n        console.log(data);\n        dbTable1.crudCountAll(onNext);\n        break;\n    case 11:\n        console.log(\"number of rows: \" + data);\n        break;\n    default:\n        console.error(error.stack);\n    }\n};\nonNext();\n</textarea>\n<button class=\"button onclick oneval onreset\" id=\"dbEvalButton1\">eval script</button><br>\n<label>stderr and stdout</label>\n<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\n<!-- utility2-comment\n{{#if isRollup}}\n<script src=\"assets.app.js\"></script>\n{{#unless isRollup}}\nutility2-comment -->\n<script src=\"assets.utility2.rollup.js\"></script>\n<script>window.utility2.onResetBefore.counter += 1;</script>\n<script src=\"jsonp.utility2.stateInit?callback=window.utility2.stateInit\"></script>\n<script src=\"assets.db.js\"></script>\n<script src=\"assets.example.js\"></script>\n<script src=\"assets.test.js\"></script>\n<script>window.utility2.onResetBefore();</script>\n<!-- utility2-comment\n{{/if isRollup}}\nutility2-comment -->\n<div class=\"utility2FooterDiv\">\n    [ this app was created with\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\n    ]\n</div>\n</body>\n</html>\n",
            "/assets.swgg.swagger.json": ""
        },
        "env": {
            "NODE_ENV": "test",
            "npm_package_description": "this zero-dependency package will provide a persistent, in-browser database, with a working web-demo",
            "npm_package_homepage": "https://github.com/kaizhu256/node-db-lite",
            "npm_package_name": "db-lite",
            "npm_package_nameLib": "db",
            "npm_package_version": "2018.4.23"
        }
    }
});
/* jslint-ignore-end */
}());
/* script-end local.stateInit */



/* script-begin /assets.lib.js */
(function () {
    "use strict";
    var local;
    local = (typeof window === "object" && window && window.utility2_rollup) ||
        global.utility2_rollup;
    local.local = local;
/* jslint-ignore-begin */
local.assetsDict["/assets.db.js"] = "///usr/bin/env node\n\
/*\n\
 * assets.db-lite.js\n\
 *\n\
 * this zero-dependency package will provide a persistent, in-browser database\n\
 *\n\
 * browser example:\n\
 *     <script src=\"assets.db-lite.js\"></script>\n\
 *     <script>\n\
 *     var dbTable1;\n\
 *     dbTable1 = window.dbTable1 = window.utility2_db.dbTableCreateOne({ name: \"dbTable1\" });\n\
 *     dbTable1.idIndexCreate({ name: \"field1\" });\n\
 *     dbTable1.crudSetOneById({ field1: \"hello\", field2: \"world\" });\n\
 *     console.log(dbTable1.crudGetManyByQuery({\n\
 *         limit: Infinity,\n\
 *         query: { field1: \"hello\" },\n\
 *         skip: 0,\n\
 *         sort: [{ fieldName: 'field1', isDescending: false }]\n\
 *     }));\n\
 *     </script>\n\
 *\n\
 * node example:\n\
 *     var db, dbTable1;\n\
 *     utility2_db = require(\"./assets.db-lite.js\");\n\
 *     dbTable1 = global.dbTable1 = utility2_db.dbTableCreateOne({ name: \"dbTable1\" });\n\
 *     dbTable1.idIndexCreate({ name: \"field1\" });\n\
 *     dbTable1.crudSetOneById({ field1: \"hello\", field2: \"world\" });\n\
 *     console.log(dbTable1.crudGetManyByQuery({\n\
 *         limit: Infinity,\n\
 *         query: { field1: \"hello\" },\n\
 *         skip: 0,\n\
 *         sort: [{ fieldName: 'field1', isDescending: false }]\n\
 *     }));\n\
 */\n\
\n\
\n\
\n\
/* istanbul instrument in package db */\n\
/* jslint-utility2 */\n\
/*jslint\n\
    bitwise: true,\n\
    browser: true,\n\
    maxerr: 4,\n\
    maxlen: 100,\n\
    node: true,\n\
    nomen: true,\n\
    regexp: true,\n\
    stupid: true\n\
*/\n\
(function () {\n\
    'use strict';\n\
    var local;\n\
\n\
\n\
\n\
    // run shared js-env code - init-before\n\
    (function () {\n\
        // init local\n\
        local = {};\n\
        // init modeJs\n\
        local.modeJs = (function () {\n\
            try {\n\
                return typeof navigator.userAgent === 'string' &&\n\
                    typeof document.querySelector('body') === 'object' &&\n\
                    typeof XMLHttpRequest.prototype.open === 'function' &&\n\
                    'browser';\n\
            } catch (errorCaughtBrowser) {\n\
                return module.exports &&\n\
                    typeof process.versions.node === 'string' &&\n\
                    typeof require('http').createServer === 'function' &&\n\
                    'node';\n\
            }\n\
        }());\n\
        // init global\n\
        local.global = local.modeJs === 'browser'\n\
            ? window\n\
            : global;\n\
        // init utility2_rollup\n\
        local = local.global.utility2_rollup || local;\n\
        /* istanbul ignore next */\n\
        if (!local) {\n\
            local = local.global.utility2_rollup ||\n\
                local.global.utility2_rollup_old ||\n\
                require('./assets.utility2.rollup.js');\n\
            local.fs = null;\n\
        }\n\
        // init exports\n\
        if (local.modeJs === 'browser') {\n\
            local.global.utility2_db = local;\n\
        } else {\n\
            // require builtins\n\
            // local.assert = require('assert');\n\
            local.buffer = require('buffer');\n\
            local.child_process = require('child_process');\n\
            local.cluster = require('cluster');\n\
            local.console = require('console');\n\
            local.constants = require('constants');\n\
            local.crypto = require('crypto');\n\
            local.dgram = require('dgram');\n\
            local.dns = require('dns');\n\
            local.domain = require('domain');\n\
            local.events = require('events');\n\
            local.fs = require('fs');\n\
            local.http = require('http');\n\
            local.https = require('https');\n\
            local.module = require('module');\n\
            local.net = require('net');\n\
            local.os = require('os');\n\
            local.path = require('path');\n\
            local.process = require('process');\n\
            local.punycode = require('punycode');\n\
            local.querystring = require('querystring');\n\
            local.readline = require('readline');\n\
            local.repl = require('repl');\n\
            local.stream = require('stream');\n\
            local.string_decoder = require('string_decoder');\n\
            local.timers = require('timers');\n\
            local.tls = require('tls');\n\
            local.tty = require('tty');\n\
            local.url = require('url');\n\
            local.util = require('util');\n\
            local.v8 = require('v8');\n\
            local.vm = require('vm');\n\
            local.zlib = require('zlib');\n\
/* validateLineSortedReset */\n\
            module.exports = local;\n\
            module.exports.__dirname = __dirname;\n\
        }\n\
        // init lib\n\
        local.local = local.db = local;\n\
    }());\n\
\n\
\n\
\n\
    // run shared js-env code - function-before\n\
    /* istanbul ignore next */\n\
    (function () {\n\
        local.assert = function (passed, message, onError) {\n\
        /*\n\
         * this function will throw the error message if passed is falsey\n\
         */\n\
            var error;\n\
            if (passed) {\n\
                return;\n\
            }\n\
            error = message && message.message\n\
                // if message is an error-object, then leave it as is\n\
                ? message\n\
                : new Error(typeof message === 'string'\n\
                    // if message is a string, then leave it as is\n\
                    ? message\n\
                    // else JSON.stringify message\n\
                    : JSON.stringify(message));\n\
            // debug error\n\
            local._debugAssertError = error;\n\
            onError = onError || function (error) {\n\
                throw error;\n\
            };\n\
            onError(error);\n\
        };\n\
\n\
        local.cliRun = function (fnc) {\n\
        /*\n\
         * this function will run the cli\n\
         */\n\
            var nop;\n\
            nop = function () {\n\
            /*\n\
             * this function will do nothing\n\
             */\n\
                return;\n\
            };\n\
            local.cliDict._eval = local.cliDict._eval || function () {\n\
            /*\n\
             * code\n\
             * eval code\n\
             */\n\
                local.global.local = local;\n\
                require('vm').runInThisContext(process.argv[3]);\n\
            };\n\
            local.cliDict['--eval'] = local.cliDict['--eval'] || local.cliDict._eval;\n\
            local.cliDict['-e'] = local.cliDict['-e'] || local.cliDict._eval;\n\
            local.cliDict._help = local.cliDict._help || function () {\n\
            /*\n\
             * [none]\n\
             * print help\n\
             */\n\
                var element, result, lengthList, sortDict;\n\
                console.log(require(__dirname + '/package.json').name + ' v' +\n\
                    require(__dirname + '/package.json').version);\n\
                sortDict = {};\n\
                result = [['[command]', '[args]', '[description]', -1]];\n\
                lengthList = [result[0][0].length, result[0][1].length];\n\
                Object.keys(local.cliDict).sort().forEach(function (key, ii) {\n\
                    if (key[0] === '_' && key !== '_default') {\n\
                        return;\n\
                    }\n\
                    sortDict[local.cliDict[key].toString()] =\n\
                        sortDict[local.cliDict[key].toString()] || (ii + 1);\n\
                    element = (/\\n\
 +\\*(.*)\\n\
 +\\*(.*)/).exec(local.cliDict[key].toString());\n\
                    // coverage-hack - ignore else-statement\n\
                    nop(local.global.__coverage__ && (function () {\n\
                        element = element || ['', '', ''];\n\
                    }()));\n\
                    element = [\n\
                        key.replace('_default', '[none]') + ' ',\n\
                        element[1].trim() + ' ',\n\
                        element[2].trim(),\n\
                        (sortDict[local.cliDict[key].toString()] << 8) + ii\n\
                    ];\n\
                    result.push(element);\n\
                    lengthList.forEach(function (length, jj) {\n\
                        lengthList[jj] = Math.max(element[jj].length, length);\n\
                    });\n\
                });\n\
                result.sort(function (aa, bb) {\n\
                    return aa[3] < bb[3]\n\
                        ? -1\n\
                        : 1;\n\
                });\n\
                console.log('usage:   ' + __filename + ' [command] [args]');\n\
                console.log('example: ' + __filename + ' --eval    ' +\n\
                    '\"console.log(\\'hello world\\')\"\\n\
');\n\
                result.forEach(function (element, ii) {\n\
                    lengthList.forEach(function (length, jj) {\n\
                        while (element[jj].length < length) {\n\
                            element[jj] += '-';\n\
                        }\n\
                    });\n\
                    element = element.slice(0, 3).join('---- ');\n\
                    if (!ii) {\n\
                        element = element.replace((/-/g), ' ');\n\
                    }\n\
                    console.log(element);\n\
                });\n\
            };\n\
            local.cliDict['--help'] = local.cliDict['--help'] || local.cliDict._help;\n\
            local.cliDict['-h'] = local.cliDict['-h'] || local.cliDict._help;\n\
            local.cliDict._default = local.cliDict._default || local.cliDict._help;\n\
            local.cliDict.help = local.cliDict.help || local.cliDict._help;\n\
            local.cliDict._interactive = local.cliDict._interactive || function () {\n\
            /*\n\
             * [none]\n\
             * start interactive-mode\n\
             */\n\
                local.global.local = local;\n\
                local.replStart();\n\
            };\n\
            if (local.replStart) {\n\
                local.cliDict['--interactive'] = local.cliDict['--interactive'] ||\n\
                    local.cliDict._interactive;\n\
                local.cliDict['-i'] = local.cliDict['-i'] || local.cliDict._interactive;\n\
            }\n\
            local.cliDict._version = local.cliDict._version || function () {\n\
            /*\n\
             * [none]\n\
             * print version\n\
             */\n\
                console.log(require(__dirname + '/package.json').version);\n\
            };\n\
            local.cliDict['--version'] = local.cliDict['--version'] || local.cliDict._version;\n\
            local.cliDict['-v'] = local.cliDict['-v'] || local.cliDict._version;\n\
            // run fnc()\n\
            fnc = fnc || function () {\n\
                if (local.cliDict[process.argv[2]]) {\n\
                    local.cliDict[process.argv[2]]();\n\
                    return;\n\
                }\n\
                local.cliDict._default();\n\
            };\n\
            fnc();\n\
        };\n\
\n\
        local.jsonCopy = function (jsonObj) {\n\
        /*\n\
         * this function will return a deep-copy of the jsonObj\n\
         */\n\
            return jsonObj === undefined\n\
                ? undefined\n\
                : JSON.parse(JSON.stringify(jsonObj));\n\
        };\n\
\n\
        local.jsonStringifyOrdered = function (jsonObj, replacer, space) {\n\
        /*\n\
         * this function will JSON.stringify the jsonObj,\n\
         * with object-keys sorted and circular-references removed\n\
         */\n\
            var circularList, stringify, tmp;\n\
            stringify = function (jsonObj) {\n\
            /*\n\
             * this function will recursively JSON.stringify the jsonObj,\n\
             * with object-keys sorted and circular-references removed\n\
             */\n\
                // if jsonObj is not an object or function, then JSON.stringify as normal\n\
                if (!(jsonObj &&\n\
                        typeof jsonObj === 'object' &&\n\
                        typeof jsonObj.toJSON !== 'function')) {\n\
                    return JSON.stringify(jsonObj);\n\
                }\n\
                // ignore circular-reference\n\
                if (circularList.indexOf(jsonObj) >= 0) {\n\
                    return;\n\
                }\n\
                circularList.push(jsonObj);\n\
                // if jsonObj is an array, then recurse its jsonObjs\n\
                if (Array.isArray(jsonObj)) {\n\
                    return '[' + jsonObj.map(function (jsonObj) {\n\
                        // recurse\n\
                        tmp = stringify(jsonObj);\n\
                        return typeof tmp === 'string'\n\
                            ? tmp\n\
                            : 'null';\n\
                    }).join(',') + ']';\n\
                }\n\
                // if jsonObj is not an array, then recurse its items with object-keys sorted\n\
                return '{' + Object.keys(jsonObj)\n\
                    // sort object-keys\n\
                    .sort()\n\
                    .map(function (key) {\n\
                        // recurse\n\
                        tmp = stringify(jsonObj[key]);\n\
                        if (typeof tmp === 'string') {\n\
                            return JSON.stringify(key) + ':' + tmp;\n\
                        }\n\
                    })\n\
                    .filter(function (jsonObj) {\n\
                        return typeof jsonObj === 'string';\n\
                    })\n\
                    .join(',') + '}';\n\
            };\n\
            circularList = [];\n\
            // try to derefernce all properties in jsonObj\n\
            (function () {\n\
                try {\n\
                    jsonObj = JSON.parse(JSON.stringify(jsonObj));\n\
                } catch (ignore) {\n\
                }\n\
            }());\n\
            return JSON.stringify(typeof jsonObj === 'object' && jsonObj\n\
                // recurse\n\
                ? JSON.parse(stringify(jsonObj))\n\
                : jsonObj, replacer, space);\n\
        };\n\
\n\
        local.listShuffle = function (list) {\n\
        /*\n\
         * https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\n\
         * this function will inplace shuffle the list, via fisher-yates algorithm\n\
         */\n\
            var ii, random, swap;\n\
            for (ii = list.length - 1; ii > 0; ii -= 1) {\n\
                // coerce to finite integer\n\
                random = (Math.random() * (ii + 1)) | 0;\n\
                swap = list[ii];\n\
                list[ii] = list[random];\n\
                list[random] = swap;\n\
            }\n\
            return list;\n\
        };\n\
\n\
        local.nop = function () {\n\
        /*\n\
         * this function will do nothing\n\
         */\n\
            return;\n\
        };\n\
\n\
        local.normalizeValue = function (type, value, valueDefault) {\n\
        /*\n\
         * this function will normalize the value by type\n\
         */\n\
            switch (type) {\n\
            case 'list':\n\
                return Array.isArray(value)\n\
                    ? value\n\
                    : valueDefault || [];\n\
            case 'number':\n\
                return Number(value) || valueDefault || 0;\n\
            case 'string':\n\
                return typeof value === 'string'\n\
                    ? value\n\
                    : valueDefault || '';\n\
            }\n\
        };\n\
\n\
        local.objectSetOverride = function (arg, overrides, depth, env) {\n\
        /*\n\
         * this function will recursively set overrides for items in the arg\n\
         */\n\
            arg = arg || {};\n\
            env = env || (typeof process === 'object' && process.env) || {};\n\
            overrides = overrides || {};\n\
            Object.keys(overrides).forEach(function (key) {\n\
                var arg2, overrides2;\n\
                arg2 = arg[key];\n\
                overrides2 = overrides[key];\n\
                if (overrides2 === undefined) {\n\
                    return;\n\
                }\n\
                // if both arg2 and overrides2 are non-null and non-array objects,\n\
                // then recurse with arg2 and overrides2\n\
                if (depth > 1 &&\n\
                        // arg2 is a non-null and non-array object\n\
                        typeof arg2 === 'object' && arg2 && !Array.isArray(arg2) &&\n\
                        // overrides2 is a non-null and non-array object\n\
                        typeof overrides2 === 'object' && overrides2 &&\n\
                        !Array.isArray(overrides2)) {\n\
                    local.objectSetOverride(arg2, overrides2, depth - 1, env);\n\
                    return;\n\
                }\n\
                // else set arg[key] with overrides[key]\n\
                arg[key] = arg === env\n\
                    // if arg is env, then overrides falsey value with empty string\n\
                    ? overrides2 || ''\n\
                    : overrides2;\n\
            });\n\
            return arg;\n\
        };\n\
\n\
        local.onErrorDefault = function (error) {\n\
        /*\n\
         * this function will if error exists, then print error.stack to stderr\n\
         */\n\
            if (error && !local.global.__coverage__) {\n\
                console.error(error);\n\
            }\n\
        };\n\
\n\
        local.onErrorWithStack = function (onError) {\n\
        /*\n\
         * this function will create a new callback that will call onError,\n\
         * and append the current stack to any error\n\
         */\n\
            var stack;\n\
            stack = new Error().stack.replace((/(.*?)\\n\
.*?$/m), '$1');\n\
            return function (error, data, meta) {\n\
                if (error &&\n\
                        error !== local.errorDefault &&\n\
                        String(error.stack).indexOf(stack.split('\\n\
')[2]) < 0) {\n\
                    // append the current stack to error.stack\n\
                    error.stack += '\\n\
' + stack;\n\
                }\n\
                onError(error, data, meta);\n\
            };\n\
        };\n\
\n\
        local.onParallel = function (onError, onEach, onRetry) {\n\
        /*\n\
         * this function will create a function that will\n\
         * 1. run async tasks in parallel\n\
         * 2. if counter === 0 or error occurred, then call onError with error\n\
         */\n\
            var onParallel;\n\
            onError = local.onErrorWithStack(onError);\n\
            onEach = onEach || local.nop;\n\
            onRetry = onRetry || local.nop;\n\
            onParallel = function (error, data) {\n\
                if (onRetry(error, data)) {\n\
                    return;\n\
                }\n\
                // decrement counter\n\
                onParallel.counter -= 1;\n\
                // validate counter\n\
                local.assert(\n\
                    onParallel.counter >= 0 || error || onParallel.error,\n\
                    'invalid onParallel.counter = ' + onParallel.counter\n\
                );\n\
                // ensure onError is run only once\n\
                if (onParallel.counter < 0) {\n\
                    return;\n\
                }\n\
                // handle error\n\
                if (error) {\n\
                    onParallel.error = error;\n\
                    // ensure counter <= 0\n\
                    onParallel.counter = -Math.abs(onParallel.counter);\n\
                }\n\
                // call onError when isDone\n\
                if (onParallel.counter <= 0) {\n\
                    onError(error, data);\n\
                    return;\n\
                }\n\
                onEach();\n\
            };\n\
            // init counter\n\
            onParallel.counter = 0;\n\
            // return callback\n\
            return onParallel;\n\
        };\n\
\n\
        local.replStart = function () {\n\
        /*\n\
         * this function will start the repl-debugger\n\
         */\n\
            /*jslint evil: true*/\n\
            var self;\n\
            if (global.utility2_serverRepl1) {\n\
                return;\n\
            }\n\
            // start replServer\n\
            self = global.utility2_serverRepl1 = require('repl').start({ useGlobal: true });\n\
            self.nop = function () {\n\
            /*\n\
             * this function will do nothing\n\
             */\n\
                return;\n\
            };\n\
            self.onError = function (error) {\n\
            /*\n\
             * this function will debug any repl-error\n\
             */\n\
                // debug error\n\
                global.utility2_debugReplError = error;\n\
                console.error(error);\n\
            };\n\
            // save repl eval function\n\
            self.evalDefault = self.eval;\n\
            // hook custom repl eval function\n\
            self.eval = function (script, context, file, onError) {\n\
                var match, onError2;\n\
                match = (/^(\\S+)(.*?)\\n\
/).exec(script) || {};\n\
                onError2 = function (error, data) {\n\
                    // debug error\n\
                    global.utility2_debugReplError = error || global.utility2_debugReplError;\n\
                    onError(error, data);\n\
                };\n\
                switch (match[1]) {\n\
                // syntax sugar to run async shell command\n\
                case '$':\n\
                    switch (match[2]) {\n\
                    // syntax sugar to run git diff\n\
                    case ' git diff':\n\
                        match[2] = ' git diff --color | cat';\n\
                        break;\n\
                    // syntax sugar to run git log\n\
                    case ' git log':\n\
                        match[2] = ' git log -n 4 | cat';\n\
                        break;\n\
                    }\n\
                    // run async shell command\n\
                    require('child_process').spawn(match[2], {\n\
                        shell: true,\n\
                        stdio: ['ignore', 1, 2]\n\
                    })\n\
                        // on shell exit, print return prompt\n\
                        .on('exit', function (exitCode) {\n\
                            console.error('exit-code ' + exitCode);\n\
                            self.evalDefault(\n\
                                '\\n\
',\n\
                                context,\n\
                                file,\n\
                                onError2\n\
                            );\n\
                        });\n\
                    script = '\\n\
';\n\
                    break;\n\
                // syntax sugar to grep current dir\n\
                case 'grep':\n\
                    // run async shell command\n\
                    require('child_process').spawn('find . -type f | grep -v ' +\n\
/* jslint-ignore-begin */\n\
'\"\\\n\
/\\\\.\\\\|\\\\(\\\\b\\\\|_\\\\)\\\\(\\\\.\\\\d\\\\|\\\n\
archive\\\\|artifact\\\\|\\\n\
bower_component\\\\|build\\\\|\\\n\
coverage\\\\|\\\n\
doc\\\\|\\\n\
external\\\\|\\\n\
fixture\\\\|\\\n\
git_module\\\\|\\\n\
jquery\\\\|\\\n\
log\\\\|\\\n\
min\\\\|mock\\\\|\\\n\
node_module\\\\|\\\n\
rollup\\\\|\\\n\
swp\\\\|\\\n\
tmp\\\\|\\\n\
vendor\\\\)s\\\\{0,1\\\\}\\\\(\\\\b\\\\|_\\\\)\\\n\
\" ' +\n\
/* jslint-ignore-end */\n\
                            '| tr \"\\\\n\
\" \"\\\\000\" | xargs -0 grep -in \"' +\n\
                            match[2].trim() + '\"', { shell: true, stdio: ['ignore', 1, 2] })\n\
                        // on shell exit, print return prompt\n\
                        .on('exit', function (exitCode) {\n\
                            console.error('exit-code ' + exitCode);\n\
                            self.evalDefault(\n\
                                '\\n\
',\n\
                                context,\n\
                                file,\n\
                                onError2\n\
                            );\n\
                        });\n\
                    script = '\\n\
';\n\
                    break;\n\
                // syntax sugar to list object's keys, sorted by item-type\n\
                case 'keys':\n\
                    script = 'console.error(Object.keys(' + match[2] +\n\
                        ').map(function (key) {' +\n\
                        'return typeof ' + match[2] + '[key] + \" \" + key + \"\\\\n\
\";' +\n\
                        '}).sort().join(\"\") + Object.keys(' + match[2] + ').length)\\n\
';\n\
                    break;\n\
                // syntax sugar to print stringified arg\n\
                case 'print':\n\
                    script = 'console.error(String(' + match[2] + '))\\n\
';\n\
                    break;\n\
                }\n\
                // eval the script\n\
                self.evalDefault(script, context, file, onError2);\n\
            };\n\
            self.socket = { end: self.nop, on: self.nop, write: self.nop };\n\
            // init process.stdout\n\
            process.stdout._writeDefault = process.stdout._writeDefault ||\n\
                process.stdout._write;\n\
            process.stdout._write = function (chunk, encoding, callback) {\n\
                process.stdout._writeDefault(chunk, encoding, callback);\n\
                // coverage-hack - ignore else-statement\n\
                self.nop(self.socket.writable && (function () {\n\
                    self.socket.write(chunk, encoding);\n\
                }()));\n\
            };\n\
            // start tcp-server\n\
            global.utility2_serverReplTcp1 = require('net').createServer(function (socket) {\n\
                // init socket\n\
                self.socket = socket;\n\
                self.socket.on('data', self.write.bind(self));\n\
                self.socket.on('error', self.onError);\n\
                self.socket.setKeepAlive(true);\n\
            });\n\
            // coverage-hack - ignore else-statement\n\
            self.nop(process.env.PORT_REPL && (function () {\n\
                console.error('repl-server listening on tcp-port ' + process.env.PORT_REPL);\n\
                global.utility2_serverReplTcp1.listen(process.env.PORT_REPL);\n\
            }()));\n\
        };\n\
\n\
        local.setTimeoutOnError = function (onError, timeout, error, data) {\n\
        /*\n\
         * this function will async-call onError\n\
         */\n\
            if (typeof onError === 'function') {\n\
                setTimeout(function () {\n\
                    onError(error, data);\n\
                }, timeout);\n\
            }\n\
            return data;\n\
        };\n\
    }());\n\
\n\
\n\
\n\
    // run shared js-env code - lib.storage.js\n\
    (function (local) {\n\
        var child_process,\n\
            clear,\n\
            defer,\n\
            deferList,\n\
            fs,\n\
            getItem,\n\
            init,\n\
            keys,\n\
            length,\n\
            modeJs,\n\
            os,\n\
            removeItem,\n\
            setItem,\n\
            storage,\n\
            storageDir;\n\
\n\
        // init modeJs\n\
        modeJs = (function () {\n\
            try {\n\
                return typeof navigator.userAgent === 'string' &&\n\
                    typeof document.querySelector('body') === 'object' &&\n\
                    typeof XMLHttpRequest.prototype.open === 'function' &&\n\
                    'browser';\n\
            } catch (errorCaughtBrowser) {\n\
                return module.exports &&\n\
                    typeof process.versions.node === 'string' &&\n\
                    typeof require('http').createServer === 'function' &&\n\
                    'node';\n\
            }\n\
        }());\n\
        storageDir = 'tmp/storage.' + (local.modeJs === 'browser'\n\
            ? 'undefined'\n\
            : process.env.NODE_ENV);\n\
        switch (modeJs) {\n\
        case 'node':\n\
            // require modules\n\
            child_process = require('child_process');\n\
            fs = require('fs');\n\
            os = require('os');\n\
            break;\n\
        }\n\
\n\
        clear = function (onError) {\n\
        /*\n\
         * this function will clear storage\n\
         */\n\
            defer({ action: 'clear' }, onError);\n\
        };\n\
\n\
        defer = function (options, onError) {\n\
        /*\n\
         * this function will defer options.action until storage is ready\n\
         */\n\
            var data, isDone, objectStore, onError2, request, tmp;\n\
            onError = onError || function (error) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
            };\n\
            if (!storage) {\n\
                deferList.push(function () {\n\
                    defer(options, onError);\n\
                });\n\
                init();\n\
                return;\n\
            }\n\
            switch (modeJs) {\n\
            case 'browser':\n\
                onError2 = function () {\n\
                    /* istanbul ignore next */\n\
                    if (isDone) {\n\
                        return;\n\
                    }\n\
                    isDone = true;\n\
                    onError(\n\
                        request && (request.error || request.transaction.error),\n\
                        data || request.result || ''\n\
                    );\n\
                };\n\
                switch (options.action) {\n\
                case 'clear':\n\
                case 'removeItem':\n\
                case 'setItem':\n\
                    objectStore = storage\n\
                        .transaction(storageDir, 'readwrite')\n\
                        .objectStore(storageDir);\n\
                    break;\n\
                default:\n\
                    objectStore = storage\n\
                        .transaction(storageDir, 'readonly')\n\
                        .objectStore(storageDir);\n\
                }\n\
                switch (options.action) {\n\
                case 'clear':\n\
                    request = objectStore.clear();\n\
                    break;\n\
                case 'getItem':\n\
                    request = objectStore.get(String(options.key));\n\
                    break;\n\
                case 'keys':\n\
                    data = [];\n\
                    request = objectStore.openCursor();\n\
                    request.onsuccess = function () {\n\
                        if (!request.result) {\n\
                            onError2();\n\
                            return;\n\
                        }\n\
                        data.push(request.result.key);\n\
                        request.result.continue();\n\
                    };\n\
                    break;\n\
                case 'length':\n\
                    request = objectStore.count();\n\
                    break;\n\
                case 'removeItem':\n\
                    request = objectStore.delete(String(options.key));\n\
                    break;\n\
                case 'setItem':\n\
                    request = objectStore.put(options.value, String(options.key));\n\
                    break;\n\
                }\n\
                ['onabort', 'onerror', 'onsuccess'].forEach(function (handler) {\n\
                    request[handler] = request[handler] || onError2;\n\
                });\n\
                // debug request\n\
                local._debugStorageRequest = request;\n\
                break;\n\
            case 'node':\n\
                switch (options.action) {\n\
                case 'clear':\n\
                    child_process.spawnSync('rm -f ' + storage + '/*', {\n\
                        shell: true,\n\
                        stdio: ['ignore', 1, 2]\n\
                    });\n\
                    setTimeout(onError);\n\
                    break;\n\
                case 'getItem':\n\
                    fs.readFile(\n\
                        storage + '/' + encodeURIComponent(String(options.key)),\n\
                        'utf8',\n\
                        // ignore error\n\
                        function (error, data) {\n\
                            onError(error && null, data || '');\n\
                        }\n\
                    );\n\
                    break;\n\
                case 'keys':\n\
                    fs.readdir(storage, function (error, data) {\n\
                        onError(error, data && data.map(decodeURIComponent));\n\
                    });\n\
                    break;\n\
                case 'length':\n\
                    fs.readdir(storage, function (error, data) {\n\
                        onError(error, data && data.length);\n\
                    });\n\
                    break;\n\
                case 'removeItem':\n\
                    fs.unlink(\n\
                        storage + '/' + encodeURIComponent(String(options.key)),\n\
                        // ignore error\n\
                        function () {\n\
                            onError();\n\
                        }\n\
                    );\n\
                    break;\n\
                case 'setItem':\n\
                    tmp = os.tmpdir() + '/' + Date.now() + Math.random();\n\
                    // save to tmp\n\
                    fs.writeFile(tmp, options.value, function (error) {\n\
                        // validate no error occurred\n\
                        local.assert(!error, error);\n\
                        // rename tmp to key\n\
                        fs.rename(\n\
                            tmp,\n\
                            storage + '/' + encodeURIComponent(String(options.key)),\n\
                            onError\n\
                        );\n\
                    });\n\
                    break;\n\
                }\n\
                break;\n\
            }\n\
        };\n\
\n\
        deferList = [];\n\
\n\
        getItem = function (key, onError) {\n\
        /*\n\
         * this function will get the item with the given key from storage\n\
         */\n\
            defer({ action: 'getItem', key: key }, onError);\n\
        };\n\
\n\
        init = function () {\n\
        /*\n\
         * this function will init storage\n\
         */\n\
            var onError, request;\n\
            onError = function (error) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                if (modeJs === 'browser') {\n\
                    storage = window[storageDir];\n\
                }\n\
                while (deferList.length) {\n\
                    deferList.shift()();\n\
                }\n\
            };\n\
            if (modeJs === 'browser') {\n\
                storage = window[storageDir];\n\
            }\n\
            if (storage) {\n\
                onError();\n\
                return;\n\
            }\n\
            switch (modeJs) {\n\
            case 'browser':\n\
                // init indexedDB\n\
                try {\n\
                    request = window.indexedDB.open(storageDir);\n\
                    // debug request\n\
                    local._debugStorageRequestIndexedDB = request;\n\
                    request.onerror = onError;\n\
                    request.onsuccess = function () {\n\
                        window[storageDir] = request.result;\n\
                        onError();\n\
                    };\n\
                    request.onupgradeneeded = function () {\n\
                        if (!request.result.objectStoreNames.contains(storageDir)) {\n\
                            request.result.createObjectStore(storageDir);\n\
                        }\n\
                    };\n\
                } catch (ignore) {\n\
                }\n\
                break;\n\
            case 'node':\n\
                // mkdirp storage\n\
                storage = storageDir;\n\
                child_process.spawnSync(\n\
                    'mkdir',\n\
                    ['-p', storage],\n\
                    { stdio: ['ignore', 1, 2] }\n\
                );\n\
                onError();\n\
                break;\n\
            }\n\
        };\n\
\n\
        keys = function (onError) {\n\
        /*\n\
         * this function will get all the keys in storage\n\
         */\n\
            defer({ action: 'keys' }, onError);\n\
        };\n\
\n\
        length = function (onError) {\n\
        /*\n\
         * this function will get the number of items in storage\n\
         */\n\
            defer({ action: 'length' }, onError);\n\
        };\n\
\n\
        removeItem = function (key, onError) {\n\
        /*\n\
         * this function will remove the item with the given key from storage\n\
         */\n\
            defer({ action: 'removeItem', key: key }, onError);\n\
        };\n\
\n\
        setItem = function (key, value, onError) {\n\
        /*\n\
         * this function will set the item with the given key and value to storage\n\
         */\n\
            defer({ action: 'setItem', key: key, value: value }, onError);\n\
        };\n\
\n\
        // init local\n\
        local.storage = storage;\n\
        local.storageClear = clear;\n\
        local.storageDefer = defer;\n\
        local.storageDeferList = deferList;\n\
        local.storageDir = storageDir;\n\
        local.storageGetItem = getItem;\n\
        local.storageInit = init;\n\
        local.storageKeys = keys;\n\
        local.storageLength = length;\n\
        local.storageRemoveItem = removeItem;\n\
        local.storageSetItem = setItem;\n\
    }(local));\n\
\n\
\n\
\n\
    // run shared js-env code - lib.dbTable.js\n\
    (function () {\n\
        local._DbTable = function (options) {\n\
        /*\n\
         * this function will create a dbTable\n\
         */\n\
            options = local.objectSetOverride(options);\n\
            this.name = String(options.name);\n\
            // register dbTable in dbTableDict\n\
            local.dbTableDict[this.name] = this;\n\
            this.dbRowList = [];\n\
            this.isDirty = null;\n\
            this.idIndexList = [{ isInteger: false, name: '_id', dict: {} }];\n\
            this.onSaveList = [];\n\
            this.sizeLimit = options.sizeLimit || 0;\n\
        };\n\
\n\
        local._DbTable.prototype._cleanup = function () {\n\
        /*\n\
         * this function will cleanup soft-deleted records from the dbTable\n\
         */\n\
            var dbRow, ii, list;\n\
            if (!this.isDirty && this.dbRowList.length <= this.sizeLimit) {\n\
                return;\n\
            }\n\
            this.isDirty = null;\n\
            // cleanup dbRowList\n\
            list = this.dbRowList;\n\
            this.dbRowList = [];\n\
            // optimization - for-loop\n\
            for (ii = 0; ii < list.length; ii += 1) {\n\
                dbRow = list[ii];\n\
                // cleanup isRemoved\n\
                if (!dbRow.$meta.isRemoved) {\n\
                    this.dbRowList.push(dbRow);\n\
                }\n\
            }\n\
            if (this.sizeLimit && this.dbRowList.length >= 1.5 * this.sizeLimit) {\n\
                this.dbRowList = this._crudGetManyByQuery(\n\
                    {},\n\
                    this.sortDefault,\n\
                    0,\n\
                    this.sizeLimit\n\
                );\n\
            }\n\
        };\n\
\n\
        local._DbTable.prototype._crudGetManyByQuery = function (\n\
            query,\n\
            sort,\n\
            skip,\n\
            limit,\n\
            shuffle\n\
        ) {\n\
        /*\n\
         * this function will get the dbRow's in the dbTable,\n\
         * with the given query, sort, skip, and limit\n\
         */\n\
            var ii, result;\n\
            result = this.dbRowList;\n\
            // get by query\n\
            if (result.length && query && Object.keys(query).length) {\n\
                result = local.dbRowListGetManyByQuery(this.dbRowList, query);\n\
            }\n\
            // sort\n\
            local.normalizeValue('list', sort).forEach(function (element) {\n\
                // bug-workaround - v8 does not have stable-sort\n\
                // optimization - for-loop\n\
                for (ii = 0; ii < result.length; ii += 1) {\n\
                    result[ii].$meta.ii = ii;\n\
                }\n\
                if (element.isDescending) {\n\
                    result.sort(function (aa, bb) {\n\
                        return -local.sortCompare(\n\
                            local.dbRowGetItem(aa, element.fieldName),\n\
                            local.dbRowGetItem(bb, element.fieldName),\n\
                            aa.$meta.ii,\n\
                            bb.$meta.ii\n\
                        );\n\
                    });\n\
                } else {\n\
                    result.sort(function (aa, bb) {\n\
                        return local.sortCompare(\n\
                            local.dbRowGetItem(aa, element.fieldName),\n\
                            local.dbRowGetItem(bb, element.fieldName),\n\
                            aa.$meta.ii,\n\
                            bb.$meta.ii\n\
                        );\n\
                    });\n\
                }\n\
            });\n\
            // skip\n\
            result = result.slice(skip || 0);\n\
            // shuffle\n\
            ((shuffle && local.listShuffle) || local.nop)(result);\n\
            // limit\n\
            result = result.slice(0, limit || Infinity);\n\
            return result;\n\
        };\n\
\n\
        local._DbTable.prototype._crudGetOneById = function (idDict) {\n\
        /*\n\
         * this function will get the dbRow in the dbTable with the given idDict\n\
         */\n\
            var id, result;\n\
            idDict = local.objectSetOverride(idDict);\n\
            result = null;\n\
            this.idIndexList.some(function (idIndex) {\n\
                id = idDict[idIndex.name];\n\
                // optimization - hasOwnProperty\n\
                if (idIndex.dict.hasOwnProperty(id)) {\n\
                    result = idIndex.dict[id];\n\
                    return result;\n\
                }\n\
            });\n\
            return result;\n\
        };\n\
\n\
        local._DbTable.prototype._crudRemoveOneById = function (idDict, circularList) {\n\
        /*\n\
         * this function will remove the dbRow from the dbTable with the given idDict\n\
         */\n\
            var id, result, self;\n\
            if (!idDict) {\n\
                return null;\n\
            }\n\
            self = this;\n\
            circularList = circularList || [idDict];\n\
            result = null;\n\
            self.idIndexList.forEach(function (idIndex) {\n\
                id = idDict[idIndex.name];\n\
                // optimization - hasOwnProperty\n\
                if (!idIndex.dict.hasOwnProperty(id)) {\n\
                    return;\n\
                }\n\
                result = idIndex.dict[id];\n\
                delete idIndex.dict[id];\n\
                // optimization - soft-delete\n\
                result.$meta.isRemoved = true;\n\
                self.isDirty = true;\n\
                if (circularList.indexOf(result) >= 0) {\n\
                    return;\n\
                }\n\
                circularList.push(result);\n\
                // recurse\n\
                self._crudRemoveOneById(result, circularList);\n\
            });\n\
            self.save();\n\
            return result;\n\
        };\n\
\n\
        local._DbTable.prototype._crudSetOneById = function (dbRow) {\n\
        /*\n\
         * this function will set the dbRow into the dbTable with the given dbRow._id\n\
         * WARNING - existing dbRow with conflicting dbRow._id will be removed\n\
         */\n\
            var existing, id, normalize, timeNow;\n\
            normalize = function (dbRow) {\n\
            /*\n\
             * this function will recursively normalize dbRow\n\
             */\n\
                if (typeof dbRow === 'object' && dbRow) {\n\
                    Object.keys(dbRow).forEach(function (key) {\n\
                        // remove invalid property\n\
                        if (key[0] === '$' || key.indexOf('.') >= 0 || dbRow[key] === null) {\n\
                            // optimization - soft-delete\n\
                            dbRow[key] = undefined;\n\
                            return;\n\
                        }\n\
                        // recurse\n\
                        normalize(dbRow[key]);\n\
                    });\n\
                }\n\
            };\n\
            dbRow = local.jsonCopy(typeof dbRow === 'object' && dbRow\n\
                ? dbRow\n\
                : {});\n\
            // update timestamp\n\
            timeNow = new Date().toISOString();\n\
            dbRow._timeCreated = dbRow._timeCreated || timeNow;\n\
            if (!local.modeImport) {\n\
                dbRow._timeUpdated = timeNow;\n\
            }\n\
            // normalize\n\
            normalize(dbRow);\n\
            dbRow = local.jsonCopy(dbRow);\n\
            // remove existing dbRow\n\
            existing = this._crudRemoveOneById(dbRow) || dbRow;\n\
            // init meta\n\
            dbRow.$meta = { isRemoved: null };\n\
            this.idIndexList.forEach(function (idIndex) {\n\
                // auto-set id\n\
                id = local.dbRowSetId(existing, idIndex);\n\
                // copy id from existing to dbRow\n\
                dbRow[idIndex.name] = id;\n\
                // set dbRow\n\
                idIndex.dict[id] = dbRow;\n\
            });\n\
            // update dbRowList\n\
            this.dbRowList.push(dbRow);\n\
            this.save();\n\
            return dbRow;\n\
        };\n\
\n\
        local._DbTable.prototype._crudUpdateOneById = function (dbRow) {\n\
        /*\n\
         * this function will update the dbRow in the dbTable,\n\
         * if it exists with the given dbRow._id\n\
         * WARNING\n\
         * existing dbRow's with conflicting unique-keys (besides the one being updated)\n\
         * will be removed\n\
         */\n\
            var id, result;\n\
            dbRow = local.jsonCopy(local.objectSetOverride(dbRow));\n\
            result = null;\n\
            this.idIndexList.some(function (idIndex) {\n\
                id = dbRow[idIndex.name];\n\
                // optimization - hasOwnProperty\n\
                if (idIndex.dict.hasOwnProperty(id)) {\n\
                    result = idIndex.dict[id];\n\
                    return true;\n\
                }\n\
            });\n\
            result = result || {};\n\
            // remove existing dbRow\n\
            this._crudRemoveOneById(result);\n\
            // update dbRow\n\
            dbRow._timeCreated = undefined;\n\
            local.objectSetOverride(result, dbRow, 10);\n\
            // replace dbRow\n\
            result = this._crudSetOneById(result);\n\
            return result;\n\
        };\n\
\n\
        local._DbTable.prototype.crudCountAll = function (onError) {\n\
        /*\n\
         * this function will count all of dbRow's in the dbTable\n\
         */\n\
            this._cleanup();\n\
            return local.setTimeoutOnError(onError, 0, null, this.dbRowList.length);\n\
        };\n\
\n\
        local._DbTable.prototype.crudCountManyByQuery = function (query, onError) {\n\
        /*\n\
         * this function will count the number of dbRow's in the dbTable with the given query\n\
         */\n\
            this._cleanup();\n\
            return local.setTimeoutOnError(\n\
                onError,\n\
                0,\n\
                null,\n\
                this._crudGetManyByQuery(query).length\n\
            );\n\
        };\n\
\n\
        local._DbTable.prototype.crudGetManyById = function (idDictList, onError) {\n\
        /*\n\
         * this function will get the dbRow's in the dbTable with the given idDictList\n\
         */\n\
            var self;\n\
            this._cleanup();\n\
            self = this;\n\
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(\n\
                local.normalizeValue('list', idDictList).map(function (idDict) {\n\
                    return self._crudGetOneById(idDict);\n\
                })\n\
            ));\n\
        };\n\
\n\
        local._DbTable.prototype.crudGetManyByQuery = function (options, onError) {\n\
        /*\n\
         * this function will get the dbRow's in the dbTable with the given options.query\n\
         */\n\
            this._cleanup();\n\
            options = local.objectSetOverride(options);\n\
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(\n\
                this._crudGetManyByQuery(\n\
                    options.query,\n\
                    options.sort || this.sortDefault,\n\
                    options.skip,\n\
                    options.limit,\n\
                    options.shuffle\n\
                ),\n\
                options.fieldList\n\
            ));\n\
        };\n\
\n\
        local._DbTable.prototype.crudGetOneById = function (idDict, onError) {\n\
        /*\n\
         * this function will get the dbRow in the dbTable with the given idDict\n\
         */\n\
            this._cleanup();\n\
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(\n\
                this._crudGetOneById(idDict)\n\
            ));\n\
        };\n\
\n\
        local._DbTable.prototype.crudGetOneByQuery = function (query, onError) {\n\
        /*\n\
         * this function will get the dbRow in the dbTable with the given query\n\
         */\n\
            var ii, result;\n\
            this._cleanup();\n\
            // optimization - for-loop\n\
            for (ii = 0; ii < this.dbRowList.length; ii += 1) {\n\
                result = local.dbRowListGetManyByQuery([this.dbRowList[ii]], query)[0];\n\
                if (result) {\n\
                    break;\n\
                }\n\
            }\n\
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(result));\n\
        };\n\
\n\
        local._DbTable.prototype.crudGetOneByRandom = function (onError) {\n\
        /*\n\
         * this function will get a random dbRow in the dbTable\n\
         */\n\
            this._cleanup();\n\
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(\n\
                this.dbRowList[Math.floor(Math.random() * this.dbRowList.length)]\n\
            ));\n\
        };\n\
\n\
        local._DbTable.prototype.crudRemoveAll = function (onError) {\n\
        /*\n\
         * this function will remove all of the dbRow's from the dbTable\n\
         */\n\
            var idIndexList;\n\
            // save idIndexList\n\
            idIndexList = this.idIndexList;\n\
            // reset dbTable\n\
            local._DbTable.call(this, this);\n\
            // restore idIndexList\n\
            local.dbTableCreateOne({\n\
                name: this.name,\n\
                idIndexCreateList: idIndexList\n\
            }, onError);\n\
        };\n\
\n\
        local._DbTable.prototype.crudRemoveManyById = function (idDictList, onError) {\n\
        /*\n\
         * this function will remove the dbRow's from the dbTable with the given idDictList\n\
         */\n\
            var self;\n\
            self = this;\n\
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(\n\
                local.normalizeValue('list', idDictList).map(function (dbRow) {\n\
                    return self._crudRemoveOneById(dbRow);\n\
                })\n\
            ));\n\
        };\n\
\n\
        local._DbTable.prototype.crudRemoveManyByQuery = function (query, onError) {\n\
        /*\n\
         * this function will remove the dbRow's from the dbTable with the given query\n\
         */\n\
            var self;\n\
            self = this;\n\
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(\n\
                self._crudGetManyByQuery(query).map(function (dbRow) {\n\
                    return self._crudRemoveOneById(dbRow);\n\
                })\n\
            ));\n\
        };\n\
\n\
        local._DbTable.prototype.crudRemoveOneById = function (idDict, onError) {\n\
        /*\n\
         * this function will remove the dbRow from the dbTable with the given idDict\n\
         */\n\
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(\n\
                this._crudRemoveOneById(idDict)\n\
            ));\n\
        };\n\
\n\
        local._DbTable.prototype.crudSetManyById = function (dbRowList, onError) {\n\
        /*\n\
         * this function will set the dbRowList into the dbTable\n\
         */\n\
            var self;\n\
            self = this;\n\
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(\n\
                local.normalizeValue('list', dbRowList).map(function (dbRow) {\n\
                    return self._crudSetOneById(dbRow);\n\
                })\n\
            ));\n\
        };\n\
\n\
        local._DbTable.prototype.crudSetOneById = function (dbRow, onError) {\n\
        /*\n\
         * this function will set the dbRow into the dbTable with the given dbRow._id\n\
         */\n\
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(\n\
                this._crudSetOneById(dbRow)\n\
            ));\n\
        };\n\
\n\
        local._DbTable.prototype.crudUpdateManyById = function (dbRowList, onError) {\n\
        /*\n\
         * this function will update the dbRowList in the dbTable,\n\
         * if they exist with the given dbRow._id's\n\
         */\n\
            var self;\n\
            self = this;\n\
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(\n\
                local.normalizeValue('list', dbRowList).map(function (dbRow) {\n\
                    return self._crudUpdateOneById(dbRow);\n\
                })\n\
            ));\n\
        };\n\
\n\
        local._DbTable.prototype.crudUpdateManyByQuery = function (query, dbRow, onError) {\n\
        /*\n\
         * this function will update the dbRow's in the dbTable with the given query\n\
         */\n\
            var result, self, tmp;\n\
            self = this;\n\
            tmp = local.jsonCopy(local.objectSetOverride(dbRow));\n\
            result = self._crudGetManyByQuery(query).map(function (dbRow) {\n\
                tmp._id = dbRow._id;\n\
                return self._crudUpdateOneById(tmp);\n\
            });\n\
            return local.setTimeoutOnError(onError, 0, null, result);\n\
        };\n\
\n\
        local._DbTable.prototype.crudUpdateOneById = function (dbRow, onError) {\n\
        /*\n\
         * this function will update the dbRow in the dbTable,\n\
         * if it exists with the given dbRow._id\n\
         */\n\
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(\n\
                this._crudUpdateOneById(dbRow)\n\
            ));\n\
        };\n\
\n\
        local._DbTable.prototype.drop = function (onError) {\n\
        /*\n\
         * this function will drop the dbTable\n\
         */\n\
            console.error('dropping dbTable ' + this.name + ' ...');\n\
            // cancel pending save\n\
            this.timerSave = null;\n\
            while (this.onSaveList.length) {\n\
                this.onSaveList.shift()();\n\
            }\n\
            // reset dbTable\n\
            local._DbTable.call(this, this);\n\
            // clear persistence\n\
            local.storageRemoveItem('dbTable.' + this.name + '.json', onError);\n\
        };\n\
\n\
        local._DbTable.prototype.export = function (onError) {\n\
        /*\n\
         * this function will export the db\n\
         */\n\
            var result, self;\n\
            this._cleanup();\n\
            self = this;\n\
            result = '';\n\
            self.idIndexList.forEach(function (idIndex) {\n\
                result += self.name + ' idIndexCreate ' + JSON.stringify({\n\
                    isInteger: idIndex.isInteger,\n\
                    name: idIndex.name\n\
                }) + '\\n\
';\n\
            });\n\
            result += self.name + ' sizeLimit ' + self.sizeLimit + '\\n\
';\n\
            result += self.name + ' sortDefault ' + JSON.stringify(self.sortDefault) + '\\n\
';\n\
            self.crudGetManyByQuery({}).forEach(function (dbRow) {\n\
                result += self.name + ' dbRowSet ' + JSON.stringify(dbRow) + '\\n\
';\n\
            });\n\
            return local.setTimeoutOnError(onError, 0, null, result.trim());\n\
        };\n\
\n\
        local._DbTable.prototype.idIndexCreate = function (options, onError) {\n\
        /*\n\
         * this function will create an idIndex with the given options.name\n\
         */\n\
            var dbRow, idIndex, ii, name;\n\
            options = local.objectSetOverride(options);\n\
            name = String(options.name);\n\
            // disallow idIndex with dot-name\n\
            if (name.indexOf('.') >= 0 || name === '_id') {\n\
                return local.setTimeoutOnError(onError);\n\
            }\n\
            // remove existing idIndex\n\
            this.idIndexRemove(options);\n\
            // init idIndex\n\
            idIndex = {\n\
                dict: {},\n\
                isInteger: !!options.isInteger,\n\
                name: name\n\
            };\n\
            this.idIndexList.push(idIndex);\n\
            // populate idIndex with dbRowList\n\
            // optimization - for-loop\n\
            for (ii = 0; ii < this.dbRowList.length; ii += 1) {\n\
                dbRow = this.dbRowList[ii];\n\
                // auto-set id\n\
                if (!dbRow.$meta.isRemoved) {\n\
                    idIndex.dict[local.dbRowSetId(dbRow, idIndex)] = dbRow;\n\
                }\n\
            }\n\
            this.save();\n\
            return local.setTimeoutOnError(onError);\n\
        };\n\
\n\
        local._DbTable.prototype.idIndexRemove = function (options, onError) {\n\
        /*\n\
         * this function will remove the idIndex with the given options.name\n\
         */\n\
            var name;\n\
            options = local.objectSetOverride(options);\n\
            name = String(options.name);\n\
            this.idIndexList = this.idIndexList.filter(function (idIndex) {\n\
                return idIndex.name !== name || idIndex.name === '_id';\n\
            });\n\
            this.save();\n\
            return local.setTimeoutOnError(onError);\n\
        };\n\
\n\
        local._DbTable.prototype.save = function (onError) {\n\
        /*\n\
         * this function will save the dbTable to storage\n\
         */\n\
            var self;\n\
            self = this;\n\
            if (local.modeImport) {\n\
                return;\n\
            }\n\
            if (onError) {\n\
                self.onSaveList.push(onError);\n\
            }\n\
            // throttle storage-writes to once every 1000 ms\n\
            self.timerSave = self.timerSave || setTimeout(function () {\n\
                self.timerSave = null;\n\
                local.storageSetItem('dbTable.' + self.name + '.json', self.export(), function (\n\
                    error\n\
                ) {\n\
                    while (self.onSaveList.length) {\n\
                        self.onSaveList.shift()(error);\n\
                    }\n\
                });\n\
            }, 1000);\n\
        };\n\
\n\
        local.dbCrudRemoveAll = function (onError) {\n\
        /*\n\
         * this function will remove all dbRow's from the db\n\
         */\n\
            var onParallel;\n\
            onParallel = local.onParallel(function (error) {\n\
                local.setTimeoutOnError(onError, 0, error);\n\
            });\n\
            onParallel.counter += 1;\n\
            Object.keys(local.dbTableDict).forEach(function (key) {\n\
                onParallel.counter += 1;\n\
                local.dbTableDict[key].crudRemoveAll(onParallel);\n\
            });\n\
            onParallel();\n\
        };\n\
\n\
        local.dbDrop = function (onError) {\n\
        /*\n\
         * this function will drop the db\n\
         */\n\
            var onParallel;\n\
            onParallel = local.onParallel(function (error) {\n\
                local.setTimeoutOnError(onError, 0, error);\n\
            });\n\
            onParallel.counter += 1;\n\
            onParallel.counter += 1;\n\
            local.storageClear(onParallel);\n\
            Object.keys(local.dbTableDict).forEach(function (key) {\n\
                onParallel.counter += 1;\n\
                local.dbTableDict[key].drop(onParallel);\n\
            });\n\
            onParallel();\n\
        };\n\
\n\
        local.dbExport = function (onError) {\n\
        /*\n\
         * this function will export the db as serialized text\n\
         */\n\
            var result;\n\
            result = '';\n\
            Object.keys(local.dbTableDict).forEach(function (key) {\n\
                result += local.dbTableDict[key].export();\n\
                result += '\\n\
\\n\
';\n\
            });\n\
            return local.setTimeoutOnError(onError, 0, null, result.trim());\n\
        };\n\
\n\
        local.dbImport = function (text, onError) {\n\
        /*\n\
         * this function will import the serialized text into the db\n\
         */\n\
            var dbTable;\n\
            local.modeImport = true;\n\
            setTimeout(function () {\n\
                local.modeImport = null;\n\
            });\n\
            text.replace((/^(\\w\\S*?) (\\S+?) (\\S.*?)$/gm), function (\n\
                match0,\n\
                match1,\n\
                match2,\n\
                match3\n\
            ) {\n\
                // jslint-hack\n\
                local.nop(match0);\n\
                switch (match2) {\n\
                case 'dbRowSet':\n\
                    dbTable = local.dbTableCreateOne({ isLoaded: true, name: match1 });\n\
                    dbTable.crudSetOneById(JSON.parse(match3));\n\
                    break;\n\
                case 'idIndexCreate':\n\
                    dbTable = local.dbTableCreateOne({ isLoaded: true, name: match1 });\n\
                    dbTable.idIndexCreate(JSON.parse(match3));\n\
                    break;\n\
                case 'sizeLimit':\n\
                    dbTable = local.dbTableCreateOne({ isLoaded: true, name: match1 });\n\
                    dbTable.sizeLimit = JSON.parse(match3);\n\
                    break;\n\
                case 'sortDefault':\n\
                    dbTable = local.dbTableCreateOne({ isLoaded: true, name: match1 });\n\
                    break;\n\
                default:\n\
                    local.onErrorDefault(new Error('dbImport - invalid operation - ' + match0));\n\
                }\n\
            });\n\
            local.modeImport = null;\n\
            return local.setTimeoutOnError(onError);\n\
        };\n\
\n\
        local.dbLoad = function (onError) {\n\
        /*\n\
         * this function will load the db from storage\n\
         */\n\
            var onParallel;\n\
            onParallel = local.onParallel(function (error) {\n\
                local.setTimeoutOnError(onError, 0, error);\n\
            });\n\
            local.storageKeys(function (error, data) {\n\
                onParallel.counter += 1;\n\
                onParallel.counter += 1;\n\
                onParallel(error);\n\
                local.normalizeValue('list', data)\n\
                    .filter(function (key) {\n\
                        return key.indexOf('dbTable.') === 0;\n\
                    })\n\
                    .forEach(function (key) {\n\
                        onParallel.counter += 1;\n\
                        local.storageGetItem(key, function (error, data) {\n\
                            onParallel.counter += 1;\n\
                            onParallel(error);\n\
                            local.dbImport(data, onParallel);\n\
                        });\n\
                    });\n\
                onParallel();\n\
            });\n\
        };\n\
\n\
        local.dbRowGetItem = function (dbRow, key) {\n\
        /*\n\
         * this function will get the item with the given key from dbRow\n\
         */\n\
            var ii, value;\n\
            value = dbRow;\n\
            key = String(key).split('.');\n\
            // optimization - for-loop\n\
            for (ii = 0; ii < key.length && typeof value === 'object' && value; ii += 1) {\n\
                value = value[key[ii]];\n\
            }\n\
            return value === undefined\n\
                ? null\n\
                : value;\n\
        };\n\
\n\
        local.dbRowListGetManyByOperator = function (dbRowList, fieldName, operator, bb, not) {\n\
        /*\n\
         * this function will get the dbRow's in dbRowList with the given operator\n\
         */\n\
            var ii, jj, result, fieldValue, test, typeof2;\n\
            result = [];\n\
            typeof2 = typeof bb;\n\
            if (bb && typeof2 === 'object') {\n\
                switch (operator) {\n\
                case '$in':\n\
                case '$nin':\n\
                case '$regex':\n\
                    break;\n\
                default:\n\
                    return result;\n\
                }\n\
            }\n\
            switch (operator) {\n\
            case '$eq':\n\
                test = function (aa, bb) {\n\
                    return aa === bb;\n\
                };\n\
                break;\n\
            case '$exists':\n\
                bb = !bb;\n\
                test = function (aa, bb) {\n\
                    return !((aa === null) ^ bb);\n\
                };\n\
                break;\n\
            case '$gt':\n\
                test = function (aa, bb, typeof1, typeof2) {\n\
                    return typeof1 === typeof2 && aa > bb;\n\
                };\n\
                break;\n\
            case '$gte':\n\
                test = function (aa, bb, typeof1, typeof2) {\n\
                    return typeof1 === typeof2 && aa >= bb;\n\
                };\n\
                break;\n\
            case '$in':\n\
                if (bb && typeof bb.indexOf === 'function') {\n\
                    if (typeof2 === 'string') {\n\
                        test = function (aa, bb, typeof1, typeof2) {\n\
                            return typeof1 === typeof2 && bb.indexOf(aa) >= 0;\n\
                        };\n\
                    } else {\n\
                        test = function (aa, bb) {\n\
                            return bb.indexOf(aa) >= 0;\n\
                        };\n\
                    }\n\
                }\n\
                break;\n\
            case '$lt':\n\
                test = function (aa, bb, typeof1, typeof2) {\n\
                    return typeof1 === typeof2 && aa < bb;\n\
                };\n\
                break;\n\
            case '$lte':\n\
                test = function (aa, bb, typeof1, typeof2) {\n\
                    return typeof1 === typeof2 && aa <= bb;\n\
                };\n\
                break;\n\
            case '$ne':\n\
                test = function (aa, bb) {\n\
                    return aa !== bb;\n\
                };\n\
                break;\n\
            case '$nin':\n\
                if (bb && typeof bb.indexOf === 'function') {\n\
                    if (typeof2 === 'string') {\n\
                        test = function (aa, bb, typeof1, typeof2) {\n\
                            return typeof1 === typeof2 && bb.indexOf(aa) < 0;\n\
                        };\n\
                    } else {\n\
                        test = function (aa, bb) {\n\
                            return bb.indexOf(aa) < 0;\n\
                        };\n\
                    }\n\
                }\n\
                break;\n\
            case '$regex':\n\
                if (bb && typeof bb.test === 'function') {\n\
                    test = function (aa, bb) {\n\
                        return bb.test(aa);\n\
                    };\n\
                }\n\
                break;\n\
            case '$typeof':\n\
                test = function (aa, bb, typeof1) {\n\
                    // jslint-hack\n\
                    local.nop(aa);\n\
                    return typeof1 === bb;\n\
                };\n\
                break;\n\
            }\n\
            if (!test) {\n\
                return result;\n\
            }\n\
            // optimization - for-loop\n\
            for (ii = dbRowList.length - 1; ii >= 0; ii -= 1) {\n\
                fieldValue = local.dbRowGetItem(dbRowList[ii], fieldName);\n\
                // normalize to list\n\
                if (!Array.isArray(fieldValue)) {\n\
                    fieldValue = [fieldValue];\n\
                }\n\
                // optimization - for-loop\n\
                for (jj = fieldValue.length - 1; jj >= 0; jj -= 1) {\n\
                    if (not ^ test(fieldValue[jj], bb, typeof fieldValue[jj], typeof2)) {\n\
                        result.push(dbRowList[ii]);\n\
                        break;\n\
                    }\n\
                }\n\
            }\n\
            return result;\n\
        };\n\
\n\
        local.dbRowListGetManyByQuery = function (dbRowList, query, fieldName, not) {\n\
        /*\n\
         * this function will get the dbRow's in dbRowList with the given query\n\
         */\n\
            var bb, dbRowDict, result;\n\
            // optimization - convert to boolean\n\
            not = !!not;\n\
            result = dbRowList;\n\
            if (!(typeof query === 'object' && query)) {\n\
                result = local.dbRowListGetManyByOperator(result, fieldName, '$eq', query, not);\n\
                return result;\n\
            }\n\
            Object.keys(query).some(function (key) {\n\
                bb = query[key];\n\
                switch (key) {\n\
                case '$not':\n\
                    key = fieldName;\n\
                    not = !not;\n\
                    break;\n\
                case '$or':\n\
                    if (!Array.isArray(bb)) {\n\
                        break;\n\
                    }\n\
                    dbRowDict = {};\n\
                    bb.forEach(function (query) {\n\
                        // recurse\n\
                        local.dbRowListGetManyByQuery(result, query).forEach(function (dbRow) {\n\
                            dbRowDict[dbRow._id] = dbRow;\n\
                        });\n\
                    });\n\
                    result = Object.keys(dbRowDict).map(function (id) {\n\
                        return dbRowDict[id];\n\
                    });\n\
                    return !result.length;\n\
                }\n\
                if (key[0] === '$') {\n\
                    result = local.dbRowListGetManyByOperator(result, fieldName, key, bb, not);\n\
                    return !result.length;\n\
                }\n\
                // recurse\n\
                result = local.dbRowListGetManyByQuery(result, bb, key, not);\n\
                return !result.length;\n\
            });\n\
            return result;\n\
        };\n\
\n\
        local.dbRowProject = function (dbRow, fieldList) {\n\
        /*\n\
         * this function will deepcopy and project the dbRow with the given fieldList\n\
         */\n\
            var result;\n\
            if (!dbRow) {\n\
                return null;\n\
            }\n\
            // handle list-case\n\
            if (Array.isArray(dbRow)) {\n\
                return dbRow.map(function (dbRow) {\n\
                    // recurse\n\
                    return local.dbRowProject(dbRow, fieldList);\n\
                });\n\
            }\n\
            // normalize to list\n\
            if (!(Array.isArray(fieldList) && fieldList.length)) {\n\
                fieldList = Object.keys(dbRow);\n\
            }\n\
            result = {};\n\
            fieldList.forEach(function (key) {\n\
                if (key[0] !== '$') {\n\
                    result[key] = dbRow[key];\n\
                }\n\
            });\n\
            return JSON.parse(local.jsonStringifyOrdered(result));\n\
        };\n\
\n\
        local.dbRowSetId = function (dbRow, idIndex) {\n\
        /*\n\
         * this function will set a random and unique id into dbRow for the given idIndex,\n\
         * if it does not exist\n\
         */\n\
            var id;\n\
            id = dbRow[idIndex.name];\n\
            if (typeof id !== 'number' && typeof id !== 'string') {\n\
                do {\n\
                    id = idIndex.isInteger\n\
                        ? (1 + Math.random()) * 0x10000000000000\n\
                        : 'a' + ((1 + Math.random()) * 0x10000000000000).toString(36).slice(1);\n\
                // optimization - hasOwnProperty\n\
                } while (idIndex.dict.hasOwnProperty(id));\n\
                dbRow[idIndex.name] = id;\n\
            }\n\
            return id;\n\
        };\n\
\n\
        local.dbSave = function (onError) {\n\
        /*\n\
         * this function will save the db to storage\n\
         */\n\
            var onParallel;\n\
            onParallel = local.onParallel(function (error) {\n\
                local.setTimeoutOnError(onError, 0, error);\n\
            });\n\
            onParallel.counter += 1;\n\
            Object.keys(local.dbTableDict).forEach(function (key) {\n\
                onParallel.counter += 1;\n\
                local.dbTableDict[key].save(onParallel);\n\
            });\n\
            onParallel();\n\
        };\n\
\n\
        local.dbTableCreateMany = function (optionsList, onError) {\n\
        /*\n\
         * this function will set the optionsList into the db\n\
         */\n\
            var onParallel, result;\n\
            onParallel = local.onParallel(function (error) {\n\
                local.setTimeoutOnError(onError, 0, error, result);\n\
            });\n\
            onParallel.counter += 1;\n\
            result = local.normalizeValue('list', optionsList).map(function (options) {\n\
                onParallel.counter += 1;\n\
                return local.dbTableCreateOne(options, onParallel);\n\
            });\n\
            return local.setTimeoutOnError(onParallel, 0, null, result);\n\
        };\n\
\n\
        local.dbTableCreateOne = function (options, onError) {\n\
        /*\n\
         * this function will create a dbTable with the given options\n\
         */\n\
            var self;\n\
            options = local.objectSetOverride(options);\n\
            // register dbTable\n\
            self = local.dbTableDict[options.name] =\n\
                local.dbTableDict[options.name] || new local._DbTable(options);\n\
            self.sortDefault = options.sortDefault ||\n\
                self.sortDefault ||\n\
                [{ fieldName: '_timeUpdated', isDescending: true }];\n\
            // remove idIndex\n\
            local.normalizeValue('list', options.idIndexRemoveList).forEach(function (idIndex) {\n\
                self.idIndexRemove(idIndex);\n\
            });\n\
            // create idIndex\n\
            local.normalizeValue('list', options.idIndexCreateList).forEach(function (idIndex) {\n\
                self.idIndexCreate(idIndex);\n\
            });\n\
            // upsert dbRow\n\
            self.crudSetManyById(options.dbRowList);\n\
            // restore dbTable from persistent-storage\n\
            self.isLoaded = self.isLoaded || options.isLoaded;\n\
            if (!self.isLoaded) {\n\
                local.storageGetItem('dbTable.' + self.name + '.json', function (error, data) {\n\
                    // validate no error occurred\n\
                    local.assert(!error, error);\n\
                    if (!self.isLoaded) {\n\
                        local.dbImport(data);\n\
                    }\n\
                    self.isLoaded = true;\n\
                    local.setTimeoutOnError(onError, 0, null, self);\n\
                });\n\
                return self;\n\
            }\n\
            return local.setTimeoutOnError(onError, 0, null, self);\n\
        };\n\
\n\
        local.dbTableDict = {};\n\
\n\
        local.sortCompare = function (aa, bb, ii, jj) {\n\
        /*\n\
         * this function will compare aa vs bb and return:\n\
         * -1 if aa < bb\n\
         *  0 if aa === bb\n\
         *  1 if aa > bb\n\
         * the priority for comparing different typeof's is:\n\
         * null < boolean < number < string < object < undefined\n\
         */\n\
            var typeof1, typeof2;\n\
            if (aa === bb) {\n\
                return ii < jj\n\
                    ? -1\n\
                    : 1;\n\
            }\n\
            if (aa === null) {\n\
                return -1;\n\
            }\n\
            if (bb === null) {\n\
                return 1;\n\
            }\n\
            typeof1 = typeof aa;\n\
            typeof2 = typeof bb;\n\
            if (typeof1 === typeof2) {\n\
                return typeof1 === 'object'\n\
                    ? 0\n\
                    : aa > bb\n\
                    ? 1\n\
                    : -1;\n\
            }\n\
            if (typeof1 === 'boolean') {\n\
                return -1;\n\
            }\n\
            if (typeof2 === 'boolean') {\n\
                return 1;\n\
            }\n\
            if (typeof1 === 'number') {\n\
                return -1;\n\
            }\n\
            if (typeof2 === 'number') {\n\
                return 1;\n\
            }\n\
            if (typeof1 === 'string') {\n\
                return -1;\n\
            }\n\
            if (typeof2 === 'string') {\n\
                return 1;\n\
            }\n\
            return 0;\n\
        };\n\
    }());\n\
    switch (local.modeJs) {\n\
\n\
\n\
\n\
    // run node js-env code - init-after\n\
    /* istanbul ignore next */\n\
    case 'node':\n\
        // init cli\n\
        if (module !== require.main || local.global.utility2_rollup) {\n\
            break;\n\
        }\n\
        local.cliDict = {};\n\
        local.cliDict.dbTableCrudGetManyByQuery = function () {\n\
        /*\n\
         * dbTable query\n\
         * query dbRowList from dbTable\n\
         */\n\
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                console.log(JSON.stringify(self.crudGetManyByQuery(\n\
                    JSON.parse(process.argv[4] || '{}')\n\
                ), null, 4));\n\
            });\n\
        };\n\
        local.cliDict.dbTableCrudRemoveManyByQuery = function () {\n\
        /*\n\
         * dbTable query\n\
         * query and remove dbRowList from dbTable\n\
         */\n\
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                console.log(JSON.stringify(self.crudRemoveManyByQuery(\n\
                    JSON.parse(process.argv[4])\n\
                ), null, 4));\n\
            });\n\
        };\n\
        local.cliDict.dbTableCrudSetManyById = function () {\n\
        /*\n\
         * dbTable dbRowList\n\
         * set dbRowList into dbTable\n\
         */\n\
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                self.crudSetManyById(JSON.parse(process.argv[4]));\n\
            });\n\
        };\n\
        local.cliDict.dbTableHeaderDictGet = function () {\n\
        /*\n\
         * dbTable\n\
         * get headerDict from dbTable\n\
         */\n\
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                var tmp;\n\
                tmp = [];\n\
                self.idIndexList.forEach(function (idIndex) {\n\
                    tmp.push({ isInteger: idIndex.isInteger, name: idIndex.name });\n\
                });\n\
                console.log(JSON.stringify({\n\
                    idIndexList: tmp,\n\
                    sizeLimit: self.sizeLimit,\n\
                    sortDefault: self.sortDefault\n\
                }, null, 4));\n\
            });\n\
        };\n\
        local.cliDict.dbTableHeaderDictSet = function () {\n\
        /*\n\
         * dbTable\n\
         * set headerDict into dbTable\n\
         */\n\
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                local.tmp = JSON.parse(process.argv[4]);\n\
                self.sizeLimit = local.tmp.sizeLimit || self.sizeLimit;\n\
                self.sortDefault = local.tmp.sortDefault || self.sortDefault;\n\
                self.save();\n\
                local.tmp = [];\n\
                self.idIndexList.forEach(function (idIndex) {\n\
                    local.tmp.push({ isInteger: idIndex.isInteger, name: idIndex.name });\n\
                });\n\
                local.cliDict.dbTableHeaderDictGet();\n\
            });\n\
        };\n\
        local.cliDict.dbTableIdIndexCreate = function () {\n\
        /*\n\
         * dbTable idIndex\n\
         * create idIndex in dbTable\n\
         */\n\
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                self.idIndexCreate(JSON.parse(process.argv[4]));\n\
                self.save();\n\
                local.tmp = [];\n\
                self.idIndexList.forEach(function (idIndex) {\n\
                    local.tmp.push({ isInteger: idIndex.isInteger, name: idIndex.name });\n\
                });\n\
                local.cliDict.dbTableHeaderDictGet();\n\
            });\n\
        };\n\
        local.cliDict.dbTableIdIndexRemove = function () {\n\
        /*\n\
         * dbTable idIndex\n\
         * remove idIndex from dbTable\n\
         */\n\
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                self.idIndexRemove(JSON.parse(process.argv[4]));\n\
                self.save();\n\
                local.cliDict.dbTableHeaderDictGet();\n\
            });\n\
        };\n\
        local.cliDict.dbTableList = function () {\n\
        /*\n\
         * [none]\n\
         * list dbTable's in db\n\
         */\n\
            local.storageKeys(function (error, data) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                console.log(JSON.stringify(data.map(function (element) {\n\
                    return element.split('.').slice(1, -1).join('.');\n\
                }), null, 4));\n\
            });\n\
        };\n\
        local.cliDict.dbTableRemove = function () {\n\
        /*\n\
         * dbTable\n\
         * remove dbTable from db\n\
         */\n\
            local.storageRemoveItem('dbTable.' + process.argv[3] + '.json', function (error) {\n\
                // validate no error occurred\n\
                local.assert(!error, error);\n\
                local.cliDict.dbTableList();\n\
            });\n\
        };\n\
        local.cliRun();\n\
        break;\n\
    }\n\
}());\n\
"
/* jslint-ignore-end */
}());

///usr/bin/env node
/*
 * assets.db-lite.js
 *
 * this zero-dependency package will provide a persistent, in-browser database
 *
 * browser example:
 *     <script src="assets.db-lite.js"></script>
 *     <script>
 *     var dbTable1;
 *     dbTable1 = window.dbTable1 = window.utility2_db.dbTableCreateOne({ name: "dbTable1" });
 *     dbTable1.idIndexCreate({ name: "field1" });
 *     dbTable1.crudSetOneById({ field1: "hello", field2: "world" });
 *     console.log(dbTable1.crudGetManyByQuery({
 *         limit: Infinity,
 *         query: { field1: "hello" },
 *         skip: 0,
 *         sort: [{ fieldName: 'field1', isDescending: false }]
 *     }));
 *     </script>
 *
 * node example:
 *     var db, dbTable1;
 *     utility2_db = require("./assets.db-lite.js");
 *     dbTable1 = global.dbTable1 = utility2_db.dbTableCreateOne({ name: "dbTable1" });
 *     dbTable1.idIndexCreate({ name: "field1" });
 *     dbTable1.crudSetOneById({ field1: "hello", field2: "world" });
 *     console.log(dbTable1.crudGetManyByQuery({
 *         limit: Infinity,
 *         query: { field1: "hello" },
 *         skip: 0,
 *         sort: [{ fieldName: 'field1', isDescending: false }]
 *     }));
 */



/* istanbul instrument in package db */
/* jslint-utility2 */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;



    // run shared js-env code - init-before
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || local;
        /* istanbul ignore next */
        if (!local) {
            local = local.global.utility2_rollup ||
                local.global.utility2_rollup_old ||
                require('./assets.utility2.rollup.js');
            local.fs = null;
        }
        // init exports
        if (local.modeJs === 'browser') {
            local.global.utility2_db = local;
        } else {
            // require builtins
            // local.assert = require('assert');
            local.buffer = require('buffer');
            local.child_process = require('child_process');
            local.cluster = require('cluster');
            local.console = require('console');
            local.constants = require('constants');
            local.crypto = require('crypto');
            local.dgram = require('dgram');
            local.dns = require('dns');
            local.domain = require('domain');
            local.events = require('events');
            local.fs = require('fs');
            local.http = require('http');
            local.https = require('https');
            local.module = require('module');
            local.net = require('net');
            local.os = require('os');
            local.path = require('path');
            local.process = require('process');
            local.punycode = require('punycode');
            local.querystring = require('querystring');
            local.readline = require('readline');
            local.repl = require('repl');
            local.stream = require('stream');
            local.string_decoder = require('string_decoder');
            local.timers = require('timers');
            local.tls = require('tls');
            local.tty = require('tty');
            local.url = require('url');
            local.util = require('util');
            local.v8 = require('v8');
            local.vm = require('vm');
            local.zlib = require('zlib');
/* validateLineSortedReset */
            module.exports = local;
            module.exports.__dirname = __dirname;
        }
        // init lib
        local.local = local.db = local;
    }());



    // run shared js-env code - function-before
    /* istanbul ignore next */
    (function () {
        local.assert = function (passed, message, onError) {
        /*
         * this function will throw the error message if passed is falsey
         */
            var error;
            if (passed) {
                return;
            }
            error = message && message.message
                // if message is an error-object, then leave it as is
                ? message
                : new Error(typeof message === 'string'
                    // if message is a string, then leave it as is
                    ? message
                    // else JSON.stringify message
                    : JSON.stringify(message));
            // debug error
            local._debugAssertError = error;
            onError = onError || function (error) {
                throw error;
            };
            onError(error);
        };

        local.cliRun = function (fnc) {
        /*
         * this function will run the cli
         */
            var nop;
            nop = function () {
            /*
             * this function will do nothing
             */
                return;
            };
            local.cliDict._eval = local.cliDict._eval || function () {
            /*
             * code
             * eval code
             */
                local.global.local = local;
                require('vm').runInThisContext(process.argv[3]);
            };
            local.cliDict['--eval'] = local.cliDict['--eval'] || local.cliDict._eval;
            local.cliDict['-e'] = local.cliDict['-e'] || local.cliDict._eval;
            local.cliDict._help = local.cliDict._help || function () {
            /*
             * [none]
             * print help
             */
                var element, result, lengthList, sortDict;
                console.log(require(__dirname + '/package.json').name + ' v' +
                    require(__dirname + '/package.json').version);
                sortDict = {};
                result = [['[command]', '[args]', '[description]', -1]];
                lengthList = [result[0][0].length, result[0][1].length];
                Object.keys(local.cliDict).sort().forEach(function (key, ii) {
                    if (key[0] === '_' && key !== '_default') {
                        return;
                    }
                    sortDict[local.cliDict[key].toString()] =
                        sortDict[local.cliDict[key].toString()] || (ii + 1);
                    element = (/\n +\*(.*)\n +\*(.*)/).exec(local.cliDict[key].toString());
                    // coverage-hack - ignore else-statement
                    nop(local.global.__coverage__ && (function () {
                        element = element || ['', '', ''];
                    }()));
                    element = [
                        key.replace('_default', '[none]') + ' ',
                        element[1].trim() + ' ',
                        element[2].trim(),
                        (sortDict[local.cliDict[key].toString()] << 8) + ii
                    ];
                    result.push(element);
                    lengthList.forEach(function (length, jj) {
                        lengthList[jj] = Math.max(element[jj].length, length);
                    });
                });
                result.sort(function (aa, bb) {
                    return aa[3] < bb[3]
                        ? -1
                        : 1;
                });
                console.log('usage:   ' + __filename + ' [command] [args]');
                console.log('example: ' + __filename + ' --eval    ' +
                    '"console.log(\'hello world\')"\n');
                result.forEach(function (element, ii) {
                    lengthList.forEach(function (length, jj) {
                        while (element[jj].length < length) {
                            element[jj] += '-';
                        }
                    });
                    element = element.slice(0, 3).join('---- ');
                    if (!ii) {
                        element = element.replace((/-/g), ' ');
                    }
                    console.log(element);
                });
            };
            local.cliDict['--help'] = local.cliDict['--help'] || local.cliDict._help;
            local.cliDict['-h'] = local.cliDict['-h'] || local.cliDict._help;
            local.cliDict._default = local.cliDict._default || local.cliDict._help;
            local.cliDict.help = local.cliDict.help || local.cliDict._help;
            local.cliDict._interactive = local.cliDict._interactive || function () {
            /*
             * [none]
             * start interactive-mode
             */
                local.global.local = local;
                local.replStart();
            };
            if (local.replStart) {
                local.cliDict['--interactive'] = local.cliDict['--interactive'] ||
                    local.cliDict._interactive;
                local.cliDict['-i'] = local.cliDict['-i'] || local.cliDict._interactive;
            }
            local.cliDict._version = local.cliDict._version || function () {
            /*
             * [none]
             * print version
             */
                console.log(require(__dirname + '/package.json').version);
            };
            local.cliDict['--version'] = local.cliDict['--version'] || local.cliDict._version;
            local.cliDict['-v'] = local.cliDict['-v'] || local.cliDict._version;
            // run fnc()
            fnc = fnc || function () {
                if (local.cliDict[process.argv[2]]) {
                    local.cliDict[process.argv[2]]();
                    return;
                }
                local.cliDict._default();
            };
            fnc();
        };

        local.jsonCopy = function (jsonObj) {
        /*
         * this function will return a deep-copy of the jsonObj
         */
            return jsonObj === undefined
                ? undefined
                : JSON.parse(JSON.stringify(jsonObj));
        };

        local.jsonStringifyOrdered = function (jsonObj, replacer, space) {
        /*
         * this function will JSON.stringify the jsonObj,
         * with object-keys sorted and circular-references removed
         */
            var circularList, stringify, tmp;
            stringify = function (jsonObj) {
            /*
             * this function will recursively JSON.stringify the jsonObj,
             * with object-keys sorted and circular-references removed
             */
                // if jsonObj is not an object or function, then JSON.stringify as normal
                if (!(jsonObj &&
                        typeof jsonObj === 'object' &&
                        typeof jsonObj.toJSON !== 'function')) {
                    return JSON.stringify(jsonObj);
                }
                // ignore circular-reference
                if (circularList.indexOf(jsonObj) >= 0) {
                    return;
                }
                circularList.push(jsonObj);
                // if jsonObj is an array, then recurse its jsonObjs
                if (Array.isArray(jsonObj)) {
                    return '[' + jsonObj.map(function (jsonObj) {
                        // recurse
                        tmp = stringify(jsonObj);
                        return typeof tmp === 'string'
                            ? tmp
                            : 'null';
                    }).join(',') + ']';
                }
                // if jsonObj is not an array, then recurse its items with object-keys sorted
                return '{' + Object.keys(jsonObj)
                    // sort object-keys
                    .sort()
                    .map(function (key) {
                        // recurse
                        tmp = stringify(jsonObj[key]);
                        if (typeof tmp === 'string') {
                            return JSON.stringify(key) + ':' + tmp;
                        }
                    })
                    .filter(function (jsonObj) {
                        return typeof jsonObj === 'string';
                    })
                    .join(',') + '}';
            };
            circularList = [];
            // try to derefernce all properties in jsonObj
            (function () {
                try {
                    jsonObj = JSON.parse(JSON.stringify(jsonObj));
                } catch (ignore) {
                }
            }());
            return JSON.stringify(typeof jsonObj === 'object' && jsonObj
                // recurse
                ? JSON.parse(stringify(jsonObj))
                : jsonObj, replacer, space);
        };

        local.listShuffle = function (list) {
        /*
         * https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle
         * this function will inplace shuffle the list, via fisher-yates algorithm
         */
            var ii, random, swap;
            for (ii = list.length - 1; ii > 0; ii -= 1) {
                // coerce to finite integer
                random = (Math.random() * (ii + 1)) | 0;
                swap = list[ii];
                list[ii] = list[random];
                list[random] = swap;
            }
            return list;
        };

        local.nop = function () {
        /*
         * this function will do nothing
         */
            return;
        };

        local.normalizeValue = function (type, value, valueDefault) {
        /*
         * this function will normalize the value by type
         */
            switch (type) {
            case 'list':
                return Array.isArray(value)
                    ? value
                    : valueDefault || [];
            case 'number':
                return Number(value) || valueDefault || 0;
            case 'string':
                return typeof value === 'string'
                    ? value
                    : valueDefault || '';
            }
        };

        local.objectSetOverride = function (arg, overrides, depth, env) {
        /*
         * this function will recursively set overrides for items in the arg
         */
            arg = arg || {};
            env = env || (typeof process === 'object' && process.env) || {};
            overrides = overrides || {};
            Object.keys(overrides).forEach(function (key) {
                var arg2, overrides2;
                arg2 = arg[key];
                overrides2 = overrides[key];
                if (overrides2 === undefined) {
                    return;
                }
                // if both arg2 and overrides2 are non-null and non-array objects,
                // then recurse with arg2 and overrides2
                if (depth > 1 &&
                        // arg2 is a non-null and non-array object
                        typeof arg2 === 'object' && arg2 && !Array.isArray(arg2) &&
                        // overrides2 is a non-null and non-array object
                        typeof overrides2 === 'object' && overrides2 &&
                        !Array.isArray(overrides2)) {
                    local.objectSetOverride(arg2, overrides2, depth - 1, env);
                    return;
                }
                // else set arg[key] with overrides[key]
                arg[key] = arg === env
                    // if arg is env, then overrides falsey value with empty string
                    ? overrides2 || ''
                    : overrides2;
            });
            return arg;
        };

        local.onErrorDefault = function (error) {
        /*
         * this function will if error exists, then print error.stack to stderr
         */
            if (error && !local.global.__coverage__) {
                console.error(error);
            }
        };

        local.onErrorWithStack = function (onError) {
        /*
         * this function will create a new callback that will call onError,
         * and append the current stack to any error
         */
            var stack;
            stack = new Error().stack.replace((/(.*?)\n.*?$/m), '$1');
            return function (error, data, meta) {
                if (error &&
                        error !== local.errorDefault &&
                        String(error.stack).indexOf(stack.split('\n')[2]) < 0) {
                    // append the current stack to error.stack
                    error.stack += '\n' + stack;
                }
                onError(error, data, meta);
            };
        };

        local.onParallel = function (onError, onEach, onRetry) {
        /*
         * this function will create a function that will
         * 1. run async tasks in parallel
         * 2. if counter === 0 or error occurred, then call onError with error
         */
            var onParallel;
            onError = local.onErrorWithStack(onError);
            onEach = onEach || local.nop;
            onRetry = onRetry || local.nop;
            onParallel = function (error, data) {
                if (onRetry(error, data)) {
                    return;
                }
                // decrement counter
                onParallel.counter -= 1;
                // validate counter
                local.assert(
                    onParallel.counter >= 0 || error || onParallel.error,
                    'invalid onParallel.counter = ' + onParallel.counter
                );
                // ensure onError is run only once
                if (onParallel.counter < 0) {
                    return;
                }
                // handle error
                if (error) {
                    onParallel.error = error;
                    // ensure counter <= 0
                    onParallel.counter = -Math.abs(onParallel.counter);
                }
                // call onError when isDone
                if (onParallel.counter <= 0) {
                    onError(error, data);
                    return;
                }
                onEach();
            };
            // init counter
            onParallel.counter = 0;
            // return callback
            return onParallel;
        };

        local.replStart = function () {
        /*
         * this function will start the repl-debugger
         */
            /*jslint evil: true*/
            var self;
            if (global.utility2_serverRepl1) {
                return;
            }
            // start replServer
            self = global.utility2_serverRepl1 = require('repl').start({ useGlobal: true });
            self.nop = function () {
            /*
             * this function will do nothing
             */
                return;
            };
            self.onError = function (error) {
            /*
             * this function will debug any repl-error
             */
                // debug error
                global.utility2_debugReplError = error;
                console.error(error);
            };
            // save repl eval function
            self.evalDefault = self.eval;
            // hook custom repl eval function
            self.eval = function (script, context, file, onError) {
                var match, onError2;
                match = (/^(\S+)(.*?)\n/).exec(script) || {};
                onError2 = function (error, data) {
                    // debug error
                    global.utility2_debugReplError = error || global.utility2_debugReplError;
                    onError(error, data);
                };
                switch (match[1]) {
                // syntax sugar to run async shell command
                case '$':
                    switch (match[2]) {
                    // syntax sugar to run git diff
                    case ' git diff':
                        match[2] = ' git diff --color | cat';
                        break;
                    // syntax sugar to run git log
                    case ' git log':
                        match[2] = ' git log -n 4 | cat';
                        break;
                    }
                    // run async shell command
                    require('child_process').spawn(match[2], {
                        shell: true,
                        stdio: ['ignore', 1, 2]
                    })
                        // on shell exit, print return prompt
                        .on('exit', function (exitCode) {
                            console.error('exit-code ' + exitCode);
                            self.evalDefault(
                                '\n',
                                context,
                                file,
                                onError2
                            );
                        });
                    script = '\n';
                    break;
                // syntax sugar to grep current dir
                case 'grep':
                    // run async shell command
                    require('child_process').spawn('find . -type f | grep -v ' +
/* jslint-ignore-begin */
'"\
/\\.\\|\\(\\b\\|_\\)\\(\\.\\d\\|\
archive\\|artifact\\|\
bower_component\\|build\\|\
coverage\\|\
doc\\|\
external\\|\
fixture\\|\
git_module\\|\
jquery\\|\
log\\|\
min\\|mock\\|\
node_module\\|\
rollup\\|\
swp\\|\
tmp\\|\
vendor\\)s\\{0,1\\}\\(\\b\\|_\\)\
" ' +
/* jslint-ignore-end */
                            '| tr "\\n" "\\000" | xargs -0 grep -in "' +
                            match[2].trim() + '"', { shell: true, stdio: ['ignore', 1, 2] })
                        // on shell exit, print return prompt
                        .on('exit', function (exitCode) {
                            console.error('exit-code ' + exitCode);
                            self.evalDefault(
                                '\n',
                                context,
                                file,
                                onError2
                            );
                        });
                    script = '\n';
                    break;
                // syntax sugar to list object's keys, sorted by item-type
                case 'keys':
                    script = 'console.error(Object.keys(' + match[2] +
                        ').map(function (key) {' +
                        'return typeof ' + match[2] + '[key] + " " + key + "\\n";' +
                        '}).sort().join("") + Object.keys(' + match[2] + ').length)\n';
                    break;
                // syntax sugar to print stringified arg
                case 'print':
                    script = 'console.error(String(' + match[2] + '))\n';
                    break;
                }
                // eval the script
                self.evalDefault(script, context, file, onError2);
            };
            self.socket = { end: self.nop, on: self.nop, write: self.nop };
            // init process.stdout
            process.stdout._writeDefault = process.stdout._writeDefault ||
                process.stdout._write;
            process.stdout._write = function (chunk, encoding, callback) {
                process.stdout._writeDefault(chunk, encoding, callback);
                // coverage-hack - ignore else-statement
                self.nop(self.socket.writable && (function () {
                    self.socket.write(chunk, encoding);
                }()));
            };
            // start tcp-server
            global.utility2_serverReplTcp1 = require('net').createServer(function (socket) {
                // init socket
                self.socket = socket;
                self.socket.on('data', self.write.bind(self));
                self.socket.on('error', self.onError);
                self.socket.setKeepAlive(true);
            });
            // coverage-hack - ignore else-statement
            self.nop(process.env.PORT_REPL && (function () {
                console.error('repl-server listening on tcp-port ' + process.env.PORT_REPL);
                global.utility2_serverReplTcp1.listen(process.env.PORT_REPL);
            }()));
        };

        local.setTimeoutOnError = function (onError, timeout, error, data) {
        /*
         * this function will async-call onError
         */
            if (typeof onError === 'function') {
                setTimeout(function () {
                    onError(error, data);
                }, timeout);
            }
            return data;
        };
    }());



    // run shared js-env code - lib.storage.js
    (function (local) {
        var child_process,
            clear,
            defer,
            deferList,
            fs,
            getItem,
            init,
            keys,
            length,
            modeJs,
            os,
            removeItem,
            setItem,
            storage,
            storageDir;

        // init modeJs
        modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        storageDir = 'tmp/storage.' + (local.modeJs === 'browser'
            ? 'undefined'
            : process.env.NODE_ENV);
        switch (modeJs) {
        case 'node':
            // require modules
            child_process = require('child_process');
            fs = require('fs');
            os = require('os');
            break;
        }

        clear = function (onError) {
        /*
         * this function will clear storage
         */
            defer({ action: 'clear' }, onError);
        };

        defer = function (options, onError) {
        /*
         * this function will defer options.action until storage is ready
         */
            var data, isDone, objectStore, onError2, request, tmp;
            onError = onError || function (error) {
                // validate no error occurred
                local.assert(!error, error);
            };
            if (!storage) {
                deferList.push(function () {
                    defer(options, onError);
                });
                init();
                return;
            }
            switch (modeJs) {
            case 'browser':
                onError2 = function () {
                    /* istanbul ignore next */
                    if (isDone) {
                        return;
                    }
                    isDone = true;
                    onError(
                        request && (request.error || request.transaction.error),
                        data || request.result || ''
                    );
                };
                switch (options.action) {
                case 'clear':
                case 'removeItem':
                case 'setItem':
                    objectStore = storage
                        .transaction(storageDir, 'readwrite')
                        .objectStore(storageDir);
                    break;
                default:
                    objectStore = storage
                        .transaction(storageDir, 'readonly')
                        .objectStore(storageDir);
                }
                switch (options.action) {
                case 'clear':
                    request = objectStore.clear();
                    break;
                case 'getItem':
                    request = objectStore.get(String(options.key));
                    break;
                case 'keys':
                    data = [];
                    request = objectStore.openCursor();
                    request.onsuccess = function () {
                        if (!request.result) {
                            onError2();
                            return;
                        }
                        data.push(request.result.key);
                        request.result.continue();
                    };
                    break;
                case 'length':
                    request = objectStore.count();
                    break;
                case 'removeItem':
                    request = objectStore.delete(String(options.key));
                    break;
                case 'setItem':
                    request = objectStore.put(options.value, String(options.key));
                    break;
                }
                ['onabort', 'onerror', 'onsuccess'].forEach(function (handler) {
                    request[handler] = request[handler] || onError2;
                });
                // debug request
                local._debugStorageRequest = request;
                break;
            case 'node':
                switch (options.action) {
                case 'clear':
                    child_process.spawnSync('rm -f ' + storage + '/*', {
                        shell: true,
                        stdio: ['ignore', 1, 2]
                    });
                    setTimeout(onError);
                    break;
                case 'getItem':
                    fs.readFile(
                        storage + '/' + encodeURIComponent(String(options.key)),
                        'utf8',
                        // ignore error
                        function (error, data) {
                            onError(error && null, data || '');
                        }
                    );
                    break;
                case 'keys':
                    fs.readdir(storage, function (error, data) {
                        onError(error, data && data.map(decodeURIComponent));
                    });
                    break;
                case 'length':
                    fs.readdir(storage, function (error, data) {
                        onError(error, data && data.length);
                    });
                    break;
                case 'removeItem':
                    fs.unlink(
                        storage + '/' + encodeURIComponent(String(options.key)),
                        // ignore error
                        function () {
                            onError();
                        }
                    );
                    break;
                case 'setItem':
                    tmp = os.tmpdir() + '/' + Date.now() + Math.random();
                    // save to tmp
                    fs.writeFile(tmp, options.value, function (error) {
                        // validate no error occurred
                        local.assert(!error, error);
                        // rename tmp to key
                        fs.rename(
                            tmp,
                            storage + '/' + encodeURIComponent(String(options.key)),
                            onError
                        );
                    });
                    break;
                }
                break;
            }
        };

        deferList = [];

        getItem = function (key, onError) {
        /*
         * this function will get the item with the given key from storage
         */
            defer({ action: 'getItem', key: key }, onError);
        };

        init = function () {
        /*
         * this function will init storage
         */
            var onError, request;
            onError = function (error) {
                // validate no error occurred
                local.assert(!error, error);
                if (modeJs === 'browser') {
                    storage = window[storageDir];
                }
                while (deferList.length) {
                    deferList.shift()();
                }
            };
            if (modeJs === 'browser') {
                storage = window[storageDir];
            }
            if (storage) {
                onError();
                return;
            }
            switch (modeJs) {
            case 'browser':
                // init indexedDB
                try {
                    request = window.indexedDB.open(storageDir);
                    // debug request
                    local._debugStorageRequestIndexedDB = request;
                    request.onerror = onError;
                    request.onsuccess = function () {
                        window[storageDir] = request.result;
                        onError();
                    };
                    request.onupgradeneeded = function () {
                        if (!request.result.objectStoreNames.contains(storageDir)) {
                            request.result.createObjectStore(storageDir);
                        }
                    };
                } catch (ignore) {
                }
                break;
            case 'node':
                // mkdirp storage
                storage = storageDir;
                child_process.spawnSync(
                    'mkdir',
                    ['-p', storage],
                    { stdio: ['ignore', 1, 2] }
                );
                onError();
                break;
            }
        };

        keys = function (onError) {
        /*
         * this function will get all the keys in storage
         */
            defer({ action: 'keys' }, onError);
        };

        length = function (onError) {
        /*
         * this function will get the number of items in storage
         */
            defer({ action: 'length' }, onError);
        };

        removeItem = function (key, onError) {
        /*
         * this function will remove the item with the given key from storage
         */
            defer({ action: 'removeItem', key: key }, onError);
        };

        setItem = function (key, value, onError) {
        /*
         * this function will set the item with the given key and value to storage
         */
            defer({ action: 'setItem', key: key, value: value }, onError);
        };

        // init local
        local.storage = storage;
        local.storageClear = clear;
        local.storageDefer = defer;
        local.storageDeferList = deferList;
        local.storageDir = storageDir;
        local.storageGetItem = getItem;
        local.storageInit = init;
        local.storageKeys = keys;
        local.storageLength = length;
        local.storageRemoveItem = removeItem;
        local.storageSetItem = setItem;
    }(local));



    // run shared js-env code - lib.dbTable.js
    (function () {
        local._DbTable = function (options) {
        /*
         * this function will create a dbTable
         */
            options = local.objectSetOverride(options);
            this.name = String(options.name);
            // register dbTable in dbTableDict
            local.dbTableDict[this.name] = this;
            this.dbRowList = [];
            this.isDirty = null;
            this.idIndexList = [{ isInteger: false, name: '_id', dict: {} }];
            this.onSaveList = [];
            this.sizeLimit = options.sizeLimit || 0;
        };

        local._DbTable.prototype._cleanup = function () {
        /*
         * this function will cleanup soft-deleted records from the dbTable
         */
            var dbRow, ii, list;
            if (!this.isDirty && this.dbRowList.length <= this.sizeLimit) {
                return;
            }
            this.isDirty = null;
            // cleanup dbRowList
            list = this.dbRowList;
            this.dbRowList = [];
            // optimization - for-loop
            for (ii = 0; ii < list.length; ii += 1) {
                dbRow = list[ii];
                // cleanup isRemoved
                if (!dbRow.$meta.isRemoved) {
                    this.dbRowList.push(dbRow);
                }
            }
            if (this.sizeLimit && this.dbRowList.length >= 1.5 * this.sizeLimit) {
                this.dbRowList = this._crudGetManyByQuery(
                    {},
                    this.sortDefault,
                    0,
                    this.sizeLimit
                );
            }
        };

        local._DbTable.prototype._crudGetManyByQuery = function (
            query,
            sort,
            skip,
            limit,
            shuffle
        ) {
        /*
         * this function will get the dbRow's in the dbTable,
         * with the given query, sort, skip, and limit
         */
            var ii, result;
            result = this.dbRowList;
            // get by query
            if (result.length && query && Object.keys(query).length) {
                result = local.dbRowListGetManyByQuery(this.dbRowList, query);
            }
            // sort
            local.normalizeValue('list', sort).forEach(function (element) {
                // bug-workaround - v8 does not have stable-sort
                // optimization - for-loop
                for (ii = 0; ii < result.length; ii += 1) {
                    result[ii].$meta.ii = ii;
                }
                if (element.isDescending) {
                    result.sort(function (aa, bb) {
                        return -local.sortCompare(
                            local.dbRowGetItem(aa, element.fieldName),
                            local.dbRowGetItem(bb, element.fieldName),
                            aa.$meta.ii,
                            bb.$meta.ii
                        );
                    });
                } else {
                    result.sort(function (aa, bb) {
                        return local.sortCompare(
                            local.dbRowGetItem(aa, element.fieldName),
                            local.dbRowGetItem(bb, element.fieldName),
                            aa.$meta.ii,
                            bb.$meta.ii
                        );
                    });
                }
            });
            // skip
            result = result.slice(skip || 0);
            // shuffle
            ((shuffle && local.listShuffle) || local.nop)(result);
            // limit
            result = result.slice(0, limit || Infinity);
            return result;
        };

        local._DbTable.prototype._crudGetOneById = function (idDict) {
        /*
         * this function will get the dbRow in the dbTable with the given idDict
         */
            var id, result;
            idDict = local.objectSetOverride(idDict);
            result = null;
            this.idIndexList.some(function (idIndex) {
                id = idDict[idIndex.name];
                // optimization - hasOwnProperty
                if (idIndex.dict.hasOwnProperty(id)) {
                    result = idIndex.dict[id];
                    return result;
                }
            });
            return result;
        };

        local._DbTable.prototype._crudRemoveOneById = function (idDict, circularList) {
        /*
         * this function will remove the dbRow from the dbTable with the given idDict
         */
            var id, result, self;
            if (!idDict) {
                return null;
            }
            self = this;
            circularList = circularList || [idDict];
            result = null;
            self.idIndexList.forEach(function (idIndex) {
                id = idDict[idIndex.name];
                // optimization - hasOwnProperty
                if (!idIndex.dict.hasOwnProperty(id)) {
                    return;
                }
                result = idIndex.dict[id];
                delete idIndex.dict[id];
                // optimization - soft-delete
                result.$meta.isRemoved = true;
                self.isDirty = true;
                if (circularList.indexOf(result) >= 0) {
                    return;
                }
                circularList.push(result);
                // recurse
                self._crudRemoveOneById(result, circularList);
            });
            self.save();
            return result;
        };

        local._DbTable.prototype._crudSetOneById = function (dbRow) {
        /*
         * this function will set the dbRow into the dbTable with the given dbRow._id
         * WARNING - existing dbRow with conflicting dbRow._id will be removed
         */
            var existing, id, normalize, timeNow;
            normalize = function (dbRow) {
            /*
             * this function will recursively normalize dbRow
             */
                if (typeof dbRow === 'object' && dbRow) {
                    Object.keys(dbRow).forEach(function (key) {
                        // remove invalid property
                        if (key[0] === '$' || key.indexOf('.') >= 0 || dbRow[key] === null) {
                            // optimization - soft-delete
                            dbRow[key] = undefined;
                            return;
                        }
                        // recurse
                        normalize(dbRow[key]);
                    });
                }
            };
            dbRow = local.jsonCopy(typeof dbRow === 'object' && dbRow
                ? dbRow
                : {});
            // update timestamp
            timeNow = new Date().toISOString();
            dbRow._timeCreated = dbRow._timeCreated || timeNow;
            if (!local.modeImport) {
                dbRow._timeUpdated = timeNow;
            }
            // normalize
            normalize(dbRow);
            dbRow = local.jsonCopy(dbRow);
            // remove existing dbRow
            existing = this._crudRemoveOneById(dbRow) || dbRow;
            // init meta
            dbRow.$meta = { isRemoved: null };
            this.idIndexList.forEach(function (idIndex) {
                // auto-set id
                id = local.dbRowSetId(existing, idIndex);
                // copy id from existing to dbRow
                dbRow[idIndex.name] = id;
                // set dbRow
                idIndex.dict[id] = dbRow;
            });
            // update dbRowList
            this.dbRowList.push(dbRow);
            this.save();
            return dbRow;
        };

        local._DbTable.prototype._crudUpdateOneById = function (dbRow) {
        /*
         * this function will update the dbRow in the dbTable,
         * if it exists with the given dbRow._id
         * WARNING
         * existing dbRow's with conflicting unique-keys (besides the one being updated)
         * will be removed
         */
            var id, result;
            dbRow = local.jsonCopy(local.objectSetOverride(dbRow));
            result = null;
            this.idIndexList.some(function (idIndex) {
                id = dbRow[idIndex.name];
                // optimization - hasOwnProperty
                if (idIndex.dict.hasOwnProperty(id)) {
                    result = idIndex.dict[id];
                    return true;
                }
            });
            result = result || {};
            // remove existing dbRow
            this._crudRemoveOneById(result);
            // update dbRow
            dbRow._timeCreated = undefined;
            local.objectSetOverride(result, dbRow, 10);
            // replace dbRow
            result = this._crudSetOneById(result);
            return result;
        };

        local._DbTable.prototype.crudCountAll = function (onError) {
        /*
         * this function will count all of dbRow's in the dbTable
         */
            this._cleanup();
            return local.setTimeoutOnError(onError, 0, null, this.dbRowList.length);
        };

        local._DbTable.prototype.crudCountManyByQuery = function (query, onError) {
        /*
         * this function will count the number of dbRow's in the dbTable with the given query
         */
            this._cleanup();
            return local.setTimeoutOnError(
                onError,
                0,
                null,
                this._crudGetManyByQuery(query).length
            );
        };

        local._DbTable.prototype.crudGetManyById = function (idDictList, onError) {
        /*
         * this function will get the dbRow's in the dbTable with the given idDictList
         */
            var self;
            this._cleanup();
            self = this;
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                local.normalizeValue('list', idDictList).map(function (idDict) {
                    return self._crudGetOneById(idDict);
                })
            ));
        };

        local._DbTable.prototype.crudGetManyByQuery = function (options, onError) {
        /*
         * this function will get the dbRow's in the dbTable with the given options.query
         */
            this._cleanup();
            options = local.objectSetOverride(options);
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                this._crudGetManyByQuery(
                    options.query,
                    options.sort || this.sortDefault,
                    options.skip,
                    options.limit,
                    options.shuffle
                ),
                options.fieldList
            ));
        };

        local._DbTable.prototype.crudGetOneById = function (idDict, onError) {
        /*
         * this function will get the dbRow in the dbTable with the given idDict
         */
            this._cleanup();
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                this._crudGetOneById(idDict)
            ));
        };

        local._DbTable.prototype.crudGetOneByQuery = function (query, onError) {
        /*
         * this function will get the dbRow in the dbTable with the given query
         */
            var ii, result;
            this._cleanup();
            // optimization - for-loop
            for (ii = 0; ii < this.dbRowList.length; ii += 1) {
                result = local.dbRowListGetManyByQuery([this.dbRowList[ii]], query)[0];
                if (result) {
                    break;
                }
            }
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(result));
        };

        local._DbTable.prototype.crudGetOneByRandom = function (onError) {
        /*
         * this function will get a random dbRow in the dbTable
         */
            this._cleanup();
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                this.dbRowList[Math.floor(Math.random() * this.dbRowList.length)]
            ));
        };

        local._DbTable.prototype.crudRemoveAll = function (onError) {
        /*
         * this function will remove all of the dbRow's from the dbTable
         */
            var idIndexList;
            // save idIndexList
            idIndexList = this.idIndexList;
            // reset dbTable
            local._DbTable.call(this, this);
            // restore idIndexList
            local.dbTableCreateOne({
                name: this.name,
                idIndexCreateList: idIndexList
            }, onError);
        };

        local._DbTable.prototype.crudRemoveManyById = function (idDictList, onError) {
        /*
         * this function will remove the dbRow's from the dbTable with the given idDictList
         */
            var self;
            self = this;
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                local.normalizeValue('list', idDictList).map(function (dbRow) {
                    return self._crudRemoveOneById(dbRow);
                })
            ));
        };

        local._DbTable.prototype.crudRemoveManyByQuery = function (query, onError) {
        /*
         * this function will remove the dbRow's from the dbTable with the given query
         */
            var self;
            self = this;
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                self._crudGetManyByQuery(query).map(function (dbRow) {
                    return self._crudRemoveOneById(dbRow);
                })
            ));
        };

        local._DbTable.prototype.crudRemoveOneById = function (idDict, onError) {
        /*
         * this function will remove the dbRow from the dbTable with the given idDict
         */
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                this._crudRemoveOneById(idDict)
            ));
        };

        local._DbTable.prototype.crudSetManyById = function (dbRowList, onError) {
        /*
         * this function will set the dbRowList into the dbTable
         */
            var self;
            self = this;
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                local.normalizeValue('list', dbRowList).map(function (dbRow) {
                    return self._crudSetOneById(dbRow);
                })
            ));
        };

        local._DbTable.prototype.crudSetOneById = function (dbRow, onError) {
        /*
         * this function will set the dbRow into the dbTable with the given dbRow._id
         */
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                this._crudSetOneById(dbRow)
            ));
        };

        local._DbTable.prototype.crudUpdateManyById = function (dbRowList, onError) {
        /*
         * this function will update the dbRowList in the dbTable,
         * if they exist with the given dbRow._id's
         */
            var self;
            self = this;
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                local.normalizeValue('list', dbRowList).map(function (dbRow) {
                    return self._crudUpdateOneById(dbRow);
                })
            ));
        };

        local._DbTable.prototype.crudUpdateManyByQuery = function (query, dbRow, onError) {
        /*
         * this function will update the dbRow's in the dbTable with the given query
         */
            var result, self, tmp;
            self = this;
            tmp = local.jsonCopy(local.objectSetOverride(dbRow));
            result = self._crudGetManyByQuery(query).map(function (dbRow) {
                tmp._id = dbRow._id;
                return self._crudUpdateOneById(tmp);
            });
            return local.setTimeoutOnError(onError, 0, null, result);
        };

        local._DbTable.prototype.crudUpdateOneById = function (dbRow, onError) {
        /*
         * this function will update the dbRow in the dbTable,
         * if it exists with the given dbRow._id
         */
            return local.setTimeoutOnError(onError, 0, null, local.dbRowProject(
                this._crudUpdateOneById(dbRow)
            ));
        };

        local._DbTable.prototype.drop = function (onError) {
        /*
         * this function will drop the dbTable
         */
            console.error('dropping dbTable ' + this.name + ' ...');
            // cancel pending save
            this.timerSave = null;
            while (this.onSaveList.length) {
                this.onSaveList.shift()();
            }
            // reset dbTable
            local._DbTable.call(this, this);
            // clear persistence
            local.storageRemoveItem('dbTable.' + this.name + '.json', onError);
        };

        local._DbTable.prototype.export = function (onError) {
        /*
         * this function will export the db
         */
            var result, self;
            this._cleanup();
            self = this;
            result = '';
            self.idIndexList.forEach(function (idIndex) {
                result += self.name + ' idIndexCreate ' + JSON.stringify({
                    isInteger: idIndex.isInteger,
                    name: idIndex.name
                }) + '\n';
            });
            result += self.name + ' sizeLimit ' + self.sizeLimit + '\n';
            result += self.name + ' sortDefault ' + JSON.stringify(self.sortDefault) + '\n';
            self.crudGetManyByQuery({}).forEach(function (dbRow) {
                result += self.name + ' dbRowSet ' + JSON.stringify(dbRow) + '\n';
            });
            return local.setTimeoutOnError(onError, 0, null, result.trim());
        };

        local._DbTable.prototype.idIndexCreate = function (options, onError) {
        /*
         * this function will create an idIndex with the given options.name
         */
            var dbRow, idIndex, ii, name;
            options = local.objectSetOverride(options);
            name = String(options.name);
            // disallow idIndex with dot-name
            if (name.indexOf('.') >= 0 || name === '_id') {
                return local.setTimeoutOnError(onError);
            }
            // remove existing idIndex
            this.idIndexRemove(options);
            // init idIndex
            idIndex = {
                dict: {},
                isInteger: !!options.isInteger,
                name: name
            };
            this.idIndexList.push(idIndex);
            // populate idIndex with dbRowList
            // optimization - for-loop
            for (ii = 0; ii < this.dbRowList.length; ii += 1) {
                dbRow = this.dbRowList[ii];
                // auto-set id
                if (!dbRow.$meta.isRemoved) {
                    idIndex.dict[local.dbRowSetId(dbRow, idIndex)] = dbRow;
                }
            }
            this.save();
            return local.setTimeoutOnError(onError);
        };

        local._DbTable.prototype.idIndexRemove = function (options, onError) {
        /*
         * this function will remove the idIndex with the given options.name
         */
            var name;
            options = local.objectSetOverride(options);
            name = String(options.name);
            this.idIndexList = this.idIndexList.filter(function (idIndex) {
                return idIndex.name !== name || idIndex.name === '_id';
            });
            this.save();
            return local.setTimeoutOnError(onError);
        };

        local._DbTable.prototype.save = function (onError) {
        /*
         * this function will save the dbTable to storage
         */
            var self;
            self = this;
            if (local.modeImport) {
                return;
            }
            if (onError) {
                self.onSaveList.push(onError);
            }
            // throttle storage-writes to once every 1000 ms
            self.timerSave = self.timerSave || setTimeout(function () {
                self.timerSave = null;
                local.storageSetItem('dbTable.' + self.name + '.json', self.export(), function (
                    error
                ) {
                    while (self.onSaveList.length) {
                        self.onSaveList.shift()(error);
                    }
                });
            }, 1000);
        };

        local.dbCrudRemoveAll = function (onError) {
        /*
         * this function will remove all dbRow's from the db
         */
            var onParallel;
            onParallel = local.onParallel(function (error) {
                local.setTimeoutOnError(onError, 0, error);
            });
            onParallel.counter += 1;
            Object.keys(local.dbTableDict).forEach(function (key) {
                onParallel.counter += 1;
                local.dbTableDict[key].crudRemoveAll(onParallel);
            });
            onParallel();
        };

        local.dbDrop = function (onError) {
        /*
         * this function will drop the db
         */
            var onParallel;
            onParallel = local.onParallel(function (error) {
                local.setTimeoutOnError(onError, 0, error);
            });
            onParallel.counter += 1;
            onParallel.counter += 1;
            local.storageClear(onParallel);
            Object.keys(local.dbTableDict).forEach(function (key) {
                onParallel.counter += 1;
                local.dbTableDict[key].drop(onParallel);
            });
            onParallel();
        };

        local.dbExport = function (onError) {
        /*
         * this function will export the db as serialized text
         */
            var result;
            result = '';
            Object.keys(local.dbTableDict).forEach(function (key) {
                result += local.dbTableDict[key].export();
                result += '\n\n';
            });
            return local.setTimeoutOnError(onError, 0, null, result.trim());
        };

        local.dbImport = function (text, onError) {
        /*
         * this function will import the serialized text into the db
         */
            var dbTable;
            local.modeImport = true;
            setTimeout(function () {
                local.modeImport = null;
            });
            text.replace((/^(\w\S*?) (\S+?) (\S.*?)$/gm), function (
                match0,
                match1,
                match2,
                match3
            ) {
                // jslint-hack
                local.nop(match0);
                switch (match2) {
                case 'dbRowSet':
                    dbTable = local.dbTableCreateOne({ isLoaded: true, name: match1 });
                    dbTable.crudSetOneById(JSON.parse(match3));
                    break;
                case 'idIndexCreate':
                    dbTable = local.dbTableCreateOne({ isLoaded: true, name: match1 });
                    dbTable.idIndexCreate(JSON.parse(match3));
                    break;
                case 'sizeLimit':
                    dbTable = local.dbTableCreateOne({ isLoaded: true, name: match1 });
                    dbTable.sizeLimit = JSON.parse(match3);
                    break;
                case 'sortDefault':
                    dbTable = local.dbTableCreateOne({ isLoaded: true, name: match1 });
                    break;
                default:
                    local.onErrorDefault(new Error('dbImport - invalid operation - ' + match0));
                }
            });
            local.modeImport = null;
            return local.setTimeoutOnError(onError);
        };

        local.dbLoad = function (onError) {
        /*
         * this function will load the db from storage
         */
            var onParallel;
            onParallel = local.onParallel(function (error) {
                local.setTimeoutOnError(onError, 0, error);
            });
            local.storageKeys(function (error, data) {
                onParallel.counter += 1;
                onParallel.counter += 1;
                onParallel(error);
                local.normalizeValue('list', data)
                    .filter(function (key) {
                        return key.indexOf('dbTable.') === 0;
                    })
                    .forEach(function (key) {
                        onParallel.counter += 1;
                        local.storageGetItem(key, function (error, data) {
                            onParallel.counter += 1;
                            onParallel(error);
                            local.dbImport(data, onParallel);
                        });
                    });
                onParallel();
            });
        };

        local.dbRowGetItem = function (dbRow, key) {
        /*
         * this function will get the item with the given key from dbRow
         */
            var ii, value;
            value = dbRow;
            key = String(key).split('.');
            // optimization - for-loop
            for (ii = 0; ii < key.length && typeof value === 'object' && value; ii += 1) {
                value = value[key[ii]];
            }
            return value === undefined
                ? null
                : value;
        };

        local.dbRowListGetManyByOperator = function (dbRowList, fieldName, operator, bb, not) {
        /*
         * this function will get the dbRow's in dbRowList with the given operator
         */
            var ii, jj, result, fieldValue, test, typeof2;
            result = [];
            typeof2 = typeof bb;
            if (bb && typeof2 === 'object') {
                switch (operator) {
                case '$in':
                case '$nin':
                case '$regex':
                    break;
                default:
                    return result;
                }
            }
            switch (operator) {
            case '$eq':
                test = function (aa, bb) {
                    return aa === bb;
                };
                break;
            case '$exists':
                bb = !bb;
                test = function (aa, bb) {
                    return !((aa === null) ^ bb);
                };
                break;
            case '$gt':
                test = function (aa, bb, typeof1, typeof2) {
                    return typeof1 === typeof2 && aa > bb;
                };
                break;
            case '$gte':
                test = function (aa, bb, typeof1, typeof2) {
                    return typeof1 === typeof2 && aa >= bb;
                };
                break;
            case '$in':
                if (bb && typeof bb.indexOf === 'function') {
                    if (typeof2 === 'string') {
                        test = function (aa, bb, typeof1, typeof2) {
                            return typeof1 === typeof2 && bb.indexOf(aa) >= 0;
                        };
                    } else {
                        test = function (aa, bb) {
                            return bb.indexOf(aa) >= 0;
                        };
                    }
                }
                break;
            case '$lt':
                test = function (aa, bb, typeof1, typeof2) {
                    return typeof1 === typeof2 && aa < bb;
                };
                break;
            case '$lte':
                test = function (aa, bb, typeof1, typeof2) {
                    return typeof1 === typeof2 && aa <= bb;
                };
                break;
            case '$ne':
                test = function (aa, bb) {
                    return aa !== bb;
                };
                break;
            case '$nin':
                if (bb && typeof bb.indexOf === 'function') {
                    if (typeof2 === 'string') {
                        test = function (aa, bb, typeof1, typeof2) {
                            return typeof1 === typeof2 && bb.indexOf(aa) < 0;
                        };
                    } else {
                        test = function (aa, bb) {
                            return bb.indexOf(aa) < 0;
                        };
                    }
                }
                break;
            case '$regex':
                if (bb && typeof bb.test === 'function') {
                    test = function (aa, bb) {
                        return bb.test(aa);
                    };
                }
                break;
            case '$typeof':
                test = function (aa, bb, typeof1) {
                    // jslint-hack
                    local.nop(aa);
                    return typeof1 === bb;
                };
                break;
            }
            if (!test) {
                return result;
            }
            // optimization - for-loop
            for (ii = dbRowList.length - 1; ii >= 0; ii -= 1) {
                fieldValue = local.dbRowGetItem(dbRowList[ii], fieldName);
                // normalize to list
                if (!Array.isArray(fieldValue)) {
                    fieldValue = [fieldValue];
                }
                // optimization - for-loop
                for (jj = fieldValue.length - 1; jj >= 0; jj -= 1) {
                    if (not ^ test(fieldValue[jj], bb, typeof fieldValue[jj], typeof2)) {
                        result.push(dbRowList[ii]);
                        break;
                    }
                }
            }
            return result;
        };

        local.dbRowListGetManyByQuery = function (dbRowList, query, fieldName, not) {
        /*
         * this function will get the dbRow's in dbRowList with the given query
         */
            var bb, dbRowDict, result;
            // optimization - convert to boolean
            not = !!not;
            result = dbRowList;
            if (!(typeof query === 'object' && query)) {
                result = local.dbRowListGetManyByOperator(result, fieldName, '$eq', query, not);
                return result;
            }
            Object.keys(query).some(function (key) {
                bb = query[key];
                switch (key) {
                case '$not':
                    key = fieldName;
                    not = !not;
                    break;
                case '$or':
                    if (!Array.isArray(bb)) {
                        break;
                    }
                    dbRowDict = {};
                    bb.forEach(function (query) {
                        // recurse
                        local.dbRowListGetManyByQuery(result, query).forEach(function (dbRow) {
                            dbRowDict[dbRow._id] = dbRow;
                        });
                    });
                    result = Object.keys(dbRowDict).map(function (id) {
                        return dbRowDict[id];
                    });
                    return !result.length;
                }
                if (key[0] === '$') {
                    result = local.dbRowListGetManyByOperator(result, fieldName, key, bb, not);
                    return !result.length;
                }
                // recurse
                result = local.dbRowListGetManyByQuery(result, bb, key, not);
                return !result.length;
            });
            return result;
        };

        local.dbRowProject = function (dbRow, fieldList) {
        /*
         * this function will deepcopy and project the dbRow with the given fieldList
         */
            var result;
            if (!dbRow) {
                return null;
            }
            // handle list-case
            if (Array.isArray(dbRow)) {
                return dbRow.map(function (dbRow) {
                    // recurse
                    return local.dbRowProject(dbRow, fieldList);
                });
            }
            // normalize to list
            if (!(Array.isArray(fieldList) && fieldList.length)) {
                fieldList = Object.keys(dbRow);
            }
            result = {};
            fieldList.forEach(function (key) {
                if (key[0] !== '$') {
                    result[key] = dbRow[key];
                }
            });
            return JSON.parse(local.jsonStringifyOrdered(result));
        };

        local.dbRowSetId = function (dbRow, idIndex) {
        /*
         * this function will set a random and unique id into dbRow for the given idIndex,
         * if it does not exist
         */
            var id;
            id = dbRow[idIndex.name];
            if (typeof id !== 'number' && typeof id !== 'string') {
                do {
                    id = idIndex.isInteger
                        ? (1 + Math.random()) * 0x10000000000000
                        : 'a' + ((1 + Math.random()) * 0x10000000000000).toString(36).slice(1);
                // optimization - hasOwnProperty
                } while (idIndex.dict.hasOwnProperty(id));
                dbRow[idIndex.name] = id;
            }
            return id;
        };

        local.dbSave = function (onError) {
        /*
         * this function will save the db to storage
         */
            var onParallel;
            onParallel = local.onParallel(function (error) {
                local.setTimeoutOnError(onError, 0, error);
            });
            onParallel.counter += 1;
            Object.keys(local.dbTableDict).forEach(function (key) {
                onParallel.counter += 1;
                local.dbTableDict[key].save(onParallel);
            });
            onParallel();
        };

        local.dbTableCreateMany = function (optionsList, onError) {
        /*
         * this function will set the optionsList into the db
         */
            var onParallel, result;
            onParallel = local.onParallel(function (error) {
                local.setTimeoutOnError(onError, 0, error, result);
            });
            onParallel.counter += 1;
            result = local.normalizeValue('list', optionsList).map(function (options) {
                onParallel.counter += 1;
                return local.dbTableCreateOne(options, onParallel);
            });
            return local.setTimeoutOnError(onParallel, 0, null, result);
        };

        local.dbTableCreateOne = function (options, onError) {
        /*
         * this function will create a dbTable with the given options
         */
            var self;
            options = local.objectSetOverride(options);
            // register dbTable
            self = local.dbTableDict[options.name] =
                local.dbTableDict[options.name] || new local._DbTable(options);
            self.sortDefault = options.sortDefault ||
                self.sortDefault ||
                [{ fieldName: '_timeUpdated', isDescending: true }];
            // remove idIndex
            local.normalizeValue('list', options.idIndexRemoveList).forEach(function (idIndex) {
                self.idIndexRemove(idIndex);
            });
            // create idIndex
            local.normalizeValue('list', options.idIndexCreateList).forEach(function (idIndex) {
                self.idIndexCreate(idIndex);
            });
            // upsert dbRow
            self.crudSetManyById(options.dbRowList);
            // restore dbTable from persistent-storage
            self.isLoaded = self.isLoaded || options.isLoaded;
            if (!self.isLoaded) {
                local.storageGetItem('dbTable.' + self.name + '.json', function (error, data) {
                    // validate no error occurred
                    local.assert(!error, error);
                    if (!self.isLoaded) {
                        local.dbImport(data);
                    }
                    self.isLoaded = true;
                    local.setTimeoutOnError(onError, 0, null, self);
                });
                return self;
            }
            return local.setTimeoutOnError(onError, 0, null, self);
        };

        local.dbTableDict = {};

        local.sortCompare = function (aa, bb, ii, jj) {
        /*
         * this function will compare aa vs bb and return:
         * -1 if aa < bb
         *  0 if aa === bb
         *  1 if aa > bb
         * the priority for comparing different typeof's is:
         * null < boolean < number < string < object < undefined
         */
            var typeof1, typeof2;
            if (aa === bb) {
                return ii < jj
                    ? -1
                    : 1;
            }
            if (aa === null) {
                return -1;
            }
            if (bb === null) {
                return 1;
            }
            typeof1 = typeof aa;
            typeof2 = typeof bb;
            if (typeof1 === typeof2) {
                return typeof1 === 'object'
                    ? 0
                    : aa > bb
                    ? 1
                    : -1;
            }
            if (typeof1 === 'boolean') {
                return -1;
            }
            if (typeof2 === 'boolean') {
                return 1;
            }
            if (typeof1 === 'number') {
                return -1;
            }
            if (typeof2 === 'number') {
                return 1;
            }
            if (typeof1 === 'string') {
                return -1;
            }
            if (typeof2 === 'string') {
                return 1;
            }
            return 0;
        };
    }());
    switch (local.modeJs) {



    // run node js-env code - init-after
    /* istanbul ignore next */
    case 'node':
        // init cli
        if (module !== require.main || local.global.utility2_rollup) {
            break;
        }
        local.cliDict = {};
        local.cliDict.dbTableCrudGetManyByQuery = function () {
        /*
         * dbTable query
         * query dbRowList from dbTable
         */
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {
                // validate no error occurred
                local.assert(!error, error);
                console.log(JSON.stringify(self.crudGetManyByQuery(
                    JSON.parse(process.argv[4] || '{}')
                ), null, 4));
            });
        };
        local.cliDict.dbTableCrudRemoveManyByQuery = function () {
        /*
         * dbTable query
         * query and remove dbRowList from dbTable
         */
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {
                // validate no error occurred
                local.assert(!error, error);
                console.log(JSON.stringify(self.crudRemoveManyByQuery(
                    JSON.parse(process.argv[4])
                ), null, 4));
            });
        };
        local.cliDict.dbTableCrudSetManyById = function () {
        /*
         * dbTable dbRowList
         * set dbRowList into dbTable
         */
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {
                // validate no error occurred
                local.assert(!error, error);
                self.crudSetManyById(JSON.parse(process.argv[4]));
            });
        };
        local.cliDict.dbTableHeaderDictGet = function () {
        /*
         * dbTable
         * get headerDict from dbTable
         */
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {
                // validate no error occurred
                local.assert(!error, error);
                var tmp;
                tmp = [];
                self.idIndexList.forEach(function (idIndex) {
                    tmp.push({ isInteger: idIndex.isInteger, name: idIndex.name });
                });
                console.log(JSON.stringify({
                    idIndexList: tmp,
                    sizeLimit: self.sizeLimit,
                    sortDefault: self.sortDefault
                }, null, 4));
            });
        };
        local.cliDict.dbTableHeaderDictSet = function () {
        /*
         * dbTable
         * set headerDict into dbTable
         */
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {
                // validate no error occurred
                local.assert(!error, error);
                local.tmp = JSON.parse(process.argv[4]);
                self.sizeLimit = local.tmp.sizeLimit || self.sizeLimit;
                self.sortDefault = local.tmp.sortDefault || self.sortDefault;
                self.save();
                local.tmp = [];
                self.idIndexList.forEach(function (idIndex) {
                    local.tmp.push({ isInteger: idIndex.isInteger, name: idIndex.name });
                });
                local.cliDict.dbTableHeaderDictGet();
            });
        };
        local.cliDict.dbTableIdIndexCreate = function () {
        /*
         * dbTable idIndex
         * create idIndex in dbTable
         */
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {
                // validate no error occurred
                local.assert(!error, error);
                self.idIndexCreate(JSON.parse(process.argv[4]));
                self.save();
                local.tmp = [];
                self.idIndexList.forEach(function (idIndex) {
                    local.tmp.push({ isInteger: idIndex.isInteger, name: idIndex.name });
                });
                local.cliDict.dbTableHeaderDictGet();
            });
        };
        local.cliDict.dbTableIdIndexRemove = function () {
        /*
         * dbTable idIndex
         * remove idIndex from dbTable
         */
            local.dbTableCreateOne({ name: process.argv[3] }, function (error, self) {
                // validate no error occurred
                local.assert(!error, error);
                self.idIndexRemove(JSON.parse(process.argv[4]));
                self.save();
                local.cliDict.dbTableHeaderDictGet();
            });
        };
        local.cliDict.dbTableList = function () {
        /*
         * [none]
         * list dbTable's in db
         */
            local.storageKeys(function (error, data) {
                // validate no error occurred
                local.assert(!error, error);
                console.log(JSON.stringify(data.map(function (element) {
                    return element.split('.').slice(1, -1).join('.');
                }), null, 4));
            });
        };
        local.cliDict.dbTableRemove = function () {
        /*
         * dbTable
         * remove dbTable from db
         */
            local.storageRemoveItem('dbTable.' + process.argv[3] + '.json', function (error) {
                // validate no error occurred
                local.assert(!error, error);
                local.cliDict.dbTableList();
            });
        };
        local.cliRun();
        break;
    }
}());
/* script-end /assets.lib.js */



/* script-begin /assets.example.js */
/*
example.js

this script will run a web-demo of db-lite

instruction
    1. save this script as example.js
    2. run the shell command:
        $ npm install db-lite && PORT=8081 node example.js
    3. open a browser to http://127.0.0.1:8081 and play with the web-demo
    4. edit this script to suit your needs
*/



/* istanbul instrument in package db */
/* jslint-utility2 */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;



    // run shared js-env code - init-before
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || (local.modeJs === 'browser'
            ? local.global.utility2_db
            : global.utility2_moduleExports);
        // init exports
        local.global.local = local;
        // load db
        local.db.dbLoad(function () {
            console.log('db loaded from ' + local.storageDir);
        });
    }());
    switch (local.modeJs) {



    // run browser js-env code - init-test
    /* istanbul ignore next */
    case 'browser':
        local.testRunBrowser = function (event) {
            var reader, tmp;
            if (!event || (event &&
                    event.currentTarget &&
                    event.currentTarget.className &&
                    event.currentTarget.className.includes &&
                    event.currentTarget.className.includes('onreset'))) {
                // reset output
                Array.from(
                    document.querySelectorAll('body > .resettable')
                ).forEach(function (element) {
                    switch (element.tagName) {
                    case 'INPUT':
                    case 'TEXTAREA':
                        element.value = '';
                        break;
                    default:
                        element.textContent = '';
                    }
                });
            }
            switch (event && event.currentTarget && event.currentTarget.id) {
            case 'testRunButton1':
                // show tests
                if (document.querySelector('#testReportDiv1').style.maxHeight === '0px') {
                    local.uiAnimateSlideDown(document.querySelector('#testReportDiv1'));
                    document.querySelector('#testRunButton1').textContent = 'hide internal test';
                    local.modeTest = true;
                    local.testRunDefault(local);
                // hide tests
                } else {
                    local.uiAnimateSlideUp(document.querySelector('#testReportDiv1'));
                    document.querySelector('#testRunButton1').textContent = 'run internal test';
                }
                break;
            // custom-case
            case 'dbExportButton1':
                tmp = window.URL.createObjectURL(new window.Blob([local.db.dbExport()]));
                document.querySelector('#dbExportA1').href = tmp;
                document.querySelector('#dbExportA1').click();
                setTimeout(function () {
                    window.URL.revokeObjectURL(tmp);
                }, 30000);
                break;
            case 'dbImportButton1':
                document.querySelector('#dbImportInput1').click();
                break;
            case 'dbImportInput1':
                console.log('importing db-lite database ...');
                reader = new window.FileReader();
                tmp = document.querySelector('#dbImportInput1').files[0];
                if (!tmp) {
                    return;
                }
                reader.addEventListener('load', function () {
                    local.db.dbImport(reader.result);
                    console.log('... imported db-lite database');
                });
                reader.readAsText(tmp);
                break;
            case 'dbResetButton1':
                console.log('resetting db-lite database ...');
                local.db.dbDrop(function () {
                    console.log('... resetted db-lite database');
                });
                break;
            }
            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&
                    event.currentTarget &&
                    event.currentTarget.className &&
                    event.currentTarget.className.includes &&
                    event.currentTarget.className.includes('oneval')))) {
                // try to eval input-code
                try {
                    /*jslint evil: true*/
                    eval(document.querySelector('#inputTextareaEval1').value);
                } catch (errorCaught) {
                    console.error(errorCaught);
                }
            }
        };
        // log stderr and stdout to #outputTextareaStdout1
        ['error', 'log'].forEach(function (key) {
            console[key + '_original'] = console[key];
            console[key] = function () {
                var element;
                console[key + '_original'].apply(console, arguments);
                element = document.querySelector('#outputTextareaStdout1');
                if (!element) {
                    return;
                }
                // append text to #outputTextareaStdout1
                element.value += Array.from(arguments).map(function (arg) {
                    return typeof arg === 'string'
                        ? arg
                        : JSON.stringify(arg, null, 4);
                }).join(' ') + '\n';
                // scroll textarea to bottom
                element.scrollTop = element.scrollHeight;
            };
        });
        // init event-handling
        ['change', 'click', 'keyup'].forEach(function (event) {
            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {
                element.addEventListener(event, local.testRunBrowser);
            });
        });
        // run tests
        local.testRunBrowser();
        break;



    // run node js-env code - init-test
    /* istanbul ignore next */
    case 'node':
        // init exports
        module.exports = local;
        // require builtins
        // local.assert = require('assert');
        local.buffer = require('buffer');
        local.child_process = require('child_process');
        local.cluster = require('cluster');
        local.console = require('console');
        local.constants = require('constants');
        local.crypto = require('crypto');
        local.dgram = require('dgram');
        local.dns = require('dns');
        local.domain = require('domain');
        local.events = require('events');
        local.fs = require('fs');
        local.http = require('http');
        local.https = require('https');
        local.module = require('module');
        local.net = require('net');
        local.os = require('os');
        local.path = require('path');
        local.process = require('process');
        local.punycode = require('punycode');
        local.querystring = require('querystring');
        local.readline = require('readline');
        local.repl = require('repl');
        local.stream = require('stream');
        local.string_decoder = require('string_decoder');
        local.timers = require('timers');
        local.tls = require('tls');
        local.tty = require('tty');
        local.url = require('url');
        local.util = require('util');
        local.v8 = require('v8');
        local.vm = require('vm');
        local.zlib = require('zlib');
/* validateLineSortedReset */
        // init assets
        local.assetsDict = local.assetsDict || {};
        /* jslint-ignore-begin */
        local.assetsDict['/assets.index.template.html'] = '\
<!doctype html>\n\
<html lang="en">\n\
<head>\n\
<meta charset="UTF-8">\n\
<meta name="viewport" content="width=device-width, initial-scale=1">\n\
<!-- "assets.index.default.template.html" -->\n\
<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\n\
<style>\n\
/* jslint-utility2 */\n\
/*csslint\n\
*/\n\
/* jslint-ignore-begin */\n\
*,\n\
*:after,\n\
*:before {\n\
    box-sizing: border-box;\n\
}\n\
/* jslint-ignore-end */\n\
@keyframes uiAnimateShake {\n\
    0%, 50% {\n\
        transform: translateX(10px);\n\
    }\n\
    25%, 75% {\n\
        transform: translateX(-10px);\n\
    }\n\
    100% {\n\
        transform: translateX(0);\n\
    }\n\
}\n\
@keyframes uiAnimateSpin {\n\
    0% {\n\
        transform: rotate(0deg);\n\
    }\n\
    100% {\n\
        transform: rotate(360deg);\n\
    }\n\
}\n\
a {\n\
    overflow-wrap: break-word;\n\
}\n\
body > div,\n\
body > pre,\n\
body > textarea,\n\
body > .button {\n\
    margin-bottom: 20px;\n\
}\n\
body > textarea {\n\
    height: 10rem;\n\
    width: 100%;\n\
}\n\
body > textarea[readonly] {\n\
    background: #ddd;\n\
}\n\
body > .button {\n\
    width: 20rem;\n\
}\n\
code,\n\
pre,\n\
textarea {\n\
    font-family: Consolas, Menlo, monospace;\n\
    font-size: small;\n\
}\n\
pre {\n\
    overflow-wrap: break-word;\n\
    white-space: pre-wrap;\n\
}\n\
textarea {\n\
    overflow: auto;\n\
    white-space: pre;\n\
}\n\
.button {\n\
    background-color: #fff;\n\
    border: 1px solid;\n\
    border-bottom-color: rgb(186, 186, 186);\n\
    border-left-color: rgb(209, 209, 209);\n\
    border-radius: 4px;\n\
    border-right-color: rgb(209, 209, 209);\n\
    border-top-color: rgb(216, 216, 216);\n\
    color: #00d;\n\
    cursor: pointer;\n\
    display: inline-block;\n\
    font-family: Arial, Helvetica, sans-serif;\n\
    font-size: 12px;\n\
    font-style: normal;\n\
    font-weight: normal;\n\
    margin: 0;\n\
    padding: 2px 7px 3px 7px;\n\
    text-align: center;\n\
    text-decoration: underline;\n\
}\n\
.colorError {\n\
    color: #d00;\n\
}\n\
.uiAnimateShake {\n\
    animation-duration: 500ms;\n\
    animation-name: uiAnimateShake;\n\
}\n\
.uiAnimateSlide {\n\
    overflow-y: hidden;\n\
    transition: max-height ease-in 250ms, min-height ease-in 250ms, padding-bottom ease-in 250ms, padding-top ease-in 250ms;\n\
}\n\
.utility2FooterDiv {\n\
    text-align: center;\n\
}\n\
.zeroPixel {\n\
    border: 0;\n\
    height: 0;\n\
    margin: 0;\n\
    padding: 0;\n\
    width: 0;\n\
}\n\
</style>\n\
</head>\n\
<body style="background: #eef; font-family: Arial, Helvetica, sans-serif; margin: 0 40px;">\n\
<div id="ajaxProgressDiv1" style="background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 500ms, width 1500ms; width: 0%; z-index: 1;"></div>\n\
<div class="uiAnimateSpin" style="animation: uiAnimateSpin 2s linear infinite; border: 5px solid #999; border-radius: 50%; border-top: 5px solid #7d7; display: none; height: 25px; vertical-align: middle; width: 25px;"></div>\n\
<code style="display: none;"></code><div class="button uiAnimateShake uiAnimateSlide utility2FooterDiv zeroPixel" style="display: none;"></div><pre style="display: none;"></pre><textarea readonly style="display: none;"></textarea>\n\
<script>\n\
/* jslint-utility2 */\n\
/*jslint\n\
    bitwise: true,\n\
    browser: true,\n\
    maxerr: 4,\n\
    maxlen: 100,\n\
    node: true,\n\
    nomen: true,\n\
    regexp: true,\n\
    stupid: true\n\
*/\n\
(function () {\n\
    "use strict";\n\
    var ajaxProgressDiv1,\n\
        ajaxProgressState,\n\
        ajaxProgressUpdate,\n\
        timerIntervalAjaxProgressUpdate;\n\
    ajaxProgressDiv1 = document.querySelector("#ajaxProgressDiv1");\n\
    setTimeout(function () {\n\
        ajaxProgressDiv1.style.width = "25%";\n\
    });\n\
    ajaxProgressState = 0;\n\
    ajaxProgressUpdate = (window.local &&\n\
        window.local.ajaxProgressUpdate) || function () {\n\
        ajaxProgressDiv1.style.width = "100%";\n\
        setTimeout(function () {\n\
            ajaxProgressDiv1.style.background = "transparent";\n\
            setTimeout(function () {\n\
                ajaxProgressDiv1.style.width = "0%";\n\
            }, 500);\n\
        }, 1500);\n\
    };\n\
    timerIntervalAjaxProgressUpdate = setInterval(function () {\n\
        ajaxProgressState += 1;\n\
        ajaxProgressDiv1.style.width = Math.max(\n\
            100 - 75 * Math.exp(-0.125 * ajaxProgressState),\n\
            Number(ajaxProgressDiv1.style.width.slice(0, -1)) || 0\n\
        ) + "%";\n\
    }, 1000);\n\
    window.addEventListener("load", function () {\n\
        clearInterval(timerIntervalAjaxProgressUpdate);\n\
        ajaxProgressUpdate();\n\
    });\n\
}());\n\
</script>\n\
<h1>\n\
<!-- utility2-comment\n\
    <a\n\
        {{#if env.npm_package_homepage}}\n\
        href="{{env.npm_package_homepage}}"\n\
        {{/if env.npm_package_homepage}}\n\
        target="_blank"\n\
    >\n\
utility2-comment -->\n\
        {{env.npm_package_name}} (v{{env.npm_package_version}})\n\
<!-- utility2-comment\n\
    </a>\n\
utility2-comment -->\n\
</h1>\n\
<h3>{{env.npm_package_description}}</h3>\n\
<!-- utility2-comment\n\
<a class="button" download href="assets.app.js">download standalone app</a><br>\n\
<button class="button onclick onreset" id="testRunButton1">run internal test</button><br>\n\
<div class="uiAnimateSlide" id="testReportDiv1" style="border-bottom: 0; border-top: 0; margin-bottom: 0; margin-top: 0; max-height: 0; padding-bottom: 0; padding-top: 0;"></div>\n\
utility2-comment -->\n\
\n\
\n\
\n\
<button class="button onclick onreset" id="dbResetButton1">reset database</button><br>\n\
<button class="button onclick" id="dbExportButton1">export database -&gt; file</button><br>\n\
<a download="db.persistence.json" href="" id="dbExportA1"></a>\n\
<button class="button onclick" id="dbImportButton1">import database &lt;- file</button><br>\n\
<input class="onchange onreset zeroPixel" type="file" id="dbImportInput1">\n\
<label>edit or paste script below to\n\
    <a\n\
        href="https://kaizhu256.github.io/node-db-lite/build..beta..travis-ci.org/apidoc.html"\n\
        target="_blank"\n\
    >eval</a>\n\
</label>\n\
<textarea id="inputTextareaEval1">\n\
/*jslint browser: true, node: true*/\n\
"use strict";\n\
var dbTable1, modeNext, onNext;\n\
modeNext = 0;\n\
onNext = function (error, data) {\n\
    modeNext = error\n\
        ? Infinity\n\
        : modeNext + 1;\n\
    switch (modeNext) {\n\
    case 1:\n\
        dbTable1 = window.dbTable1 = window.utility2_db.dbTableCreateOne({\n\
            name: "dbTable1"\n\
        }, onNext);\n\
        break;\n\
    case 2:\n\
        dbTable1.idIndexCreate({ name: "field1" }, onNext);\n\
        break;\n\
    case 3:\n\
        dbTable1.crudSetOneById({ field1: "aa", field2: 1, field3: "foo" }, onNext);\n\
        break;\n\
    case 4:\n\
        dbTable1.crudSetOneById({ field1: "bb", field2: 2, field3: "bar" }, onNext);\n\
        break;\n\
    case 5:\n\
        dbTable1.crudSetOneById({ field1: "cc", field2: 3, field3: "baz" }, onNext);\n\
        break;\n\
    case 6:\n\
        dbTable1.crudRemoveOneById({ field1: "aa" }, onNext);\n\
        break;\n\
    case 7:\n\
        dbTable1.crudUpdateOneById({ field1: "bb", field2: -1 }, onNext);\n\
        break;\n\
    case 8:\n\
        dbTable1.crudSetOneById({ field2: Math.random() }, onNext);\n\
        break;\n\
    case 9:\n\
        dbTable1.crudGetManyByQuery({\n\
            limit: Infinity,\n\
            query: { field2: { $gte: -Infinity, $lte: Infinity } },\n\
            skip: 0,\n\
            sort: [{ fieldName: "_timeUpdated", idDescending: true }]\n\
        }, onNext);\n\
        break;\n\
    case 10:\n\
        console.log(data);\n\
        dbTable1.crudCountAll(onNext);\n\
        break;\n\
    case 11:\n\
        console.log("number of rows: " + data);\n\
        break;\n\
    default:\n\
        console.error(error.stack);\n\
    }\n\
};\n\
onNext();\n\
</textarea>\n\
<button class="button onclick oneval onreset" id="dbEvalButton1">eval script</button><br>\n\
<label>stderr and stdout</label>\n\
<textarea class="resettable" id="outputTextareaStdout1" readonly></textarea>\n\
<!-- utility2-comment\n\
{{#if isRollup}}\n\
<script src="assets.app.js"></script>\n\
{{#unless isRollup}}\n\
utility2-comment -->\n\
<script src="assets.utility2.rollup.js"></script>\n\
<script>window.utility2.onResetBefore.counter += 1;</script>\n\
<script src="jsonp.utility2.stateInit?callback=window.utility2.stateInit"></script>\n\
<script src="assets.db.js"></script>\n\
<script src="assets.example.js"></script>\n\
<script src="assets.test.js"></script>\n\
<script>window.utility2.onResetBefore();</script>\n\
<!-- utility2-comment\n\
{{/if isRollup}}\n\
utility2-comment -->\n\
<div class="utility2FooterDiv">\n\
    [ this app was created with\n\
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>\n\
    ]\n\
</div>\n\
</body>\n\
</html>\n\
';
        /* jslint-ignore-end */
        [
            'assets.index.css',
            'assets.index.template.html',
            'assets.swgg.swagger.json',
            'assets.swgg.swagger.server.json'
        ].forEach(function (file) {
            file = '/' + file;
            local.assetsDict[file] = local.assetsDict[file] || '';
            if (local.fs.existsSync(local.__dirname + file)) {
                local.assetsDict[file] = local.fs.readFileSync(
                    local.__dirname + file,
                    'utf8'
                );
            }
        });
/* validateLineSortedReset */
        // bug-workaround - long $npm_package_buildCustomOrg
        /* jslint-ignore-begin */
        local.assetsDict['/assets.db.js'] = local.assetsDict['/assets.db.js'] ||
            local.fs.readFileSync(local.__dirname + '/lib.db.js', 'utf8'
        ).replace((/^#!/), '//');
/* validateLineSortedReset */
        local.assetsDict['/'] =
            local.assetsDict['/assets.example.html'] =
            local.assetsDict['/assets.index.template.html']
            .replace((/\{\{env\.(\w+?)\}\}/g), function (match0, match1) {
                switch (match1) {
                case 'npm_package_description':
                    return 'the greatest app in the world!';
                case 'npm_package_name':
                    return 'db-lite';
                case 'npm_package_nameLib':
                    return 'db';
                case 'npm_package_version':
                    return '0.0.1';
                default:
                    return match0;
                }
            });
        // init cli
        if (module !== require.main || local.global.utility2_rollup) {
            break;
        }
        local.assetsDict['/assets.example.js'] =
            local.assetsDict['/assets.example.js'] ||
            local.fs.readFileSync(__filename, 'utf8');
        /* jslint-ignore-end */
        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';
        // if $npm_config_timeout_exit exists,
        // then exit this process after $npm_config_timeout_exit ms
        if (Number(process.env.npm_config_timeout_exit)) {
            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));
        }
        // start server
        if (local.global.utility2_serverHttp1) {
            break;
        }
        process.env.PORT = process.env.PORT || '8081';
        console.error('server starting on port ' + process.env.PORT);
        local.http.createServer(function (request, response) {
            request.urlParsed = local.url.parse(request.url);
            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {
                response.end(local.assetsDict[request.urlParsed.pathname]);
                return;
            }
            response.statusCode = 404;
            response.end();
        }).listen(process.env.PORT);
        break;
    }
}());
/* script-end /assets.example.js */



/* script-begin /assets.test.js */
/* istanbul instrument in package db */
/* jslint-utility2 */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 4,
    maxlen: 100,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;



    // run shared js-env code - init-before
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &&
                    typeof document.querySelector('body') === 'object' &&
                    typeof XMLHttpRequest.prototype.open === 'function' &&
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &&
                    typeof process.versions.node === 'string' &&
                    typeof require('http').createServer === 'function' &&
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // re-init local
        local = local.global.local = (local.global.utility2 ||
            require('utility2')).requireReadme();
        // init test
        local.testRunInit(local);
    }());



    // run shared js-env code - function
    (function () {
        local.testCase_consoleLog_default = function (options, onError) {
        /*
         * this function will test consoleLog's default handling-behavior
         */
            options = {};
            options.data = null;
            console.log(options.data);
            options.data = '\n';
            console.log(options.data);
            onError();
        };

        local.testCase_dbTable_crudGetManyByQuery = function (options, onError) {
        /*
         * this function will test dbTable's crudGetManyByQuery handling-behavior
         */
            options = {};
            // test dbTableCreateOne's create handling-behavior
            options.dbTable = local.dbTableCreateOne({
                name: 'testCase_dbTable_crudGetManyByQuery'
            });
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // test isDirty handling-behavior
            options.dbTable.crudRemoveOneById(options.dbTable.crudSetOneById({
                field1: 'dirty'
            }));
            // test null-case handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                // test shuffle handling-behavior
                shuffle: true
            });
            local.assertJsonEqual(options.data.length, 0);
            local.assertJsonEqual(options.data, []);
            options.data = [
                [],
                [[], '', 0, {}, false, null, undefined].sort(),
                -0.5,
                -1,
                -Infinity,
                0,
                0.5,
                1,
                Infinity,
                NaN,
                {},
                false,
                null,
                true,
                undefined
            ].sort().map(function (element) {
                return { field1: element };
            });
            options.data = options.data.concat.apply(
                options.data,
                options.data.map(function (dbRow) {
                    return { field1: JSON.stringify(dbRow.field1) };
                })
            );
            // test dbTableCreateOne's crudSetManyById handling-behavior
            options.data = options.dbTable.crudSetManyById(options.data);
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 30);
            // validate data
            [
                [],
                [[], '', 0, {}, false, null, null],
                -0.5,
                -1,
                undefined,
                0,
                0.5,
                1,
                undefined,
                undefined,
                {},
                false,
                undefined,
                true,
                undefined,
                '[]',
                '[[],"",0,{},false,null,null]',
                '-0.5',
                '-1',
                'null',
                '0',
                '0.5',
                '1',
                'null',
                'null',
                '{}',
                'false',
                'null',
                'true',
                undefined
            ].forEach(function (element, ii) {
                local.assertJsonEqual(element, options.data[ii].field1);
            });
            // test null-case handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $undefined: null } },
                sort: [{ fieldName: 'field1' }]
            });
            local.assertJsonEqual(options.data.length, 0);
            local.assertJsonEqual(options.data, []);
            // test null-case handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $undefined: {} } },
                sort: [{ fieldName: 'field1' }]
            });
            local.assertJsonEqual(options.data.length, 0);
            local.assertJsonEqual(options.data, []);
            // test $eq's boolean handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: true },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 1);
            local.assertJsonEqual(options.data, [true]);
            // test $eq's null-case handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: null },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 7);
            local.assertJsonEqual(
                options.data.slice(0, -1),
                [null, null, null, null, null, null]
            );
            // test $eq's number handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: 0 },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 2);
            local.assertJsonEqual(options.data.slice(0, -1), [0]);
            // test $eq's string handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: '{}' },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 1);
            local.assertJsonEqual(options.data, ['{}']);
            // test $exists's false handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $exists: false } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 7);
            // test $exists's null-case handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $exists: null } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 7);
            // test $exists's true handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $exists: true } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 23);
            // test $gt's boolean handling-behavior
            // test $lt's boolean handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $gt: false, $lt: true } },
                sort: [{ fieldName: 'field1' }]
            });
            local.assertJsonEqual(options.data.length, 0);
            local.assertJsonEqual(options.data, []);
            // test $gt's null-case handling-behavior
            // test $lt's null-case handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $gt: false, $lt: true } },
                sort: [{ fieldName: 'field1' }]
            });
            local.assertJsonEqual(options.data.length, 0);
            local.assertJsonEqual(options.data, []);
            // test $gt's number handling-behavior
            // test $lt's number handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $gt: -1, $lt: 1 } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 4);
            local.assertJsonEqual(options.data.slice(0, -1), [-0.5, 0, 0.5]);
            // test $gt's string handling-behavior
            // test $lt's string handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $gt: 'false', $lt: 'true' } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 4);
            local.assertJsonEqual(options.data, ['null', 'null', 'null', 'null']);
            // test $gte's boolean handling-behavior
            // test $lte's boolean handling-behavior
            // test $ne's boolean handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $gte: false, $lte: true, $ne: false } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 2);
            local.assertJsonEqual(options.data.slice(0, -1), [true]);
            // test $gte's null-case handling-behavior
            // test $lte's null-case handling-behavior
            // test $ne's null-case handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $gte: null, $lte: null, $ne: null } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 1);
            local.assertJsonEqual(options.data.slice(0, -1), []);
            // test $gte's number handling-behavior
            // test $lte's number handling-behavior
            // test $ne's number handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $gte: -1, $lte: 1, $ne: 0 } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 5);
            local.assertJsonEqual(options.data.slice(0, -1), [-1, -0.5, 0.5, 1]);
            // test $gte's number handling-behavior
            // test $lte's number handling-behavior
            // test $ne's number handling-behavior
            // test fieldList handling-behavior
            // test limit handling-behavior
            // test skip handling-behavior
            // test sort's isDescending handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                fieldList: ['field1'],
                limit: 2,
                query: { field1: { $gte: -1, $lte: 1, $ne: 0 } },
                skip: 2,
                sort: [{ fieldName: 'field1', isDescending: true }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 2);
            local.assertJsonEqual(options.data.slice(), [0.5, -0.5]);
            // test $gte's string handling-behavior
            // test $lte's string handling-behavior
            // test $ne's string handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $gte: 'false', $lte: 'true', $ne: 'null' } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 2);
            local.assertJsonEqual(options.data, ['false', 'true']);
            // test $in's list handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $in: [true, 1] } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 2);
            local.assertJsonEqual(options.data, [true, 1]);
            // test $in's null-case handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $in: null } },
                sort: [{ fieldName: 'field1' }]
            });
            local.assertJsonEqual(options.data.length, 0);
            local.assertJsonEqual(options.data, []);
            // test $in's string handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $in: '0.5' } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 3);
            local.assertJsonEqual(options.data.slice(0, -1), ['0', '0.5']);
            // test $nin's list handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $nin: [0, null] } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 22);
            // test $nin's null-case handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $nin: null } },
                sort: [{ fieldName: 'field1' }]
            });
            local.assertJsonEqual(options.data.length, 0);
            local.assertJsonEqual(options.data, []);
            // test $nin's string handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: {
                    $nin: '[[],"",0,1,{},false,null,true]'
                } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 4);
            local.assertJsonEqual(options.data.slice(0, -1), ['-0.5', '-1', '0.5']);
            // test $not's number handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: {
                    $not: { $gte: 0 }
                } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 26);
            local.assertJsonEqual(options.data.slice(0, 15), [
                null,
                null,
                null,
                null,
                null,
                null,
                false,
                true,
                -1,
                -0.5,
                '-0.5',
                '-1',
                '0',
                '0.5',
                '1'
            ]);
            // test $not's string handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: {
                    $not: { $gte: '0' }
                } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 17);
            local.assertJsonEqual(options.data.slice(0, -1), [
                null,
                null,
                null,
                null,
                null,
                null,
                false,
                true,
                -1,
                -0.5,
                0,
                0.5,
                1,
                '-0.5',
                '-1',
                {}
            ]);
            // test $or's null-case handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { $or: null },
                sort: [{ fieldName: 'field1' }]
            });
            local.assertJsonEqual(options.data.length, 0);
            local.assertJsonEqual(options.data, []);
            // test $or's empty-list handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { $or: [] },
                sort: [{ fieldName: 'field1' }]
            });
            local.assertJsonEqual(options.data.length, 0);
            local.assertJsonEqual(options.data, []);
            // test $or's list handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { $or: [
                    { field1: { $eq: -0.5 } },
                    { field1: { $eq: 0 } },
                    { field1: { $eq: 0.5 } }
                ] },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 4);
            local.assertJsonEqual(options.data.slice(0, -1), [-0.5, 0, 0.5]);
            // test $regex's regex handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $regex: (/1|true/) } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 6);
            local.assertJsonEqual(options.data, [true, -1, 1, '-1', '1', 'true']);
            // test $regex's null-case handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $regex: null } },
                sort: [{ fieldName: 'field1' }]
            });
            local.assertJsonEqual(options.data.length, 0);
            local.assertJsonEqual(options.data, []);
            // test $typeof's boolean handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $typeof: 'boolean' } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 3);
            // test $typeof's null-case handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $typeof: null } },
                sort: [{ fieldName: 'field1' }]
            });
            local.assertJsonEqual(options.data.length, 0);
            local.assertJsonEqual(options.data, []);
            // test $typeof's number handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $typeof: 'number' } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 6);
            // test $typeof's object handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $typeof: 'object' } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 8);
            // test $typeof's string handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $typeof: 'string' } },
                sort: [{ fieldName: 'field1' }]
            }).map(function (dbRow) {
                return dbRow.field1;
            });
            local.assertJsonEqual(options.data.length, 15);
            // test $typeof's symbol handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $typeof: 'symbol' } },
                sort: [{ fieldName: 'field1' }]
            });
            local.assertJsonEqual(options.data.length, 0);
            local.assertJsonEqual(options.data, []);
            // test $typeof's undefined handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { field1: { $typeof: 'undefined' } },
                sort: [{ fieldName: 'field1' }]
            });
            local.assertJsonEqual(options.data.length, 0);
            local.assertJsonEqual(options.data, []);
            onError();
        };

        local.testCase_dbTable_crudNullCase = function (options, onError) {
        /*
         * this function will test dbTable's crud null-case handling-behavior
         */
            options = {};
            // test dbTableCreateMany's null-case handling-behavior
            local.dbTableCreateMany();
            // test dbTableCreateOne's onError handling-behavior
            options.dbTable = local.dbTableCreateOne({
                name: 'testCase_dbTable_crudNullCase'
            }, local.onErrorDefault);
            // test dbTableCreateOne's null-case handling-behavior
            options.dbTable = local.dbTableCreateOne({
                name: 'testCase_dbTable_crudNullCase'
            });
            // test crudRemoveAll's null-case handling-behavior
            options.dbTable.crudRemoveAll();
            // test cancel-pending-save handling-behavior
            options.dbTable.save(local.nop);
            // test drop's null-case handling-behavior
            options.dbTable.drop();
            // test idIndexCreate's null-case handling-behavior
            options.dbTable.idIndexCreate({ name: '_id' });
            // test idIndexRemove's null-case handling-behavior
            options.dbTable.idIndexRemove({ name: '_id' });
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // test crudCountManyByQuery's null-case handling-behavior
            options.data = options.dbTable.crudCountManyByQuery();
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // validate data
            local.assertJsonEqual(options.data, 0);
            // test crudGetManyById's null-case handling-behavior
            options.data = options.dbTable.crudGetManyById();
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // validate data
            local.assertJsonEqual(options.data, []);
            // test crudGetManyByQuery's null-case handling-behavior
            options.data = options.dbTable.crudGetManyByQuery();
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // validate data
            local.assertJsonEqual(options.data, []);
            // test crudGetOneById's null-case handling-behavior
            options.data = options.dbTable.crudGetOneById();
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // validate data
            local.assertJsonEqual(options.data, null);
            // test crudGetOneByRandom's null-case handling-behavior
            options.data = options.dbTable.crudGetOneByRandom();
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // validate data
            local.assertJsonEqual(options.data, null);
            // test crudGetOneByQuery's null-case handling-behavior
            options.data = options.dbTable.crudGetOneByQuery();
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // validate data
            local.assertJsonEqual(options.data, null);
            // test crudRemoveManyById's null-case handling-behavior
            options.data = options.dbTable.crudRemoveManyById();
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // validate data
            local.assertJsonEqual(options.data, []);
            // test crudRemoveManyByQuery's null-case handling-behavior
            options.data = options.dbTable.crudRemoveManyByQuery();
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // validate data
            local.assertJsonEqual(options.data, []);
            // test crudRemoveOneById's null-case handling-behavior
            options.data = options.dbTable.crudRemoveOneById();
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // validate data
            local.assertJsonEqual(options.data, null);
            // test crudUpdateManyById's null-case handling-behavior
            options.data = options.dbTable.crudUpdateManyById();
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // validate data
            local.assertJsonEqual(options.data, []);
            // test crudUpdateManyByQuery's null-case handling-behavior
            options.data = options.dbTable.crudUpdateManyByQuery();
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // validate data
            local.assertJsonEqual(options.data, []);
            // test crudSetOneById's and crudUpdateOneById's null-case handling-behavior
            ['crudSetOneById', 'crudUpdateOneById'].forEach(function (operation) {
                options.data = options.dbTable[operation]();
                // validate dbRowCount
                local.assertJsonEqual(options.dbTable.crudCountAll(), 1);
                options._id = options.data._id;
                // validate timestamp
                local.assertJsonEqual(options.data._timeCreated, options.data._timeUpdated);
                // test crudRemoveOneById's soft-delete handling-behavior
                options.data = options.dbTable.crudRemoveOneById(options);
                // validate dbRowCount
                local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
                // validate data
                local.assertJsonEqual(options.data._id, options._id);
            });
            // test crudGetOneById's null-case handling-behavior
            options.data = options.dbTable.crudGetOneById(options);
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // validate data
            local.assertJsonEqual(options.data, null);
            // test crudRemoveOneById's null-case handling-behavior
            options.data = options.dbTable.crudRemoveOneById(options);
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // validate data
            local.assertJsonEqual(options.data, null);
            onError();
        };

        local.testCase_dbTable_crudXxxById = function (options, onError) {
        /*
         * this function will test dbTable's crudXxxById handling-behavior
         */
            options = {};
            // test dbTableCreateMany's create handling-behavior
            options.dbTable = local.dbTableCreateMany([{
                idIndexCreateList: [null],
                idIndexRemoveList: [null],
                name: 'testCase_dbTable_crudXxxById'
            }])[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // test crudSetManyById's insert handling-behavior
            options.data = options.dbTable.crudSetManyById([null, null]);
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 2);
            // validate data
            local.assertJsonEqual(options.data.length, 2);
            // test crudRemoveManyById's soft-delete handling-behavior
            options.data = options.dbTable.crudRemoveManyById(options.data);
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 0);
            // validate data
            local.assertJsonEqual(options.data.length, 2);
            // test crudSetManyById's insert handling-behavior
            options.data = options.dbTable.crudSetManyById([null, {
                field1: 1,
                field2: 2,
                field3: 3
            }])[1];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 2);
            // validate timestamp
            local.assertJsonEqual(options.data._timeCreated, options.data._timeUpdated);
            // validate data
            local.assertJsonNotEqual(options.data._id, options._id);
            local.assertJsonEqual(options.data.id2, undefined);
            local.assertJsonEqual(options.data.field1, 1);
            local.assertJsonEqual(options.data.field2, 2);
            local.assertJsonEqual(options.data.field3, 3);
            // test idIndexCreate's create handling-behavior
            // coverage-hack - $meta.isRemoved
            options.dbTable.crudSetOneById({ _id: 'undefined' });
            options.dbTable.crudRemoveOneById({ _id: 'undefined' });
            options._id = options.data._id;
            options.dbTable.idIndexCreate({ isInteger: true, name: 'id2' });
            // test crudGetManyById's get handling-behavior
            options.data = options.dbTable.crudGetManyById([{ _id: options._id }])[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 2);
            // validate data
            local.assertJsonEqual(options.data._id, options._id);
            local.assertJsonNotEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, 1);
            local.assertJsonEqual(options.data.field2, 2);
            // test crudUpdateManyById's update handling-behavior
            options.id2 = options.data.id2;
            options.data = options.dbTable.crudUpdateManyById([{
                id2: options.id2,
                field2: NaN,
                field3: [new Date(0)]
            }])[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 2);
            // validate timestamp
            local.assert(options.data._timeCreated <= options.data._timeUpdated, options.data);
            // validate data
            local.assertJsonEqual(options.data._id, options._id);
            local.assertJsonEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, 1);
            local.assertJsonEqual(options.data.field2, undefined);
            local.assertJsonEqual(options.data.field3, ['1970-01-01T00:00:00.000Z']);
            // test crudSetManyById's replace handling-behavior
            options.data = options.dbTable.crudSetManyById([{ id2: options.id2 }])[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 2);
            // validate timestamp
            local.assertJsonEqual(options.data._timeCreated, options.data._timeUpdated);
            // validate data
            local.assertJsonEqual(options.data._id, options._id);
            local.assertJsonEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, undefined);
            local.assertJsonEqual(options.data.field2, undefined);
            local.assertJsonEqual(options.data.field3, undefined);
            // test crudUpdateManyById's update handling-behavior
            options.data = options.dbTable.crudUpdateManyById([{
                id2: options.id2,
                field1: 1
            }])[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 2);
            // validate timestamp
            local.assert(options.data._timeCreated <= options.data._timeUpdated, options.data);
            // validate data
            local.assertJsonEqual(options.data._id, options._id);
            local.assertJsonEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, 1);
            local.assertJsonEqual(options.data.field2, undefined);
            local.assertJsonEqual(options.data.field3, undefined);
            // test crudRemoveManyById's soft-delete handling-behavior
            options.data = options.dbTable.crudRemoveManyById([options])[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 1);
            // validate data
            local.assertJsonEqual(options.data._id, options._id);
            local.assertJsonEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, 1);
            local.assertJsonEqual(options.data.field2, undefined);
            local.assertJsonEqual(options.data.field3, undefined);
            // test crudSetManyById's re-insert handling-behavior
            options.data = options.dbTable.crudSetManyById([{ id2: options.id2 }])[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 2);
            // validate timestamp
            local.assertJsonEqual(options.data._timeCreated, options.data._timeUpdated);
            // validate data
            local.assertJsonNotEqual(options.data._id, options._id);
            local.assertJsonEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, undefined);
            local.assertJsonEqual(options.data.field2, undefined);
            local.assertJsonEqual(options.data.field3, undefined);
            // test crudRemoveManyById's soft-delete handling-behavior
            options._id = options.data._id;
            options.data = options.dbTable.crudRemoveManyById([options])[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 1);
            // validate data
            local.assertJsonEqual(options.data._id, options._id);
            local.assertJsonEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, undefined);
            local.assertJsonEqual(options.data.field2, undefined);
            local.assertJsonEqual(options.data.field3, undefined);
            onError();
        };

        local.testCase_dbTable_crudXxxByQuery = function (options, onError) {
        /*
         * this function will test dbTable's crudXxxByQuery handling-behavior
         */
            options = {};
            // test dbTableCreateMany's create handling-behavior
            options.dbTable = local.dbTableCreateMany([{
                idIndexCreateList: [null],
                idIndexRemoveList: [null],
                name: 'testCase_dbTable_crudXxxByQuery'
            }])[0];
            // drop dbTable
            options.dbTable.drop();
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountManyByQuery(), 0);
            // test crudSetManyById's insert handling-behavior
            options.data = options.dbTable.crudSetManyById([null, null]);
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountManyByQuery(), 2);
            // validate data
            local.assertJsonEqual(options.data.length, 2);
            // test crudRemoveManyByQuery's soft-delete handling-behavior
            options.data = options.dbTable.crudRemoveManyByQuery();
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountManyByQuery(), 0);
            // validate data
            local.assertJsonEqual(options.data.length, 2);
            // test crudSetManyById's insert handling-behavior
            options.data = options.dbTable.crudSetManyById([null, {
                field1: 1,
                field2: 2,
                field3: 3
            }])[1];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountManyByQuery(), 2);
            // validate timestamp
            local.assertJsonEqual(options.data._timeCreated, options.data._timeUpdated);
            // validate data
            local.assertJsonNotEqual(options.data._id, options._id);
            local.assertJsonEqual(options.data.id2, undefined);
            local.assertJsonEqual(options.data.field1, 1);
            local.assertJsonEqual(options.data.field2, 2);
            local.assertJsonEqual(options.data.field3, 3);
            // test idIndexCreate's create handling-behavior
            options._id = options.data._id;
            options.dbTable.idIndexCreate({ isInteger: true, name: 'id2' });
            // test crudGetManyByQuery's get handling-behavior
            options.data = options.dbTable.crudGetManyByQuery({
                query: { _id: options._id }
            })[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountManyByQuery(), 2);
            // validate data
            local.assertJsonEqual(options.data._id, options._id);
            local.assertJsonNotEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, 1);
            local.assertJsonEqual(options.data.field2, 2);
            // test crudGetOneByQuery's get handling-behavior
            options.data = options.dbTable.crudGetOneByQuery({ _id: options._id });
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountManyByQuery(), 2);
            // validate data
            local.assertJsonEqual(options.data._id, options._id);
            local.assertJsonNotEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, 1);
            local.assertJsonEqual(options.data.field2, 2);
            // test crudUpdateManyByQuery's update handling-behavior
            options.id2 = options.data.id2;
            options.data = options.dbTable.crudUpdateManyByQuery({
                id2: options.id2
            }, {
                id2: options.id2,
                field2: NaN,
                field3: [new Date(0)]
            })[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountManyByQuery(), 2);
            // validate timestamp
            local.assert(options.data._timeCreated <= options.data._timeUpdated, options.data);
            // validate data
            local.assertJsonEqual(options.data._id, options._id);
            local.assertJsonEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, 1);
            local.assertJsonEqual(options.data.field2, undefined);
            local.assertJsonEqual(options.data.field3, ['1970-01-01T00:00:00.000Z']);
            // test crudSetManyById's replace handling-behavior
            options.data = options.dbTable.crudSetManyById([{ id2: options.id2 }])[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountManyByQuery(), 2);
            // validate timestamp
            local.assertJsonEqual(options.data._timeCreated, options.data._timeUpdated);
            // validate data
            local.assertJsonEqual(options.data._id, options._id);
            local.assertJsonEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, undefined);
            local.assertJsonEqual(options.data.field2, undefined);
            local.assertJsonEqual(options.data.field3, undefined);
            // test crudUpdateManyByQuery's update handling-behavior
            options.data = options.dbTable.crudUpdateManyByQuery({
                id2: options.id2
            }, {
                id2: options.id2,
                field1: 1
            })[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountManyByQuery(), 2);
            // validate timestamp
            local.assert(options.data._timeCreated <= options.data._timeUpdated, options.data);
            // validate data
            local.assertJsonEqual(options.data._id, options._id);
            local.assertJsonEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, 1);
            local.assertJsonEqual(options.data.field2, undefined);
            local.assertJsonEqual(options.data.field3, undefined);
            // test crudRemoveManyByQuery's soft-delete handling-behavior
            options.data = options.dbTable.crudRemoveManyByQuery({ _id: options._id })[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountManyByQuery(), 1);
            // validate data
            local.assertJsonEqual(options.data._id, options._id);
            local.assertJsonEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, 1);
            local.assertJsonEqual(options.data.field2, undefined);
            local.assertJsonEqual(options.data.field3, undefined);
            // test crudSetManyById's re-insert handling-behavior
            options.data = options.dbTable.crudSetManyById([{ id2: options.id2 }])[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountManyByQuery(), 2);
            // validate timestamp
            local.assertJsonEqual(options.data._timeCreated, options.data._timeUpdated);
            // validate data
            local.assertJsonNotEqual(options.data._id, options._id);
            local.assertJsonEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, undefined);
            local.assertJsonEqual(options.data.field2, undefined);
            local.assertJsonEqual(options.data.field3, undefined);
            // test crudRemoveManyByQuery's soft-delete handling-behavior
            options._id = options.data._id;
            options.data = options.dbTable.crudRemoveManyByQuery({ _id: options._id })[0];
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountManyByQuery(), 1);
            // validate data
            local.assertJsonEqual(options.data._id, options._id);
            local.assertJsonEqual(options.data.id2, options.id2);
            local.assertJsonEqual(options.data.field1, undefined);
            local.assertJsonEqual(options.data.field2, undefined);
            local.assertJsonEqual(options.data.field3, undefined);
            onError();
        };

        local.testCase_dbTable_persistence = function (options, onError) {
        /*
         * this function will test dbTable's persistence handling-behavior
         */
            options = {};
            // remove all dbRow's from db
            local.dbCrudRemoveAll();
            // drop db
            local.dbDrop();
            // save db
            local.dbSave();
            // load db
            local.dbLoad();
            // import db
            local.dbImport('testCase_dbTable_persistence idIndexCreate {"name":"_id"}\n' +
                'testCase_dbTable_persistence idIndexCreate {"name":"id2"}\n' +
                'testCase_dbTable_persistence sizeLimit 0\n' +
                'testCase_dbTable_persistence sortDefault []\n' +
                'testCase_dbTable_persistence dbRowSet {"_id":"id1"}\n' +
                'undefined undefined undefined');
            options.dbTable = local.dbTableCreateOne({ name: 'testCase_dbTable_persistence' });
            options.data = local.dbExport();
            // validate dbTable has idIndex._id
            local.assert(options.data.indexOf(
                'testCase_dbTable_persistence idIndexCreate {"isInteger":false,"name":"_id"}'
            ) >= 0, options.data);
            // validate dbTable has idIndex.id2
            local.assert(options.data.indexOf(
                'testCase_dbTable_persistence idIndexCreate {"isInteger":false,"name":"id2"}'
            ) >= 0, options.data);
            // validate dbTable has dbRow1
            local.assert(options.data.indexOf(
                'testCase_dbTable_persistence dbRowSet {"_id":"id1",'
            ) >= 0, options.data);
            // remove all dbRow's from dbTable
            options.dbTable.crudRemoveAll();
            options.data = options.dbTable.export();
            // validate dbTable has idIndex._id
            local.assert(options.data.indexOf(
                'testCase_dbTable_persistence idIndexCreate {"isInteger":false,"name":"_id"}'
            ) >= 0, options.data);
            // validate dbTable has idIndex.id2
            local.assert(options.data.indexOf(
                'testCase_dbTable_persistence idIndexCreate {"isInteger":false,"name":"id2"}'
            ) >= 0, options.data);
            // validate dbTable has no dbRow1
            local.assert(options.data.indexOf(
                'testCase_dbTable_persistence dbRowSet {"_id":"id1",'
            ) < 0, options.data);
            // drop dbTable
            options.dbTable.drop();
            options.data = options.dbTable.export();
            // validate dbTable has idIndex._id
            local.assert(options.data.indexOf(
                'testCase_dbTable_persistence idIndexCreate {"isInteger":false,"name":"_id"}'
            ) >= 0, options.data);
            // validate dbTable has no idIndex.id2
            local.assert(options.data.indexOf(
                'testCase_dbTable_persistence idIndexCreate {"isInteger":false,"name":"id2"}'
            ) < 0, options.data);
            // validate dbTable has no dbRow1
            local.assert(options.data.indexOf(
                'testCase_dbTable_persistence dbRowSet {"_id":"id1",'
            ) < 0, options.data);
            // save db
            options.dbTable.save(function (error) {
                // validate no error occurred
                local.assert(!error, error);
                // load db
                local.dbLoad(onError);
            });
        };

        local.testCase_dbTable_sizeLimit = function (options, onError) {
        /*
         * this function will test dbTable's sizeLimit handling-behavior
         */
            options = {};
            options.dbTable = local.dbTableCreateOne({
                name: 'testCase_dbTable_sizeLimit',
                sizeLimit: 2
            });
            options.dbTable.crudSetOneById({});
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 1);
            options.dbTable.crudSetOneById({});
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 2);
            options.dbTable.crudSetOneById({});
            // validate dbRowCount
            local.assertJsonEqual(options.dbTable.crudCountAll(), 2);
            onError();
        };

        local.testCase_sortCompare_default = function (options, onError) {
        /*
         * this function will test sortCompare's default handling-behavior
         */
            options = {};
            options.data = [
                undefined,
                [],
                '',
                -1, -Infinity, 0, 0, 1, Infinity,
                {},
                'a', 'aa',
                false, false, null, null, true, true
            ].sort();
            options.data = options.data.sort(local.sortCompare);
            local.assertJsonEqual(options.data.slice(0, -3), [
                null, null,
                false, false, true, true,
                -Infinity, -1, 0, 0, 1, Infinity,
                '', 'a', 'aa'
            ]);
            options.data = options.data.reverse().sort(local.sortCompare);
            local.assertJsonEqual(options.data.slice(0, -3), [
                null, null,
                false, false, true, true,
                -Infinity, -1, 0, 0, 1, Infinity,
                '', 'a', 'aa'
            ]);
            // coverage-hack
            options.data.forEach(function (aa) {
                [{}, null, local.global.Symbol()].forEach(function (bb) {
                    local.sortCompare(aa, bb);
                    local.sortCompare(bb, aa);
                });
            });
            onError();
        };

        local.testCase_storageXxx_misc = function (options, onError) {
        /*
         * this function will test storageXxx's misc handling-behavior
         */
            var onParallel;
            // jslint-hack
            local.nop(options);
            onParallel = local.onParallel(onError);
            onParallel.counter += 1;
            // test storageInit's init handling-behavior
            local.storageInit();
            // test storageInit's re-init handling-behavior
            local.storageInit();
            // test crud handling-behavior
            onParallel.counter += 1;
            local.storageClear(onParallel);
            onParallel.counter += 1;
            local.storageGetItem('undefined', onParallel);
            onParallel.counter += 1;
            local.storageKeys(onParallel);
            onParallel.counter += 1;
            local.storageLength(onParallel);
            onParallel.counter += 1;
            local.storageRemoveItem('undefined', onParallel);
            onParallel.counter += 1;
            local.storageSetItem('undefined', 'undefined', onParallel);
            onParallel.counter += 1;
            local.storageKeys(function () {
                if (local.modeJs === 'browser') {
                    // test indexedDB's onupgradeneeded handling-behavior
                    local._debugStorageRequestIndexedDB.onupgradeneeded();
                }
                onParallel();
            });
            onParallel();
        };
    }());
}());
/* script-end /assets.test.js */



/* script-begin /assets.utility2.rollup.end.js */
(function () {
    "use strict";
    var local;
    local = {};
    local.modeJs = (function () {
        try {
            return typeof navigator.userAgent === "string" &&
                typeof document.querySelector("body") === "object" &&
                typeof XMLHttpRequest.prototype.open === "function" &&
                "browser";
        } catch (errorCaughtBrowser) {
            return module.exports &&
                typeof process.versions.node === "string" &&
                typeof require("http").createServer === "function" &&
                "node";
        }
    }());
    local.global = local.modeJs === "browser"
        ? window
        : global;
    local.global.utility2_rollup_old = local.global.utility2_rollup;
    local.global.utility2_rollup = null;
}());
/* utility2.rollup.js end */
/* script-end /assets.utility2.rollup.end.js */
